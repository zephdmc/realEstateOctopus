var HA=Object.defineProperty;var WA=(t,e,r)=>e in t?HA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Hs=(t,e,r)=>(WA(t,typeof e!="symbol"?e+"":e,r),r);import{r as y,a as Mu,b as gr,g as Ci,R as qA}from"./vendor-280e31ee.js";import{L as Ue,u as fx,a as mx,b as Du,c as KA,R as GA,d as Ut,N as lf,B as YA}from"./router-668ca448.js";import{a as cf}from"./utils-78d57de0.js";import{R as qi,P as uf,A as df,S as Lm,F as XA,E as jm,a as px,T as Vm,X as ro,I as hf,U as $m,M as QA,b as Pv,L as JA,C as ZA,c as eP,d as tP,D as rP,e as xh,V as nP,f as iP,G as aP,B as sP,g as Sv,h as oP,i as lP,j as cP}from"./ui-c2e7612f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var gx={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP=y,dP=Symbol.for("react.element"),hP=Symbol.for("react.fragment"),fP=Object.prototype.hasOwnProperty,mP=uP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pP={key:!0,ref:!0,__self:!0,__source:!0};function vx(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)fP.call(e,n)&&!pP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:dP,type:t,key:a,ref:s,props:i,_owner:mP.current}}Lu.Fragment=hP;Lu.jsx=vx;Lu.jsxs=vx;gx.exports=Lu;var Fm=gx.exports;const vr=Fm.Fragment,l=Fm.jsx,p=Fm.jsxs;var ff={},Tv=Mu;ff.createRoot=Tv.createRoot,ff.hydrateRoot=Tv.hydrateRoot;var yx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iv=gr.createContext&&gr.createContext(yx),gP=["attr","size","title"];function vP(t,e){if(t==null)return{};var r=yP(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yP(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function Cv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cv(Object(r),!0).forEach(function(n){bP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bP(t,e,r){return e=xP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xP(t){var e=wP(t,"string");return typeof e=="symbol"?e:e+""}function wP(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bx(t){return t&&t.map((e,r)=>gr.createElement(e.tag,vc({key:r},e.attr),bx(e.child)))}function ee(t){return e=>gr.createElement(_P,gc({attr:vc({},t.attr)},e),bx(t.child))}function _P(t){var e=r=>{var{attr:n,size:i,title:a}=t,s=vP(t,gP),o=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),gr.createElement("svg",gc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:vc(vc({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&gr.createElement("title",null,a),t.children)};return Iv!==void 0?gr.createElement(Iv.Consumer,null,r=>e(r)):e(yx)}function EP(t){return ee({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function NP(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function AP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"},child:[]}]})(t)}function PP(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(t)}function ho(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function xx(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function wh(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function SP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(t)}function TP(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"},child:[]}]})(t)}function IP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Um(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function CP(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function kP(t){return ee({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function OP(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(t)}function kv(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function RP(t){return ee({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function MP(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(t)}function yc(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function DP(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Ov(t){return ee({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function LP(t){return ee({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function jP(t){return ee({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function VP(t){return ee({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function $P(t){return ee({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function mf(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(t)}function wx(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Ho(t){return ee({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function FP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function UP(t){return ee({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function Rv(t){return ee({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function zm(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function Mv(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},child:[]}]})(t)}function zP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"},child:[]}]})(t)}function _o(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Dv(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function _x(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function BP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 288h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56v-64h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56V96h-56c-4.42 0-8-3.58-8-8V72c0-4.42 3.58-8 8-8h56V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 2.77.91 5.24 1.57 7.8L160 329.38V288zm320 64h-32v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-41.37L24.2 510.43c2.56.66 5.04 1.57 7.8 1.57h448c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function HP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.04 442.66l-99.71-99.69c-4.5-4.5-10.6-7-17-7h-16.3c27.6-35.3 44-79.69 44-127.99C416.03 93.09 322.92 0 208.02 0S0 93.09 0 207.98s93.11 207.98 208.02 207.98c48.3 0 92.71-16.4 128.01-44v16.3c0 6.4 2.5 12.5 7 17l99.71 99.69c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.59.1-33.99zm-297.02-90.7c-79.54 0-144-64.34-144-143.98 0-79.53 64.35-143.98 144-143.98 79.54 0 144 64.34 144 143.98 0 79.53-64.35 143.98-144 143.98zm27.11-152.54l-45.01-13.5c-5.16-1.55-8.77-6.78-8.77-12.73 0-7.27 5.3-13.19 11.8-13.19h28.11c4.56 0 8.96 1.29 12.82 3.72 3.24 2.03 7.36 1.91 10.13-.73l11.75-11.21c3.53-3.37 3.33-9.21-.57-12.14-9.1-6.83-20.08-10.77-31.37-11.35V112c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v16.12c-23.63.63-42.68 20.55-42.68 45.07 0 19.97 12.99 37.81 31.58 43.39l45.01 13.5c5.16 1.55 8.77 6.78 8.77 12.73 0 7.27-5.3 13.19-11.8 13.19h-28.1c-4.56 0-8.96-1.29-12.82-3.72-3.24-2.03-7.36-1.91-10.13.73l-11.75 11.21c-3.53 3.37-3.33 9.21.57 12.14 9.1 6.83 20.08 10.77 31.37 11.35V304c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-16.12c23.63-.63 42.68-20.54 42.68-45.07 0-19.97-12.99-37.81-31.59-43.39z"},child:[]}]})(t)}function Ex(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function WP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function qP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function KP(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function GP(t){return ee({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(t)}function Ws(t){return ee({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function YP(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"},child:[]}]})(t)}function XP(t){return ee({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function QP(t){return ee({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M378.31 378.49L298.42 288h30.63c9.01 0 16.98-5 20.78-13.06 3.8-8.04 2.55-17.26-3.28-24.05L268.42 160h28.89c9.1 0 17.3-5.35 20.86-13.61 3.52-8.13 1.86-17.59-4.24-24.08L203.66 4.83c-6.03-6.45-17.28-6.45-23.32 0L70.06 122.31c-6.1 6.49-7.75 15.95-4.24 24.08C69.38 154.65 77.59 160 86.69 160h28.89l-78.14 90.91c-5.81 6.78-7.06 15.99-3.27 24.04C37.97 283 45.93 288 54.95 288h30.63L5.69 378.49c-6 6.79-7.36 16.09-3.56 24.26 3.75 8.05 12 13.25 21.01 13.25H160v24.45l-30.29 48.4c-5.32 10.64 2.42 23.16 14.31 23.16h95.96c11.89 0 19.63-12.52 14.31-23.16L224 440.45V416h136.86c9.01 0 17.26-5.2 21.01-13.25 3.8-8.17 2.44-17.47-3.56-24.26z"},child:[]}]})(t)}function JP(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(t)}function Lv(t){return ee({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function ZP(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function eS(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function tS(t){return ee({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function rS(t){return ee({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 128V32c0-17.67-14.33-32-32-32h-96c-17.67 0-32 14.33-32 32H160c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32v192c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32h192c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32V160c17.67 0 32-14.33 32-32zm-96-64h32v32h-32V64zM64 64h32v32H64V64zm32 384H64v-32h32v32zm352 0h-32v-32h32v32zm-32-96h-32c-17.67 0-32 14.33-32 32v32H160v-32c0-17.67-14.33-32-32-32H96V160h32c17.67 0 32-14.33 32-32V96h192v32c0 17.67 14.33 32 32 32h32v192z"},child:[]}]})(t)}function nS(t){return ee({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(t)}const iS=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),i=[{name:"Home",href:"/",current:!0},{name:"Properties",href:"/properties",current:!1},{name:"Services",href:"/services",current:!1},{name:"About",href:"/about",current:!1},{name:"Blog",href:"/blog",current:!1},{name:"Contact",href:"/contact",current:!1}],a=[{type:"phone",value:"+234 913 2080 059",href:"tel:+2349132080059",icon:l(_o,{className:"w-3 h-3"})},{type:"email",value:"info@Octopusrealestate.com",href:"mailto:info@Octopusrealestate.com",icon:l(yc,{className:"w-3 h-3"})},{type:"website",value:"www.Octopusrealestate.com",href:"https://www.Octopusrealestate.com",icon:l($P,{className:"w-3 h-3"})}],s=()=>{e(!t)};return y.useEffect(()=>{const o=()=>{window.scrollY>100?n(!0):n(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),p("nav",{className:"bg-white sticky top-0 z-40 shadow-sm border-b border-gray-200",children:[p("div",{className:"container mx-auto px-4",children:[p("div",{className:"flex justify-between items-center py-3",children:[l("div",{className:"hidden md:flex space-x-8",children:i.map(o=>l("a",{href:o.href,className:`px-3 py-2 text-sm font-medium transition-all duration-200 ${o.current?"text-blue-600 border-b-2 border-blue-600 font-semibold":"text-gray-700 hover:text-blue-600 hover:border-b-2 hover:border-blue-300"}`,children:o.name},o.name))}),p("div",{className:"md:hidden flex items-center justify-between w-full",children:[l("div",{className:"flex-1 overflow-hidden relative",children:p("div",{className:"flex animate-[marquee_25s_linear_infinite] whitespace-nowrap hover:animate-pause",children:[a.map((o,c)=>p("a",{href:o.href,className:"inline-flex items-center space-x-2 mx-4 text-gray-600 hover:text-blue-600 transition duration-200 flex-shrink-0 group",children:[l("div",{className:"bg-blue-100 p-1 rounded group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:o.icon})}),l("span",{className:"text-xs font-medium",children:o.value})]},o.type)),a.map((o,c)=>p("a",{href:o.href,className:"inline-flex items-center space-x-2 mx-4 text-gray-600 hover:text-blue-600 transition duration-200 flex-shrink-0 group",children:[l("div",{className:"bg-blue-100 p-1 rounded group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:o.icon})}),l("span",{className:"text-xs font-medium",children:o.value})]},`${o.type}-dup`))]})}),l("button",{onClick:s,className:"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600 transition duration-200 flex-shrink-0 ml-4",children:t?l(XP,{className:"h-6 w-6"}):l(NP,{className:"h-6 w-6"})})]}),l("div",{className:"hidden md:block",children:p("a",{href:"/list-property",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center space-x-2",children:[l(Dv,{className:"w-4 h-4"}),l("span",{children:"List Your Property"})]})})]}),t&&l("div",{className:"md:hidden py-4 border-t border-gray-200 bg-white",children:p("div",{className:"flex flex-col space-y-3",children:[i.map(o=>l("a",{href:o.href,className:`px-4 py-3 text-base font-medium transition-all duration-200 rounded-lg ${o.current?"text-blue-600 bg-blue-50 border-l-4 border-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-blue-50 hover:border-l-4 hover:border-blue-300"}`,onClick:()=>e(!1),children:o.name},o.name)),l("div",{className:"pt-4 border-t border-gray-200",children:l("div",{className:"space-y-3",children:a.map(o=>p("a",{href:o.href,className:"flex items-center space-x-3 px-4 py-2 text-gray-700 hover:text-blue-600 transition duration-200 group",onClick:()=>e(!1),children:[l("div",{className:"bg-blue-100 p-2 rounded-lg group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:o.icon})}),l("span",{className:"text-sm font-medium",children:o.value})]},o.type))})}),p("a",{href:"/list-property",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium text-center mt-4 flex items-center justify-center space-x-2 shadow-lg",onClick:()=>e(!1),children:[l(Dv,{className:"w-5 h-5"}),l("span",{children:"List Your Property"})]})]})})]}),l("style",{jsx:!0,children:`
        @keyframes marquee {
          0% {
            transform: translateX(0%);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        .hover\\:animate-pause:hover {
          animation-play-state: paused;
        }
      `})]})},aS=({onSearch:t,placeholder:e="Search properties...",className:r=""})=>{const[n,i]=y.useState(""),[a,s]=y.useState({type:"",priceRange:"",bedrooms:"",location:""}),[o,c]=y.useState(!1),[u,d]=y.useState(!1),f=["Any Type","House","Apartment","Condo","Villa","Commercial"],m=["Any Price","Under $100,000","$100,000 - $200,000","$200,000 - $300,000","$300,000 - $500,000","Over $500,000"],g=["Any","1","2","3","4","5+"],w=async T=>{T&&T.preventDefault(),d(!0),await t({term:n,...a}),c(!1),d(!1)},x=(T,L)=>{const k={...a,[T]:L};s(k),t({term:n,...k})},v=()=>{i(""),s({type:"",priceRange:"",bedrooms:"",location:""}),t({}),c(!1)},P=()=>l("button",{onClick:()=>c(!0),className:`fixed bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-200 z-40 ${o?"opacity-0 pointer-events-none":"opacity-100"}`,style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",bottom:"1.5rem",right:"1.5rem"},children:l("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),A=()=>o&&p("div",{className:"fixed inset-0 z-50",children:[l("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>c(!1)}),p("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[l("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl",children:p("div",{className:"flex items-center justify-between",children:[l("h3",{className:"text-lg font-semibold text-gray-900",children:"Search Properties"}),l("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition duration-200",children:l("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),p("div",{className:"p-6 space-y-4",children:[p("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l("input",{type:"text",value:n,onChange:T=>i(T.target.value),placeholder:e,className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",autoFocus:!0})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),l("select",{value:a.type,onChange:T=>x("type",T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:f.map(T=>l("option",{value:T==="Any Type"?"":T,children:T},T))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),l("select",{value:a.priceRange,onChange:T=>x("priceRange",T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:m.map(T=>l("option",{value:T==="Any Price"?"":T,children:T},T))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),l("select",{value:a.bedrooms,onChange:T=>x("bedrooms",T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:g.map(T=>p("option",{value:T==="Any"?"":T,children:[T," Bed",T!=="Any"&&"room",T==="1"?"":"s"]},T))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),l("input",{type:"text",value:a.location,onChange:T=>x("location",T.target.value),placeholder:"Enter location",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200"})]}),p("div",{className:"flex space-x-3 pt-4 sticky bottom-0 bg-white pb-2",children:[l("button",{type:"button",onClick:v,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200 font-medium",children:"Clear All"}),l("button",{onClick:w,disabled:u,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:u?p(vr,{children:[p("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):"Search"})]})]})]})]});return p(vr,{children:[P(),A()]})},sS=({onSearch:t,user:e,onLogin:r,onLogout:n})=>l("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:p("div",{className:"container mx-auto px-4",children:[p("div",{className:"flex items-center justify-between py-4",children:[p("div",{className:"flex items-center space-x-3",children:[l("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:l(Ho,{className:"w-6 h-6"})}),p("div",{children:[l("h1",{className:"text-2xl font-bold text-gray-900",children:"Octopus Real Estate "}),l("p",{className:"text-xs text-gray-600",children:"Ventures LTD"})]})]}),p("div",{className:"hidden md:flex items-center space-x-6 text-sm",children:[p("div",{className:"flex items-center space-x-2",children:[l("div",{className:"bg-blue-100 p-2 rounded-lg",children:l(_o,{className:"w-4 h-4 text-blue-600"})}),p("div",{children:[l("span",{className:"text-gray-700 font-medium",children:"+ (234)913 2080059"}),l("p",{className:"text-xs text-gray-500",children:"Call us today"})]})]}),p("div",{className:"flex items-center space-x-2",children:[l("div",{className:"bg-blue-100 p-2 rounded-lg",children:l(yc,{className:"w-4 h-4 text-blue-600"})}),p("div",{children:[l("span",{className:"text-gray-700 font-medium",children:"info@Octopusrealestate.com"}),l("p",{className:"text-xs text-gray-500",children:"Email us"})]})]})]}),l("div",{className:"flex items-center space-x-4",children:e?p("div",{className:"flex items-center space-x-3",children:[p("div",{className:"text-right hidden sm:block",children:[l("span",{className:"text-sm text-gray-700 font-medium block",children:"Welcome back"}),l("span",{className:"text-sm text-blue-600 font-semibold",children:e.name})]}),p("div",{className:"relative group",children:[l("button",{className:"bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:l(Lv,{className:"w-5 h-5"})}),p("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[p("div",{className:"p-4 border-b border-gray-100",children:[l("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),l("p",{className:"text-xs text-gray-500",children:e.email})]}),p("button",{onClick:n,className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition duration-200",children:[l(KP,{className:"w-4 h-4 text-gray-400"}),l("span",{children:"Sign Out"})]})]})]})]}):l("button",{onClick:r,className:"bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",title:"Login",children:l(Lv,{className:"w-5 h-5"})})})]}),p("div",{className:"border-t border-gray-200",children:[l(iS,{}),l("div",{className:"py-4",children:l(aS,{onSearch:t})})]})]})}),oS=()=>{const t=new Date().getFullYear(),e=[{name:"Home",href:"/"},{name:"Properties",href:"/properties"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}],r=["Buying","Selling","Rental","Consulting"],n=[{name:"Facebook",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),href:"#"},{name:"Twitter",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),href:"#"},{name:"Instagram",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M12.017 0C8.396 0 7.987.012 6.756.06 2.767.227.228 2.763.06 6.756.012 7.987 0 8.396 0 12.017c0 3.62.012 4.029.06 5.26.167 3.989 2.703 6.527 6.696 6.695 1.231.048 1.64.06 5.26.06 3.62 0 4.029-.012 5.26-.06 3.989-.167 6.527-2.703 6.695-6.696.048-1.231.06-1.64.06-5.26 0-3.62-.012-4.029-.06-5.26-.167-3.989-2.703-6.527-6.696-6.695C16.046.012 15.637 0 12.017 0zm0 2.16c3.203 0 3.585.012 4.804.06 3.252.15 4.771 1.691 4.92 4.92.048 1.219.06 1.6.06 4.804 0 3.204-.012 3.585-.06 4.804-.149 3.227-1.664 4.771-4.92 4.92-1.219.048-1.601.06-4.804.06-3.204 0-3.585-.012-4.804-.06-3.255-.149-4.771-1.664-4.92-4.92-.048-1.219-.06-1.6-.06-4.804 0-3.204.012-3.585.06-4.804.149-3.227 1.673-4.771 4.92-4.92 1.219-.048 1.6-.06 4.804-.06z"})}),href:"#"},{name:"LinkedIn",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),href:"#"}],i=[{icon:p("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),text:"123 Main Street, City, State 12345"},{icon:l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),text:"+234 913 208 0059"},{icon:l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),text:"info@octopusrealestate.com"}];return p("footer",{className:"bg-gray-900 text-white",children:[l("div",{className:"max-w-7xl mx-auto px-6 py-12",children:p("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[p("div",{className:"lg:col-span-1",children:[p("div",{className:"flex items-center space-x-3 mb-6",children:[l("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-lg",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),p("div",{children:[l("h3",{className:"text-xl font-bold text-white",children:"Octopus Real Estate"}),l("p",{className:"text-blue-400 text-sm",children:"Your Trusted Partner"})]})]}),l("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed",children:"Finding your perfect home with expert guidance and professional service since 2008."}),l("div",{className:"flex space-x-3",children:n.map(a=>l("a",{href:a.href,className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-600 transition-all duration-300 hover:shadow-lg",title:a.name,children:a.icon},a.name))})]}),p("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-gray-700 inline-block",children:"Quick Links"}),l("ul",{className:"space-y-3",children:e.map(a=>l("li",{children:p("a",{href:a.href,className:"text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center group",children:[l("span",{className:"w-1 h-1 bg-blue-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.name]})},a.name))})]}),p("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-gray-700 inline-block",children:"Our Services"}),l("ul",{className:"space-y-3",children:r.map(a=>l("li",{children:p("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300 text-sm flex items-center group",children:[l("span",{className:"w-1 h-1 bg-blue-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a]})},a))})]}),p("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-gray-700 inline-block",children:"Contact Info"}),l("div",{className:"space-y-4",children:i.map((a,s)=>p("div",{className:"flex items-start space-x-3 text-gray-400 group hover:text-white transition-colors duration-300",children:[l("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0 mt-0.5 text-blue-400",children:a.icon}),l("span",{className:"text-sm leading-relaxed",children:a.text})]},s))})]})]})}),l("div",{className:"border-t border-gray-800 bg-gray-800/50",children:l("div",{className:"max-w-7xl mx-auto px-6 py-6",children:p("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[p("div",{className:"text-gray-400 text-sm",children:[" ",t," Octopus Real Estate. All rights reserved."]}),l("div",{className:"flex space-x-6 text-sm",children:["Privacy Policy","Terms of Service","Sitemap"].map(a=>l("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-300 text-sm",children:a},a))})]})})})]})},lS=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},cS=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Ax={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|o>>4;let m=(o&15)<<2|u>>6,g=u&63;c||(g=64,s||(m=64)),n.push(r[d],r[f],r[m],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new uS;const m=a<<2|o>>4;if(n.push(m),u!==64){const g=o<<4&240|u>>2;if(n.push(g),f!==64){const w=u<<6&192|f;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dS=function(t){const e=Nx(t);return Ax.encodeByteArray(e,!0)},bc=function(t){return dS(t).replace(/\./g,"")},Px=function(t){try{return Ax.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=()=>hS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Px(t[1]);return e&&JSON.parse(e)},ju=()=>{try{return lS()||fS()||mS()||pS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sx=t=>{var e,r;return(r=(e=ju())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Tx=t=>{const e=Sx(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Ix=()=>{var t;return(t=ju())==null?void 0:t.config},Cx=t=>{var e;return(e=ju())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t},o="";return[bc(JSON.stringify(r)),bc(JSON.stringify(s)),o].join(".")}const fo={};function vS(){const t={prod:[],emulator:[]};for(const e of Object.keys(fo))fo[e]?t.emulator.push(e):t.prod.push(e);return t}function yS(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let jv=!1;function Hm(t,e){if(typeof window>"u"||typeof document>"u"||!ba(window.location.host)||fo[t]===e||fo[t]||jv)return;fo[t]=e;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",a=vS().prod.length>0;function s(){const m=document.getElementById(n);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{jv=!0,s()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=yS(n),g=r("text"),w=document.getElementById(g)||document.createElement("span"),x=r("learnmore"),v=document.getElementById(x)||document.createElement("a"),P=r("preprendIcon"),A=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;o(T),d(v,x);const L=u();c(A,P),T.append(A,w,v,L),document.body.appendChild(T)}a?(w.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function xS(){var e;const t=(e=ju())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AS(){return!xS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="FirebaseError";class yn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=TS,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?IS(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new yn(i,o,n)}}function IS(t,e){return t.replace(CS,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const CS=/\{\$([^}]+)}/g;function kS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function na(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(Vv(a)&&Vv(s)){if(!na(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Vv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function no(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function io(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function OS(t,e){const r=new RS(t,e);return r.subscribe.bind(r)}class RS{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");MS(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=_h),i.error===void 0&&(i.error=_h),i.complete===void 0&&(i.complete=_h);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MS(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function _h(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DS=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new gS;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jS(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:LS(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LS(t){return t===Ui?void 0:t}function jS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new DS(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const $S={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},FS=ye.INFO,US={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},zS=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=US[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=FS,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const BS=(t,e)=>e.some(r=>t instanceof r);let $v,Fv;function HS(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ox=new WeakMap,pf=new WeakMap,Rx=new WeakMap,Eh=new WeakMap,qm=new WeakMap;function qS(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(vi(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&Ox.set(r,t)}).catch(()=>{}),qm.set(e,t),e}function KS(t){if(pf.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});pf.set(t,e)}let gf={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return pf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GS(t){gf=t(gf)}function YS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Nh(this),e,...r);return Rx.set(n,e.sort?e.sort():[e]),vi(n)}:WS().includes(t)?function(...e){return t.apply(Nh(this),e),vi(Ox.get(this))}:function(...e){return vi(t.apply(Nh(this),e))}}function XS(t){return typeof t=="function"?YS(t):(t instanceof IDBTransaction&&KS(t),BS(t,HS())?new Proxy(t,gf):t)}function vi(t){if(t instanceof IDBRequest)return qS(t);if(Eh.has(t))return Eh.get(t);const e=XS(t);return e!==t&&(Eh.set(t,e),qm.set(e,t)),e}const Nh=t=>qm.get(t);function QS(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=vi(s);return n&&s.addEventListener("upgradeneeded",c=>{n(vi(s.result),c.oldVersion,c.newVersion,vi(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const JS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],Ah=new Map;function Uv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=ZS.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||JS.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return Ah.set(e,a),a}GS(t=>({...t,get:(e,r,n)=>Uv(e,r)||t.get(e,r,n),has:(e,r)=>!!Uv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(tT(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function tT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vf="@firebase/app",zv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Wm("@firebase/app"),rT="@firebase/app-compat",nT="@firebase/analytics-compat",iT="@firebase/analytics",aT="@firebase/app-check-compat",sT="@firebase/app-check",oT="@firebase/auth",lT="@firebase/auth-compat",cT="@firebase/database",uT="@firebase/data-connect",dT="@firebase/database-compat",hT="@firebase/functions",fT="@firebase/functions-compat",mT="@firebase/installations",pT="@firebase/installations-compat",gT="@firebase/messaging",vT="@firebase/messaging-compat",yT="@firebase/performance",bT="@firebase/performance-compat",xT="@firebase/remote-config",wT="@firebase/remote-config-compat",_T="@firebase/storage",ET="@firebase/storage-compat",NT="@firebase/firestore",AT="@firebase/ai",PT="@firebase/firestore-compat",ST="firebase",TT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="[DEFAULT]",IT={[vf]:"fire-core",[rT]:"fire-core-compat",[iT]:"fire-analytics",[nT]:"fire-analytics-compat",[sT]:"fire-app-check",[aT]:"fire-app-check-compat",[oT]:"fire-auth",[lT]:"fire-auth-compat",[cT]:"fire-rtdb",[uT]:"fire-data-connect",[dT]:"fire-rtdb-compat",[hT]:"fire-fn",[fT]:"fire-fn-compat",[mT]:"fire-iid",[pT]:"fire-iid-compat",[gT]:"fire-fcm",[vT]:"fire-fcm-compat",[yT]:"fire-perf",[bT]:"fire-perf-compat",[xT]:"fire-rc",[wT]:"fire-rc-compat",[_T]:"fire-gcs",[ET]:"fire-gcs-compat",[NT]:"fire-fst",[PT]:"fire-fst-compat",[AT]:"fire-vertex","fire-js":"fire-js",[ST]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,CT=new Map,bf=new Map;function Bv(t,e){try{t.container.addComponent(e)}catch(r){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ia(t){const e=t.name;if(bf.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;bf.set(e,t);for(const r of xc.values())Bv(r,t);for(const r of CT.values())Bv(r,t);return!0}function Vu(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Wo("app","Firebase",kT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=TT;function Mx(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:yf,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(r||(r=Ix()),!r)throw yi.create("no-options");const a=xc.get(i);if(a){if(na(r,a.options)&&na(n,a.config))return a;throw yi.create("duplicate-app",{appName:i})}const s=new VS(i);for(const c of bf.values())s.addComponent(c);const o=new OT(r,n,s);return xc.set(i,o),o}function Km(t=yf){const e=xc.get(t);if(!e&&t===yf&&Ix())return Mx();if(!e)throw yi.create("no-app",{appName:t});return e}function rn(t,e,r){let n=IT[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(s.join(" "));return}ia(new _i(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebase-heartbeat-database",MT=1,Eo="firebase-heartbeat-store";let Ph=null;function Dx(){return Ph||(Ph=QS(RT,MT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eo)}catch(r){console.warn(r)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Ph}async function DT(t){try{const r=(await Dx()).transaction(Eo),n=await r.objectStore(Eo).get(Lx(t));return await r.done,n}catch(e){if(e instanceof yn)Mn.warn(e.message);else{const r=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(r.message)}}}async function Hv(t,e){try{const n=(await Dx()).transaction(Eo,"readwrite");await n.objectStore(Eo).put(e,Lx(t)),await n.done}catch(r){if(r instanceof yn)Mn.warn(r.message);else{const n=yi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Mn.warn(n.message)}}}function Lx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=1024,jT=30;class VT{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new FT(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Wv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>jT){const s=UT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Mn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Wv(),{heartbeatsToSend:n,unsentEntries:i}=$T(this._heartbeatsCache.heartbeats),a=bc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Mn.warn(r),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function $T(t,e=LT){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),qv(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),qv(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class FT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await DT(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function qv(t){return bc(JSON.stringify({version:2,heartbeats:t})).length}function UT(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){ia(new _i("platform-logger",e=>new eT(e),"PRIVATE")),ia(new _i("heartbeat",e=>new VT(e),"PRIVATE")),rn(vf,zv,t),rn(vf,zv,"esm2020"),rn("fire-js","")}zT("");function jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BT=jx,Vx=new Wo("auth","Firebase",jx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Wm("@firebase/auth");function HT(t,...e){wc.logLevel<=ye.WARN&&wc.warn(`Auth (${xa}): ${t}`,...e)}function nc(t,...e){wc.logLevel<=ye.ERROR&&wc.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw Ym(t,...e)}function $r(t,...e){return Ym(t,...e)}function Gm(t,e,r){const n={...BT(),[e]:r};return new Wo("auth","Firebase",n).create(e,{appName:t.name})}function kn(t){return Gm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WT(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ir(t,"argument-error"),Gm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ym(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Vx.create(t,...e)}function oe(t,e,...r){if(!t)throw Ym(e,...r)}function Sn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nc(e),new Error(e)}function Dn(t,e){t||Sn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function qT(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qT()||_S()||"connection"in navigator)?navigator.onLine:!0}function GT(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,r){this.shortDelay=e,this.longDelay=r,Dn(r>e,"Short delay should be less than long delay!"),this.isMobile=bS()||ES()}get(){return KT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){Dn(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QT=new Ko(3e4,6e4);function Wn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zr(t,e,r,n,i={}){return Fx(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=qo({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return wS()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ba(t.emulatorConfig.host)&&(u.credentials="include"),$x.fetch()(await Ux(t,t.config.apiHost,r,o),u)})}async function Fx(t,e,r){t._canInitEmulator=!1;const n={...YT,...e};try{const i=new ZT(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Rl(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rl(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Rl(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Rl(t,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gm(t,d,u);Ir(t,d)}}catch(i){if(i instanceof yn)throw i;Ir(t,"network-request-failed",{message:String(i)})}}async function Go(t,e,r,n,i={}){const a=await zr(t,e,r,n,i);return"mfaPendingCredential"in a&&Ir(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Ux(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?Xm(t.config,i):`${t.config.apiScheme}://${i}`;return XT.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function JT(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n($r(this.auth,"network-request-failed")),QT.get())})}}function Rl(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=$r(t,e,n);return i.customData._tokenResponse=r,i}function Gv(t){return t!==void 0&&t.enterprise!==void 0}class eI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return JT(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tI(t,e){return zr(t,"GET","/v2/recaptchaConfig",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function _c(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nI(t,e=!1){const r=ht(t),n=await r.getIdToken(e),i=Qm(n);oe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:mo(Sh(i.auth_time)),issuedAtTime:mo(Sh(i.iat)),expirationTime:mo(Sh(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Sh(t){return Number(t)*1e3}function Qm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Px(r);return i?JSON.parse(i):(nc("Failed to decode base64 JWT payload"),null)}catch(i){return nc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Yv(t){const e=Qm(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof yn&&iI(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function iI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){var f;const e=t.auth,r=await t.getIdToken(),n=await aa(t,_c(e,{idToken:r}));oe(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?zx(i.providerUserInfo):[],s=oI(t.providerData,a),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wf(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function sI(t){const e=ht(t);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oI(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function zx(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(t,e){const r=await Fx(t,{},async()=>{const n=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Ux(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return t.emulatorConfig&&ba(t.emulatorConfig.host)&&(c.credentials="include"),$x.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function cI(t,e){return zr(t,"POST","/v2/accounts:revokeToken",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const r=Yv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await lI(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new qa;return n&&(oe(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(oe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jr{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await aa(this,this.stsTokenManager.getToken(this.auth,e));return oe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return nI(this,e)}reload(){return sI(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ec(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await aa(this,rI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:g,providerData:w,stsTokenManager:x}=r;oe(f&&x,e,"internal-error");const v=qa.fromJSON(this.name,x);oe(typeof f=="string",e,"internal-error"),ci(n,e.name),ci(i,e.name),oe(typeof m=="boolean",e,"internal-error"),oe(typeof g=="boolean",e,"internal-error"),ci(a,e.name),ci(s,e.name),ci(o,e.name),ci(c,e.name),ci(u,e.name),ci(d,e.name);const P=new jr({uid:f,auth:e,email:i,emailVerified:m,displayName:n,isAnonymous:g,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:u,lastLoginAt:d});return w&&Array.isArray(w)&&(P.providerData=w.map(A=>({...A}))),c&&(P._redirectEventId=c),P}static async _fromIdTokenResponse(e,r,n=!1){const i=new qa;i.updateFromServerResponse(r);const a=new jr({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ec(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];oe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?zx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new qa;o.updateFromIdToken(n);const c=new jr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;function Tn(t){Dn(t instanceof Function,"Expected a class definition");let e=Xv.get(t);return e?(Dn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Bx.type="NONE";const Qv=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,r){return`firebase:${t}:${e}:${r}`}class Ka{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=ic(this.userKey,i.apiKey,a),this.fullPersistenceKey=ic("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await _c(this.auth,{idToken:e}).catch(()=>{});return r?jr._fromGetAccountInfoResponse(this.auth,r,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ka(Tn(Qv),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Tn(Qv);const s=ic(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){let f;if(typeof d=="string"){const m=await _c(e,{idToken:d}).catch(()=>{});if(!m)break;f=await jr._fromGetAccountInfoResponse(e,m,d)}else f=jr._fromJSON(e,d);u!==a&&(o=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ka(a,e,n):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Ka(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yx(e))return"Blackberry";if(Xx(e))return"Webos";if(Wx(e))return"Safari";if((e.includes("chrome/")||qx(e))&&!e.includes("edge/"))return"Chrome";if(Gx(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Hx(t=Gt()){return/firefox\//i.test(t)}function Wx(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qx(t=Gt()){return/crios\//i.test(t)}function Kx(t=Gt()){return/iemobile/i.test(t)}function Gx(t=Gt()){return/android/i.test(t)}function Yx(t=Gt()){return/blackberry/i.test(t)}function Xx(t=Gt()){return/webos/i.test(t)}function Jm(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uI(t=Gt()){var e;return Jm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function dI(){return NS()&&document.documentMode===10}function Qx(t=Gt()){return Jm(t)||Gx(t)||Xx(t)||Yx(t)||/windows phone/i.test(t)||Kx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e=[]){let r;switch(t){case"Browser":r=Jv(Gt());break;case"Worker":r=`${Jv(Gt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${xa}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t,e={}){return zr(t,"GET","/v2/passwordPolicy",Wn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class pI{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??mI,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Tn(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await _c(this,{idToken:e}),n=await jr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(ir(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(kn(this));const r=e?ht(e):null;return r&&oe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fI(this),r=new pI(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await cI(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Tn(e)||this._popupRedirectResolver;oe(r,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Tn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&HT(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qn(t){return ht(t)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(r=>this.observer=r)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vI(t){$u=t}function Zx(t){return $u.loadJS(t)}function yI(){return $u.recaptchaEnterpriseScript}function bI(){return $u.gapiScript}function xI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class wI{constructor(){this.enterprise=new _I}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class _I{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const EI="recaptcha-enterprise",ew="NO_RECAPTCHA";class NI{constructor(e){this.type=EI,this.auth=qn(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{tI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new eI(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(c=>{o(c)})})}function i(a,s,o){const c=window.grecaptcha;Gv(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(ew)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wI().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&Gv(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=yI();c.length!==0&&(c+=o),Zx(c).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function qs(t,e,r,n=!1,i=!1){const a=new NI(t);let s;if(i)s=ew;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nc(t,e,r,n,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qs(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await qs(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await qs(t,e,r);return n(t,o).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const d=await qs(t,e,r,!1,!0);return n(t,d)}return Promise.reject(c)})}else{const o=await qs(t,e,r,!1,!0);return n(t,o)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){const r=Vu(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(na(a,e??{}))return i;Ir(i,"already-initialized")}return r.initialize({options:e})}function PI(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Tn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function SI(t,e,r){const n=qn(t);oe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=tw(e),{host:s,port:o}=TI(e),c=o===null?"":`:${o}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){oe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),oe(na(u,n.config.emulator)&&na(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,ba(s)?(Bm(`${a}//${s}${c}`),Hm("Auth",!0)):i||II()}function tw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TI(t){const e=tw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:ey(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:ey(s)}}}function ey(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function II(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Sn("not implemented")}_getIdTokenResponse(e){return Sn("not implemented")}_linkToIdToken(e,r){return Sn("not implemented")}_getReauthenticationResolver(e){return Sn("not implemented")}}async function CI(t,e){return zr(t,"POST","/v1/accounts:update",e)}async function kI(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e){return Go(t,"POST","/v1/accounts:signInWithPassword",Wn(t,e))}async function rw(t,e){return zr(t,"POST","/v1/accounts:sendOobCode",Wn(t,e))}async function RI(t,e){return rw(t,e)}async function MI(t,e){return rw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e){return Go(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,e))}async function LI(t,e){return Go(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Zm{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new No(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new No(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nc(e,r,"signInWithPassword",OI,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DI(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nc(e,n,"signUpPassword",kI,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return LI(e,{idToken:r,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e){return Go(t,"POST","/v1/accounts:signInWithIdp",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="http://localhost";class sa extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ir("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new sa(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Ga(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Ga(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ga(e,r)}buildRequest(){const e={requestUri:jI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=qo(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $I(t){const e=no(io(t)).link,r=e?no(io(e)).deep_link_id:null,n=no(io(t)).deep_link_id;return(n?no(io(n)).link:null)||n||r||e||t}class ep{constructor(e){const r=no(io(e)),n=r.apiKey??null,i=r.oobCode??null,a=VI(r.mode??null);oe(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=$I(e);try{return new ep(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.providerId=fs.PROVIDER_ID}static credential(e,r){return No._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=ep.parseLink(r);return oe(n,"argument-error"),No._fromEmailAndCode(e,n.code,n.tenantId)}}fs.PROVIDER_ID="password";fs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends Yo{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:En.PROVIDER_ID,signInMethod:En.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return En.credentialFromTaggedObject(e)}static credentialFromError(e){return En.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return En.credential(e.oauthAccessToken)}catch{return null}}}En.FACEBOOK_SIGN_IN_METHOD="facebook.com";En.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return sa._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Nn.credentialFromTaggedObject(e)}static credentialFromError(e){return Nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Nn.credential(r,n)}catch{return null}}}Nn.GOOGLE_SIGN_IN_METHOD="google.com";Nn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Yo{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Yo{constructor(){super("twitter.com")}static credential(e,r){return sa._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return mi.credential(r,n)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t,e){return Go(t,"POST","/v1/accounts:signUp",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await jr._fromIdTokenResponse(e,n,i),s=ty(n);return new oa({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=ty(n);return new oa({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function ty(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends yn{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ac.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Ac(e,r,n,i)}}function nw(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ac._fromErrorAndOperation(t,a,e,n):a})}async function UI(t,e,r=!1){const n=await aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return oa._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e,r=!1){const{auth:n}=t;if(ir(n.app))return Promise.reject(kn(n));const i="reauthenticate";try{const a=await aa(t,nw(n,i,e,t),r);oe(a.idToken,n,"internal-error");const s=Qm(a.idToken);oe(s,n,"internal-error");const{sub:o}=s;return oe(t.uid===o,n,"user-mismatch"),oa._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ir(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(t,e,r=!1){if(ir(t.app))return Promise.reject(kn(t));const n="signIn",i=await nw(t,n,e),a=await oa._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function BI(t,e){return iw(qn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e,r){var n;oe(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),oe(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),oe(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(oe(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(oe(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(t){const e=qn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HI(t,e,r){const n=qn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&aw(n,i,r),await Nc(n,i,"getOobCode",MI,"EMAIL_PASSWORD_PROVIDER")}async function WI(t,e,r){if(ir(t.app))return Promise.reject(kn(t));const n=qn(t),s=await Nc(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FI,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&sw(t),c}),o=await oa._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function qI(t,e,r){return ir(t.app)?Promise.reject(kn(t)):BI(ht(t),fs.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&sw(t),n})}async function KI(t,e){const r=ht(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&aw(r.auth,i,e);const{email:a}=await RI(r.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e){return zr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ry(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=ht(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await aa(n,GI(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function YI(t,e){return XI(ht(t),null,e)}async function XI(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const s=await aa(t,CI(n,a));await t._updateTokensIfNecessary(s,!0)}function QI(t,e,r,n){return ht(t).onIdTokenChanged(e,r,n)}function JI(t,e,r){return ht(t).beforeAuthStateChanged(e,r)}function ZI(t,e,r,n){return ht(t).onAuthStateChanged(e,r,n)}function e5(t){return ht(t).signOut()}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=1e3,r5=10;class lw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);dI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,r5):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},t5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}lw.type="LOCAL";const n5=lw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}cw.type="SESSION";const uw=cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Fu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),c=await i5(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const u=rp("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(m.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return window}function s5(t){nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}async function o5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function c5(){return dw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebaseLocalStorageDb",u5=1,Sc="firebaseLocalStorage",fw="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Uu(t,e){return t.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function d5(){const t=indexedDB.deleteDatabase(hw);return new Xo(t).toPromise()}function _f(){const t=indexedDB.open(hw,u5);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Sc,{keyPath:fw})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Sc)?e(n):(n.close(),await d5(),e(await _f()))})})}async function ny(t,e,r){const n=Uu(t,!0).put({[fw]:e,value:r});return new Xo(n).toPromise()}async function h5(t,e){const r=Uu(t,!1).get(e),n=await new Xo(r).toPromise();return n===void 0?null:n.value}function iy(t,e){const r=Uu(t,!0).delete(e);return new Xo(r).toPromise()}const f5=800,m5=3;class mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _f(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>m5)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fu._getInstance(c5()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await o5(),!this.activeServiceWorker)return;this.sender=new a5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _f();return await ny(e,Pc,"1"),await iy(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>ny(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>h5(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>iy(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Uu(i,!1).getAll();return new Xo(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mw.type="LOCAL";const p5=mw;new Ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e){return e?Tn(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Zm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ga(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function g5(t){return iw(t.auth,new np(t),t.bypassAuthState)}function v5(t){const{auth:e,user:r}=t;return oe(r,e,"internal-error"),zI(r,new np(t),t.bypassAuthState)}async function y5(t){const{auth:e,user:r}=t;return oe(r,e,"internal-error"),UI(r,new np(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g5;case"linkViaPopup":case"linkViaRedirect":return y5;case"reauthViaPopup":case"reauthViaRedirect":return v5;default:Ir(this.auth,"internal-error")}}resolve(e){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=new Ko(2e3,1e4);async function ay(t,e,r){if(ir(t.app))return Promise.reject($r(t,"operation-not-supported-in-this-environment"));const n=qn(t);WT(t,e,tp);const i=pw(n,r);return new Ki(n,"signInViaPopup",e,i).executeNotNull()}class Ki extends gw{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Dn(this.filter.length===1,"Popup operations only handle one event");const e=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b5.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="pendingRedirect",ac=new Map;class w5 extends gw{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const n=await _5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _5(t,e){const r=A5(e),n=N5(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function E5(t,e){ac.set(t._key(),e)}function N5(t){return Tn(t._redirectPersistence)}function A5(t){return ic(x5,t.config.apiKey,t.name)}async function P5(t,e,r=!1){if(ir(t.app))return Promise.reject(kn(t));const n=qn(t),i=pw(n,e),s=await new w5(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=10*60*1e3;class T5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I5(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!vw(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError($r(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sy(e))}saveEventToCache(e){this.cachedEventUids.add(sy(e)),this.lastProcessedEventTime=Date.now()}}function sy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O5=/^https?/;async function R5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await C5(t);for(const r of e)try{if(M5(r))return}catch{}Ir(t,"unauthorized-domain")}function M5(t){const e=xf(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!O5.test(r))return!1;if(k5.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Ko(3e4,6e4);function oy(){const t=nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function L5(t){return new Promise((e,r)=>{var i,a,s;function n(){oy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oy(),r($r(t,"network-request-failed"))},timeout:D5.get()})}if((a=(i=nn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=nn().gapi)!=null&&s.load)n();else{const o=xI("iframefcb");return nn()[o]=()=>{gapi.load?n():r($r(t,"network-request-failed"))},Zx(`${bI()}?onload=${o}`).catch(c=>r(c))}}).catch(e=>{throw sc=null,e})}let sc=null;function j5(t){return sc=sc||L5(t),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new Ko(5e3,15e3),$5="__/auth/iframe",F5="emulator/auth/iframe",U5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B5(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Xm(e,F5):`https://${t.config.authDomain}/${$5}`,n={apiKey:e.apiKey,appName:t.name,v:xa},i=z5.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${qo(n).slice(1)}`}async function H5(t){const e=await j5(t),r=nn().gapi;return oe(r,t,"internal-error"),e.open({where:document.body,url:B5(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U5,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=$r(t,"network-request-failed"),o=nn().setTimeout(()=>{a(s)},V5.get());function c(){nn().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q5=500,K5=600,G5="_blank",Y5="http://localhost";class ly{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X5(t,e,r,n=q5,i=K5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c={...W5,width:n.toString(),height:i.toString(),top:a,left:s},u=Gt().toLowerCase();r&&(o=qx(u)?G5:r),Hx(u)&&(e=e||Y5,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,w])=>`${m}${g}=${w},`,"");if(uI(u)&&o!=="_self")return Q5(e||"",o),new ly(null);const f=window.open(e||"",o,d);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new ly(f)}function Q5(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="__/auth/handler",Z5="emulator/auth/handler",eC=encodeURIComponent("fac");async function cy(t,e,r,n,i,a){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:xa,eventId:i};if(e instanceof tp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",kS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(a||{}))s[d]=f}if(e instanceof Yo){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),u=c?`#${eC}=${encodeURIComponent(c)}`:"";return`${tC(t)}?${qo(o).slice(1)}${u}`}function tC({config:t}){return t.emulator?Xm(t,Z5):`https://${t.authDomain}/${J5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="webStorageSupport";class rC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=P5,this._overrideRedirectResult=E5}async _openPopup(e,r,n,i){var s;Dn((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await cy(e,r,n,xf(),i);return X5(e,a,rp())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await cy(e,r,n,xf(),i);return s5(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Dn(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await H5(e),n=new T5(e);return r.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Th,{type:Th},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Th];a!==void 0&&r(!!a),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=R5(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Qx()||Wx()||Jm()}}const nC=rC;var uy="@firebase/auth",dy="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sC(t){ia(new _i("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jx(t)},u=new gI(n,i,a,c);return PI(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ia(new _i("auth-internal",e=>{const r=qn(e.getProvider("auth").getImmediate());return(n=>new iC(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),rn(uy,dy,aC(t)),rn(uy,dy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=5*60,lC=Cx("authIdTokenMaxAge")||oC;let hy=null;const cC=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>lC)return;const i=r==null?void 0:r.token;hy!==i&&(hy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yw(t=Km()){const e=Vu(t,"auth");if(e.isInitialized())return e.getImmediate();const r=AI(t,{popupRedirectResolver:nC,persistence:[p5,n5,uw]}),n=Cx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=cC(a.toString());JI(r,s,()=>s(r.currentUser)),QI(r,o=>s(o))}}const i=Sx("auth");return i&&SI(r,`http://${i}`),r}function uC(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}vI({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=$r("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",uC().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sC("Browser");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,bw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,S){function E(){}E.prototype=S.prototype,_.F=S.prototype,_.prototype=new E,_.prototype.constructor=_,_.D=function(C,I,M){for(var O=Array(arguments.length-2),z=2;z<arguments.length;z++)O[z-2]=arguments[z];return S.prototype[I].apply(C,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,S,E){E||(E=0);const C=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)C[I]=S.charCodeAt(E++)|S.charCodeAt(E++)<<8|S.charCodeAt(E++)<<16|S.charCodeAt(E++)<<24;else for(I=0;I<16;++I)C[I]=S[E++]|S[E++]<<8|S[E++]<<16|S[E++]<<24;S=_.g[0],E=_.g[1],I=_.g[2];let M=_.g[3],O;O=S+(M^E&(I^M))+C[0]+3614090360&4294967295,S=E+(O<<7&4294967295|O>>>25),O=M+(I^S&(E^I))+C[1]+3905402710&4294967295,M=S+(O<<12&4294967295|O>>>20),O=I+(E^M&(S^E))+C[2]+606105819&4294967295,I=M+(O<<17&4294967295|O>>>15),O=E+(S^I&(M^S))+C[3]+3250441966&4294967295,E=I+(O<<22&4294967295|O>>>10),O=S+(M^E&(I^M))+C[4]+4118548399&4294967295,S=E+(O<<7&4294967295|O>>>25),O=M+(I^S&(E^I))+C[5]+1200080426&4294967295,M=S+(O<<12&4294967295|O>>>20),O=I+(E^M&(S^E))+C[6]+2821735955&4294967295,I=M+(O<<17&4294967295|O>>>15),O=E+(S^I&(M^S))+C[7]+4249261313&4294967295,E=I+(O<<22&4294967295|O>>>10),O=S+(M^E&(I^M))+C[8]+1770035416&4294967295,S=E+(O<<7&4294967295|O>>>25),O=M+(I^S&(E^I))+C[9]+2336552879&4294967295,M=S+(O<<12&4294967295|O>>>20),O=I+(E^M&(S^E))+C[10]+4294925233&4294967295,I=M+(O<<17&4294967295|O>>>15),O=E+(S^I&(M^S))+C[11]+2304563134&4294967295,E=I+(O<<22&4294967295|O>>>10),O=S+(M^E&(I^M))+C[12]+1804603682&4294967295,S=E+(O<<7&4294967295|O>>>25),O=M+(I^S&(E^I))+C[13]+4254626195&4294967295,M=S+(O<<12&4294967295|O>>>20),O=I+(E^M&(S^E))+C[14]+2792965006&4294967295,I=M+(O<<17&4294967295|O>>>15),O=E+(S^I&(M^S))+C[15]+1236535329&4294967295,E=I+(O<<22&4294967295|O>>>10),O=S+(I^M&(E^I))+C[1]+4129170786&4294967295,S=E+(O<<5&4294967295|O>>>27),O=M+(E^I&(S^E))+C[6]+3225465664&4294967295,M=S+(O<<9&4294967295|O>>>23),O=I+(S^E&(M^S))+C[11]+643717713&4294967295,I=M+(O<<14&4294967295|O>>>18),O=E+(M^S&(I^M))+C[0]+3921069994&4294967295,E=I+(O<<20&4294967295|O>>>12),O=S+(I^M&(E^I))+C[5]+3593408605&4294967295,S=E+(O<<5&4294967295|O>>>27),O=M+(E^I&(S^E))+C[10]+38016083&4294967295,M=S+(O<<9&4294967295|O>>>23),O=I+(S^E&(M^S))+C[15]+3634488961&4294967295,I=M+(O<<14&4294967295|O>>>18),O=E+(M^S&(I^M))+C[4]+3889429448&4294967295,E=I+(O<<20&4294967295|O>>>12),O=S+(I^M&(E^I))+C[9]+568446438&4294967295,S=E+(O<<5&4294967295|O>>>27),O=M+(E^I&(S^E))+C[14]+3275163606&4294967295,M=S+(O<<9&4294967295|O>>>23),O=I+(S^E&(M^S))+C[3]+4107603335&4294967295,I=M+(O<<14&4294967295|O>>>18),O=E+(M^S&(I^M))+C[8]+1163531501&4294967295,E=I+(O<<20&4294967295|O>>>12),O=S+(I^M&(E^I))+C[13]+2850285829&4294967295,S=E+(O<<5&4294967295|O>>>27),O=M+(E^I&(S^E))+C[2]+4243563512&4294967295,M=S+(O<<9&4294967295|O>>>23),O=I+(S^E&(M^S))+C[7]+1735328473&4294967295,I=M+(O<<14&4294967295|O>>>18),O=E+(M^S&(I^M))+C[12]+2368359562&4294967295,E=I+(O<<20&4294967295|O>>>12),O=S+(E^I^M)+C[5]+4294588738&4294967295,S=E+(O<<4&4294967295|O>>>28),O=M+(S^E^I)+C[8]+2272392833&4294967295,M=S+(O<<11&4294967295|O>>>21),O=I+(M^S^E)+C[11]+1839030562&4294967295,I=M+(O<<16&4294967295|O>>>16),O=E+(I^M^S)+C[14]+4259657740&4294967295,E=I+(O<<23&4294967295|O>>>9),O=S+(E^I^M)+C[1]+2763975236&4294967295,S=E+(O<<4&4294967295|O>>>28),O=M+(S^E^I)+C[4]+1272893353&4294967295,M=S+(O<<11&4294967295|O>>>21),O=I+(M^S^E)+C[7]+4139469664&4294967295,I=M+(O<<16&4294967295|O>>>16),O=E+(I^M^S)+C[10]+3200236656&4294967295,E=I+(O<<23&4294967295|O>>>9),O=S+(E^I^M)+C[13]+681279174&4294967295,S=E+(O<<4&4294967295|O>>>28),O=M+(S^E^I)+C[0]+3936430074&4294967295,M=S+(O<<11&4294967295|O>>>21),O=I+(M^S^E)+C[3]+3572445317&4294967295,I=M+(O<<16&4294967295|O>>>16),O=E+(I^M^S)+C[6]+76029189&4294967295,E=I+(O<<23&4294967295|O>>>9),O=S+(E^I^M)+C[9]+3654602809&4294967295,S=E+(O<<4&4294967295|O>>>28),O=M+(S^E^I)+C[12]+3873151461&4294967295,M=S+(O<<11&4294967295|O>>>21),O=I+(M^S^E)+C[15]+530742520&4294967295,I=M+(O<<16&4294967295|O>>>16),O=E+(I^M^S)+C[2]+3299628645&4294967295,E=I+(O<<23&4294967295|O>>>9),O=S+(I^(E|~M))+C[0]+4096336452&4294967295,S=E+(O<<6&4294967295|O>>>26),O=M+(E^(S|~I))+C[7]+1126891415&4294967295,M=S+(O<<10&4294967295|O>>>22),O=I+(S^(M|~E))+C[14]+2878612391&4294967295,I=M+(O<<15&4294967295|O>>>17),O=E+(M^(I|~S))+C[5]+4237533241&4294967295,E=I+(O<<21&4294967295|O>>>11),O=S+(I^(E|~M))+C[12]+1700485571&4294967295,S=E+(O<<6&4294967295|O>>>26),O=M+(E^(S|~I))+C[3]+2399980690&4294967295,M=S+(O<<10&4294967295|O>>>22),O=I+(S^(M|~E))+C[10]+4293915773&4294967295,I=M+(O<<15&4294967295|O>>>17),O=E+(M^(I|~S))+C[1]+2240044497&4294967295,E=I+(O<<21&4294967295|O>>>11),O=S+(I^(E|~M))+C[8]+1873313359&4294967295,S=E+(O<<6&4294967295|O>>>26),O=M+(E^(S|~I))+C[15]+4264355552&4294967295,M=S+(O<<10&4294967295|O>>>22),O=I+(S^(M|~E))+C[6]+2734768916&4294967295,I=M+(O<<15&4294967295|O>>>17),O=E+(M^(I|~S))+C[13]+1309151649&4294967295,E=I+(O<<21&4294967295|O>>>11),O=S+(I^(E|~M))+C[4]+4149444226&4294967295,S=E+(O<<6&4294967295|O>>>26),O=M+(E^(S|~I))+C[11]+3174756917&4294967295,M=S+(O<<10&4294967295|O>>>22),O=I+(S^(M|~E))+C[2]+718787259&4294967295,I=M+(O<<15&4294967295|O>>>17),O=E+(M^(I|~S))+C[9]+3951481745&4294967295,_.g[0]=_.g[0]+S&4294967295,_.g[1]=_.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+M&4294967295}n.prototype.v=function(_,S){S===void 0&&(S=_.length);const E=S-this.blockSize,C=this.C;let I=this.h,M=0;for(;M<S;){if(I==0)for(;M<=E;)i(this,_,M),M+=this.blockSize;if(typeof _=="string"){for(;M<S;)if(C[I++]=_.charCodeAt(M++),I==this.blockSize){i(this,C),I=0;break}}else for(;M<S;)if(C[I++]=_[M++],I==this.blockSize){i(this,C),I=0;break}}this.h=I,this.o+=S},n.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var S=1;S<_.length-8;++S)_[S]=0;S=this.o*8;for(var E=_.length-8;E<_.length;++E)_[E]=S&255,S/=256;for(this.v(_),_=Array(16),S=0,E=0;E<4;++E)for(let C=0;C<32;C+=8)_[S++]=this.g[E]>>>C&255;return _};function a(_,S){var E=o;return Object.prototype.hasOwnProperty.call(E,_)?E[_]:E[_]=S(_)}function s(_,S){this.h=S;const E=[];let C=!0;for(let I=_.length-1;I>=0;I--){const M=_[I]|0;C&&M==S||(E[I]=M,C=!1)}this.g=E}var o={};function c(_){return-128<=_&&_<128?a(_,function(S){return new s([S|0],S<0?-1:0)}):new s([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return f;if(_<0)return v(u(-_));const S=[];let E=1;for(let C=0;_>=E;C++)S[C]=_/E|0,E*=4294967296;return new s(S,0)}function d(_,S){if(_.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(_.charAt(0)=="-")return v(d(_.substring(1),S));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(S,8));let C=f;for(let M=0;M<_.length;M+=8){var I=Math.min(8,_.length-M);const O=parseInt(_.substring(M,M+I),S);I<8?(I=u(Math.pow(S,I)),C=C.j(I).add(u(O))):(C=C.j(E),C=C.add(u(O)))}return C}var f=c(0),m=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-v(this).m();let _=0,S=1;for(let E=0;E<this.g.length;E++){const C=this.i(E);_+=(C>=0?C:4294967296+C)*S,S*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(w(this))return"0";if(x(this))return"-"+v(this).toString(_);const S=u(Math.pow(_,6));var E=this;let C="";for(;;){const I=L(E,S).g;E=P(E,I.j(S));let M=((E.g.length>0?E.g[0]:E.h)>>>0).toString(_);if(E=I,w(E))return M+C;for(;M.length<6;)M="0"+M;C=M+C}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function w(_){if(_.h!=0)return!1;for(let S=0;S<_.g.length;S++)if(_.g[S]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=P(this,_),x(_)?-1:w(_)?0:1};function v(_){const S=_.g.length,E=[];for(let C=0;C<S;C++)E[C]=~_.g[C];return new s(E,~_.h).add(m)}t.abs=function(){return x(this)?v(this):this},t.add=function(_){const S=Math.max(this.g.length,_.g.length),E=[];let C=0;for(let I=0;I<=S;I++){let M=C+(this.i(I)&65535)+(_.i(I)&65535),O=(M>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);C=O>>>16,M&=65535,O&=65535,E[I]=O<<16|M}return new s(E,E[E.length-1]&-2147483648?-1:0)};function P(_,S){return _.add(v(S))}t.j=function(_){if(w(this)||w(_))return f;if(x(this))return x(_)?v(this).j(v(_)):v(v(this).j(_));if(x(_))return v(this.j(v(_)));if(this.l(g)<0&&_.l(g)<0)return u(this.m()*_.m());const S=this.g.length+_.g.length,E=[];for(var C=0;C<2*S;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(let I=0;I<_.g.length;I++){const M=this.i(C)>>>16,O=this.i(C)&65535,z=_.i(I)>>>16,B=_.i(I)&65535;E[2*C+2*I]+=O*B,A(E,2*C+2*I),E[2*C+2*I+1]+=M*B,A(E,2*C+2*I+1),E[2*C+2*I+1]+=O*z,A(E,2*C+2*I+1),E[2*C+2*I+2]+=M*z,A(E,2*C+2*I+2)}for(_=0;_<S;_++)E[_]=E[2*_+1]<<16|E[2*_];for(_=S;_<2*S;_++)E[_]=0;return new s(E,0)};function A(_,S){for(;(_[S]&65535)!=_[S];)_[S+1]+=_[S]>>>16,_[S]&=65535,S++}function T(_,S){this.g=_,this.h=S}function L(_,S){if(w(S))throw Error("division by zero");if(w(_))return new T(f,f);if(x(_))return S=L(v(_),S),new T(v(S.g),v(S.h));if(x(S))return S=L(_,v(S)),new T(v(S.g),S.h);if(_.g.length>30){if(x(_)||x(S))throw Error("slowDivide_ only works with positive integers.");for(var E=m,C=S;C.l(_)<=0;)E=k(E),C=k(C);var I=D(E,1),M=D(C,1);for(C=D(C,2),E=D(E,2);!w(C);){var O=M.add(C);O.l(_)<=0&&(I=I.add(E),M=O),C=D(C,1),E=D(E,1)}return S=P(_,I.j(S)),new T(I,S)}for(I=f;_.l(S)>=0;){for(E=Math.max(1,Math.floor(_.m()/S.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),M=u(E),O=M.j(S);x(O)||O.l(_)>0;)E-=C,M=u(E),O=M.j(S);w(M)&&(M=m),I=I.add(M),_=P(_,O)}return new T(I,_)}t.B=function(_){return L(this,_).h},t.and=function(_){const S=Math.max(this.g.length,_.g.length),E=[];for(let C=0;C<S;C++)E[C]=this.i(C)&_.i(C);return new s(E,this.h&_.h)},t.or=function(_){const S=Math.max(this.g.length,_.g.length),E=[];for(let C=0;C<S;C++)E[C]=this.i(C)|_.i(C);return new s(E,this.h|_.h)},t.xor=function(_){const S=Math.max(this.g.length,_.g.length),E=[];for(let C=0;C<S;C++)E[C]=this.i(C)^_.i(C);return new s(E,this.h^_.h)};function k(_){const S=_.g.length+1,E=[];for(let C=0;C<S;C++)E[C]=_.i(C)<<1|_.i(C-1)>>>31;return new s(E,_.h)}function D(_,S){const E=S>>5;S%=32;const C=_.g.length-E,I=[];for(let M=0;M<C;M++)I[M]=S>0?_.i(M+E)>>>S|_.i(M+E+1)<<32-S:_.i(M+E);return new s(I,_.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,bw=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,bi=s}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xw,ao,ww,oc,Ef,_w,Ew,Nw;(function(){var t,e=Object.defineProperty;function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var b=0;b<h.length;++b){var N=h[b];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=r(this);function i(h,b){if(b)e:{var N=n;h=h.split(".");for(var R=0;R<h.length-1;R++){var V=h[R];if(!(V in N))break e;N=N[V]}h=h[h.length-1],R=N[h],b=b(R),b!=R&&b!=null&&e(N,h,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(b){var N=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&N.push([R,b[R]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function c(h,b,N){return h.call.apply(h.bind,arguments)}function u(h,b,N){return u=c,u.apply(null,arguments)}function d(h,b){var N=Array.prototype.slice.call(arguments,1);return function(){var R=N.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function f(h,b){function N(){}N.prototype=b.prototype,h.Z=b.prototype,h.prototype=new N,h.prototype.constructor=h,h.Ob=function(R,V,U){for(var J=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)J[ve-2]=arguments[ve];return b.prototype[V].apply(R,J)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function g(h){const b=h.length;if(b>0){const N=Array(b);for(let R=0;R<b;R++)N[R]=h[R];return N}return[]}function w(h,b){for(let R=1;R<arguments.length;R++){const V=arguments[R];var N=typeof V;if(N=N!="object"?N:V?Array.isArray(V)?"array":N:"null",N=="array"||N=="object"&&typeof V.length=="number"){N=h.length||0;const U=V.length||0;h.length=N+U;for(let J=0;J<U;J++)h[N+J]=V[J]}else h.push(V)}}class x{constructor(b,N){this.i=b,this.j=N,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function v(h){s.setTimeout(()=>{throw h},0)}function P(){var h=_;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class A{constructor(){this.h=this.g=null}add(b,N){const R=T.get();R.set(b,N),this.h?this.h.next=R:this.g=R,this.h=R}}var T=new x(()=>new L,h=>h.reset());class L{constructor(){this.next=this.g=this.h=null}set(b,N){this.h=b,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let k,D=!1,_=new A,S=()=>{const h=Promise.resolve(void 0);k=()=>{h.then(E)}};function E(){for(var h;h=P();){try{h.h.call(h.g)}catch(N){v(N)}var b=T;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}D=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};s.addEventListener("test",N,b),s.removeEventListener("test",N,b)}catch{}return h}();function O(h){return/^[\s\xa0]*$/.test(h)}function z(h,b){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}f(z,I),z.prototype.init=function(h,b){const N=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(N=="mouseover"?b=h.fromElement:N=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ne(h,b,N,R,V){this.listener=h,this.proxy=null,this.src=b,this.type=N,this.capture=!!R,this.ha=V,this.key=++Q,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function H(h,b,N){for(const R in h)b.call(N,h[R],R,h)}function Z(h,b){for(const N in h)b.call(void 0,h[N],N,h)}function ce(h){const b={};for(const N in h)b[N]=h[N];return b}const Ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(h,b){let N,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(N in R)h[N]=R[N];for(let U=0;U<Ne.length;U++)N=Ne[U],Object.prototype.hasOwnProperty.call(R,N)&&(h[N]=R[N])}}function He(h){this.src=h,this.g={},this.h=0}He.prototype.add=function(h,b,N,R,V){const U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);const J=tt(h,b,R,V);return J>-1?(b=h[J],N||(b.fa=!1)):(b=new ne(b,this.src,U,!!R,V),b.fa=N,h.push(b)),b};function Ze(h,b){const N=b.type;if(N in h.g){var R=h.g[N],V=Array.prototype.indexOf.call(R,b,void 0),U;(U=V>=0)&&Array.prototype.splice.call(R,V,1),U&&(he(b),h.g[N].length==0&&(delete h.g[N],h.h--))}}function tt(h,b,N,R){for(let V=0;V<h.length;++V){const U=h[V];if(!U.da&&U.listener==b&&U.capture==!!N&&U.ha==R)return V}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Jt={};function K(h,b,N,R,V){if(R&&R.once)return G(h,b,N,R,V);if(Array.isArray(b)){for(let U=0;U<b.length;U++)K(h,b[U],N,R,V);return null}return N=Zn(N),h&&h[B]?h.J(b,N,o(R)?!!R.capture:!!R,V):de(h,b,N,!1,R,V)}function de(h,b,N,R,V,U){if(!b)throw Error("Invalid event type");const J=o(V)?!!V.capture:!!V;let ve=$t(h);if(ve||(h[$e]=ve=new He(h)),N=ve.add(b,N,R,J,U),N.proxy)return N;if(R=ge(),N.proxy=R,R.src=h,R.listener=N,h.addEventListener)M||(V=J),V===void 0&&(V=!1),h.addEventListener(b.toString(),R,V);else if(h.attachEvent)h.attachEvent(qe(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ge(){function h(N){return b.call(h.src,h.listener,N)}const b=Ke;return h}function G(h,b,N,R,V){if(Array.isArray(b)){for(let U=0;U<b.length;U++)G(h,b[U],N,R,V);return null}return N=Zn(N),h&&h[B]?h.K(b,N,o(R)?!!R.capture:!!R,V):de(h,b,N,!0,R,V)}function We(h,b,N,R,V){if(Array.isArray(b))for(var U=0;U<b.length;U++)We(h,b[U],N,R,V);else R=o(R)?!!R.capture:!!R,N=Zn(N),h&&h[B]?(h=h.i,U=String(b).toString(),U in h.g&&(b=h.g[U],N=tt(b,N,R,V),N>-1&&(he(b[N]),Array.prototype.splice.call(b,N,1),b.length==0&&(delete h.g[U],h.h--)))):h&&(h=$t(h))&&(b=h.g[b.toString()],h=-1,b&&(h=tt(b,N,R,V)),(N=h>-1?b[h]:null)&&we(N))}function we(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[B])Ze(b.i,h);else{var N=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(N,R,h.capture):b.detachEvent?b.detachEvent(qe(N),R):b.addListener&&b.removeListener&&b.removeListener(R),(N=$t(b))?(Ze(N,h),N.h==0&&(N.src=null,b[$e]=null)):he(h)}}}function qe(h){return h in Jt?Jt[h]:Jt[h]="on"+h}function Ke(h,b){if(h.da)h=!0;else{b=new z(b,this);const N=h.listener,R=h.ha||h.src;h.fa&&we(h),h=N.call(R,b)}return h}function $t(h){return h=h[$e],h instanceof He?h:null}var Wr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zn(h){return typeof h=="function"?h:(h[Wr]||(h[Wr]=function(b){return h.handleEvent(b)}),h[Wr])}function at(){C.call(this),this.i=new He(this),this.M=this,this.G=null}f(at,C),at.prototype[B]=!0,at.prototype.removeEventListener=function(h,b,N,R){We(this,h,b,N,R)};function ft(h,b){var N,R=h.G;if(R)for(N=[];R;R=R.G)N.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new I(b,h);else if(b instanceof I)b.target=b.target||h;else{var V=b;b=new I(R,h),Te(b,V)}V=!0;let U,J;if(N)for(J=N.length-1;J>=0;J--)U=b.g=N[J],V=ei(U,R,!0,b)&&V;if(U=b.g=h,V=ei(U,R,!0,b)&&V,V=ei(U,R,!1,b)&&V,N)for(J=0;J<N.length;J++)U=b.g=N[J],V=ei(U,R,!1,b)&&V}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const N=h.g[b];for(let R=0;R<N.length;R++)he(N[R]);delete h.g[b],h.h--}}this.G=null},at.prototype.J=function(h,b,N,R){return this.i.add(String(h),b,!1,N,R)},at.prototype.K=function(h,b,N,R){return this.i.add(String(h),b,!0,N,R)};function ei(h,b,N,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let V=!0;for(let U=0;U<b.length;++U){const J=b[U];if(J&&!J.da&&J.capture==N){const ve=J.listener,mt=J.ha||J.src;J.fa&&Ze(h.i,J),V=ve.call(mt,R)!==!1&&V}}return V&&!R.defaultPrevented}function Ts(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:s.setTimeout(h,b||0)}function Ta(h){h.g=Ts(()=>{h.g=null,h.i&&(h.i=!1,Ta(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Is extends C{constructor(b,N){super(),this.m=b,this.l=N,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(h){C.call(this),this.h=h,this.g={}}f(xn,C);var Ia=[];function Ca(h){H(h.g,function(b,N){this.g.hasOwnProperty(N)&&we(b)},h),h.g={}}xn.prototype.N=function(){xn.Z.N.call(this),Ca(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $=s.JSON.stringify,j=s.JSON.parse,q=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function fe(){}function X(){}var Ee={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){I.call(this,"d")}f(Ge,I);function Zt(){I.call(this,"c")}f(Zt,I);var Ft={},Mr=null;function qr(){return Mr=Mr||new at}Ft.Ia="serverreachability";function ti(h){I.call(this,Ft.Ia,h)}f(ti,I);function ri(h){const b=qr();ft(b,new ti(b))}Ft.STAT_EVENT="statevent";function Cs(h,b){I.call(this,Ft.STAT_EVENT,h),this.stat=b}f(Cs,I);function Pt(h){const b=qr();ft(b,new Cs(b,h))}Ft.Ja="timingevent";function ks(h,b){I.call(this,Ft.Ja,h),this.size=b}f(ks,I);function Kr(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},b)}function Os(){this.g=!0}Os.prototype.ua=function(){this.g=!1};function _A(h,b,N,R,V,U){h.info(function(){if(h.g)if(U){var J="",ve=U.split("&");for(let Oe=0;Oe<ve.length;Oe++){var mt=ve[Oe].split("=");if(mt.length>1){const St=mt[0];mt=mt[1];const Yr=St.split("_");J=Yr.length>=2&&Yr[1]=="type"?J+(St+"="+mt+"&"):J+(St+"=redacted&")}}}else J=null;else J=U;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+b+`
`+N+`
`+J})}function EA(h,b,N,R,V,U,J){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+b+`
`+N+`
`+U+" "+J})}function ka(h,b,N,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+AA(h,N)+(R?" "+R:"")})}function NA(h,b){h.info(function(){return"TIMEOUT: "+b})}Os.prototype.info=function(){};function AA(h,b){if(!h.g)return b;if(!b)return null;try{const U=JSON.parse(b);if(U){for(h=0;h<U.length;h++)if(Array.isArray(U[h])){var N=U[h];if(!(N.length<2)){var R=N[1];if(Array.isArray(R)&&!(R.length<1)){var V=R[0];if(V!="noop"&&V!="stop"&&V!="close")for(let J=1;J<R.length;J++)R[J]=""}}}}return $(U)}catch{return b}}var El={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},U0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},z0;function sh(){}f(sh,fe),sh.prototype.g=function(){return new XMLHttpRequest},z0=new sh;function Rs(h){return encodeURIComponent(String(h))}function PA(h){var b=1;h=h.split(":");const N=[];for(;b>0&&h.length;)N.push(h.shift()),b--;return h.length&&N.push(h.join(":")),N}function ni(h,b,N,R){this.j=h,this.i=b,this.l=N,this.S=R||1,this.V=new xn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new B0}function B0(){this.i=null,this.g="",this.h=!1}var H0={},oh={};function lh(h,b,N){h.M=1,h.A=Al(Gr(b)),h.u=N,h.R=!0,W0(h,null)}function W0(h,b){h.F=Date.now(),Nl(h),h.B=Gr(h.A);var N=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),iv(N.i,"t",R),h.C=0,N=h.j.L,h.h=new B0,h.g=_v(h.j,N?b:null,!h.u),h.P>0&&(h.O=new Is(u(h.Y,h,h.g),h.P)),b=h.V,N=h.g,R=h.ba;var V="readystatechange";Array.isArray(V)||(V&&(Ia[0]=V.toString()),V=Ia);for(let U=0;U<V.length;U++){const J=K(N,V[U],R||b.handleEvent,!1,b.h||b);if(!J)break;b.g[J.key]=J}b=h.J?ce(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),ri(),_A(h.i,h.v,h.B,h.l,h.S,h.u)}ni.prototype.ba=function(h){h=h.target;const b=this.O;b&&si(h)==3?b.j():this.Y(h)},ni.prototype.Y=function(h){try{if(h==this.g)e:{const ve=si(this.g),mt=this.g.ya(),Oe=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||dv(this.g)))){this.K||ve!=4||mt==7||(mt==8||Oe<=0?ri(3):ri(2)),ch(this);var b=this.g.ca();this.X=b;var N=SA(this);if(this.o=b==200,EA(this.i,this.v,this.B,this.l,this.S,ve,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,V=this.g;if((R=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var U=R;break t}}U=null}if(h=U)ka(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,uh(this,h);else{this.o=!1,this.m=3,Pt(12),Li(this),Ms(this);break e}}if(this.R){h=!0;let St;for(;!this.K&&this.C<N.length;)if(St=TA(this,N),St==oh){ve==4&&(this.m=4,Pt(14),h=!1),ka(this.i,this.l,null,"[Incomplete Response]");break}else if(St==H0){this.m=4,Pt(15),ka(this.i,this.l,N,"[Invalid Chunk]"),h=!1;break}else ka(this.i,this.l,St,null),uh(this,St);if(q0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||N.length!=0||this.h.h||(this.m=1,Pt(16),h=!1),this.o=this.o&&h,!h)ka(this.i,this.l,N,"[Invalid Chunked Response]"),Li(this),Ms(this);else if(N.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),yh(J),J.P=!0,Pt(11))}}else ka(this.i,this.l,N,null),uh(this,N);ve==4&&Li(this),this.o&&!this.K&&(ve==4?yv(this.j,this):(this.o=!1,Nl(this)))}else zA(this.g),b==400&&N.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Li(this),Ms(this)}}}catch{}finally{}};function SA(h){if(!q0(h))return h.g.la();const b=dv(h.g);if(b==="")return"";let N="";const R=b.length,V=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Li(h),Ms(h),"";h.h.i=new s.TextDecoder}for(let U=0;U<R;U++)h.h.h=!0,N+=h.h.i.decode(b[U],{stream:!(V&&U==R-1)});return b.length=0,h.h.g+=N,h.C=0,h.h.g}function q0(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function TA(h,b){var N=h.C,R=b.indexOf(`
`,N);return R==-1?oh:(N=Number(b.substring(N,R)),isNaN(N)?H0:(R+=1,R+N>b.length?oh:(b=b.slice(R,R+N),h.C=R+N,b)))}ni.prototype.cancel=function(){this.K=!0,Li(this)};function Nl(h){h.T=Date.now()+h.H,K0(h,h.H)}function K0(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Kr(u(h.aa,h),b)}function ch(h){h.D&&(s.clearTimeout(h.D),h.D=null)}ni.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(NA(this.i,this.B),this.M!=2&&(ri(),Pt(17)),Li(this),this.m=2,Ms(this)):K0(this,this.T-h)};function Ms(h){h.j.I==0||h.K||yv(h.j,h)}function Li(h){ch(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Ca(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function uh(h,b){try{var N=h.j;if(N.I!=0&&(N.g==h||dh(N.h,h))){if(!h.L&&dh(N.h,h)&&N.I==3){try{var R=N.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<h.F)Cl(N),Tl(N);else break e;vh(N),Pt(18)}}else N.xa=V[1],0<N.xa-N.K&&V[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Kr(u(N.Va,N),6e3));X0(N.h)<=1&&N.ta&&(N.ta=void 0)}else Vi(N,11)}else if((h.L||N.g==h)&&Cl(N),!O(b))for(V=N.Ba.g.parse(b),b=0;b<V.length;b++){let Oe=V[b];const St=Oe[0];if(!(St<=N.K))if(N.K=St,Oe=Oe[1],N.I==2)if(Oe[0]=="c"){N.M=Oe[1],N.ba=Oe[2];const Yr=Oe[3];Yr!=null&&(N.ka=Yr,N.j.info("VER="+N.ka));const $i=Oe[4];$i!=null&&(N.za=$i,N.j.info("SVER="+N.za));const oi=Oe[5];oi!=null&&typeof oi=="number"&&oi>0&&(R=1.5*oi,N.O=R,N.j.info("backChannelRequestTimeoutMs_="+R)),R=N;const li=h.g;if(li){const Ol=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var U=R.h;U.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(hh(U,U.h),U.h=null))}if(R.G){const bh=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(R.wa=bh,Le(R.J,R.G,bh))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-h.F,N.j.info("Handshake RTT: "+N.T+"ms")),R=N;var J=h;if(R.na=wv(R,R.L?R.ba:null,R.W),J.L){Q0(R.h,J);var ve=J,mt=R.O;mt&&(ve.H=mt),ve.D&&(ch(ve),Nl(ve)),R.g=J}else gv(R);N.i.length>0&&Il(N)}else Oe[0]!="stop"&&Oe[0]!="close"||Vi(N,7);else N.I==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Vi(N,7):gh(N):Oe[0]!="noop"&&N.l&&N.l.qa(Oe),N.A=0)}}ri(4)}catch{}}var IA=class{constructor(h,b){this.g=h,this.map=b}};function G0(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Y0(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function X0(h){return h.h?1:h.g?h.g.size:0}function dh(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function hh(h,b){h.g?h.g.add(b):h.h=b}function Q0(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}G0.prototype.cancel=function(){if(this.i=J0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function J0(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const N of h.g.values())b=b.concat(N.G);return b}return g(h.i)}var Z0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CA(h,b){if(h){h=h.split("&");for(let N=0;N<h.length;N++){const R=h[N].indexOf("=");let V,U=null;R>=0?(V=h[N].substring(0,R),U=h[N].substring(R+1)):V=h[N],b(V,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ii(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof ii?(this.l=h.l,Ds(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.u),this.h=h.h,fh(this,av(h.i)),this.m=h.m):h&&(b=String(h).match(Z0))?(this.l=!1,Ds(this,b[1]||"",!0),this.o=js(b[2]||""),this.g=js(b[3]||"",!0),Ls(this,b[4]),this.h=js(b[5]||"",!0),fh(this,b[6]||"",!0),this.m=js(b[7]||"")):(this.l=!1,this.i=new $s(null,this.l))}ii.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Vs(b,ev,!0),":");var N=this.g;return(N||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Vs(b,ev,!0),"@"),h.push(Rs(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&h.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Vs(N,N.charAt(0)=="/"?RA:OA,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Vs(N,DA)),h.join("")},ii.prototype.resolve=function(h){const b=Gr(this);let N=!!h.j;N?Ds(b,h.j):N=!!h.o,N?b.o=h.o:N=!!h.g,N?b.g=h.g:N=h.u!=null;var R=h.h;if(N)Ls(b,h.u);else if(N=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var V=b.h.lastIndexOf("/");V!=-1&&(R=b.h.slice(0,V+1)+R)}if(V=R,V==".."||V==".")R="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){R=V.lastIndexOf("/",0)==0,V=V.split("/");const U=[];for(let J=0;J<V.length;){const ve=V[J++];ve=="."?R&&J==V.length&&U.push(""):ve==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),R&&J==V.length&&U.push("")):(U.push(ve),R=!0)}R=U.join("/")}else R=V}return N?b.h=R:N=h.i.toString()!=="",N?fh(b,av(h.i)):N=!!h.m,N&&(b.m=h.m),b};function Gr(h){return new ii(h)}function Ds(h,b,N){h.j=N?js(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function fh(h,b,N){b instanceof $s?(h.i=b,LA(h.i,h.l)):(N||(b=Vs(b,MA)),h.i=new $s(b,h.l))}function Le(h,b,N){h.i.set(b,N)}function Al(h){return Le(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function js(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vs(h,b,N){return typeof h=="string"?(h=encodeURI(h).replace(b,kA),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function kA(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ev=/[#\/\?@]/g,OA=/[#\?:]/g,RA=/[#\?]/g,MA=/[#\?@]/g,DA=/#/g;function $s(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function ji(h){h.g||(h.g=new Map,h.h=0,h.i&&CA(h.i,function(b,N){h.add(decodeURIComponent(b.replace(/\+/g," ")),N)}))}t=$s.prototype,t.add=function(h,b){ji(this),this.i=null,h=Oa(this,h);let N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(b),this.h+=1,this};function tv(h,b){ji(h),b=Oa(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function rv(h,b){return ji(h),b=Oa(h,b),h.g.has(b)}t.forEach=function(h,b){ji(this),this.g.forEach(function(N,R){N.forEach(function(V){h.call(b,V,R,this)},this)},this)};function nv(h,b){ji(h);let N=[];if(typeof b=="string")rv(h,b)&&(N=N.concat(h.g.get(Oa(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)N=N.concat(h[b]);return N}t.set=function(h,b){return ji(this),this.i=null,h=Oa(this,h),rv(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=nv(this,h),h.length>0?String(h[0]):b):b};function iv(h,b,N){tv(h,b),N.length>0&&(h.i=null,h.g.set(Oa(h,b),g(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var N=b[R];const V=Rs(N);N=nv(this,N);for(let U=0;U<N.length;U++){let J=V;N[U]!==""&&(J+="="+Rs(N[U])),h.push(J)}}return this.i=h.join("&")};function av(h){const b=new $s;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function Oa(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function LA(h,b){b&&!h.j&&(ji(h),h.i=null,h.g.forEach(function(N,R){const V=R.toLowerCase();R!=V&&(tv(this,R),iv(this,V,N))},h)),h.j=b}function jA(h,b){const N=new Os;if(s.Image){const R=new Image;R.onload=d(ai,N,"TestLoadImage: loaded",!0,b,R),R.onerror=d(ai,N,"TestLoadImage: error",!1,b,R),R.onabort=d(ai,N,"TestLoadImage: abort",!1,b,R),R.ontimeout=d(ai,N,"TestLoadImage: timeout",!1,b,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function VA(h,b){const N=new Os,R=new AbortController,V=setTimeout(()=>{R.abort(),ai(N,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(U=>{clearTimeout(V),U.ok?ai(N,"TestPingServer: ok",!0,b):ai(N,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(V),ai(N,"TestPingServer: error",!1,b)})}function ai(h,b,N,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(N)}catch{}}function $A(){this.g=new q}function mh(h){this.i=h.Sb||null,this.h=h.ab||!1}f(mh,fe),mh.prototype.g=function(){return new Pl(this.i,this.h)};function Pl(h,b){at.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Pl,at),t=Pl.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Us(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||s).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sv(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function sv(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?Fs(this):Us(this),this.readyState==3&&sv(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Fs(this))},t.Na=function(h){this.g&&(this.response=h,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Us(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var N=b.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=b.next();return h.join(`\r
`)};function Us(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ov(h){let b="";return H(h,function(N,R){b+=R,b+=":",b+=N,b+=`\r
`}),b}function ph(h,b,N){e:{for(R in N){var R=!1;break e}R=!0}R||(N=ov(N),typeof h=="string"?N!=null&&Rs(N):Le(h,b,N))}function et(h){at.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(et,at);var FA=/^https?$/i,UA=["POST","PUT"];t=et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,N,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():z0.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(U){lv(this,U);return}if(h=N||"",N=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)N.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())N.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(N.keys()).find(U=>U.toLowerCase()=="content-type"),V=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(UA,b,void 0)>=0)||R||V||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of N)this.g.setRequestHeader(U,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(U){lv(this,U)}};function lv(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,cv(h),Sl(h)}function cv(h){h.A||(h.A=!0,ft(h,"complete"),ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ft(this,"complete"),ft(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?uv(this):this.Xa())},t.Xa=function(){uv(this)};function uv(h){if(h.h&&typeof a<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(ft(h,"readystatechange"),si(h)==4){h.h=!1;try{const U=h.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var N;if(!(N=b)){var R;if(R=U===0){let J=String(h.D).match(Z0)[1]||null;!J&&s.self&&s.self.location&&(J=s.self.location.protocol.slice(0,-1)),R=!FA.test(J?J.toLowerCase():"")}N=R}if(N)ft(h,"complete"),ft(h,"success");else{h.o=6;try{var V=si(h)>2?h.g.statusText:""}catch{V=""}h.l=V+" ["+h.ca()+"]",cv(h)}}finally{Sl(h)}}}}function Sl(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const N=h.g;h.g=null,b||ft(h,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}t.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),j(b)}};function dv(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function zA(h){const b={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(O(h[R]))continue;var N=PA(h[R]);const V=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const U=b[V]||[];b[V]=U,U.push(N)}Z(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(h,b,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||b}function hv(h){this.za=0,this.i=[],this.j=new Os,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zs("baseRetryDelayMs",5e3,h),this.Za=zs("retryDelaySeedMs",1e4,h),this.Ta=zs("forwardChannelMaxRetries",2,h),this.va=zs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new G0(h&&h.concurrentRequestLimit),this.Ba=new $A,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hv.prototype,t.ka=8,t.I=1,t.connect=function(h,b,N,R){Pt(0),this.W=h,this.H=b||{},N&&R!==void 0&&(this.H.OSID=N,this.H.OAID=R),this.F=this.X,this.J=wv(this,null,this.W),Il(this)};function gh(h){if(fv(h),h.I==3){var b=h.V++,N=Gr(h.J);if(Le(N,"SID",h.M),Le(N,"RID",b),Le(N,"TYPE","terminate"),Bs(h,N),b=new ni(h,h.j,b),b.M=2,b.A=Al(Gr(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(b.A.toString(),"")}catch{}!N&&s.Image&&(new Image().src=b.A,N=!0),N||(b.g=_v(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Nl(b)}xv(h)}function Tl(h){h.g&&(yh(h),h.g.cancel(),h.g=null)}function fv(h){Tl(h),h.v&&(s.clearTimeout(h.v),h.v=null),Cl(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Il(h){if(!Y0(h.h)&&!h.m){h.m=!0;var b=h.Ea;k||S(),D||(k(),D=!0),_.add(b,h),h.D=0}}function BA(h,b){return X0(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Kr(u(h.Ea,h,b),bv(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const V=new ni(this,this.j,h);let U=this.o;if(this.U&&(U?(U=ce(U),Te(U,this.U)):U=this.U),this.u!==null||this.R||(V.J=U,U=null),this.S)e:{for(var b=0,N=0;N<this.i.length;N++){t:{var R=this.i[N];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=N;break e}if(b===4096||N===this.i.length-1){b=N+1;break e}}b=1e3}else b=1e3;b=pv(this,V,b),N=Gr(this.J),Le(N,"RID",h),Le(N,"CVER",22),this.G&&Le(N,"X-HTTP-Session-Id",this.G),Bs(this,N),U&&(this.R?b="headers="+Rs(ov(U))+"&"+b:this.u&&ph(N,this.u,U)),hh(this.h,V),this.Ra&&Le(N,"TYPE","init"),this.S?(Le(N,"$req",b),Le(N,"SID","null"),V.U=!0,lh(V,N,null)):lh(V,N,b),this.I=2}}else this.I==3&&(h?mv(this,h):this.i.length==0||Y0(this.h)||mv(this))};function mv(h,b){var N;b?N=b.l:N=h.V++;const R=Gr(h.J);Le(R,"SID",h.M),Le(R,"RID",N),Le(R,"AID",h.K),Bs(h,R),h.u&&h.o&&ph(R,h.u,h.o),N=new ni(h,h.j,N,h.D+1),h.u===null&&(N.J=h.o),b&&(h.i=b.G.concat(h.i)),b=pv(h,N,1e3),N.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),hh(h.h,N),lh(N,R,b)}function Bs(h,b){h.H&&H(h.H,function(N,R){Le(b,R,N)}),h.l&&H({},function(N,R){Le(b,R,N)})}function pv(h,b,N){N=Math.min(h.i.length,N);const R=h.l?u(h.l.Ka,h.l,h):null;e:{var V=h.i;let ve=-1;for(;;){const mt=["count="+N];ve==-1?N>0?(ve=V[0].g,mt.push("ofs="+ve)):ve=0:mt.push("ofs="+ve);let Oe=!0;for(let St=0;St<N;St++){var U=V[St].g;const Yr=V[St].map;if(U-=ve,U<0)ve=Math.max(0,V[St].g-100),Oe=!1;else try{U="req"+U+"_"||"";try{var J=Yr instanceof Map?Yr:Object.entries(Yr);for(const[$i,oi]of J){let li=oi;o(oi)&&(li=$(oi)),mt.push(U+$i+"="+encodeURIComponent(li))}}catch($i){throw mt.push(U+"type="+encodeURIComponent("_badmap")),$i}}catch{R&&R(Yr)}}if(Oe){J=mt.join("&");break e}}J=void 0}return h=h.i.splice(0,N),b.G=h,J}function gv(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;k||S(),D||(k(),D=!0),_.add(b,h),h.A=0}}function vh(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Kr(u(h.Da,h),bv(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,vv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Kr(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Tl(this),vv(this))};function yh(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function vv(h){h.g=new ni(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Gr(h.na);Le(b,"RID","rpc"),Le(b,"SID",h.M),Le(b,"AID",h.K),Le(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&Le(b,"TO",h.ia),Le(b,"TYPE","xmlhttp"),Bs(h,b),h.u&&h.o&&ph(b,h.u,h.o),h.O&&(h.g.H=h.O);var N=h.g;h=h.ba,N.M=1,N.A=Al(Gr(b)),N.u=null,N.R=!0,W0(N,h)}t.Va=function(){this.C!=null&&(this.C=null,Tl(this),vh(this),Pt(19))};function Cl(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function yv(h,b){var N=null;if(h.g==b){Cl(h),yh(h),h.g=null;var R=2}else if(dh(h.h,b))N=b.G,Q0(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){N=b.u?b.u.length:0,b=Date.now()-b.F;var V=h.D;R=qr(),ft(R,new ks(R,N)),Il(h)}else gv(h);else if(V=b.m,V==3||V==0&&b.X>0||!(R==1&&BA(h,b)||R==2&&vh(h)))switch(N&&N.length>0&&(b=h.h,b.i=b.i.concat(N)),V){case 1:Vi(h,5);break;case 4:Vi(h,10);break;case 3:Vi(h,6);break;default:Vi(h,2)}}}function bv(h,b){let N=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(N*=2),N*b}function Vi(h,b){if(h.j.info("Error code "+b),b==2){var N=u(h.bb,h),R=h.Ua;const V=!R;R=new ii(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ds(R,"https"),Al(R),V?jA(R.toString(),N):VA(R.toString(),N)}else Pt(2);h.I=0,h.l&&h.l.pa(b),xv(h),fv(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function xv(h){if(h.I=0,h.ja=[],h.l){const b=J0(h.h);(b.length!=0||h.i.length!=0)&&(w(h.ja,b),w(h.ja,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.oa()}}function wv(h,b,N){var R=N instanceof ii?Gr(N):new ii(N);if(R.g!="")b&&(R.g=b+"."+R.g),Ls(R,R.u);else{var V=s.location;R=V.protocol,b=b?b+"."+V.hostname:V.hostname,V=+V.port;const U=new ii(null);R&&Ds(U,R),b&&(U.g=b),V&&Ls(U,V),N&&(U.h=N),R=U}return N=h.G,b=h.wa,N&&b&&Le(R,N,b),Le(R,"VER",h.ka),Bs(h,R),R}function _v(h,b,N){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new et(new mh({ab:N})):new et(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ev(){}t=Ev.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kl(){}kl.prototype.g=function(h,b){return new cr(h,b)};function cr(h,b){at.call(this),this.g=new hv(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!O(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Ra(this)}f(cr,at),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){gh(this.g)},cr.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.v&&(N={},N.__data__=$(h),h=N);b.i.push(new IA(b.Ya++,h)),b.I==3&&Il(b)},cr.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,cr.Z.N.call(this)};function Nv(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const N in b){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}f(Nv,Ge);function Av(){Zt.call(this),this.status=1}f(Av,Zt);function Ra(h){this.g=h}f(Ra,Ev),Ra.prototype.ra=function(){ft(this.g,"a")},Ra.prototype.qa=function(h){ft(this.g,new Nv(h))},Ra.prototype.pa=function(h){ft(this.g,new Av)},Ra.prototype.oa=function(){ft(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,Nw=function(){return new kl},Ew=function(){return qr()},_w=Ft,Ef={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,oc=El,U0.COMPLETE="complete",ww=U0,X.EventType=Ee,Ee.OPEN="a",Ee.CLOSE="b",Ee.ERROR="c",Ee.MESSAGE="d",at.prototype.listen=at.prototype.J,ao=X,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,xw=et}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});const my="@firebase/firestore",py="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Wm("@firebase/firestore");function Fa(){return la.logLevel}function te(t,...e){if(la.logLevel<=ye.DEBUG){const r=e.map(ip);la.debug(`Firestore (${ms}): ${t}`,...r)}}function Ln(t,...e){if(la.logLevel<=ye.ERROR){const r=e.map(ip);la.error(`Firestore (${ms}): ${t}`,...r)}}function Ja(t,...e){if(la.logLevel<=ye.WARN){const r=e.map(ip);la.warn(`Firestore (${ms}): ${t}`,...r)}}function ip(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Aw(t,n,r)}function Aw(t,e,r){let n=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ln(n),new Error(n)}function Se(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Aw(e,i,n)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends yn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ht.UNAUTHENTICATED))}shutdown(){}}class hC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class fC{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Se(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xi)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Se(typeof n.accessToken=="string",31837,{l:n}),new Pw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class mC{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pC{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new mC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Se(this.o===void 0,3512);const n=a=>{a.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Se(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new gy(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=vC(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function be(t,e){return t<e?-1:t>e?1:0}function Nf(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return Ih(i)===Ih(a)?be(i,a):Ih(i)?1:-1}return be(t.length,e.length)}const yC=55296,bC=57343;function Ih(t){const e=t.charCodeAt(0);return e>=yC&&e<=bC}function Za(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="__name__";class Zr{constructor(e,r,n){r===void 0?r=0:r>e.length&&ue(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ue(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Zr.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return be(e.length,r.length)}static compareSegments(e,r){const n=Zr.isNumericId(e),i=Zr.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Zr.extractNumericId(e).compare(Zr.extractNumericId(r)):Nf(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class Ye extends Zr{construct(e,r,n){return new Ye(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new se(Y.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ye(r)}static emptyPath(){return new Ye([])}}const xC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Zr{construct(e,r,n){return new jt(e,r,n)}static isValidIdentifier(e){return xC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vy}static keyField(){return new jt([vy])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(r)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ye.fromString(e))}static fromName(e){return new le(Ye.fromString(e).popFirst(5))}static empty(){return new le(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ye.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e,r){if(!r)throw new se(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _C(t,e,r,n){if(e===!0&&n===!0)throw new se(Y.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function yy(t){if(!le.isDocumentKey(t))throw new se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function ca(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=sp(t);throw new se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e){const r={typeString:t};return e&&(r.value=e),r}function Qo(t,e){if(!Sw(t))throw new se(Y.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new se(Y.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-62135596800,xy=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*xy);return new Ve(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<by)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xy}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qo(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-by;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:ct("string",Ve._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new Ve(0,0))}static max(){return new me(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=-1;function EC(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(n===1e9?new Ve(r+1,0):new Ve(r,n));return new Ei(i,le.empty(),e)}function NC(t){return new Ei(t.readTime,t.key,Ao)}class Ei{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ei(me.min(),le.empty(),Ao)}static max(){return new Ei(me.max(),le.empty(),Ao)}}function AC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=le.comparator(t.documentKey,e.documentKey),r!==0?r:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==PC)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new W((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof W?r:W.resolve(r)}catch(r){return W.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):W.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):W.reject(r)}static resolve(e){return new W((r,n)=>{r(e)})}static reject(e){return new W((r,n)=>{n(e)})}static waitFor(e){return new W((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=W.resolve(!1);for(const n of e)r=r.next(i=>i?W.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new W((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{s[u]=d,++o,o===a&&n(s)},d=>i(d))}})}static doWhile(e,r){return new W((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function TC(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function gs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-1;function Bu(t){return t==null}function Tc(t){return t===0&&1/t==-1/0}function IC(t){return typeof t=="number"&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="";function CC(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=wy(e)),e=kC(t.get(r),e);return wy(e)}function kC(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case Tw:r+="";break;default:r+=a}}return r}function wy(t){return t+Tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ki(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Iw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,r){this.comparator=e,this.root=r||Lt.EMPTY}insert(e,r){return new Qe(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Lt.RED,this.left=i??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Lt(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Lt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Lt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ey(this.data.getIterator())}getIteratorFrom(e){return new Ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wt(this.comparator);return r.data=e,r}}class Ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new pr([])}unionWith(e){let r=new wt(jt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new pr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Cw("Invalid base64 string: "+a):a}}(e);return new Vt(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Vt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const OC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(Se(!!t,39018),typeof t=="string"){let e=0;const r=OC.exec(t);if(Se(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="server_timestamp",Ow="__type__",Rw="__previous_value__",Mw="__local_write_time__";function lp(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Ow])==null?void 0:n.stringValue)===kw}function Hu(t){const e=t.mapValue.fields[Rw];return lp(e)?Hu(e):e}function Po(t){const e=Ni(t.mapValue.fields[Mw].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,r,n,i,a,s,o,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Ic="(default)";class So{constructor(e,r){this.projectId=e,this.database=r||Ic}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="__type__",Lw="__max__",Ll={mapValue:{fields:{__type__:{stringValue:Lw}}}},jw="__vector__",Cc="value";function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lp(t)?4:DC(t)?9007199254740991:MC(t)?10:11:ue(28295,{value:t})}function hn(t,e){if(t===e)return!0;const r=Pi(t);if(r!==Pi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Po(t).isEqual(Po(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ni(i.timestampValue),o=Ni(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ai(i.bytesValue).isEqual(Ai(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return nt(i.geoPointValue.latitude)===nt(a.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return nt(i.integerValue)===nt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=nt(i.doubleValue),o=nt(a.doubleValue);return s===o?Tc(s)===Tc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(_y(s)!==_y(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!hn(s[c],o[c])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function To(t,e){return(t.values||[]).find(r=>hn(r,e))!==void 0}function es(t,e){if(t===e)return 0;const r=Pi(t),n=Pi(e);if(r!==n)return be(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=nt(a.integerValue||a.doubleValue),c=nt(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return Ny(t.timestampValue,e.timestampValue);case 4:return Ny(Po(t),Po(e));case 5:return Nf(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Ai(a),c=Ai(s);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=be(o[u],c[u]);if(d!==0)return d}return be(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=be(nt(a.latitude),nt(s.latitude));return o!==0?o:be(nt(a.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ay(t.arrayValue,e.arrayValue);case 10:return function(a,s){var m,g,w,x;const o=a.fields||{},c=s.fields||{},u=(m=o[Cc])==null?void 0:m.arrayValue,d=(g=c[Cc])==null?void 0:g.arrayValue,f=be(((w=u==null?void 0:u.values)==null?void 0:w.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:Ay(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Ll.mapValue&&s===Ll.mapValue)return 0;if(a===Ll.mapValue)return 1;if(s===Ll.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Nf(c[f],d[f]);if(m!==0)return m;const g=es(o[c[f]],u[d[f]]);if(g!==0)return g}return be(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{he:r})}}function Ny(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const r=Ni(t),n=Ni(e),i=be(r.seconds,n.seconds);return i!==0?i:be(r.nanos,n.nanos)}function Ay(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=es(r[i],n[i]);if(a)return a}return be(r.length,n.length)}function ts(t){return Af(t)}function Af(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ni(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ai(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return le.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Af(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Af(r.fields[s])}`;return i+"}"}(t.mapValue):ue(61005,{value:t})}function lc(t){switch(Pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hu(t);return e?16+lc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+lc(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return ki(n.fields,(a,s)=>{i+=a.length+lc(s)}),i}(t.mapValue);default:throw ue(13486,{value:t})}}function Pf(t){return!!t&&"integerValue"in t}function cp(t){return!!t&&"arrayValue"in t}function Py(t){return!!t&&"nullValue"in t}function Sy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cc(t){return!!t&&"mapValue"in t}function MC(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Dw])==null?void 0:n.stringValue)===jw}function po(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=po(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=po(t.arrayValue.values[r]);return e}return{...t}}function DC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Lw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!cc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=po(r)}setAll(e){let r=jt.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=po(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());cc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];cc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ki(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ar(po(this.value))}}function Vw(t){const e=[];return ki(t.fields,(r,n)=>{const i=new jt([r]);if(cc(n)){const a=Vw(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Wt(e,0,me.min(),me.min(),me.min(),ar.empty(),0)}static newFoundDocument(e,r,n,i){return new Wt(e,1,r,me.min(),n,i,0)}static newNoDocument(e,r){return new Wt(e,2,r,me.min(),me.min(),ar.empty(),0)}static newUnknownDocument(e,r){return new Wt(e,3,r,me.min(),me.min(),ar.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,r){this.position=e,this.inclusive=r}}function Ty(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=le.comparator(le.fromName(s.referenceValue),r.key):n=es(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Iy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!hn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,r="asc"){this.field=e,this.dir=r}}function LC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{}class yt extends $w{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new VC(e,r,n):r==="array-contains"?new UC(e,n):r==="in"?new zC(e,n):r==="not-in"?new BC(e,n):r==="array-contains-any"?new HC(e,n):new yt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new $C(e,n):new FC(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(es(r,this.value)):r!==null&&Pi(this.value)===Pi(r)&&this.matchesComparison(es(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends $w{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new fn(e,r)}matches(e){return Fw(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Fw(t){return t.op==="and"}function Uw(t){return jC(t)&&Fw(t)}function jC(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function Sf(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+ts(t.value);if(Uw(t))return t.filters.map(e=>Sf(e)).join(",");{const e=t.filters.map(r=>Sf(r)).join(",");return`${t.op}(${e})`}}function zw(t,e){return t instanceof yt?function(n,i){return i instanceof yt&&n.op===i.op&&n.field.isEqual(i.field)&&hn(n.value,i.value)}(t,e):t instanceof fn?function(n,i){return i instanceof fn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&zw(s,i.filters[o]),!0):!1}(t,e):void ue(19439)}function Bw(t){return t instanceof yt?function(r){return`${r.field.canonicalString()} ${r.op} ${ts(r.value)}`}(t):t instanceof fn?function(r){return r.op.toString()+" {"+r.getFilters().map(Bw).join(" ,")+"}"}(t):"Filter"}class VC extends yt{constructor(e,r,n){super(e,r,n),this.key=le.fromName(n.referenceValue)}matches(e){const r=le.comparator(e.key,this.key);return this.matchesComparison(r)}}class $C extends yt{constructor(e,r){super(e,"in",r),this.keys=Hw("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class FC extends yt{constructor(e,r){super(e,"not-in",r),this.keys=Hw("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Hw(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>le.fromName(n.referenceValue))}class UC extends yt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return cp(r)&&To(r.arrayValue,this.value)}}class zC extends yt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&To(this.value.arrayValue,r)}}class BC extends yt{constructor(e,r){super(e,"not-in",r)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!To(this.value.arrayValue,r)}}class HC extends yt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!cp(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>To(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function Cy(t,e=null,r=[],n=[],i=null,a=null,s=null){return new WC(t,e,r,n,i,a,s)}function up(t){const e=pe(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Sf(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Bu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ts(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ts(n)).join(",")),e.Te=r}return e.Te}function dp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!LC(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!zw(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Iy(t.startAt,e.startAt)&&Iy(t.endAt,e.endAt)}function Tf(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qC(t,e,r,n,i,a,s,o){return new Wu(t,e,r,n,i,a,s,o)}function hp(t){return new Wu(t)}function ky(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KC(t){return t.collectionGroup!==null}function go(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new wt(jt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Oc(a,n))}),r.has(jt.keyField().canonicalString())||e.Ie.push(new Oc(jt.keyField(),n))}return e.Ie}function an(t){const e=pe(t);return e.Ee||(e.Ee=GC(e,go(t))),e.Ee}function GC(t,e){if(t.limitType==="F")return Cy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Oc(i.field,a)});const r=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return Cy(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function If(t,e,r){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function qu(t,e){return dp(an(t),an(e))&&t.limitType===e.limitType}function Ww(t){return`${up(an(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Bw(i)).join(", ")}]`),Bu(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>ts(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>ts(i)).join(",")),`Target(${n})`}(an(t))}; limitType=${t.limitType})`}function Ku(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):le.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of go(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,c){const u=Ty(s,o,c);return s.inclusive?u<=0:u<0}(n.startAt,go(n),i)||n.endAt&&!function(s,o,c){const u=Ty(s,o,c);return s.inclusive?u>=0:u>0}(n.endAt,go(n),i))}(t,e)}function YC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qw(t){return(e,r)=>{let n=!1;for(const i of go(t)){const a=XC(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function XC(t,e,r){const n=t.field.isKeyField()?le.comparator(e.key,r.key):function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?es(c,u):ue(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Qe(le.comparator);function jn(){return QC}const Kw=new Qe(le.comparator);function so(...t){let e=Kw;for(const r of t)e=e.insert(r.key,r);return e}function Gw(t){let e=Kw;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Gi(){return vo()}function Yw(){return vo()}function vo(){return new wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const JC=new Qe(le.comparator),ZC=new wt(le.comparator);function xe(...t){let e=ZC;for(const r of t)e=e.add(r);return e}const ek=new wt(be);function tk(){return ek}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function Xw(t){return{integerValue:""+t}}function rk(t,e){return IC(e)?Xw(e):fp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this._=void 0}}function nk(t,e,r){return t instanceof Rc?function(i,a){const s={fields:{[Ow]:{stringValue:kw},[Mw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&lp(a)&&(a=Hu(a)),a&&(s.fields[Rw]=a),{mapValue:s}}(r,e):t instanceof Io?Jw(t,e):t instanceof Co?Zw(t,e):function(i,a){const s=Qw(i,a),o=Oy(s)+Oy(i.Ae);return Pf(s)&&Pf(i.Ae)?Xw(o):fp(i.serializer,o)}(t,e)}function ik(t,e,r){return t instanceof Io?Jw(t,e):t instanceof Co?Zw(t,e):r}function Qw(t,e){return t instanceof Mc?function(n){return Pf(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Rc extends Gu{}class Io extends Gu{constructor(e){super(),this.elements=e}}function Jw(t,e){const r=e4(e);for(const n of t.elements)r.some(i=>hn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Co extends Gu{constructor(e){super(),this.elements=e}}function Zw(t,e){let r=e4(e);for(const n of t.elements)r=r.filter(i=>!hn(i,n));return{arrayValue:{values:r}}}class Mc extends Gu{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Oy(t){return nt(t.integerValue||t.doubleValue)}function e4(t){return cp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ak(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Io&&i instanceof Io||n instanceof Co&&i instanceof Co?Za(n.elements,i.elements,hn):n instanceof Mc&&i instanceof Mc?hn(n.Ae,i.Ae):n instanceof Rc&&i instanceof Rc}(t.transform,e.transform)}class sk{constructor(e,r){this.version=e,this.transformResults=r}}class sn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yu{}function t4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n4(t.key,sn.none()):new Jo(t.key,t.data,sn.none());{const r=t.data,n=ar.empty();let i=new wt(jt.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Oi(t.key,n,new pr(i.toArray()),sn.none())}}function ok(t,e,r){t instanceof Jo?function(i,a,s){const o=i.value.clone(),c=My(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Oi?function(i,a,s){if(!uc(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=My(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(r4(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function yo(t,e,r,n){return t instanceof Jo?function(a,s,o,c){if(!uc(a.precondition,s))return o;const u=a.value.clone(),d=Dy(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Oi?function(a,s,o,c){if(!uc(a.precondition,s))return o;const u=Dy(a.fieldTransforms,c,s),d=s.data;return d.setAll(r4(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,s,o){return uc(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function lk(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Qw(n.transform,i||null);a!=null&&(r===null&&(r=ar.empty()),r.set(n.field,a))}return r||null}function Ry(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Za(n,i,(a,s)=>ak(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jo extends Yu{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oi extends Yu{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function r4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function My(t,e,r){const n=new Map;Se(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,ik(s,o,r[i]))}return n}function Dy(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,nk(a,s,e))}return n}class n4 extends Yu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends Yu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ok(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=yo(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=yo(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Yw();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=t4(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(me.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),xe())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(r,n)=>Ry(r,n))&&Za(this.baseMutations,e.baseMutations,(r,n)=>Ry(r,n))}}class mp{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Se(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return JC}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new mp(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,_e;function fk(t){switch(t){case Y.OK:return ue(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function i4(t){if(t===void 0)return Ln("GRPC error has no .code"),Y.UNKNOWN;switch(t){case st.OK:return Y.OK;case st.CANCELLED:return Y.CANCELLED;case st.UNKNOWN:return Y.UNKNOWN;case st.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case st.INTERNAL:return Y.INTERNAL;case st.UNAVAILABLE:return Y.UNAVAILABLE;case st.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case st.NOT_FOUND:return Y.NOT_FOUND;case st.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case st.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case st.ABORTED:return Y.ABORTED;case st.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case st.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case st.DATA_LOSS:return Y.DATA_LOSS;default:return ue(39323,{code:t})}}(_e=st||(st={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=new bi([4294967295,4294967295],0);function Ly(t){const e=mk().encode(t),r=new bw;return r.update(e),new Uint8Array(r.digest())}function jy(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bi([r,n],0),new bi([i,a],0)]}class pp{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new oo(`Invalid padding: ${r}`);if(n<0)throw new oo(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new oo(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=bi.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(bi.fromNumber(n)));return i.compare(pk)===1&&(i=new bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=Ly(e),[n,i]=jy(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new pp(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=Ly(e),[n,i]=jy(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Zo.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Xu(me.min(),i,new Qe(be),jn(),xe())}}class Zo{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Zo(n,r,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class a4{constructor(e,r){this.targetId=e,this.Ce=r}}class s4{constructor(e,r,n=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Vy{constructor(){this.ve=0,this.Fe=$y(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),r=xe(),n=xe();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ue(38017,{changeType:a})}}),new Zo(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=$y()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gk{constructor(e){this.Ge=e,this.ze=new Map,this.je=jn(),this.Je=jl(),this.He=jl(),this.Ye=new Qe(be)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Tf(a))if(n===0){const s=new le(a.path);this.et(r,s,Wt.newNoDocument(s,me.min()))}else Se(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),c=o?this.ct(o,e,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Ai(n).toUint8Array()}catch(c){if(c instanceof Cw)return Ja("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new pp(s,i,a)}catch(c){return Ja(c instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Tf(o.target)){const c=new le(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Wt.newNoDocument(c,e))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=xe();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Xu(e,r,this.Ye,this.je,n);return this.je=jn(),this.Je=jl(),this.He=jl(),this.Ye=new Qe(be),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Vy,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new wt(be),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new wt(be),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vy),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function jl(){return new Qe(le.comparator)}function $y(){return new Qe(le.comparator)}const vk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),bk=(()=>({and:"AND",or:"OR"}))();class xk{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Cf(t,e){return t.useProto3Json||Bu(e)?e:{value:e}}function Dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wk(t,e){return Dc(t,e.toTimestamp())}function on(t){return Se(!!t,49232),me.fromTimestamp(function(r){const n=Ni(r);return new Ve(n.seconds,n.nanos)}(t))}function gp(t,e){return kf(t,e).canonicalString()}function kf(t,e){const r=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function l4(t){const e=Ye.fromString(t);return Se(f4(e),10190,{key:e.toString()}),e}function Of(t,e){return gp(t.databaseId,e.path)}function Ch(t,e){const r=l4(e);if(r.get(1)!==t.databaseId.projectId)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new le(u4(r))}function c4(t,e){return gp(t.databaseId,e)}function _k(t){const e=l4(t);return e.length===4?Ye.emptyPath():u4(e)}function Rf(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u4(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Fy(t,e,r){return{name:Of(t,e),fields:r.value.mapValue.fields}}function Ek(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Se(d===void 0||typeof d=="string",58123),Vt.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?Y.UNKNOWN:i4(u.code);return new se(d,u.message||"")}(s);r=new s4(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ch(t,n.document.name),a=on(n.document.updateTime),s=n.document.createTime?on(n.document.createTime):me.min(),o=new ar({mapValue:{fields:n.document.fields}}),c=Wt.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new dc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Ch(t,n.document),a=n.readTime?on(n.readTime):me.min(),s=Wt.newNoDocument(i,a),o=n.removedTargetIds||[];r=new dc([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Ch(t,n.document),a=n.removedTargetIds||[];r=new dc([],a,i,null)}else{if(!("filter"in e))return ue(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new hk(i,a),o=n.targetId;r=new a4(o,s)}}return r}function Nk(t,e){let r;if(e instanceof Jo)r={update:Fy(t,e.key,e.value)};else if(e instanceof n4)r={delete:Of(t,e.key)};else if(e instanceof Oi)r={update:Fy(t,e.key,e.data),updateMask:Rk(e.fieldMask)};else{if(!(e instanceof ck))return ue(16599,{Vt:e.type});r={verify:Of(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Io)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Mc)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ue(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:wk(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ue(27497)}(t,e.precondition)),r}function Ak(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?on(i.updateTime):on(a);return s.isEqual(me.min())&&(s=on(a)),new sk(s,i.transformResults||[])}(r,e))):[]}function Pk(t,e){return{documents:[c4(t,e.path)]}}function Sk(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=c4(t,i);const a=function(u){if(u.length!==0)return h4(fn.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:za(m.field),direction:Ck(m.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=Cf(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function Tk(t){let e=_k(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Se(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const m=d4(f);return m instanceof fn&&Uw(m)?m.getFilters():[m]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(m=>function(w){return new Oc(Ba(w.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(r.orderBy));let o=null;r.limit&&(o=function(f){let m;return m=typeof f=="object"?f.value:f,Bu(m)?null:m}(r.limit));let c=null;r.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new kc(g,m)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new kc(g,m)}(r.endAt)),qC(e,i,s,a,o,"F",c,u)}function Ik(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function d4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ba(r.unaryFilter.field);return yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ba(r.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ba(r.unaryFilter.field);return yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ba(r.unaryFilter.field);return yt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(r){return yt.create(Ba(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return fn.create(r.compositeFilter.filters.map(n=>d4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(r.compositeFilter.op))}(t):ue(30097,{filter:t})}function Ck(t){return vk[t]}function kk(t){return yk[t]}function Ok(t){return bk[t]}function za(t){return{fieldPath:t.canonicalString()}}function Ba(t){return jt.fromServerFormat(t.fieldPath)}function h4(t){return t instanceof yt?function(r){if(r.op==="=="){if(Sy(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NAN"}};if(Py(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Sy(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NOT_NAN"}};if(Py(r.value))return{unaryFilter:{field:za(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(r.field),op:kk(r.op),value:r.value}}}(t):t instanceof fn?function(r){const n=r.getFilters().map(i=>h4(i));return n.length===1?n[0]:{compositeFilter:{op:Ok(r.op),filters:n}}}(t):ue(54877,{filter:t})}function Rk(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function f4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,r,n,i,a=me.min(),s=me.min(),o=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.yt=e}}function Dk(t){const e=Tk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.Cn=new jk}addToCollectionParentIndex(e,r){return this.Cn.add(r),W.resolve()}getCollectionParents(e,r){return W.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return W.resolve()}deleteFieldIndex(e,r){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,r){return W.resolve()}getDocumentsMatchingTarget(e,r){return W.resolve(null)}getIndexType(e,r){return W.resolve(0)}getFieldIndexes(e,r){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,r){return W.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,r){return W.resolve(Ei.min())}updateCollectionGroup(e,r,n){return W.resolve()}updateIndexEntries(e,r){return W.resolve()}}class jk{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new wt(Ye.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new wt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m4=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(m4,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rs(0)}static cr(){return new rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LruGarbageCollector",Vk=1048576;function By([t,e],[r,n]){const i=be(t,r);return i===0?be(e,n):i}class $k{constructor(e){this.Ir=e,this.buffer=new wt(By),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();By(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Fk{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(zy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){gs(r)?te(zy,"Ignoring IndexedDB error during garbage collection: ",r):await ps(r)}await this.Vr(3e5)})}}class Uk{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return W.resolve(zu.ce);const n=new $k(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Uy)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uy):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),Fa()<=ye.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function zk(t,e){return new Uk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.changes=new wa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?W.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&yo(n.mutation,i,pr.empty(),Ve.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,xe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=xe()){const i=Gi();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=so();return a.forEach((o,c)=>{s=s.insert(o,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Gi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,xe()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=jn();const s=vo(),o=function(){return vo()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Oi)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),yo(d.mutation,u,d.mutation.getFieldMask(),Ve.now())):s.set(u.key,pr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),r.forEach((u,d)=>o.set(u,new Hk(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,r){const n=vo();let i=new Qe((s,o)=>s-o),a=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||pr.empty();d=o.applyToLocalView(u,d),n.set(c,d);const f=(i.get(o.batchId)||xe()).add(c);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,f=Yw();d.forEach(m=>{if(!a.has(m)){const g=t4(r.get(m),n.get(m));g!==null&&f.set(m,g),a=a.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):KC(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):W.resolve(Gi());let o=Ao,c=a;return s.next(u=>W.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,xe())).next(d=>({batchId:o,changes:Gw(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new le(r)).next(n=>{let i=so();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=so();return this.indexManager.getCollectionParents(e,a).next(o=>W.forEach(o,c=>{const u=function(f,m){return new Wu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Wt.newInvalidDocument(d)))});let o=so();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&yo(d.mutation,u,pr.empty(),Ve.now()),Ku(r,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return W.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:on(i.createTime)}}(r)),W.resolve()}getNamedQuery(e,r){return W.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Dk(i.bundledQuery),readTime:on(i.readTime)}}(r)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.overlays=new Qe(le.comparator),this.qr=new Map}getOverlay(e,r){return W.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Gi();return W.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),W.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),W.resolve()}getOverlaysForCollection(e,r,n){const i=Gi(),a=r.length+1,s=new le(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return W.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Qe((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Gi(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Gi(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return W.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new dk(r,n));let a=this.qr.get(r);a===void 0&&(a=xe(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Qr=new wt(Tt.$r),this.Ur=new wt(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Tt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Tt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new le(new Ye([])),n=new Tt(r,e),i=new Tt(r,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new le(new Ye([])),n=new Tt(r,e),i=new Tt(r,e+1);let a=xe();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Tt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Tt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return le.comparator(e.key,r.key)||be(e.Yr,r.Yr)}static Kr(e,r){return be(e.Yr,r.Yr)||le.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new wt(Tt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new uk(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Tt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,r){return W.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return W.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?op:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Tt(r,0),i=new Tt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),W.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new wt(be);return r.forEach(i=>{const a=new Tt(i,0),s=new Tt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),W.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;le.isDocumentKey(a)||(a=a.child(""));const s=new Tt(new le(a),0);let o=new wt(be);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Yr)),!0)},s),W.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Se(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return W.forEach(r.mutations,i=>{const a=new Tt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Tt(r,0),i=this.Zr.firstAfterOrEqual(n);return W.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.ri=e,this.docs=function(){return new Qe(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return W.resolve(n?n.document.mutableCopy():Wt.newInvalidDocument(r))}getEntries(e,r){let n=jn();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Wt.newInvalidDocument(i))}),W.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=jn();const s=r.path,o=new le(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||AC(NC(d),n)<=0||(i.has(d.key)||Ku(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return W.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ue(9500)}ii(e,r){return W.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Qk(this)}getSize(e){return W.resolve(this.size)}}class Qk extends Bk{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),W.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.persistence=e,this.si=new wa(r=>up(r),dp),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.oi=0,this._i=new vp,this.targetCount=0,this.ai=rs.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),W.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new rs(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,W.resolve()}updateTargetData(e,r){return this.Pr(r),W.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),W.waitFor(a).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return W.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),W.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),W.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return W.resolve(n)}containsKey(e,r){return W.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,r){this.ui={},this.overlays={},this.ci=new zu(0),this.li=!1,this.li=!0,this.hi=new Gk,this.referenceDelegate=e(this),this.Pi=new Jk(this),this.indexManager=new Lk,this.remoteDocumentCache=function(i){return new Xk(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Mk(r),this.Ii=new qk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Kk,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Yk(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){te("MemoryPersistence","Starting transaction:",e);const i=new Zk(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return W.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class Zk extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new vp,this.Vi=null}static mi(e){return new yp(e)}get fi(){if(this.Vi)return this.Vi;throw ue(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),W.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),W.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),W.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,n=>{const i=le.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,me.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return W.or([()=>W.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Lc{constructor(e,r){this.persistence=e,this.pi=new wa(n=>CC(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=zk(this,r)}static mi(e,r){return new Lc(e,r)}Ei(){}di(e){return W.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return W.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?W.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,r).next(o=>{o||(n++,a.removeEntry(s,me.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=lc(e.data.value)),r}br(e,r,n){return W.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return W.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=xe(),i=xe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bp(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return AS()?8:TC(Gt())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new e8;return this.Ss(e,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,r,s,o.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Fa()<=ye.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ua(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Fa()<=ye.DEBUG&&te("QueryEngine","Query:",Ua(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Fa()<=ye.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ua(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(r))):W.resolve())}ys(e,r){if(ky(r))return W.resolve(null);let n=an(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=If(r,null,"F"),n=an(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=xe(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,o);return this.Cs(r,u,s,c.readTime)?this.ys(e,If(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return ky(r)||i.isEqual(me.min())?W.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?W.resolve(null):(Fa()<=ye.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(r)),this.vs(e,s,r,EC(i,Ao)).next(o=>o))})}Ds(e,r){let n=new wt(qw(e));return r.forEach((i,a)=>{Ku(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Fa()<=ye.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ua(r)),this.ps.getDocumentsMatchingQuery(e,r,Ei.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",r8=3e8;class n8{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Qe(be),this.xs=new wa(a=>up(a),dp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function i8(t,e,r,n){return new n8(t,e,r,n)}async function g4(t,e){const r=pe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let c=xe();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function a8(t,e){const r=pe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const f=u.batch,m=f.keys();let g=W.resolve();return m.forEach(w=>{g=g.next(()=>d.getEntry(c,w)).next(x=>{const v=u.docVersions.get(w);Se(v!==null,48541),x.version.compareTo(v)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(c,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=xe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function v4(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function s8(t,e){const r=pe(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;o.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,f)));let g=m.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Vt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),i=i.insert(f,g),function(x,v,P){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=r8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,g,d)&&o.push(r.Pi.updateTargetData(a,g))});let c=jn(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(o8(a,s,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(me.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(d)}return W.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function o8(t,e,r){let n=xe(),i=xe();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=jn();return r.forEach((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):te(xp,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:s,qs:i}})}function l8(t,e){const r=pe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=op),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function c8(t,e){const r=pe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,W.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new gi(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Mf(t,e,r){const n=pe(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!gs(s))throw s;te(xp,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function Hy(t,e,r){const n=pe(t);let i=me.min(),a=xe();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const f=pe(c),m=f.xs.get(d);return m!==void 0?W.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(n,s,an(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:me.min(),r?a:xe())).next(o=>(u8(n,YC(e),o),{documents:o,Qs:a})))}function u8(t,e,r){let n=t.Os.get(e)||me.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class Wy{constructor(){this.activeTargetIds=tk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d8{constructor(){this.Mo=new Wy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wy,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="ConnectivityMonitor";class Ky{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(qy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(qy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=null;function Df(){return Vl===null?Vl=function(){return 268435456+Math.round(2147483648*Math.random())}():Vl++,"0x"+Vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="RestConnection",f8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Ic?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=Df(),o=this.zo(e,r.toUriEncodedString());te(kh,`Sending RPC '${e}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(o),d=ba(u);return this.Jo(e,o,c,n,d).then(f=>(te(kh,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ja(kh,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=f8[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class g8 extends m8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=Df();return new Promise((o,c)=>{const u=new xw;u.setWithCredentials(!0),u.listenOnce(ww.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oc.NO_ERROR:const f=u.getResponseJson();te(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case oc.TIMEOUT:te(zt,`RPC '${e}' ${s} timed out`),c(new se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const m=u.getStatus();if(te(zt,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const x=function(P){const A=P.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(A)>=0?A:Y.UNKNOWN}(w.status);c(new se(x,w.message))}else c(new se(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new se(Y.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{te(zt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);te(zt,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=Df(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Nw(),o=Ew(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");te(zt,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=s.createWebChannel(d,c);this.I_(f);let m=!1,g=!1;const w=new p8({Yo:v=>{g?te(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(m||(te(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),te(zt,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),x=(v,P,A)=>{v.listen(P,T=>{try{A(T)}catch(L){setTimeout(()=>{throw L},0)}})};return x(f,ao.EventType.OPEN,()=>{g||(te(zt,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),x(f,ao.EventType.CLOSE,()=>{g||(g=!0,te(zt,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(f))}),x(f,ao.EventType.ERROR,v=>{g||(g=!0,Ja(zt,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),w.a_(new se(Y.UNAVAILABLE,"The operation could not be completed")))}),x(f,ao.EventType.MESSAGE,v=>{var P;if(!g){const A=v.data[0];Se(!!A,16349);const T=A,L=(T==null?void 0:T.error)||((P=T[0])==null?void 0:P.error);if(L){te(zt,`RPC '${e}' stream ${i} received error:`,L);const k=L.status;let D=function(E){const C=st[E];if(C!==void 0)return i4(C)}(k),_=L.message;D===void 0&&(D=Y.INTERNAL,_="Unknown error status: "+k+" with message "+L.message),g=!0,w.a_(new se(D,_)),f.close()}else te(zt,`RPC '${e}' stream ${i} received:`,A),w.u_(A)}}),x(o,_w.STAT_EVENT,v=>{v.stat===Ef.PROXY?te(zt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Ef.NOPROXY&&te(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function Oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){return new xk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="PersistentStream";class b4{constructor(e,r,n,i,a,s,o,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y4(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(Ln(r.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new se(Y.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(Gy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(te(Gy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v8 extends b4{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Ek(this.serializer,e),n=function(a){if(!("targetChange"in a))return me.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?me.min():s.readTime?on(s.readTime):me.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Rf(this.serializer),r.addTarget=function(a,s){let o;const c=s.target;if(o=Tf(c)?{documents:Pk(a,c)}:{query:Sk(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=o4(a,s.resumeToken);const u=Cf(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(me.min())>0){o.readTime=Dc(a,s.snapshotVersion.toTimestamp());const u=Cf(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=Ik(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Rf(this.serializer),r.removeTarget=e,this.q_(r)}}class y8 extends b4{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Ak(e.writeResults,e.commitTime),n=on(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Rf(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Nk(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{}class x8 extends b8{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,kf(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(Y.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,kf(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(Y.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class w8{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ln(r),this.aa=!1):te("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class _8{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{_a(this)&&(te(ua,"Restarting streams for network reachability change."),await async function(c){const u=pe(c);u.Ea.add(4),await el(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ju(u)}(this))})}),this.Ra=new w8(n,i)}}async function Ju(t){if(_a(t))for(const e of t.da)await e(!0)}async function el(t){for(const e of t.da)await e(!1)}function x4(t,e){const r=pe(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Np(r)?Ep(r):vs(r).O_()&&_p(r,e))}function wp(t,e){const r=pe(t),n=vs(r);r.Ia.delete(e),n.O_()&&w4(r,e),r.Ia.size===0&&(n.O_()?n.L_():_a(r)&&r.Ra.set("Unknown"))}function _p(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}vs(t).Y_(e)}function w4(t,e){t.Va.Ue(e),vs(t).Z_(e)}function Ep(t){t.Va=new gk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vs(t).start(),t.Ra.ua()}function Np(t){return _a(t)&&!vs(t).x_()&&t.Ia.size>0}function _a(t){return pe(t).Ea.size===0}function _4(t){t.Va=void 0}async function E8(t){t.Ra.set("Online")}async function N8(t){t.Ia.forEach((e,r)=>{_p(t,e)})}async function A8(t,e){_4(t),Np(t)?(t.Ra.ha(e),Ep(t)):t.Ra.set("Unknown")}async function P8(t,e,r){if(t.Ra.set("Online"),e instanceof s4&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){te(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await jc(t,n)}else if(e instanceof dc?t.Va.Ze(e):e instanceof a4?t.Va.st(e):t.Va.tt(e),!r.isEqual(me.min()))try{const n=await v4(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Vt.EMPTY_BYTE_STRING,d.snapshotVersion)),w4(a,c);const f=new gi(d.target,c,u,d.sequenceNumber);_p(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){te(ua,"Failed to raise snapshot:",n),await jc(t,n)}}async function jc(t,e,r){if(!gs(e))throw e;t.Ea.add(1),await el(t),t.Ra.set("Offline"),r||(r=()=>v4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(ua,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Ju(t)})}function E4(t,e){return e().catch(r=>jc(t,r,e))}async function Zu(t){const e=pe(t),r=Si(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:op;for(;S8(e);)try{const i=await l8(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,T8(e,i)}catch(i){await jc(e,i)}N4(e)&&A4(e)}function S8(t){return _a(t)&&t.Ta.length<10}function T8(t,e){t.Ta.push(e);const r=Si(t);r.O_()&&r.X_&&r.ea(e.mutations)}function N4(t){return _a(t)&&!Si(t).x_()&&t.Ta.length>0}function A4(t){Si(t).start()}async function I8(t){Si(t).ra()}async function C8(t){const e=Si(t);for(const r of t.Ta)e.ea(r.mutations)}async function k8(t,e,r){const n=t.Ta.shift(),i=mp.from(n,e,r);await E4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zu(t)}async function O8(t,e){e&&Si(t).X_&&await async function(n,i){if(function(s){return fk(s)&&s!==Y.ABORTED}(i.code)){const a=n.Ta.shift();Si(n).B_(),await E4(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Zu(n)}}(t,e),N4(t)&&A4(t)}async function Yy(t,e){const r=pe(t);r.asyncQueue.verifyOperationInProgress(),te(ua,"RemoteStore received new credentials");const n=_a(r);r.Ea.add(3),await el(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Ju(r)}async function R8(t,e){const r=pe(t);e?(r.Ea.delete(2),await Ju(r)):e||(r.Ea.add(2),await el(r),r.Ra.set("Unknown"))}function vs(t){return t.ma||(t.ma=function(r,n,i){const a=pe(r);return a.sa(),new v8(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:E8.bind(null,t),t_:N8.bind(null,t),r_:A8.bind(null,t),H_:P8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Np(t)?Ep(t):t.Ra.set("Unknown")):(await t.ma.stop(),_4(t))})),t.ma}function Si(t){return t.fa||(t.fa=function(r,n,i){const a=pe(r);return a.sa(),new y8(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:I8.bind(null,t),r_:O8.bind(null,t),ta:C8.bind(null,t),na:k8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Zu(t)):(await t.fa.stop(),t.Ta.length>0&&(te(ua,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new Ap(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),gs(t))return new se(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||le.comparator(r.key,n.key):(r,n)=>le.comparator(r.key,n.key),this.keyedMap=so(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ya;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.ga=new Qe(le.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ue(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class ns{constructor(e,r,n,i,a,s,o,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new ns(e,r,Ya.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class D8{constructor(){this.queries=Qy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=pe(r),a=i.queries;i.queries=Qy(),a.forEach((s,o)=>{for(const c of o.Sa)c.onError(n)})})(this,new se(Y.ABORTED,"Firestore shutting down"))}}function Qy(){return new wa(t=>Ww(t),qu)}async function L8(t,e){const r=pe(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new M8,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=Pp(s,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Sp(r)}async function j8(t,e){const r=pe(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function V8(t,e){const r=pe(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&Sp(r)}function $8(t,e,r){const n=pe(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function Sp(t){t.Ca.forEach(e=>{e.next()})}var Lf,Jy;(Jy=Lf||(Lf={})).Ma="default",Jy.Cache="cache";class F8{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ns(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.key=e}}class S4{constructor(e){this.key=e}}class U8{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=qw(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new Xy,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),g=Ku(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;m&&g?m.data.isEqual(g.data)?w!==x&&(n.track({type:3,doc:g}),v=!0):this.su(m,g)||(n.track({type:2,doc:g}),v=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(o=!0)):!m&&g?(n.track({type:0,doc:g}),v=!0):m&&!g&&(n.track({type:1,doc:m}),v=!0,(c||u)&&(o=!0)),v&&(g?(s=s.add(g),a=x?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,f)=>function(g,w){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Rt:v})}};return x(g)-x(w)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,s.length!==0||u?{snapshot:new ns(this.query,e.tu,a,s,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new S4(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new P4(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=xe();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ns.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tp="SyncEngine";class z8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class B8{constructor(e){this.key=e,this.hu=!1}}class H8{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new wa(o=>Ww(o),qu),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(le.comparator),this.Au=new Map,this.Ru=new vp,this.Vu={},this.mu=new Map,this.fu=rs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W8(t,e,r=!0){const n=R4(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await T4(n,e,r,!0),i}async function q8(t,e){const r=R4(t);await T4(r,e,!0,!1)}async function T4(t,e,r,n){const i=await c8(t.localStore,an(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await K8(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&x4(t.remoteStore,i),o}async function K8(t,e,r,n,i){t.pu=(f,m,g)=>async function(x,v,P,A){let T=v.view.ru(P);T.Cs&&(T=await Hy(x.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,T)));const L=A&&A.targetChanges.get(v.targetId),k=A&&A.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(T,x.isPrimaryClient,L,k);return e1(x,v.targetId,D.au),D.snapshot}(t,f,m,g);const a=await Hy(t.localStore,e,!0),s=new U8(e,a.Qs),o=s.ru(a.documents),c=Zo.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,c);e1(t,r,u.au);const d=new z8(e,r,s);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function G8(t,e,r){const n=pe(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!qu(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Mf(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&wp(n.remoteStore,i.targetId),jf(n,i.targetId)}).catch(ps)):(jf(n,i.targetId),await Mf(n.localStore,i.targetId,!0))}async function Y8(t,e){const r=pe(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),wp(r.remoteStore,n.targetId))}async function X8(t,e,r){const n=nO(t);try{const i=await function(s,o){const c=pe(s),u=Ve.now(),d=o.reduce((g,w)=>g.add(w.key),xe());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=jn(),x=xe();return c.Ns.getEntries(g,d).next(v=>{w=v,w.forEach((P,A)=>{A.isValidDocument()||(x=x.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,w)).next(v=>{f=v;const P=[];for(const A of o){const T=lk(A,f.get(A.key).overlayedDocument);T!=null&&P.push(new Oi(A.key,T,Vw(T.value.mapValue),sn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,P,o)}).next(v=>{m=v;const P=v.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(g,v.batchId,P)})}).then(()=>({batchId:m.batchId,changes:Gw(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let u=s.Vu[s.currentUser.toKey()];u||(u=new Qe(be)),u=u.insert(o,c),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await tl(n,i.changes),await Zu(n.remoteStore)}catch(i){const a=Pp(i,"Failed to persist write");r.reject(a)}}async function I4(t,e){const r=pe(t);try{const n=await s8(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Se(s.hu,14607):i.removedDocuments.size>0&&(Se(s.hu,42227),s.hu=!1))}),await tl(r,n,e)}catch(n){await ps(n)}}function Zy(t,e,r){const n=pe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const c=pe(s);c.onlineState=o;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(o)&&(u=!0)}),u&&Sp(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Q8(t,e,r){const n=pe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new Qe(le.comparator);s=s.insert(a,Wt.newNoDocument(a,me.min()));const o=xe().add(a),c=new Xu(me.min(),new Map,new Qe(be),s,o);await I4(n,c),n.du=n.du.remove(a),n.Au.delete(e),Ip(n)}else await Mf(n.localStore,e,!1).then(()=>jf(n,e,r)).catch(ps)}async function J8(t,e){const r=pe(t),n=e.batch.batchId;try{const i=await a8(r.localStore,e);k4(r,n,null),C4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await tl(r,i)}catch(i){await ps(i)}}async function Z8(t,e,r){const n=pe(t);try{const i=await function(s,o){const c=pe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(f=>(Se(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);k4(n,e,r),C4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await tl(n,i)}catch(i){await ps(i)}}function C4(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function k4(t,e,r){const n=pe(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function jf(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||O4(t,n)})}function O4(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(wp(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Ip(t))}function e1(t,e,r){for(const n of r)n instanceof P4?(t.Ru.addReference(n.key,e),eO(t,n)):n instanceof S4?(te(Tp,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||O4(t,n.key)):ue(19791,{wu:n})}function eO(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(te(Tp,"New document in limbo: "+r),t.Eu.add(n),Ip(t))}function Ip(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new le(Ye.fromString(e)),n=t.fu.next();t.Au.set(n,new B8(r)),t.du=t.du.insert(r,n),x4(t.remoteStore,new gi(an(hp(r.path)),n,"TargetPurposeLimboResolution",zu.ce))}}async function tl(t,e,r){const n=pe(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,c)=>{s.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=bp.As(c.targetId,u);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(c,u){const d=pe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,m=>W.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>W.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!gs(f))throw f;te(xp,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=d.Ms.get(m),w=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(m,x)}}}(n.localStore,a))}async function tO(t,e){const r=pe(t);if(!r.currentUser.isEqual(e)){te(Tp,"User change. New user:",e.toKey());const n=await g4(r.localStore,e);r.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(c=>{c.reject(new se(Y.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await tl(r,n.Ls)}}function rO(t,e){const r=pe(t),n=r.Au.get(e);if(n&&n.hu)return xe().add(n.key);{let i=xe();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function R4(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q8.bind(null,e),e.Pu.H_=V8.bind(null,e.eventManager),e.Pu.yu=$8.bind(null,e.eventManager),e}function nO(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z8.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return i8(this.persistence,new t8,e.initialUser,this.serializer)}Cu(e){return new p4(yp.mi,this.serializer)}Du(e){return new d8}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class iO extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Se(this.persistence.referenceDelegate instanceof Lc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Fk(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new p4(n=>Lc.mi(n,r),this.serializer)}}class Vf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Zy(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=tO.bind(null,this.syncEngine),await R8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D8}()}createDatastore(e){const r=Qu(e.databaseInfo.databaseId),n=function(a){return new g8(a)}(e.databaseInfo);return function(a,s,o,c){return new x8(a,s,o,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new _8(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Zy(this.syncEngine,r,0),function(){return Ky.v()?new Ky:new h8}())}createSyncEngine(e,r){return function(i,a,s,o,c,u,d){const f=new H8(i,a,s,o,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=pe(i);te(ua,"RemoteStore shutting down."),a.Ea.add(5),await el(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class sO{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{te(Ti,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(te(Ti,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Pp(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Rh(t,e){t.asyncQueue.verifyOperationInProgress(),te(Ti,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await g4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function t1(t,e){t.asyncQueue.verifyOperationInProgress();const r=await oO(t);te(Ti,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Yy(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Yy(e.remoteStore,i)),t._onlineComponents=e}async function oO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Ti,"Using user provided OfflineComponentProvider");try{await Rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ja("Error using user provided cache. Falling back to memory cache: "+r),await Rh(t,new Vc)}}else te(Ti,"Using default OfflineComponentProvider"),await Rh(t,new iO(void 0));return t._offlineComponents}async function M4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Ti,"Using user provided OnlineComponentProvider"),await t1(t,t._uninitializedComponentsProvider._online)):(te(Ti,"Using default OnlineComponentProvider"),await t1(t,new Vf))),t._onlineComponents}function lO(t){return M4(t).then(e=>e.syncEngine)}async function cO(t){const e=await M4(t),r=e.eventManager;return r.onListen=W8.bind(null,e.syncEngine),r.onUnlisten=G8.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=q8.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Y8.bind(null,e.syncEngine),r}function uO(t,e,r={}){const n=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new aO({next:m=>{d.Nu(),s.enqueueAndForget(()=>j8(a,f));const g=m.docs.has(o);!g&&m.fromCache?u.reject(new se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new F8(hp(o.path),d,{includeMetadataChanges:!0,qa:!0});return L8(a,f)}(await cO(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="firestore.googleapis.com",n1=!0;class i1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L4,this.ssl=n1}else this.host=e.host,this.ssl=e.ssl??n1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vk)throw new se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D4(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cp{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dC;switch(n.type){case"firstParty":return new pC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=r1.get(r);n&&(te("ComponentProvider","Removing Datastore"),r1.delete(r),n.terminate())}(this),Promise.resolve()}}function dO(t,e,r,n={}){var u;t=ca(t,Cp);const i=ba(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(Bm(`https://${o}`),Hm("Firestore",!0)),a.host!==L4&&a.host!==o&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:o,ssl:i,emulatorOptions:n};if(!na(c,s)&&(t._setSettings(c),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=Ht.MOCK_USER;else{d=kx(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(m)}t._authCredentials=new hC(new Pw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kp(this.firestore,e,this._query)}}class bt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Qo(r,bt._jsonSchema))return new bt(e,n||null,new le(Ye.fromString(r.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:ct("string",bt._jsonSchemaVersion),referencePath:ct("string")};class ko extends kp{constructor(e,r,n){super(e,r,hp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new le(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function Mh(t,e,...r){if(t=ht(t),arguments.length===1&&(e=ap.newId()),wC("doc","path",e),t instanceof Cp){const n=Ye.fromString(e,...r);return yy(n),new bt(t,null,new le(n))}{if(!(t instanceof bt||t instanceof ko))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ye.fromString(e,...r));return yy(n),new bt(t.firestore,t instanceof ko?t.converter:null,new le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="AsyncQueue";class s1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y4(this,"async_queue_retry"),this._c=()=>{const n=Oh();n&&te(a1,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Oh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Oh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new xi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gs(e))throw e;te(a1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Ln("INTERNAL UNHANDLED ERROR: ",o1(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Ap.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ue(47125,{Pc:o1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function o1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ed extends Cp{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new s1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s1(e),this._firestoreClient=void 0,await e}}}function hO(t,e){const r=typeof t=="object"?t:Km(),n=typeof t=="string"?t:e||Ic,i=Vu(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Tx("firestore");a&&dO(i,...a)}return i}function j4(t){if(t._terminated)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fO(t),t._firestoreClient}function fO(t){var n,i,a;const e=t._freezeSettings(),r=function(o,c,u,d){return new RC(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,D4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sO(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pr(Vt.fromBase64String(e))}catch(r){throw new se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pr(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qo(e,Pr._jsonSchema))return Pr.fromBase64String(e.bytes)}}Pr._jsonSchemaVersion="firestore/bytes/1.0",Pr._jsonSchema={type:ct("string",Pr._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ln._jsonSchemaVersion}}static fromJSON(e){if(Qo(e,ln._jsonSchema))return new ln(e.latitude,e.longitude)}}ln._jsonSchemaVersion="firestore/geoPoint/1.0",ln._jsonSchema={type:ct("string",ln._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qo(e,cn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new cn(e.vectorValues);throw new se(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cn._jsonSchemaVersion="firestore/vectorValue/1.0",cn._jsonSchema={type:ct("string",cn._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=/^__.*__$/;class pO{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Jo(e,this.data,r,this.fieldTransforms)}}class V4{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Oi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function $4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ac:t})}}class Rp{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $c(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($4(this.Ac)&&mO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gO{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Qu(e)}Cc(e,r,n,i=!1){return new Rp({Ac:e,methodName:r,Dc:n,path:jt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F4(t){const e=t._freezeSettings(),r=Qu(t._databaseId);return new gO(t._databaseId,!!e.ignoreUndefinedProperties,r)}function vO(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);Mp("Data must be an object, but it was:",s,n);const o=U4(n,s);let c,u;if(a.merge)c=new pr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const m=$f(e,f,r);if(!s.contains(m))throw new se(Y.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);B4(d,m)||d.push(m)}c=new pr(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new pO(new ar(o),c,u)}class rd extends Op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}function yO(t,e,r,n){const i=t.Cc(1,e,r);Mp("Data must be an object, but it was:",i,n);const a=[],s=ar.empty();ki(n,(c,u)=>{const d=Dp(e,c,r);u=ht(u);const f=i.yc(d);if(u instanceof rd)a.push(d);else{const m=nd(u,f);m!=null&&(a.push(d),s.set(d,m))}});const o=new pr(a);return new V4(s,o,i.fieldTransforms)}function bO(t,e,r,n,i,a){const s=t.Cc(1,e,r),o=[$f(e,n,r)],c=[i];if(a.length%2!=0)throw new se(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)o.push($f(e,a[m])),c.push(a[m+1]);const u=[],d=ar.empty();for(let m=o.length-1;m>=0;--m)if(!B4(u,o[m])){const g=o[m];let w=c[m];w=ht(w);const x=s.yc(g);if(w instanceof rd)u.push(g);else{const v=nd(w,x);v!=null&&(u.push(g),d.set(g,v))}}const f=new pr(u);return new V4(d,f,s.fieldTransforms)}function nd(t,e){if(z4(t=ht(t)))return Mp("Unsupported field value:",e,t),U4(t,e);if(t instanceof Op)return function(n,i){if(!$4(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let c=nd(o,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return rk(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ve.fromDate(n);return{timestampValue:Dc(i.serializer,a)}}if(n instanceof Ve){const a=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Dc(i.serializer,a)}}if(n instanceof ln)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pr)return{bytesValue:o4(i.serializer,n._byteString)};if(n instanceof bt){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gp(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof cn)return function(s,o){return{mapValue:{fields:{[Dw]:{stringValue:jw},[Cc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return fp(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${sp(n)}`)}(t,e)}function U4(t,e){const r={};return Iw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(n,i)=>{const a=nd(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function z4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof ln||t instanceof Pr||t instanceof bt||t instanceof Op||t instanceof cn)}function Mp(t,e,r){if(!z4(r)||!Sw(r)){const n=sp(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function $f(t,e,r){if((e=ht(e))instanceof td)return e._internalPath;if(typeof e=="string")return Dp(t,e);throw $c("Field path arguments must be of type string or ",t,!1,void 0,r)}const xO=new RegExp("[~\\*/\\[\\]]");function Dp(t,e,r){if(e.search(xO)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new td(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $c(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new se(Y.INVALID_ARGUMENT,o+t+c)}function B4(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(W4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class wO extends H4{data(){return super.data()}}function W4(t,e){return typeof e=="string"?Dp(t,e):e instanceof td?e._internalPath:e._delegate._internalPath}class _O{convertValue(e,r="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ki(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Cc].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>nt(s.doubleValue));return new cn(r)}convertGeoPoint(e){return new ln(nt(e.latitude),nt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Hu(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const r=Ni(e);return new Ve(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ye.fromString(e);Se(f4(n),9688,{name:e});const i=new So(n.get(1),n.get(3)),a=new le(n.popFirst(5));return i.isEqual(r)||Ln(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class lo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ji extends H4{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(W4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ji._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ji._jsonSchema={type:ct("string",Ji._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class hc extends Ji{data(e={}){return super.data(e)}}class bo{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new lo(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new hc(this._firestore,this._userDataWriter,n.key,n,new lo(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const c=new hc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const c=new hc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:NO(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function NO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){t=ca(t,bt);const e=ca(t.firestore,ed);return uO(j4(e),t._key).then(r=>IO(e,t,r))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:ct("string",bo._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class PO extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,r)}}function SO(t,e,r){t=ca(t,bt);const n=ca(t.firestore,ed),i=EO(t.converter,e,r);return q4(n,[vO(F4(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,sn.none())])}function TO(t,e,r,...n){t=ca(t,bt);const i=ca(t.firestore,ed),a=F4(i);let s;return s=typeof(e=ht(e))=="string"||e instanceof td?bO(a,"updateDoc",t._key,e,r,n):yO(a,"updateDoc",t._key,e),q4(i,[s.toMutation(t._key,sn.exists(!0))])}function q4(t,e){return function(n,i){const a=new xi;return n.asyncQueue.enqueueAndForget(async()=>X8(await lO(n),i,a)),a.promise}(j4(t),e)}function IO(t,e,r){const n=r.docs.get(e._key),i=new PO(t);return new Ji(t,i,e._key,n,new lo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){ms=i})(xa),ia(new _i("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new ed(new fC(n.getProvider("auth-internal")),new gC(s,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),rn(my,py,e),rn(my,py,"esm2020")})();var CO="firebase",kO="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn(CO,kO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="firebasestorage.googleapis.com",OO="storageBucket",RO=2*60*1e3,MO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends yn{constructor(e,r,n=0){super(Dh(e),`Firebase Storage: ${r} (${Dh(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mn||(mn={}));function Dh(t){return"storage/"+t}function DO(){const t="An unknown error occurred, please check the error payload for server response.";return new bn(mn.UNKNOWN,t)}function LO(){return new bn(mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jO(){return new bn(mn.CANCELED,"User canceled the upload/download.")}function VO(t){return new bn(mn.INVALID_URL,"Invalid URL '"+t+"'.")}function $O(t){return new bn(mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function l1(t){return new bn(mn.INVALID_ARGUMENT,t)}function G4(){return new bn(mn.APP_DELETED,"The Firebase app was deleted.")}function FO(t){return new bn(mn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Vr.makeFromUrl(e,r)}catch{return new Vr(e,"")}if(n.path==="")return n;throw $O(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${m}`,"i"),w={bucket:1,path:3},x=r===K4?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",P=new RegExp(`^https?://${x}/${i}/${v}`,"i"),T=[{regex:o,indices:c,postModify:a},{regex:g,indices:w,postModify:u},{regex:P,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<T.length;L++){const k=T[L],D=k.regex.exec(e);if(D){const _=D[k.indices.bucket];let S=D[k.indices.path];S||(S=""),n=new Vr(_,S),k.postModify(n);break}}if(n==null)throw VO(e);return n}}class UO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t,e,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(g,c())},v)}function m(){a&&clearTimeout(a)}function g(v,...P){if(u){m();return}if(v){m(),d.call(null,v,...P);return}if(c()||s){m(),d.call(null,v,...P);return}n<64&&(n*=2);let T;o===1?(o=2,T=0):T=(n+Math.random())*1e3,f(T)}let w=!1;function x(v){w||(w=!0,m(),!u&&(i!==null?(v||(o=2),clearTimeout(i),f(0)):v||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,x(!0)},r),x}function BO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){return t!==void 0}function c1(t,e,r,n){if(n<e)throw l1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw l1(`Invalid value for '${t}'. Expected ${r} or less.`)}function WO(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Fc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fc||(Fc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,r,n,i,a,s,o,c,u,d,f,m=!0,g=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,x)=>{this.resolve_=w,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new $l(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Fc.NO_ERROR,c=a.getStatus();if(!o||qO(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Fc.ABORT;n(!1,new $l(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new $l(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());HO(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=DO();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?G4():jO();s(c)}else{const c=LO();s(c)}};this.canceled_?r(!1,new $l(!1,null,!0)):this.backoffId_=zO(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $l{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function GO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JO(t,e,r,n,i,a,s=!0,o=!1){const c=WO(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return XO(d,e),GO(d,r),YO(d,a),QO(d,n),new KO(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,r){this._service=e,r instanceof Vr?this._location=r:this._location=Vr.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Uc(e,r)}get root(){const e=new Vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eR(this._location.path)}get storage(){return this._service}get parent(){const e=ZO(this._location.path);if(e===null)return null;const r=new Vr(this._location.bucket,e);return new Uc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw FO(e)}}function u1(t,e){const r=e==null?void 0:e[OO];return r==null?null:Vr.makeFromBucketSpec(r,t)}function tR(t,e,r,n={}){t.host=`${e}:${r}`;const i=ba(e);i&&(Bm(`https://${t.host}/b`),Hm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:kx(a,t.app.options.projectId))}class rR{constructor(e,r,n,i,a,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=K4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RO,this._maxUploadRetryTime=MO,this._requests=new Set,i!=null?this._bucket=Vr.makeFromBucketSpec(i,this._host):this._bucket=u1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vr.makeFromBucketSpec(this._url,e):this._bucket=u1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){c1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){c1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uc(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new UO(G4());{const s=JO(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const d1="@firebase/storage",h1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="storage";function nR(t=Km(),e){t=ht(t);const n=Vu(t,Y4).getImmediate({identifier:e}),i=Tx("storage");return i&&iR(n,...i),n}function iR(t,e,r,n={}){tR(t,e,r,n)}function aR(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rR(r,n,i,e,xa)}function sR(){ia(new _i(Y4,aR,"PUBLIC").setMultipleInstances(!0)),rn(d1,h1,""),rn(d1,h1,"esm2020")}sR();const oR={apiKey:"AIzaSyCzV_dpqYNcTGyrhiiCy3ptkGpY9lspiJU",authDomain:"octopusrealestate-e6ce4.firebaseapp.com",projectId:"octopusrealestate-e6ce4",storageBucket:"octopusrealestate-e6ce4.firebasestorage.app",messagingSenderId:"702799852036",appId:"1:702799852036:web:63b081b81100ee03dcbb51"},Lp=Mx(oR),er=yw(Lp),Lh=hO(Lp);nR(Lp);class lR{constructor(){this.googleProvider=new Nn,this.facebookProvider=new En,this.googleProvider.setCustomParameters({prompt:"select_account"})}async registerWithEmail(e){try{const{email:r,password:n,firstName:i,lastName:a,phone:s}=e,c=(await WI(er,r,n)).user;return await KI(c),await this.createUserProfile(c.uid,{email:r,firstName:i,lastName:a,phone:s,role:"user",emailVerified:!1,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()}),await ry(c,{displayName:`${i} ${a}`}),{success:!0,user:{uid:c.uid,email:c.email,displayName:`${i} ${a}`,emailVerified:c.emailVerified,role:"user"},needsVerification:!0}}catch(r){return this.handleAuthError(r)}}async loginWithEmail(e,r){try{const i=(await qI(er,e,r)).user;return await this.updateUserProfile(i.uid,{lastLoginAt:new Date().toISOString()}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async signInWithGoogle(){var e,r;try{const i=(await ay(er,this.googleProvider)).user;return await this.getUserProfile(i.uid)?await this.updateUserProfile(i.uid,{lastLoginAt:new Date().toISOString()}):await this.createUserProfile(i.uid,{email:i.email,firstName:((e=i.displayName)==null?void 0:e.split(" ")[0])||"",lastName:((r=i.displayName)==null?void 0:r.split(" ")[1])||"",role:"user",emailVerified:i.emailVerified,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),photoURL:i.photoURL}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async signInWithFacebook(){var e,r;try{const i=(await ay(er,this.facebookProvider)).user;return await this.getUserProfile(i.uid)||await this.createUserProfile(i.uid,{email:i.email,firstName:((e=i.displayName)==null?void 0:e.split(" ")[0])||"",lastName:((r=i.displayName)==null?void 0:r.split(" ")[1])||"",role:"user",emailVerified:i.emailVerified,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),photoURL:i.photoURL}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async logout(){try{return await e5(er),{success:!0}}catch(e){return this.handleAuthError(e)}}async resetPassword(e){try{return await HI(er,e),{success:!0}}catch(r){return this.handleAuthError(r)}}async updatePassword(e){try{const r=er.currentUser;if(!r)throw new Error("No authenticated user");return await YI(r,e),{success:!0}}catch(r){return this.handleAuthError(r)}}async updateUserProfile(e){try{const r=er.currentUser;if(!r)throw new Error("No authenticated user");return(e.displayName||e.photoURL)&&await ry(r,{displayName:e.displayName,photoURL:e.photoURL}),await this.updateUserProfile(r.uid,e),{success:!0,user:await this.getUserProfile(r.uid)}}catch(r){return this.handleAuthError(r)}}onAuthStateChange(e){return ZI(er,async r=>{if(r){const n=await this.getUserProfile(r.uid);e({user:n,isAuthenticated:!0})}else e({user:null,isAuthenticated:!1})})}getCurrentUser(){return er.currentUser}isAuthenticated(){return!!er.currentUser}async hasRole(e){const r=er.currentUser;if(!r)return!1;const n=await this.getUserProfile(r.uid);return(n==null?void 0:n.role)===e}async isAdmin(){return this.hasRole("admin")}async createUserProfile(e,r){try{await SO(Mh(Lh,"users",e),r)}catch(n){throw console.error("Error creating user profile:",n),n}}async getUserProfile(e){try{const r=Mh(Lh,"users",e),n=await AO(r);return n.exists()?{uid:e,...n.data()}:null}catch(r){return console.error("Error getting user profile:",r),null}}async updateUserProfile(e,r){try{await TO(Mh(Lh,"users",e),r)}catch(n){throw console.error("Error updating user profile:",n),n}}handleAuthError(e){return console.error("Auth error:",e),{success:!1,error:{"auth/invalid-email":"Invalid email address","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password should be at least 6 characters","auth/network-request-failed":"Network error. Please check your connection","auth/too-many-requests":"Too many attempts. Please try again later"}[e.code]||e.message}}}const ur=new lR,Fi={HOUSE:"house",APARTMENT:"apartment",CONDO:"condo",VILLA:"villa",COMMERCIAL:"commercial",LAND:"land",OTHER:"other"},Ks={FOR_SALE:"forSale",FOR_RENT:"forRent",SOLD:"sold",RENTED:"rented",PENDING:"pending"},f1={DEFAULT:"USD",SYMBOL:"$",LOCALE:"en-US"},Fl={NETWORK_ERROR:"Network error. Please check your connection and try again.",SERVER_ERROR:"Server error. Please try again later.",UNAUTHORIZED:"Please log in to continue.",FORBIDDEN:"You do not have permission to perform this action.",NOT_FOUND:"The requested resource was not found.",VALIDATION_ERROR:"Please check your input and try again.",UPLOAD_ERROR:"Failed to upload file. Please try again.",DEFAULT:"An unexpected error occurred. Please try again."},jh={PROPERTY_CREATED:"Property listed successfully!",PROPERTY_UPDATED:"Property updated successfully!",PROPERTY_DELETED:"Property deleted successfully!",CONTACT_SENT:"Your message has been sent successfully!",APPOINTMENT_SCHEDULED:"Appointment scheduled successfully!",NEWSLETTER_SUBSCRIBED:"Successfully subscribed to newsletter!",PROFILE_UPDATED:"Profile updated successfully!",PASSWORD_CHANGED:"Password changed successfully!"},Ar={get:(t,e=null)=>{try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error("Error reading from localStorage:",r),e}},set:(t,e)=>{try{return localStorage.setItem(t,JSON.stringify(e)),!0}catch(r){return console.error("Error writing to localStorage:",r),!1}},remove:t=>{try{return localStorage.removeItem(t),!0}catch(e){return console.error("Error removing from localStorage:",e),!1}},clear:()=>{try{return localStorage.clear(),!0}catch(t){return console.error("Error clearing localStorage:",t),!1}}},cR=t=>typeof t=="string"?t:t!=null&&t.message?t.message:t!=null&&t.code?{"auth/invalid-email":"Please enter a valid email address","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password should be at least 6 characters","auth/network-request-failed":"Network error. Please check your connection","auth/too-many-requests":"Too many attempts. Please try again later","auth/requires-recent-login":"Please log in again to perform this action","auth/provider-already-linked":"This account is already linked with another provider","auth/invalid-credential":"Invalid login credentials","auth/account-exists-with-different-credential":"An account already exists with the same email"}[t.code]||t.message:"An unexpected error occurred",wn=(t,e="An unexpected error occurred")=>{var n,i;console.error("Application error:",t);const r=cR(t);return r!=="An unexpected error occurred"?r:(i=(n=t==null?void 0:t.response)==null?void 0:n.data)!=null&&i.message?t.response.data.message:t!=null&&t.message?t.message:e},nr={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",SET_USER:"SET_USER",CLEAR_USER:"CLEAR_USER",SET_INITIALIZED:"SET_INITIALIZED",UPDATE_PROFILE:"UPDATE_PROFILE"},uR={user:null,isAuthenticated:!1,isAdmin:!1,loading:!1,error:null,initialized:!1},ui=t=>{if(!t)return!1;const e=["admin@estatepro.com","admin@example.com","zephdmc@gmail.com"].map(i=>i.toLowerCase()),r=[/@estatepro\.com$/,/^admin\./,/\.admin@/],n=t.toLowerCase();return e.includes(n)||r.some(i=>i.test(n))},dR=(t,e)=>{switch(e.type){case nr.SET_LOADING:return{...t,loading:e.payload};case nr.SET_ERROR:return{...t,error:e.payload,loading:!1};case nr.CLEAR_ERROR:return{...t,error:null};case nr.SET_USER:const r=e.payload,n=r?ui(r.email):!1;return console.log(" Auth Reducer - User logged in:",r==null?void 0:r.email),console.log(" Auth Reducer - Is admin?:",n),{...t,user:r,isAuthenticated:!!r,isAdmin:n,loading:!1,error:null};case nr.CLEAR_USER:return{...t,user:null,isAuthenticated:!1,isAdmin:!1,loading:!1,error:null};case nr.SET_INITIALIZED:return{...t,initialized:e.payload};case nr.UPDATE_PROFILE:const i={...t.user,...e.payload};return{...t,user:i,isAdmin:ui(i.email)};default:return t}},X4=y.createContext(),hR=({children:t})=>{var d,f,m,g,w,x,v,P;const[e,r]=y.useReducer(dR,uR),n={setLoading:A=>r({type:nr.SET_LOADING,payload:A}),setError:A=>r({type:nr.SET_ERROR,payload:wn(A)}),clearError:()=>r({type:nr.CLEAR_ERROR}),setUser:A=>r({type:nr.SET_USER,payload:A}),clearUser:()=>r({type:nr.CLEAR_USER}),setInitialized:A=>r({type:nr.SET_INITIALIZED,payload:A}),updateProfile:A=>r({type:nr.UPDATE_PROFILE,payload:A}),checkAdminStatus:()=>{var A;return ui((A=e.user)==null?void 0:A.email)}},i={loginWithEmail:async(A,T)=>{try{n.setLoading(!0),n.clearError();const L=await ur.loginWithEmail(A,T);return L.success?(n.setUser(L.user),{success:!0,user:L.user,isAdmin:ui(L.user.email)}):(n.setError(L.error),{success:!1,error:L.error})}catch(L){return n.setError(L),{success:!1,error:wn(L)}}finally{n.setLoading(!1)}},registerWithEmail:async A=>{try{n.setLoading(!0),n.clearError();const T=await ur.registerWithEmail(A);return T.success?(n.setUser(T.user),{success:!0,user:T.user,needsVerification:T.needsVerification,isAdmin:ui(T.user.email)}):(n.setError(T.error),{success:!1,error:T.error})}catch(T){return n.setError(T),{success:!1,error:wn(T)}}finally{n.setLoading(!1)}},signInWithGoogle:async()=>{try{n.setLoading(!0),n.clearError();const A=await ur.signInWithGoogle();return A.success?(n.setUser(A.user),{success:!0,user:A.user,isAdmin:ui(A.user.email)}):(n.setError(A.error),{success:!1,error:A.error})}catch(A){return n.setError(A),{success:!1,error:wn(A)}}finally{n.setLoading(!1)}},signInWithFacebook:async()=>{try{n.setLoading(!0),n.clearError();const A=await ur.signInWithFacebook();return A.success?(n.setUser(A.user),{success:!0,user:A.user,isAdmin:ui(A.user.email)}):(n.setError(A.error),{success:!1,error:A.error})}catch(A){return n.setError(A),{success:!1,error:wn(A)}}finally{n.setLoading(!1)}},logout:async()=>{try{return n.setLoading(!0),await ur.logout(),n.clearUser(),{success:!0}}catch(A){return console.error("Logout error:",A),n.clearUser(),{success:!0}}finally{n.setLoading(!1)}},updateUserProfile:async A=>{try{n.setLoading(!0),n.clearError();const T=await ur.updateUserProfile(A);return T.success?(n.updateProfile(A),{success:!0,user:T.user,isAdmin:ui(T.user.email)}):(n.setError(T.error),{success:!1,error:T.error})}catch(T){return n.setError(T),{success:!1,error:wn(T)}}finally{n.setLoading(!1)}},changePassword:async A=>{try{n.setLoading(!0),n.clearError();const T=await ur.updatePassword(A);return T.success?{success:!0}:(n.setError(T.error),{success:!1,error:T.error})}catch(T){return n.setError(T),{success:!1,error:wn(T)}}finally{n.setLoading(!1)}},requestPasswordReset:async A=>{try{n.setLoading(!0),n.clearError();const T=await ur.resetPassword(A);return T.success?{success:!0}:(n.setError(T.error),{success:!1,error:T.error})}catch(T){return n.setError(T),{success:!1,error:wn(T)}}finally{n.setLoading(!1)}},resendEmailVerification:async()=>{try{const A=ur.getCurrentUser();return A&&!A.emailVerified?(await ur.sendEmailVerification(A),{success:!0}):{success:!1,error:"User not found or already verified"}}catch(A){return{success:!1,error:wn(A)}}},checkEmailVerified:async()=>{var A;try{await((A=ur.getCurrentUser())==null?void 0:A.reload());const T=ur.getCurrentUser();return T!=null&&T.emailVerified?(n.updateProfile({emailVerified:!0}),!0):!1}catch(T){return console.error("Error checking email verification:",T),!1}}},a=A=>{var T;return((T=e.user)==null?void 0:T.role)===A},s=()=>e.isAdmin||a("admin")||a("super_admin"),o=()=>s()||a("agent")||a("broker"),c=()=>s();y.useEffect(()=>(console.log(" AuthProvider: Setting up Firebase auth listener"),ur.onAuthStateChange(({user:T,isAuthenticated:L})=>{console.log(" Firebase auth state changed:",T?T.email:"No user"),T?n.setUser(T):n.clearUser(),n.setInitialized(!0)})),[]);const u={...e,...n,...i,hasRole:a,isAdmin:s,canManageProperties:o,canManageUsers:c,userId:(d=e.user)==null?void 0:d.uid,userEmail:(f=e.user)==null?void 0:f.email,userName:((m=e.user)==null?void 0:m.displayName)||((w=(g=e.user)==null?void 0:g.email)==null?void 0:w.split("@")[0])||"User",userAvatar:(x=e.user)==null?void 0:x.photoURL,userRole:(v=e.user)==null?void 0:v.role,isEmailVerified:(P=e.user)==null?void 0:P.emailVerified,currentUser:e.user,getIdToken:async()=>e.user?e.user.getIdToken():null};return console.log(" AuthProvider rendered:",{user:e.user?e.user.email:"No user",isAuthenticated:e.isAuthenticated,isAdmin:e.isAdmin,initialized:e.initialized}),l(X4.Provider,{value:u,children:t})},ys=()=>{const t=y.useContext(X4);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Tr=({children:t,showHeader:e=!0,showFooter:r=!0,containerWidth:n="default",className:i=""})=>{const{user:a,loginWithEmail:s,signInWithGoogle:o,logout:c,isAuthenticated:u}=ys(),[d,f]=y.useState(!1),[m,g]=y.useState(!1),[w,x]=y.useState({email:"",password:""}),v={default:"max-w-7xl",wide:"max-w-full",narrow:"max-w-4xl",tight:"max-w-2xl"},P=_=>{console.log("Search performed:",_)},A=()=>{g(!0)},T=async _=>{_.preventDefault();try{const S=await s(w.email,w.password);S.success?(console.log("Login successful:",S.user),g(!1),x({email:"",password:""})):(console.error("Login failed:",S.error),alert(`Login failed: ${S.error.message||S.error}`))}catch(S){console.error("Login error:",S),alert("Login error occurred")}},L=async()=>{try{const _=await o();_.success?(console.log("Google login successful:",_.user),g(!1)):(console.error("Google login failed:",_.error),alert(`Google login failed: ${_.error.message||_.error}`))}catch(_){console.error("Google login error:",_),alert("Google login error occurred")}},k=async()=>{try{await c(),console.log("Logout successful")}catch(_){console.error("Logout error:",_)}},D=()=>{f(!d)};return p("div",{className:`min-h-screen flex flex-col bg-gray-50 ${i}`,children:[e&&l(sS,{onSearch:P,user:a,onLogin:A,onLogout:k,onMenuToggle:D}),m&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p("div",{className:"bg-white rounded-lg p-6 w-96",children:[l("h2",{className:"text-xl font-bold mb-4",children:"Login to EstatePro"}),p("form",{onSubmit:T,className:"space-y-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l("input",{type:"email",value:w.email,onChange:_=>x(S=>({...S,email:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l("input",{type:"password",value:w.password,onChange:_=>x(S=>({...S,password:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0})]}),l("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition duration-200",children:"Login"})]}),p("div",{className:"my-4 flex items-center",children:[l("div",{className:"flex-1 border-t border-gray-300"}),l("span",{className:"px-3 text-gray-500 text-sm",children:"OR"}),l("div",{className:"flex-1 border-t border-gray-300"})]}),p("button",{onClick:L,className:"w-full flex items-center justify-center gap-2 border border-gray-300 py-2 rounded-md hover:bg-gray-50 transition duration-200",children:[p("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),l("button",{onClick:()=>g(!1),className:"w-full mt-4 text-gray-500 hover:text-gray-700",children:"Cancel"})]})}),l("main",{className:"flex-1",children:l("div",{className:`mx-auto px-4 sm:px-6 lg:px-8 ${v[n]}`,children:t})}),r&&l(oS,{})]})},rl=({children:t,maxWidth:e="default",padding:r="default",background:n="default",className:i="",...a})=>{const s={default:"max-w-7xl",wide:"max-w-full",narrow:"max-w-4xl",tight:"max-w-2xl",full:"max-w-none"},o={none:"px-0 py-0",tight:"px-4 py-4 sm:px-6",default:"px-4 py-8 sm:px-6 lg:px-8",relaxed:"px-4 py-12 sm:px-6 lg:px-8",loose:"px-4 py-16 sm:px-6 lg:px-8",section:"px-4 py-20 sm:px-6 lg:px-8"},c={default:"bg-white",gray:"bg-gray-50",slate:"bg-slate-50",blue:"bg-blue-50",gradient:"bg-gradient-to-br from-blue-50 to-indigo-100",transparent:"bg-transparent"},u=`
    mx-auto
    ${s[e]}
    ${o[r]}
    ${c[n]}
    ${i}
  `.trim().replace(/\s+/g," ");return l("div",{className:u,...a,children:t})},un=t=>l(rl,{maxWidth:"wide",...t}),xo=t=>l(rl,{maxWidth:"narrow",...t}),fR=t=>l(rl,{maxWidth:"narrow",padding:"section",background:"transparent",className:"text-center",...t}),Q4=({cols:t=1,gap:e=8,children:r,...n})=>{const i={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},a={4:"gap-4",6:"gap-6",8:"gap-8",12:"gap-12"};return l(rl,{...n,children:l("div",{className:`grid ${i[t]} ${a[e]}`,children:r})})},J4=({reverse:t=!1,gap:e=16,leftContent:r,rightContent:n,leftWidth:i="1/2",rightWidth:a="1/2",verticalAlign:s="center",...o})=>{const c={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},u={"1/3":"lg:w-1/3","2/5":"lg:w-2/5","1/2":"lg:w-1/2","3/5":"lg:w-3/5","2/3":"lg:w-2/3"};return l(rl,{...o,children:p("div",{className:`flex flex-col ${t?"lg:flex-row-reverse":"lg:flex-row"} gap-${e} ${c[s]}`,children:[l("div",{className:`w-full ${u[i]}`,children:r}),l("div",{className:`w-full ${u[a]}`,children:n})]})})},id=(t={})=>{const{initialValues:e={},validate:r,onSubmit:n,validateOnChange:i=!0,validateOnBlur:a=!0}=t,[s,o]=y.useState(e),[c,u]=y.useState({}),[d,f]=y.useState({}),[m,g]=y.useState(!1),[w,x]=y.useState(!1),v=y.useCallback((H=s)=>{if(!r)return u({}),x(!0),!0;const Z=r(H);u(Z||{});const ce=Object.keys(Z||{}).length===0;return x(ce),ce},[r,s]),P=y.useCallback(H=>{const{name:Z,value:ce,type:Ne,checked:Te,files:He}=H.target;let Ze;if(Ne==="checkbox"?Ze=Te:Ne==="file"?Ze=He?Array.from(He):[]:Ne==="number"||Ne==="range"?Ze=ce===""?"":Number(ce):Ze=ce,Z.includes(".")){const[tt,$e]=Z.split(".");o(Jt=>({...Jt,[tt]:{...Jt[tt],[$e]:Ze}}))}else o(tt=>({...tt,[Z]:Ze}));if(i){const tt={...s,[Z]:Ze};v(tt)}},[i,v,s]),A=y.useCallback(H=>{const{name:Z}=H.target;f(ce=>({...ce,[Z]:!0})),a&&v()},[a,v]),T=y.useCallback((H,Z)=>{if(o(ce=>({...ce,[H]:Z})),i){const ce={...s,[H]:Z};v(ce)}},[i,v,s]),L=y.useCallback(H=>{if(o(Z=>({...Z,...H})),i){const Z={...s,...H};v(Z)}},[i,v,s]),k=y.useCallback((H,Z)=>{u(ce=>({...ce,[H]:Z}))},[]),D=y.useCallback(H=>{u(Z=>({...Z,...H}))},[]),_=y.useCallback(H=>{u(Z=>{const ce={...Z};return delete ce[H],ce})},[]),S=y.useCallback(()=>{u({})},[]),E=y.useCallback((H,Z=!0)=>{f(ce=>({...ce,[H]:Z}))},[]),C=y.useCallback(H=>{f(Z=>({...Z,...H}))},[]),I=y.useCallback((H=null)=>{const Z=H||e;o(Z),u({}),f({}),g(!1),v(Z)},[e,v]),M=y.useCallback(async H=>{H&&(H.preventDefault(),H.persist());const Z=Object.keys(s).reduce((Ne,Te)=>(Ne[Te]=!0,Ne),{});if(f(Z),!v()){const Ne=Object.keys(c)[0];if(Ne){const Te=document.querySelector(`[name="${Ne}"]`);Te&&Te.focus()}return}if(n){g(!0);try{await n(s)}catch(Ne){console.error("Form submission error:",Ne),Ne.errors&&u(Ne.errors)}finally{g(!1)}}},[s,c,n,v]),O=y.useCallback(H=>({name:H,value:s[H]||"",onChange:P,onBlur:A,error:c[H],touched:d[H]}),[s,c,d,P,A]),z=y.useCallback(H=>!!(c[H]&&d[H]),[c,d]),B=y.useCallback(()=>Object.keys(c).length>0,[c]),Q=y.useCallback(()=>Object.keys(d).length>0,[d]),ne=y.useCallback(()=>JSON.stringify(s)===JSON.stringify(e),[s,e]),he=y.useCallback(()=>!ne(),[ne]);return{values:s,errors:c,touched:d,isSubmitting:m,isValid:w,handleChange:P,handleBlur:A,handleSubmit:M,setValue:T,setValues:L,setError:k,setErrors:D,clearError:_,clearErrors:S,setTouched:E,setTouchedMultiple:C,resetForm:I,getFieldProps:O,hasError:z,hasErrors:B,isTouched:Q,isPristine:ne,isDirty:he,canSubmit:w&&!m&&Q(),isModified:he()}},Z4=({size:t="medium",variant:e="default",className:r="",onSubmit:n})=>{const[i,a]=y.useState(!1),[s,o]=y.useState(null),{values:c,errors:u,handleChange:d,handleSubmit:f,resetForm:m}=id({initialValues:{email:"",firstName:"",preferences:{newListings:!0,priceUpdates:!0,marketNews:!1,buyingTips:!1,sellingTips:!1}},validate:A=>{const T={};return A.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)||(T.email="Please enter a valid email address"):T.email="Email is required",T},onSubmit:async A=>{a(!0),o(null);try{n?await n(A):await g(A),o({type:"success",message:"Thank you for subscribing! Please check your email to confirm your subscription."}),m()}catch{o({type:"error",message:"Sorry, there was an error with your subscription. Please try again."})}finally{a(!1)}}}),g=async A=>new Promise(T=>{setTimeout(()=>{console.log("Newsletter subscription:",A),T()},1e3)}),w={small:"text-sm",medium:"text-base",large:"text-lg"},x={default:"bg-white border border-gray-300",dark:"bg-gray-800 border-gray-700",minimal:"bg-transparent border-0"},v={default:"text-gray-900",dark:"text-white",minimal:"text-gray-900"},P=e==="default"&&t==="large";return e==="minimal"?p("div",{className:`${r}`,children:[p("form",{onSubmit:f,className:"flex flex-col sm:flex-row gap-2",children:[p("div",{className:"flex-1",children:[l("input",{type:"email",name:"email",value:c.email,onChange:d,placeholder:"Enter your email",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${w[t]}`}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),l("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold whitespace-nowrap",children:i?"Subscribing...":"Subscribe"})]}),s&&l("div",{className:`mt-2 p-2 rounded text-sm ${s.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.message})]}):p("div",{className:`rounded-2xl p-6 ${x[e]} ${r}`,children:[p("div",{className:`mb-4 ${v[e]}`,children:[l("h3",{className:`font-bold mb-2 ${t==="large"?"text-2xl":"text-xl"}`,children:"Stay Updated"}),l("p",{className:`opacity-90 ${w[t]}`,children:"Get the latest property listings, market insights, and real estate news delivered to your inbox."})]}),s&&l("div",{className:`p-3 rounded-lg mb-4 ${s.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.message}),p("form",{onSubmit:f,className:"space-y-4",children:[P&&p("div",{children:[l("label",{htmlFor:"firstName",className:`block font-medium mb-2 ${v[e]}`,children:"First Name (Optional)"}),l("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your first name"})]}),p("div",{children:[l("label",{htmlFor:"email",className:`block font-medium mb-2 ${v[e]}`,children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:c.email,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-500":e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your email address"}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),P&&p("div",{children:[l("label",{className:`block font-medium mb-3 ${v[e]}`,children:"Email Preferences"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.preferences).map(([A,T])=>p("label",{className:`flex items-center space-x-3 ${v[e]}`,children:[l("input",{type:"checkbox",name:`preferences.${A}`,checked:T,onChange:L=>d({target:{name:`preferences.${A}`,value:L.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm capitalize",children:A.replace(/([A-Z])/g," $1").trim()})]},A))})]}),l("button",{type:"submit",disabled:i,className:`w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center justify-center space-x-2 ${t==="large"?"text-lg":""}`,children:i?p(vr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Subscribing..."})]}):l("span",{children:"Subscribe to Newsletter"})}),l("p",{className:`text-xs opacity-75 text-center ${v[e]}`,children:"By subscribing, you agree to our Privacy Policy and consent to receive updates from our company."})]}),P&&p("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:`font-semibold mb-3 ${v[e]}`,children:"What You'll Receive"}),p("ul",{className:`space-y-2 text-sm ${v[e]} opacity-90`,children:[p("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"New property listings matching your criteria"})]}),p("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Exclusive price updates and market trends"})]}),p("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Expert real estate advice and tips"})]})]})]})]})},mR=({property:t,className:e=""})=>{var C;const[r,n]=y.useState(!1),[i,a]=y.useState(!1),{id:s,title:o,price:c,type:u,status:d,location:f,bedrooms:m,bathrooms:g,area:w,images:x,primaryImage:v,featured:P,createdAt:A,currency:T="USD"}=t,L=v||((C=x==null?void 0:x[0])==null?void 0:C.url)||"/images/placeholder-property.jpg";console.log(" PropertyCard - Image URL:",L);const k=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:T,maximumFractionDigits:0}).format(I),D=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=I=>({"for-sale":"bg-green-100 text-green-800","for-rent":"bg-blue-100 text-blue-800",sold:"bg-gray-100 text-gray-800",rented:"bg-purple-100 text-purple-800",sale:"bg-green-100 text-green-800",rent:"bg-blue-100 text-blue-800"})[I]||"bg-gray-100 text-gray-800",S=I=>({"for-sale":"For Sale","for-rent":"For Rent",sale:"For Sale",rent:"For Rent",sold:"Sold",rented:"Rented"})[I]||I,E=I=>({house:"bg-orange-100 text-orange-800",apartment:"bg-indigo-100 text-indigo-800",condo:"bg-pink-100 text-pink-800",villa:"bg-red-100 text-red-800",commercial:"bg-teal-100 text-teal-800"})[I]||"bg-gray-100 text-gray-800";return p("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 ${e}`,children:[p("div",{className:"relative overflow-hidden",children:[l(Ue,{to:`/properties/${s}`,children:l("div",{className:"aspect-w-16 aspect-h-12 bg-gray-200",children:i?l("div",{className:"w-full h-64 bg-gray-200 flex items-center justify-center",children:l("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):p(vr,{children:[!r&&l("div",{className:"absolute inset-0 flex items-center justify-center",children:l("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),l("img",{src:L,alt:o,className:`w-full h-64 object-cover transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0),onError:()=>{console.error(" Image failed to load:",L),a(!0)}})]})})}),p("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[P&&l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"}),l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_(d)}`,children:S(d)})]}),l("div",{className:"absolute top-4 right-4",children:l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${E(u)}`,children:(u==null?void 0:u.charAt(0).toUpperCase())+(u==null?void 0:u.slice(1))})}),l("button",{className:"absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-md hover:bg-gray-50 transition-colors duration-200",children:l("svg",{className:"w-5 h-5 text-gray-400 hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),p("div",{className:"p-6",children:[p("div",{className:"mb-3",children:[l("h3",{className:"text-2xl font-bold text-gray-900",children:k(c)}),(d==="for-rent"||d==="rent")&&l("span",{className:"text-gray-600 text-sm",children:"/month"})]}),l(Ue,{to:`/properties/${s}`,children:l("h4",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors duration-200 mb-2 line-clamp-2",children:o})}),p("div",{className:"flex items-center text-gray-600 mb-4",children:[p("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{className:"text-sm",children:(f==null?void 0:f.address)||(f==null?void 0:f.formattedAddress)||"Address not available"})]}),p("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[p("div",{className:"flex items-center space-x-1",children:[l("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),p("span",{className:"text-sm text-gray-600",children:[m||0," Bed"]})]}),p("div",{className:"flex items-center space-x-1",children:[l("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),p("span",{className:"text-sm text-gray-600",children:[g||0," Bath"]})]}),p("div",{className:"flex items-center space-x-1",children:[l("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}),p("span",{className:"text-sm text-gray-600",children:[w||0," sq ft"]})]})]}),p("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[p("span",{className:"text-xs text-gray-500",children:["Listed ",D(A)]}),l(Ue,{to:`/properties/${s}`,className:"text-blue-600 hover:text-blue-700 text-sm font-semibold transition-colors duration-200",children:"View Details "})]})]})]})},nl=({size:t="medium",color:e="blue",text:r="Loading...",fullScreen:n=!1})=>{const i={small:"w-6 h-6",medium:"w-12 h-12",large:"w-16 h-16",xlarge:"w-24 h-24"},a={blue:"text-blue-600",white:"text-white",gray:"text-gray-600"},s=p("div",{className:"flex flex-col items-center justify-center space-y-3",children:[l("div",{className:`animate-spin rounded-full border-4 border-solid border-current border-r-transparent ${i[t]} ${a[e]}`}),r&&l("span",{className:"text-gray-600 text-sm font-medium",children:r})]});return n?l("div",{className:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50",children:s}):s},e_=({currentPage:t,totalPages:e,onPageChange:r,itemsPerPage:n,totalItems:i,onItemsPerPageChange:a,className:s=""})=>{const o=[];let u=Math.max(1,t-Math.floor(2.5)),d=Math.min(e,u+5-1);d-u+1<5&&(u=Math.max(1,d-5+1));for(let m=u;m<=d;m++)o.push(m);const f=[10,25,50,100];return e<=1?null:p("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${s}`,children:[a&&p("div",{className:"flex items-center space-x-2",children:[l("span",{className:"text-sm text-gray-700",children:"Show:"}),l("select",{value:n,onChange:m=>a(Number(m.target.value)),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:f.map(m=>l("option",{value:m,children:m},m))}),p("span",{className:"text-sm text-gray-700",children:["of ",i," items"]})]}),p("div",{className:"flex items-center space-x-1",children:[l("button",{onClick:()=>r(1),disabled:t===1,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),l("button",{onClick:()=>r(t-1),disabled:t===1,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u>1&&p(vr,{children:[l("button",{onClick:()=>r(1),className:"px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition duration-200",children:"1"}),u>2&&l("span",{className:"px-2 text-gray-400",children:"..."})]}),o.map(m=>l("button",{onClick:()=>r(m),className:`px-3 py-2 rounded-lg transition duration-200 ${t===m?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:m},m)),d<e&&p(vr,{children:[d<e-1&&l("span",{className:"px-2 text-gray-400",children:"..."}),l("button",{onClick:()=>r(e),className:"px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition duration-200",children:e})]}),l("button",{onClick:()=>r(t+1),disabled:t===e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),l("button",{onClick:()=>r(e),disabled:t===e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),p("div",{className:"text-sm text-gray-600",children:["Page ",t," of ",e]})]})},t_=({properties:t,loading:e=!1,error:r=null,currentPage:n=1,totalPages:i=1,totalItems:a=0,itemsPerPage:s=12,onPageChange:o,onItemsPerPageChange:c,className:u="",emptyMessage:d="No properties found matching your criteria."})=>e?l("div",{className:"flex justify-center items-center py-12",children:l(nl,{size:"large",text:"Loading properties..."})}):r?l("div",{className:"text-center py-12",children:p("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 max-w-md mx-auto",children:[l("svg",{className:"w-12 h-12 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Properties"}),l("p",{className:"text-red-600",children:r}),l("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Try Again"})]})}):!t||t.length===0?l("div",{className:"text-center py-12",children:p("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 max-w-md mx-auto",children:[l("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Properties Found"}),l("p",{className:"text-gray-600 mb-4",children:d}),l("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"Adjust Filters"})]})}):p("div",{className:u,children:[p("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-2 sm:space-y-0",children:[p("div",{children:[p("h2",{className:"text-2xl font-bold text-gray-900",children:["Properties ",a>0&&`(${a})`]}),l("p",{className:"text-gray-600 mt-1",children:a>0?`Showing ${(n-1)*s+1}-${Math.min(n*s,a)} of ${a} properties`:"No properties found"})]}),p("div",{className:"flex items-center space-x-4",children:[p("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l("option",{children:"Sort by: Newest"}),l("option",{children:"Sort by: Price: Low to High"}),l("option",{children:"Sort by: Price: High to Low"}),l("option",{children:"Sort by: Area"})]}),p("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[l("button",{className:"p-2 bg-white border-r border-gray-300 hover:bg-gray-50",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l("button",{className:"p-2 bg-gray-100 border-l border-gray-300",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:t.map(f=>l(mR,{property:f},f._id||f.id))}),i>1&&l(e_,{currentPage:n,totalPages:i,totalItems:a,itemsPerPage:s,onPageChange:o,onItemsPerPageChange:c})]}),ad=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(null),i=y.useRef(new Map),a=y.useCallback(async()=>{try{const P=er.currentUser;if(!P)return console.warn(" No authenticated Firebase user found"),null;const A=await P.getIdToken();return console.log(" Firebase token obtained"),A}catch(P){return console.error(" Failed to get Firebase token:",P),null}},[]),s=y.useCallback(async(P,A={})=>{const T=new AbortController,L=P+JSON.stringify(A);i.current.set(L,T);try{e(!0),n(null);const k=await a(),D={headers:{"Content-Type":"application/json",...k&&{Authorization:`Bearer ${k}`},...A.headers},signal:T.signal},_=P.startsWith("http")?P:`${{}.VITE_API_URL||"http://localhost:5000/api"}${P}`;console.log(" API Request:",{url:_,method:A.method,hasToken:!!k});const S=await fetch(_,{...D,...A,headers:{...D.headers,...A.headers}});if(i.current.delete(L),S.status===401){console.log(" 401 Unauthorized - token might be expired, refreshing...");const C=er.currentUser;if(C){const I=await C.getIdToken(!0);console.log(" Retrying with refreshed token");const M=await fetch(_,{...D,...A,headers:{...D.headers,Authorization:`Bearer ${I}`,...A.headers}});if(!M.ok){const z=await M.text();throw console.error(" API Error Response after token refresh:",{status:M.status,statusText:M.statusText,data:z}),new Error(`HTTP error! status: ${M.status}`)}const O=await M.json();return console.log(" API Success Response after token refresh:",O),{success:!0,data:O,status:M.status,headers:M.headers}}}if(S.status===429){const C=S.headers.get("Retry-After")||2;console.warn(` Rate limited, retrying after ${C} seconds...`),await new Promise(O=>setTimeout(O,C*1e3));const I=await fetch(_,{...D,...A,headers:{...D.headers,...A.headers}});if(!I.ok){const O=await I.text();throw console.error(" API Error Response after retry:",{status:I.status,statusText:I.statusText,data:O}),new Error(`HTTP error! status: ${I.status}`)}const M=await I.json();return console.log(" API Success Response after retry:",M),{success:!0,data:M,status:I.status,headers:I.headers}}if(!S.ok){let C,I;try{C=await S.text(),console.log(" Raw error response text:",C);try{I=JSON.parse(C),console.log(" Parsed error JSON:",I)}catch{console.log(" JSON parsing failed, using raw text"),I={error:C,raw:C,message:C}}}catch{console.log(" Unable to read error response"),C="Unable to read error response",I={error:C,message:C}}console.error(" API Error Response:",{status:S.status,statusText:S.statusText,data:I,fullError:C});const M=I.error||I.message||`HTTP error! status: ${S.status}`,O=new Error(M);throw O.status=S.status,O.details=I.details||I,O.fullResponse=I,O.rawResponse=C,O}const E=await S.json();return console.log(" API Success Response:",E),{success:!0,data:E,status:S.status,headers:S.headers}}catch(k){if(i.current.delete(L),k.name==="AbortError")return console.log("Request was aborted"),{success:!1,aborted:!0};let D=k.message||"An error occurred";return k.details&&(typeof k.details=="object"?D+=` - Details: ${JSON.stringify(k.details)}`:D+=` - Details: ${k.details}`),console.error(" API Request Failed:",{message:k.message,status:k.status,details:k.details,fullResponse:k.fullResponse,rawResponse:k.rawResponse,fullError:k}),n(D),{success:!1,error:D,status:k.status,details:k.details,fullResponse:k.fullResponse,rawResponse:k.rawResponse}}finally{e(!1)}},[a]),o=y.useCallback(async(P,A={})=>s(P,{method:"GET",...A}),[s]),c=y.useCallback(async(P,A,T={})=>(console.log(" POST data being sent:",A),s(P,{method:"POST",body:JSON.stringify(A),...T})),[s]),u=y.useCallback(async(P,A,T={})=>(console.log(" PUT data being sent:",A),s(P,{method:"PUT",body:JSON.stringify(A),...T})),[s]),d=y.useCallback(async(P,A,T={})=>(console.log(" PATCH data being sent:",A),s(P,{method:"PATCH",body:JSON.stringify(A),...T})),[s]),f=y.useCallback(async(P,A={})=>s(P,{method:"DELETE",...A}),[s]),m=y.useCallback(async(P,A,T={})=>{const L=new FormData;return L.append("file",A),s(P,{method:"POST",body:L,headers:{...T.headers||{}},...T})},[s]),g=y.useCallback(async(P,A,T={})=>{const L=new FormData;return A.forEach(k=>{L.append("files",k)}),s(P,{method:"POST",body:L,headers:{...T.headers||{}},...T})},[s]),w=y.useCallback((P,A={})=>{const T=P+JSON.stringify(A),L=i.current.get(T);L&&(L.abort(),i.current.delete(T))},[]),x=y.useCallback(()=>{i.current.forEach(P=>{P.abort()}),i.current.clear()},[]),v=y.useCallback(()=>{n(null)},[]);return{loading:t,errors:r,request:s,get:o,post:c,put:u,patch:d,delete:f,upload:m,uploadMultiple:g,abortRequest:w,abortAllRequests:x,clearErrors:v,hasErrors:!!r}},r_=(t={})=>{const[e,r]=y.useState([]),[n,i]=y.useState(!0),[a,s]=y.useState(null),[o,c]=y.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:12}),{get:u,post:d,put:f,del:m}=ad(),g=y.useRef(t),w=y.useRef(!0);y.useEffect(()=>{JSON.stringify(t)!==JSON.stringify(g.current)&&(g.current={...t})},[t]);const x=y.useCallback(async(D=null)=>{var _;try{i(!0),s(null);const S=D||g.current,E=new URLSearchParams;E.append("page",S.page||"1"),E.append("limit",S.limit||"12"),Object.entries(S).forEach(([I,M])=>{M!=null&&M!==""&&!["page","limit"].includes(I)&&E.append(I,M.toString())}),console.log(" Fetching properties with filters:",S);const C=await u(`/properties?${E.toString()}`);if(console.log(" Properties API Response:",C),C&&C.success!==!1){let I=[],M={};C.data?Array.isArray(C.data.data)?I=C.data.data:Array.isArray(C.data)&&(I=C.data):C.properties!==void 0?I=Array.isArray(C.properties)?C.properties:[]:Array.isArray(C)&&(I=C),C.pagination?M=C.pagination:(_=C.data)!=null&&_.pagination?M=C.data.pagination:M={page:C.page||C.currentPage||1,pages:C.pages||C.totalPages||1,total:C.total||C.count||I.length,limit:C.limit||C.itemsPerPage||12},console.log(" Processed properties:",I),console.log(" Processed pagination:",M),r(I),c({currentPage:M.page||1,totalPages:M.pages||1,totalItems:M.total||I.length,itemsPerPage:M.limit||12})}else throw new Error((C==null?void 0:C.error)||(C==null?void 0:C.message)||"Failed to fetch properties")}catch(S){console.error(" Error fetching properties:",S),s(S.message||"An error occurred while fetching properties"),r([])}finally{i(!1)}},[u]);y.useEffect(()=>{w.current&&(w.current=!1,x())},[]),y.useEffect(()=>{w.current||JSON.stringify(t)!==JSON.stringify(g.current)&&(g.current={...t},x(t))},[t,x]);const v=y.useCallback(async D=>{try{i(!0),s(null);const _=await u(`/properties/${D}`);if(console.log(" Single Property API Response:",_),_&&_.success!==!1){let S=_;return _.data&&(_.data.data&&(_.data.data.title||_.data.data.price)?S=_.data.data:(_.data.title||_.data.price)&&(S=_.data)),S}else throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to fetch property")}catch(_){return console.error(" Error fetching property:",_),s(_.message||"An error occurred while fetching the property"),null}finally{i(!1)}},[u]),P=y.useCallback(async D=>{try{i(!0),s(null);const _=await d("/properties",D);if(console.log(" Create Property API Response:",_),_&&_.success!==!1){let S=_;return _.data&&(_.data.data&&(_.data.data.title||_.data.data.price)?S=_.data.data:(_.data.title||_.data.price)&&(S=_.data)),r(E=>[S,...E]),S}else throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to create property")}catch(_){throw console.error(" Error creating property:",_),s(_.message||"An error occurred while creating the property"),_}finally{i(!1)}},[d]),A=y.useCallback(async(D,_)=>{try{i(!0),s(null);const S=await f(`/properties/${D}`,_);if(console.log(" Update Property API Response:",S),S&&S.success!==!1){let E=S;return S.data&&(S.data.data&&(S.data.data.title||S.data.data.price)?E=S.data.data:(S.data.title||S.data.price)&&(E=S.data)),r(C=>C.map(I=>I._id===D||I.id===D?E:I)),E}else throw new Error((S==null?void 0:S.error)||(S==null?void 0:S.message)||"Failed to update property")}catch(S){throw console.error(" Error updating property:",S),s(S.message||"An error occurred while updating the property"),S}finally{i(!1)}},[f]),T=y.useCallback(async D=>{try{i(!0),s(null);const _=await m(`/properties/${D}`);if(console.log(" Delete Property API Response:",_),_&&_.success!==!1)return r(S=>S.filter(E=>E._id!==D&&E.id!==D)),!0;throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to delete property")}catch(_){throw console.error(" Error deleting property:",_),s(_.message||"An error occurred while deleting the property"),_}finally{i(!1)}},[m]),L=y.useCallback(async(D=6)=>{try{i(!0),s(null),console.log(" Fetching featured properties...");const _=await u(`/properties/featured?limit=${D}`);if(console.log(" Featured Properties API Response:",_),_&&_.success!==!1){let S=[];return _.data?Array.isArray(_.data.data)?S=_.data.data:Array.isArray(_.data)&&(S=_.data):_.properties!==void 0?S=Array.isArray(_.properties)?_.properties:[]:Array.isArray(_)&&(S=_),console.log(" Featured properties extracted:",S),r(S),S}else throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to fetch featured properties")}catch(_){return console.error(" Error fetching featured properties:",_),s(_.message||"Failed to fetch featured properties"),[]}finally{i(!1)}},[u]),k=y.useCallback(()=>{x()},[x]);return{properties:e,loading:n,error:a,pagination:o,fetchProperties:x,fetchProperty:v,createProperty:P,updateProperty:A,deleteProperty:T,getFeaturedProperties:L,refetch:k,currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,itemsPerPage:o.itemsPerPage,hasProperties:e.length>0,isEmpty:!n&&e.length===0}},pR=t=>{const[e,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(null),{get:o}=ad(),c=y.useCallback(async d=>{var f,m;try{i(!0),s(null);const g=await o(`/properties/${d}`);if(console.log(" Single Property API Response:",g),g&&g.success!==!1){let w=g;console.log(" response.data:",g.data),console.log(" response.data?.data:",(f=g.data)==null?void 0:f.data),(m=g.data)!=null&&m.data&&(g.data.data.title||g.data.data.price)?(w=g.data.data,console.log(" Extracted from response.data.data")):g.data&&(g.data.title||g.data.price)?(w=g.data,console.log(" Extracted from response.data")):(g.title||g.price)&&(w=g,console.log(" Using response directly")),console.log(" Final property data:",w),r(w)}else throw new Error((g==null?void 0:g.error)||(g==null?void 0:g.message)||"Failed to fetch property")}catch(g){console.error(" Error fetching property:",g),s(g.message||"An error occurred while fetching the property")}finally{i(!1)}},[o]);y.useEffect(()=>{t&&c(t)},[t,c]);const u=y.useCallback(()=>{t&&c(t)},[t,c]);return{property:e,loading:n,error:a,refetch:u,exists:!!e&&!n}},gR=({title:t="Featured Properties",subtitle:e="Discover our handpicked selection of premium properties",className:r="",limit:n=20})=>{const{properties:i,loading:a,error:s,currentPage:o,totalPages:c,totalItems:u,refetch:d}=r_({page:1,limit:n,sort:"newest"});y.useEffect(()=>{console.log(" FeaturedProperties Hook State:",{loading:a,error:s,propertiesCount:(i==null?void 0:i.length)||0,totalItems:u,limit:n})},[i,a,s,u,n]);const f=()=>{d()};return s?l("section",{className:`py-16 bg-gray-50 ${r}`,children:l(un,{children:l("div",{className:"text-center",children:p("div",{className:"bg-white rounded-2xl shadow-lg p-12 max-w-2xl mx-auto",children:[l("div",{className:"text-6xl mb-4",children:""}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Temporary Issue"}),l("p",{className:"text-gray-600 mb-6",children:"We're having trouble loading featured properties. Please try again."}),l("button",{onClick:f,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold",children:"Try Again"})]})})})}):l("section",{className:`py-16 bg-gray-50 ${r}`,children:p(un,{children:[p("div",{className:"text-center mb-12",children:[l("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:t}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e})]}),l(t_,{properties:i,loading:a,error:s,currentPage:1,totalPages:1,totalItems:(i==null?void 0:i.length)||0,onPageChange:()=>{},onSortChange:()=>{},sortBy:"newest",view:"grid",showPagination:!1}),!a&&i&&i.length>0&&l("div",{className:"text-center mt-12",children:p("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl shadow-xl p-12 text-white",children:[l("h3",{className:"text-3xl font-bold mb-4",children:"Ready to Find Your Dream Property?"}),l("p",{className:"text-blue-100 text-xl mb-8 max-w-2xl mx-auto leading-relaxed",children:"Browse our complete collection of properties or speak with one of our expert agents."}),p("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[l("a",{href:"/properties",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"View All Properties"}),l("a",{href:"/contact",className:"bg-transparent text-white px-8 py-4 rounded-lg border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Contact an Agent"})]})]})})]})})},vR=()=>p(Tr,{children:[l("section",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white",children:l(fR,{children:p("div",{className:"text-center space-y-8",children:[p("div",{className:"space-y-4",children:[p("h1",{className:"text-4xl md:text-6xl font-bold leading-tight",children:["Find Your Perfect",l("span",{className:"block text-blue-200",children:"Dream Home"})]}),l("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto leading-relaxed",children:"Discover thousands of properties for sale and rent. Expert agents ready to help you find the perfect match."})]}),l("div",{className:"max-w-4xl mx-auto",children:l(Z4,{onSearch:r=>{console.log("Home search:",r)},variant:"hero"})})]})})}),l("section",{className:"py-12 bg-gradient-to-br from-blue-50 to-white",children:l(un,{children:l(gR,{title:"Featured Properties",subtitle:"Handpicked selections of premium properties",limit:6})})}),l("section",{className:"py-10 bg-white",children:p(un,{children:[p("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Services"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Comprehensive real estate services tailored to meet all your property needs"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:l(Ho,{className:"w-10 h-10"}),title:"Buying Properties",description:"Find your dream home with our extensive property listings and expert guidance."},{icon:l(zm,{className:"w-10 h-10"}),title:"Selling Properties",description:"Get the best value for your property with our marketing expertise and negotiation skills."},{icon:l(ho,{className:"w-10 h-10"}),title:"Property Rental",description:"Discover perfect rental properties for your needs with our comprehensive rental services."},{icon:l(Um,{className:"w-10 h-10"}),title:"Property Management",description:"Professional management services to maximize your property investment returns."}].map((r,n)=>p("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 group",children:[l("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-white border border-blue-200 mb-4 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300",children:l("div",{className:"text-blue-600",children:r.icon})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:r.title}),l("p",{className:"text-gray-700 leading-relaxed text-sm",children:r.description})]},n))})]})}),p("section",{className:"relative py-12 md:py-16 bg-gradient-to-br from-blue-600 to-blue-700 text-white overflow-hidden",children:[p("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-0 w-20 h-20 bg-blue-500/20 rounded-full blur-lg"}),l("div",{className:"absolute bottom-0 right-0 w-16 h-16 bg-blue-400/20 rounded-full blur-lg"}),l("div",{className:"absolute top-1/2 left-1/4 w-2 h-2 bg-white/40 rounded-full animate-pulse"})]}),l(un,{children:p("div",{className:"relative z-10 text-center max-w-2xl mx-auto px-4",children:[l("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to Find Your Dream Property?"}),l("p",{className:"text-gray-700 mb-6 md:mb-8 leading-relaxed",children:"Join thousands of satisfied clients who found their perfect home with us."}),p("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("a",{href:"/properties",className:"bg-white text-blue-600 px-6 py-3 rounded-lg hover:bg-blue-50 transition-colors font-semibold shadow-lg",children:"Browse Properties"}),l("a",{href:"/contact",className:"border border-white text-white px-6 py-3 rounded-lg hover:bg-white hover:text-blue-600 transition-colors font-semibold",children:"Contact Agent"})]})]})})]})]});function yR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Vh(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function bR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function xR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function wR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function _R(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function m1(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(t)}function ER(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function NR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(t)}function AR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"},child:[]}]})(t)}function p1(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11h-4zM7 19H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm4 4H9v-2h2v2zm0-4H9V9h2v2zm0-4H9V5h2v2zm4 8h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm4 12h-2v-2h2v2zm0-4h-2v-2h2v2z"},child:[]}]})(t)}function g1(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 10v2H8v-2h2zm6 2v-2h-2v2h2zm5 2v8H3v-8h1v-4c0-4.42 3.58-8 8-8s8 3.58 8 8v4h1zM7 16H5v4h2v-4zm4 0H9v4h2v-4zm0-11.92C8.16 4.56 6 7.03 6 10v4h5V4.08zM13 14h5v-4c0-2.97-2.16-5.44-5-5.92V14zm2 2h-2v4h2v-4zm4 0h-2v4h2v-4z"},child:[]}]})(t)}function PR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM8.5 6a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm2.5 8h-1v4H7v-4H6v-2.5c0-1.1.9-2 2-2h1c1.1 0 2 .9 2 2V14zm4.5 3L13 13h5l-2.5 4zM13 11l2.5-4 2.5 4h-5z"},child:[]}]})(t)}function SR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.01 2.01 0 0 0 18.06 7h-.12a2 2 0 0 0-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8h3zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7h4zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4h3z"},child:[]}]})(t)}function TR(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"},child:[]}]})(t)}function v1(t){return ee({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 21h18"},child:[]},{tag:"path",attr:{d:"M19 21v-4"},child:[]},{tag:"path",attr:{d:"M19 17a2 2 0 0 0 2 -2v-2a2 2 0 1 0 -4 0v2a2 2 0 0 0 2 2z"},child:[]},{tag:"path",attr:{d:"M14 21v-14a3 3 0 0 0 -3 -3h-4a3 3 0 0 0 -3 3v14"},child:[]},{tag:"path",attr:{d:"M9 17v4"},child:[]},{tag:"path",attr:{d:"M8 13h2"},child:[]},{tag:"path",attr:{d:"M8 9h2"},child:[]}]})(t)}const IR=({filters:t,onFiltersChange:e,onReset:r,className:n=""})=>{const[i,a]=y.useState(t||{}),s=[{value:"",label:"Any Type"},{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"commercial",label:"Commercial"}],o=[{value:"",label:"Any Status"},{value:"forSale",label:"For Sale"},{value:"forRent",label:"For Rent"}],c=[{value:"",label:"Any Price"},{value:"0-100000",label:"Under $100,000"},{value:"100000-200000",label:"$100,000 - $200,000"},{value:"200000-300000",label:"$200,000 - $300,000"},{value:"300000-500000",label:"$300,000 - $500,000"},{value:"500000-1000000",label:"$500,000 - $1,000,000"},{value:"1000000-",label:"Over $1,000,000"}],u=[{value:"",label:"Any Bedrooms"},{value:"1",label:"1 Bedroom"},{value:"2",label:"2 Bedrooms"},{value:"3",label:"3 Bedrooms"},{value:"4",label:"4 Bedrooms"},{value:"5",label:"5+ Bedrooms"}],d=[{value:"",label:"Any Bathrooms"},{value:"1",label:"1 Bathroom"},{value:"2",label:"2 Bathrooms"},{value:"3",label:"3 Bathrooms"},{value:"4",label:"4+ Bathrooms"}],f=(x,v)=>{const P={...i,[x]:v};a(P),e(P)},m=x=>{let v,P;x&&([v,P]=x.split("-").map(T=>T===""?void 0:parseInt(T)));const A={...i,minPrice:v,maxPrice:P,priceRange:x};a(A),e(A)},g=()=>{a({}),r()},w=Object.values(i).some(x=>x!==void 0&&x!==""&&x!==null);return p("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${n}`,children:[p("div",{className:"flex items-center justify-between mb-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),w&&l("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All"})]}),p("div",{className:"space-y-6",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:s.map(x=>l("button",{onClick:()=>f("type",x.value),className:`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${i.type===x.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:x.label},x.value))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l("div",{className:"grid grid-cols-2 gap-2",children:o.map(x=>l("button",{onClick:()=>f("status",x.value),className:`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${i.status===x.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:x.label},x.value))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),l("select",{value:i.priceRange||"",onChange:x=>m(x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:c.map(x=>l("option",{value:x.value,children:x.label},x.value))})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),l("select",{value:i.bedrooms||"",onChange:x=>f("bedrooms",x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:u.map(x=>l("option",{value:x.value,children:x.label},x.value))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms"}),l("select",{value:i.bathrooms||"",onChange:x=>f("bathrooms",x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:d.map(x=>l("option",{value:x.value,children:x.label},x.value))})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Area (sq ft)"}),l("input",{type:"number",value:i.minArea||"",onChange:x=>f("minArea",x.target.value),placeholder:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Area (sq ft)"}),l("input",{type:"number",value:i.maxArea||"",onChange:x=>f("maxArea",x.target.value),placeholder:"Any",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["parking","garden","pool","furnished","petFriendly","balcony"].map(x=>p("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:i[x]||!1,onChange:v=>f(x,v.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm text-gray-700 capitalize",children:x.replace(/([A-Z])/g," $1").trim()})]},x))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),l("input",{type:"text",value:i.location||"",onChange:x=>f("location",x.target.value),placeholder:"Enter city, neighborhood, or ZIP code",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),w&&p("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Active Filters"}),l("div",{className:"flex flex-wrap gap-2",children:Object.entries(i).map(([x,v])=>{if(!v||v==="")return null;let P=v;if(x==="priceRange"){const A=c.find(T=>T.value===v);P=A==null?void 0:A.label}else if(x==="type"){const A=s.find(T=>T.value===v);P=A==null?void 0:A.label}else if(x==="status"){const A=o.find(T=>T.value===v);P=A==null?void 0:A.label}else typeof v=="boolean"&&(P=x.replace(/([A-Z])/g," $1").trim());return p("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[P,l("button",{onClick:()=>f(x,""),className:"ml-2 hover:text-blue-900",children:""})]},x)})})]})]})},CR=()=>{const[t,e]=fx(),[r,n]=y.useState({}),[i,a]=y.useState("grid"),[s,o]=y.useState("newest"),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[m,g]=y.useState("");y.useEffect(()=>{const z=()=>{f(window.innerWidth<768)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const w=gr.useMemo(()=>{const{id:z,...B}=r;return{page:parseInt(t.get("page"))||1,limit:12,...B,sort:s}},[r,t,s]),{properties:x,loading:v,error:P,currentPage:A,totalPages:T,totalItems:L,refetch:k}=r_(w);y.useEffect(()=>{var z;x.length>0&&console.log(" Properties Page - First property images:",{title:x[0].title,primaryImage:x[0].primaryImage,images:x[0].images,featuredImage:x[0].featuredImage,hasPrimaryImage:!!x[0].primaryImage,hasImages:!!((z=x[0].images)!=null&&z.length)})},[x]),y.useEffect(()=>{const z=new URLSearchParams;Object.entries(r).forEach(([B,Q])=>{Q&&B!=="id"&&z.set(B,Q.toString())}),A>1&&z.set("page",A.toString()),e(z)},[r,A,e]);const D=z=>{const{id:B,...Q}=z;n(ne=>({...ne,...Q,page:1}))},_=z=>{const{id:B,...Q}=z;n(Q),d&&u(!1)},S=z=>{n(B=>({...B,page:z}))},E=z=>{o(z)},C=[{label:"All Properties",value:"",icon:xR,count:L},{label:"For Sale",value:"sale",icon:Vh,count:"1.2k"},{label:"For Rent",value:"rent",icon:NR,count:"856"},{label:"Featured",value:"featured",icon:TR,count:"43"},{label:"Luxury",value:"luxury",icon:v1,count:"127"},{label:"New",value:"new",icon:p1,count:"89"}],I=z=>{g(z),n(z===""?{page:1}:B=>({...B,status:z,page:1}))},M=[{label:"Newest First",value:"newest",icon:AR},{label:"Price: Low to High",value:"price_asc",icon:Vh},{label:"Price: High to Low",value:"price_desc",icon:Vh},{label:"Most Popular",value:"popular",icon:_R},{label:"Largest First",value:"area_desc",icon:p1}],O=Object.keys(r).filter(z=>z!=="page"&&r[z]&&r[z]!=="").length;return l(Tr,{children:p(un,{children:[p("div",{className:"relative py-12 md:py-16 mb-8 md:mb-12 overflow-hidden bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-50 rounded-3xl border border-blue-100 animate-fade-in px-4 sm:px-0",children:[p("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-blue-200/50 to-transparent animate-pulse"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-sky-200/40 to-transparent animate-pulse delay-75"}),l("div",{className:"absolute top-0 left-2/3 w-0.5 h-full bg-gradient-to-b from-transparent via-cyan-200/30 to-transparent animate-pulse delay-150"}),l("div",{className:"absolute top-1/4 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-blue-300/40 to-transparent animate-pulse"})}),l("div",{className:"absolute bottom-1/3 right-0 w-2/3",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-sky-300/30 to-transparent animate-pulse delay-100"})}),l("div",{className:"absolute top-16 left-20 w-6 h-6 border-2 border-blue-300/60 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-20 right-24 w-8 h-8 border-2 border-sky-300/50 rounded-full animate-float delay-300"}),l("div",{className:"absolute top-28 right-32 w-4 h-4 bg-blue-400/30 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute bottom-28 left-32 w-5 h-5 border border-cyan-300/40 rounded-full animate-bounce delay-200"}),l("div",{className:"absolute top-1/2 left-1/3 w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-1/3 right-1/4 w-1.5 h-1.5 bg-sky-500 rounded-full animate-pulse delay-150"}),l("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-cyan-500 rounded-full animate-ping delay-300"}),l("div",{className:"absolute -top-12 -left-12 w-40 h-40 bg-gradient-to-r from-blue-200 to-sky-200 rounded-full blur-3xl opacity-50"}),l("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-gradient-to-r from-cyan-200 to-blue-200 rounded-full blur-3xl opacity-40"}),l("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-r from-sky-200 to-cyan-200 rounded-full blur-2xl opacity-30"}),l("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-blue-300/60 rounded-tl-lg"}),l("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-cyan-300/60 rounded-br-lg"})]}),p("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[p("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2.5 rounded-full border border-blue-200 shadow-sm mb-4 md:mb-6 hover:scale-105 transition-transform duration-200",children:[l(v1,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-600"}),l("span",{className:"text-sm md:text-base font-semibold text-blue-700 tracking-wide",children:"Octopus Real Estate"})]}),p("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 md:mb-6 font-serif tracking-tight leading-tight",children:["Discover Your ",l("span",{className:"bg-gradient-to-r from-blue-600 via-sky-600 to-cyan-600 bg-clip-text text-transparent",children:"Perfect"})," Property"]}),p("div",{className:"relative inline-block max-w-2xl",children:[l("div",{className:"absolute -inset-4 bg-white/40 rounded-2xl transform rotate-1 blur-sm"}),l("p",{className:"relative text-lg sm:text-xl md:text-2xl text-gray-700 leading-relaxed bg-white/70 backdrop-blur-sm p-6 md:p-8 rounded-xl border border-white/30 shadow-sm",children:"Explore luxury homes, modern apartments, and premium commercial spaces worldwide."})]}),p("div",{className:"flex justify-center items-center space-x-2 mt-6 md:mt-8",children:[l("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-ping"}),l("div",{className:"w-1.5 h-1.5 bg-sky-500 rounded-full animate-pulse delay-75"}),l("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-ping delay-150"}),l("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-200"}),l("div",{className:"w-2 h-2 bg-sky-400 rounded-full animate-ping delay-300"})]})]})]}),l("div",{className:"mb-8 md:mb-12 animate-slide-in px-4 sm:px-0",children:l("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-medium md:shadow-large p-4 md:p-6 border border-secondary-100",children:l(Z4,{onSearch:D,initialValues:r,showAdvancedFilters:!1})})}),!d&&l("div",{className:"mb-8 md:mb-10",children:l("div",{className:"flex flex-wrap gap-2 md:gap-3 mb-6 justify-center",children:C.map(z=>{const B=z.icon,Q=m===z.value;return p("button",{onClick:()=>I(z.value),className:`group relative flex items-center gap-2 md:gap-3 px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-xl transition-all duration-300 transform hover:scale-105 border-2 ${Q?"border-primary-500 bg-primary-50 text-primary-700 shadow-medium":"border-secondary-200 bg-white text-secondary-700 hover:border-primary-300 hover:shadow-soft"}`,children:[l(B,{className:`w-4 h-4 md:w-5 md:h-5 transition-colors ${Q?"text-primary-600":"text-secondary-500 group-hover:text-primary-500"}`}),p("div",{className:"text-left",children:[l("div",{className:"font-semibold text-sm md:text-base",children:z.label}),p("div",{className:`text-xs md:text-sm ${Q?"text-primary-600":"text-secondary-500"}`,children:[z.count," properties"]})]})]},z.value)})})}),p("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4 md:gap-6 mb-6 md:mb-8 p-4 md:p-6 bg-secondary-50 rounded-xl md:rounded-2xl border border-secondary-200 mx-4 sm:mx-0",children:[p("div",{className:"flex items-center gap-3 md:gap-4 w-full justify-between md:justify-start",children:[p("div",{className:"text-secondary-700",children:[p("p",{className:"text-base md:text-lg font-semibold whitespace-nowrap",children:[p("span",{className:"text-primary-600",children:[L,"+"]})," properties"]}),l("p",{className:"text-xs md:text-sm text-secondary-500",children:O>0&&`${O} filter${O>1?"s":""} applied`})]}),d&&p("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-all duration-300 shadow-lg shadow-primary-200 relative",children:[l(m1,{className:"w-4 h-4"}),O>0&&l("span",{className:"absolute -top-1 -right-1 bg-accent-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center animate-bounce-in",children:O})]})]}),!d&&p("div",{className:"flex items-center gap-3 md:gap-4",children:[p("div",{className:"flex bg-white rounded-lg md:rounded-xl shadow-soft border border-secondary-200 p-1",children:[p("button",{onClick:()=>a("grid"),className:`flex items-center gap-2 px-3 py-2 md:px-4 md:py-2 rounded-md md:rounded-lg transition-all duration-200 ${i==="grid"?"bg-primary-500 text-white shadow-md":"text-secondary-500 hover:text-secondary-700 hover:bg-secondary-100"}`,children:[l(bR,{className:"w-3 h-3 md:w-4 md:h-4"}),l("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"Grid"})]}),p("button",{onClick:()=>a("list"),className:`flex items-center gap-2 px-3 py-2 md:px-4 md:py-2 rounded-md md:rounded-lg transition-all duration-200 ${i==="list"?"bg-primary-500 text-white shadow-md":"text-secondary-500 hover:text-secondary-700 hover:bg-secondary-100"}`,children:[l(wR,{className:"w-3 h-3 md:w-4 md:h-4"}),l("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"List"})]})]}),p("div",{className:"relative",children:[l("select",{value:s,onChange:z=>E(z.target.value),className:"appearance-none bg-white border border-secondary-200 rounded-lg md:rounded-xl px-3 py-2 md:px-4 md:py-3 pr-8 md:pr-10 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 shadow-soft hover:shadow-medium text-sm md:text-base min-w-32 md:min-w-48",children:M.map(z=>l("option",{value:z.value,children:z.label},z.value))}),l(yR,{className:"absolute right-2 md:right-3 top-1/2 transform -translate-y-1/2 text-secondary-400 pointer-events-none w-3 h-3 md:w-4 md:h-4"})]}),p("button",{onClick:()=>u(!0),className:"flex items-center gap-2 md:gap-3 bg-primary-600 text-white px-4 py-2 md:px-6 md:py-3 rounded-lg md:rounded-xl hover:bg-primary-700 transition-all duration-300 transform hover:scale-105 shadow-lg shadow-primary-200 hover:shadow-xl hover:shadow-primary-300 relative",children:[l(m1,{className:"w-4 h-4"}),l("span",{className:"font-semibold text-sm md:text-base",children:"Filters"}),O>0&&l("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-accent-500 text-white text-xs rounded-full w-4 h-4 md:w-6 md:h-6 flex items-center justify-center animate-bounce-in text-xs",children:O})]})]})]}),p("div",{className:"relative px-4 sm:px-0",children:[c&&p("div",{className:"fixed inset-0 z-90 animate-fade-in",children:[l("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>u(!1)}),l("div",{className:"absolute inset-0 md:right-0 md:top-0 md:h-full md:w-full md:max-w-md bg-white shadow-2xl transform animate-slide-in overflow-y-auto",children:p("div",{className:"p-4 md:p-6 h-full flex flex-col",children:[p("div",{className:"flex items-center justify-between mb-4 md:mb-6 pb-3 md:pb-4 border-b border-secondary-200",children:[p("div",{children:[l("h2",{className:"text-xl md:text-2xl font-bold text-secondary-900 font-serif",children:"Filters"}),l("p",{className:"text-secondary-500 text-xs md:text-sm mt-1",children:"Refine your property search"})]}),l("button",{onClick:()=>u(!1),className:"p-2 md:p-3 hover:bg-secondary-100 rounded-lg md:rounded-xl transition-all duration-200 hover:scale-110",children:l(ER,{className:"w-5 h-5 md:w-6 md:h-6 text-secondary-500"})})]}),l("div",{className:"flex-1",children:l(IR,{filters:r,onFiltersChange:_,onReset:()=>{n({page:1}),g(""),u(!1)},compact:!0})}),p("div",{className:"flex gap-2 md:gap-3 pt-4 md:pt-6 mt-4 md:mt-6 border-t border-secondary-200",children:[l("button",{onClick:()=>{n({page:1}),g(""),u(!1)},className:"flex-1 px-4 py-2 md:px-6 md:py-3 border border-secondary-300 text-secondary-700 rounded-lg md:rounded-xl hover:bg-secondary-50 transition-colors duration-200 font-medium text-sm md:text-base",children:"Reset All"}),l("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 md:px-6 md:py-3 bg-primary-600 text-white rounded-lg md:rounded-xl hover:bg-primary-700 transition-all duration-200 transform hover:scale-105 font-medium shadow-md text-sm md:text-base",children:"Apply Filters"})]})]})})]}),!1,l("div",{className:"animate-fade-in",children:l(t_,{properties:x,loading:v,error:P,currentPage:A,totalPages:T,totalItems:L,onPageChange:S,onSortChange:E,sortBy:s,view:i})})]}),v&&p("div",{className:"flex flex-col justify-center items-center py-12 md:py-16 space-y-3 md:space-y-4",children:[l("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-b-2 border-primary-600"}),l("p",{className:"text-secondary-600 font-medium text-sm md:text-base",children:"Loading premium properties..."})]})]})})},kR=({isOpen:t,onClose:e,title:r,children:n,size:i="medium",closeOnOverlayClick:a=!0})=>(y.useEffect(()=>{const c=u=>{u.keyCode===27&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),t?l("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:c=>{c.target===c.currentTarget&&a&&e()},children:p("div",{className:`bg-white rounded-2xl shadow-2xl w-full ${{small:"max-w-md",medium:"max-w-2xl",large:"max-w-4xl",xlarge:"max-w-6xl",full:"max-w-full mx-4"}[i]} max-h-[90vh] overflow-hidden animate-modal-in`,children:[(r||e)&&p("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r&&l("h2",{className:"text-xl font-semibold text-gray-900",children:r}),l("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition duration-200 p-2 hover:bg-gray-100 rounded-lg",children:l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:n})]})}):null),OR=({images:t,title:e,className:r=""})=>{const[n,i]=y.useState(0),[a,s]=y.useState(!1),o=v=>typeof v=="string"?v:v&&v.url?v.url:v&&v.path?v.path:null,c=(v,P)=>typeof v=="string"?`${e} - Image ${P+1}`:v&&v.originalName?v.originalName:v&&v.filename?v.filename:`${e} - Image ${P+1}`,u=gr.useMemo(()=>!t||!Array.isArray(t)?[]:t.map(v=>o(v)).filter(v=>v&&v!==""),[t]);if(!u||u.length===0)return l("div",{className:`bg-gray-200 rounded-2xl flex items-center justify-center h-64 ${r}`,children:l("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})});const d=u[n],f=u.slice(0,5),m=()=>{i(v=>v===u.length-1?0:v+1)},g=()=>{i(v=>v===0?u.length-1:v-1)},w=(v=0)=>{i(v),s(!0)},x=()=>{s(!1)};return p(vr,{children:[p("div",{className:`${r}`,children:[p("div",{className:"relative rounded-2xl overflow-hidden bg-gray-200",children:[l("img",{src:d,alt:c(t==null?void 0:t[n],n),className:"w-full h-96 object-cover cursor-pointer",onClick:()=>w(n),onError:v=>{console.error(" Image failed to load:",d),v.target.src="/images/placeholder-property.jpg"}}),u.length>1&&p(vr,{children:[l("button",{onClick:g,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l("button",{onClick:m,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),p("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-full text-sm font-medium",children:[n+1," / ",u.length]}),l("button",{onClick:()=>w(n),className:"absolute bottom-4 left-4 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})]}),u.length>1&&l("div",{className:"grid grid-cols-5 gap-2 mt-3",children:f.map((v,P)=>p("button",{onClick:()=>i(P),className:`relative rounded-lg overflow-hidden border-2 transition-all duration-200 ${n===P?"border-blue-600 ring-2 ring-blue-600 ring-opacity-30 shadow-md":"border-transparent hover:border-gray-300 hover:shadow-sm"}`,children:[l("img",{src:v,alt:c(t==null?void 0:t[P],P),className:"w-full h-16 object-cover",onError:A=>{console.error(" Thumbnail failed to load:",v),A.target.src="/images/placeholder-property.jpg"}}),P===4&&u.length>5&&l("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:p("span",{className:"text-white text-sm font-semibold",children:["+",u.length-5]})})]},P))})]}),l(kR,{isOpen:a,onClose:x,size:"full",closeOnOverlayClick:!0,children:p("div",{className:"relative h-full flex items-center justify-center bg-black",children:[l("button",{onClick:x,className:"absolute top-6 right-6 z-10 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l("img",{src:u[n],alt:c(t==null?void 0:t[n],n),className:"max-w-full max-h-full object-contain",onError:v=>{console.error(" Fullscreen image failed to load:",u[n]),v.target.src="/images/placeholder-property.jpg"}}),u.length>1&&p(vr,{children:[l("button",{onClick:g,className:"absolute left-6 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l("button",{onClick:m,className:"absolute right-6 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),p("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-60 text-white px-4 py-2 rounded-full font-medium",children:[n+1," / ",u.length]}),u.length>1&&l("div",{className:"absolute bottom-6 left-6 right-6 flex justify-center space-x-2",children:u.map((v,P)=>l("button",{onClick:()=>i(P),className:`w-12 h-12 rounded border-2 transition-all duration-200 ${n===P?"border-white ring-2 ring-white ring-opacity-50":"border-transparent hover:border-white hover:border-opacity-50"}`,children:l("img",{src:v,alt:c(t==null?void 0:t[P],P),className:"w-full h-full object-cover rounded",onError:A=>{console.error(" Modal thumbnail failed to load:",v),A.target.src="/images/placeholder-property.jpg"}})},P))})]})})]})},RR=({property:t,height:e="400px",className:r="",showMarker:n=!0,interactive:i=!0})=>{var m,g,w,x,v,P,A;const[a,s]=y.useState(!1),[o,c]=y.useState(!1),u={lat:((m=t==null?void 0:t.location)==null?void 0:m.lat)||40.7128,lng:((g=t==null?void 0:t.location)==null?void 0:g.lng)||-74.006},d=`https://maps.googleapis.com/maps/api/staticmap?
    center=${u.lat},${u.lng}
    &zoom=15
    &size=600x400
    &markers=color:red%7C${u.lat},${u.lng}
    &key=YOUR_GOOGLE_MAPS_API_KEY`,f=`https://www.google.com/maps/search/?api=1&query=${u.lat},${u.lng}`;return y.useEffect(()=>{const T=setTimeout(()=>{s(!0)},1e3);return()=>clearTimeout(T)},[]),a?o?l("div",{className:`bg-gray-100 rounded-2xl flex items-center justify-center ${r}`,style:{height:e},children:p("div",{className:"text-center p-6",children:[l("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),l("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Map Unavailable"}),l("p",{className:"text-gray-600 mb-4",children:"We couldn't load the map for this property."}),p("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:[p("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"View on Google Maps"]})]})}):p("div",{className:`${r}`,children:[p("div",{className:"bg-gray-200 rounded-2xl overflow-hidden relative",style:{height:e},children:[l("img",{src:d,alt:`Location of ${t==null?void 0:t.title}`,className:"w-full h-full object-cover",onError:()=>c(!0)}),i&&p("div",{className:"absolute inset-0 bg-transparent cursor-pointer",onClick:()=>window.open(f,"_blank"),children:[l("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:p("div",{className:"flex items-center space-x-2 text-sm",children:[p("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{className:"text-gray-700",children:"View larger map"})]})}),n&&l("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:p("div",{className:"relative",children:[l("div",{className:"w-6 h-6 bg-red-600 rounded-full border-2 border-white shadow-lg animate-pulse"}),l("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-white px-2 py-1 rounded-lg shadow-lg text-xs font-semibold whitespace-nowrap",children:t==null?void 0:t.title})]})})]})]}),p("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl",children:[l("h4",{className:"font-semibold text-gray-900 mb-2",children:"Location Details"}),p("div",{className:"space-y-2 text-sm text-gray-600",children:[((w=t==null?void 0:t.location)==null?void 0:w.address)&&p("div",{className:"flex items-start space-x-2",children:[p("svg",{className:"w-4 h-4 mt-0.5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{children:t.location.address})]}),((x=t==null?void 0:t.location)==null?void 0:x.neighborhood)&&p("div",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("span",{children:t.location.neighborhood})]}),(((v=t==null?void 0:t.location)==null?void 0:v.city)||((P=t==null?void 0:t.location)==null?void 0:P.state)||((A=t==null?void 0:t.location)==null?void 0:A.zipCode))&&p("div",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),l("span",{children:[t.location.city,t.location.state,t.location.zipCode].filter(Boolean).join(", ")})]})]}),p("div",{className:"flex space-x-3 mt-4",children:[l("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white text-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 text-sm font-medium",children:"Open in Maps"}),l("button",{className:"flex-1 bg-white text-gray-700 text-center py-2 px-4 rounded-lg border border-gray-300 hover:bg-gray-50 transition duration-200 text-sm font-medium",children:"Get Directions"})]})]})]}):l("div",{className:`bg-gray-200 rounded-2xl flex items-center justify-center ${r}`,style:{height:e},children:p("div",{className:"text-center",children:[l("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),l("p",{className:"text-gray-600 text-sm",children:"Loading map..."})]})})},MR="modulepreload",DR=function(t,e){return new URL(t,e).href},y1={},n_=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=DR(a,n),a in y1)return;y1[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":MR,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},LR=({propertyId:t=null,propertyTitle:e=null,agentId:r=null,className:n="",onSubmit:i})=>{const[a,s]=y.useState(!1),[o,c]=y.useState(null),{values:u,errors:d,handleChange:f,handleSubmit:m,resetForm:g}=id({initialValues:{name:"",email:"",phone:"",subject:e?`Inquiry about ${e}`:"",message:"",propertyId:t||"",agentId:r||"",type:"general"},validate:v=>{const P={};return v.name.trim()||(P.name="Name is required"),v.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)||(P.email="Please enter a valid email address"):P.email="Email is required",v.message.trim()||(P.message="Message is required"),v.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(v.phone.replace(/[\s\-\(\)]/g,""))&&(P.phone="Please enter a valid phone number"),P},onSubmit:async v=>{s(!0),c(null);try{i?await i(v):await w(v),c({type:"success",message:"Thank you! Your message has been sent successfully. We will get back to you soon."}),g()}catch(P){c({type:"error",message:P.message||"Sorry, there was an error sending your message. Please try again."})}finally{s(!1)}}}),w=async v=>{const P=await n_(()=>import("./index-0ca98fd1.js"),[],import.meta.url),A={from_name:v.name,from_email:v.email,phone:v.phone||"Not provided",subject:v.subject,message:v.message,inquiry_type:v.type,property_id:v.propertyId||"N/A",agent_id:v.agentId||"N/A",submitted_at:new Date().toLocaleString(),to_email:{}.REACT_APP_ADMIN_EMAIL||"admin@yourdomain.com"};try{await P.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_TEMPLATE_ID,A,{}.REACT_APP_EMAILJS_PUBLIC_KEY)}catch(T){throw console.error("EmailJS error:",T),new Error("Failed to send message. Please try again.")}},x=[{value:"general",label:"General Inquiry"},{value:"viewing",label:"Schedule a Viewing"},{value:"valuation",label:"Property Valuation"},{value:"mortgage",label:"Mortgage Information"}];return p("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${n}`,children:[p("div",{className:"mb-6",children:[l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e?`Contact About ${e}`:"Contact Us"}),l("p",{className:"text-gray-600",children:e?"Interested in this property? Send us a message and we'll get back to you soon.":"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),o&&l("div",{className:`p-4 rounded-lg mb-6 ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.message}),p("form",{onSubmit:m,className:"space-y-6",children:[p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),l("input",{type:"text",id:"name",name:"name",value:u.name,onChange:f,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.name?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your full name"}),d.name&&l("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),p("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:u.email,onChange:f,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.email?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your email address"}),d.email&&l("p",{className:"mt-1 text-sm text-red-600",children:d.email})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:f,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.phone?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your phone number"}),d.phone&&l("p",{className:"mt-1 text-sm text-red-600",children:d.phone})]}),p("div",{children:[l("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Inquiry Type"}),l("select",{id:"type",name:"type",value:u.type,onChange:f,disabled:a,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${a?"bg-gray-50 opacity-50":""}`,children:x.map(v=>l("option",{value:v.value,children:v.label},v.value))})]})]}),p("div",{children:[l("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),l("input",{type:"text",id:"subject",name:"subject",value:u.subject,onChange:f,disabled:a,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter the subject of your message"})]}),p("div",{children:[l("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),l("textarea",{id:"message",name:"message",value:u.message,onChange:f,rows:6,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.message?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your message..."}),d.message&&l("p",{className:"mt-1 text-sm text-red-600",children:d.message})]}),t&&l("input",{type:"hidden",name:"propertyId",value:t}),r&&l("input",{type:"hidden",name:"agentId",value:r}),p("div",{className:"flex items-center justify-between pt-4",children:[l("p",{className:"text-sm text-gray-600",children:"* Required fields"}),l("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center space-x-2",children:a?p(vr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Sending..."})]}):l("span",{children:"Send Message"})})]})]}),p("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[l("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Other Ways to Reach Us"}),p("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[p("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),p("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Call Us"}),l("p",{className:"text-gray-600",children:"+234 913 208 0059"})]})]}),p("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),p("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Email Us"}),l("p",{className:"text-gray-600",children:"info@Octopusrealestate.com"})]})]}),p("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Office Hours"}),l("p",{className:"text-gray-600",children:"Mon-Fri: 9AM-6PM"})]})]})]})]})]})},jR=({propertyId:t,propertyTitle:e,agentId:r,agentName:n,className:i="",onSubmit:a})=>{const[s,o]=y.useState(!1),[c,u]=y.useState(null),{values:d,errors:f,handleChange:m,handleSubmit:g,resetForm:w}=id({initialValues:{name:"",email:"",phone:"",propertyId:t||"",propertyTitle:e||"",agentId:r||"",agentName:n||"",preferredDate:"",preferredTime:"",message:"",contactMethod:"phone",urgency:"normal"},validate:k=>{const D={};return k.name.trim()||(D.name="Name is required"),k.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)||(D.email="Please enter a valid email address"):D.email="Email is required",k.phone.trim()||(D.phone="Phone number is required"),k.preferredDate||(D.preferredDate="Preferred date is required"),k.preferredTime||(D.preferredTime="Preferred time is required"),D},onSubmit:async k=>{o(!0),u(null);try{a?await a(k):await x(k),u({type:"success",message:"Thank you! Your appointment request has been submitted. We will contact you to confirm the details."}),w()}catch(D){u({type:"error",message:D.message||"Sorry, there was an error submitting your appointment request. Please try again."})}finally{o(!1)}}}),x=async k=>{const D=await n_(()=>import("./index-0ca98fd1.js"),[],import.meta.url),_={from_name:k.name,from_email:k.email,phone:k.phone,preferred_date:k.preferredDate?new Date(k.preferredDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Not specified",preferred_time:k.preferredTime||"Not specified",contact_method:k.contactMethod,urgency:k.urgency,message:k.message||"No additional notes",property_title:k.propertyTitle||"Not specified",property_id:k.propertyId||"N/A",agent_name:k.agentName||"Not assigned",agent_id:k.agentId||"N/A",submitted_at:new Date().toLocaleString(),to_email:{}.REACT_APP_ADMIN_EMAIL||"admin@yourdomain.com"};try{await D.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_APPOINTMENT_TEMPLATE_ID||{}.REACT_APP_EMAILJS_TEMPLATE_IDA,_,{}.REACT_APP_EMAILJS_PUBLIC_KEY)}catch(S){throw console.error("EmailJS error:",S),new Error("Failed to submit appointment request. Please try again.")}},v=[];for(let k=9;k<=17;k++)for(let D=0;D<60;D+=30){const _=`${k.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`;v.push(_)}const P=[],A=new Date;for(let k=1;k<=14;k++){const D=new Date(A);D.setDate(A.getDate()+k),D.getDay()!==0&&D.getDay()!==6&&P.push({value:D.toISOString().split("T")[0],label:D.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}const T=[{value:"phone",label:"Phone Call"},{value:"email",label:"Email"},{value:"text",label:"Text Message"}],L=[{value:"low",label:"Low - Flexible timing"},{value:"normal",label:"Normal - Within a week"},{value:"high",label:"High - As soon as possible"}];return p("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${i}`,children:[p("div",{className:"mb-6",children:[l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Schedule a Viewing"}),l("p",{className:"text-gray-600",children:e?`Interested in viewing "${e}"? Schedule an appointment and we'll arrange a viewing at your convenience.`:"Schedule a property viewing with one of our expert agents."}),n&&l("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:p("p",{className:"text-sm text-blue-800",children:[l("strong",{children:"Assigned Agent:"})," ",n]})})]}),c&&l("div",{className:`p-4 rounded-lg mb-6 ${c.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:c.message}),p("form",{onSubmit:g,className:"space-y-6",children:[p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),l("input",{type:"text",id:"name",name:"name",value:d.name,onChange:m,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${f.name?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your full name"}),f.name&&l("p",{className:"mt-1 text-sm text-red-600",children:f.name})]}),p("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:d.email,onChange:m,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${f.email?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your email address"}),f.email&&l("p",{className:"mt-1 text-sm text-red-600",children:f.email})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:m,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${f.phone?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your phone number"}),f.phone&&l("p",{className:"mt-1 text-sm text-red-600",children:f.phone})]}),p("div",{children:[l("label",{htmlFor:"contactMethod",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Contact Method"}),l("select",{id:"contactMethod",name:"contactMethod",value:d.contactMethod,onChange:m,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,children:T.map(k=>l("option",{value:k.value,children:k.label},k.value))})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{htmlFor:"preferredDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date *"}),p("select",{id:"preferredDate",name:"preferredDate",value:d.preferredDate,onChange:m,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${f.preferredDate?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,children:[l("option",{value:"",children:"Select a date"}),P.map(k=>l("option",{value:k.value,children:k.label},k.value))]}),f.preferredDate&&l("p",{className:"mt-1 text-sm text-red-600",children:f.preferredDate})]}),p("div",{children:[l("label",{htmlFor:"preferredTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time *"}),p("select",{id:"preferredTime",name:"preferredTime",value:d.preferredTime,onChange:m,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${f.preferredTime?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,children:[l("option",{value:"",children:"Select a time"}),v.map(k=>l("option",{value:k,children:k},k))]}),f.preferredTime&&l("p",{className:"mt-1 text-sm text-red-600",children:f.preferredTime})]})]}),p("div",{children:[l("label",{htmlFor:"urgency",className:"block text-sm font-medium text-gray-700 mb-2",children:"How soon would you like to view the property?"}),l("select",{id:"urgency",name:"urgency",value:d.urgency,onChange:m,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,children:L.map(k=>l("option",{value:k.value,children:k.label},k.value))})]}),p("div",{children:[l("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes or Special Requests"}),l("textarea",{id:"message",name:"message",value:d.message,onChange:m,rows:4,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Any special requirements or questions you'd like to share..."})]}),t&&l("input",{type:"hidden",name:"propertyId",value:t}),r&&l("input",{type:"hidden",name:"agentId",value:r}),p("div",{className:"flex items-center justify-between pt-4",children:[l("p",{className:"text-sm text-gray-600",children:"* Required fields. We typically respond within 2 hours during business hours."}),l("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center space-x-2",children:s?p(vr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Scheduling..."})]}):l("span",{children:"Schedule Viewing"})})]})]}),l("div",{className:"mt-8 pt-6 border-t border-gray-200",children:p("div",{className:"bg-gray-50 rounded-lg p-4",children:[l("h4",{className:"font-semibold text-gray-900 mb-2",children:"What to Expect"}),p("ul",{className:"text-sm text-gray-600 space-y-1",children:[l("li",{children:" We'll contact you to confirm your appointment details"}),l("li",{children:" A confirmation email with property details will be sent"}),l("li",{children:" Our agent will meet you at the property at the scheduled time"}),l("li",{children:" Please bring a valid ID for security purposes"})]})]})})]})},VR=()=>{var D,_,S,E,C,I,M,O,z,B,Q,ne,he;const{id:t}=mx(),{property:e,loading:r,error:n}=pR(t),[i,a]=y.useState("overview"),[s,o]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(!1);if(r)return l(Tr,{children:l("div",{className:"flex justify-center items-center min-h-96",children:l(nl,{size:"large",text:"Loading property details..."})})});if(n||!e)return l(Tr,{children:l(xo,{children:p("div",{className:"text-center py-16",children:[l("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),l("p",{className:"text-gray-600 mb-8",children:"The property you're looking for doesn't exist or has been removed."}),l(Ue,{to:"/properties",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold",children:"Browse All Properties"})]})})});const m=e.specifications||{},g=e.location||{},w=e.amenities||[],x=e.primaryImage||((_=(D=e.images)==null?void 0:D[0])==null?void 0:_.url)||((S=e.featuredImage)==null?void 0:S.url),v=[{icon:PP,label:"Bedrooms",value:m.bedrooms||e.bedrooms||"N/A",description:"Spacious bedrooms"},{icon:AP,label:"Bathrooms",value:m.bathrooms||e.bathrooms||"N/A",description:"Modern bathrooms"},{icon:BP,label:"Area",value:`${m.area||e.area||"N/A"} ${m.areaUnit||"sq ft"}`,description:"Total living area"},{icon:rS,label:"Lot Size",value:m.lotSize?`${m.lotSize} ${m.lotSizeUnit||"sq ft"}`:"N/A",description:"Property land size"},{icon:xx,label:"Year Built",value:m.yearBuilt||e.yearBuilt||"N/A",description:"Construction year"},{icon:ho,label:"Stories",value:m.stories||m.floors||"N/A",description:"Number of floors"},{icon:SP,label:"Garage",value:m.garage?`${m.garageSpaces||1} spaces`:"No",description:"Parking capacity"},{icon:Mv,label:"Parking",value:m.parking||e.parking||"N/A",description:"Additional parking"}],P=[{icon:zm,label:"Price per Sq Ft",value:e.price&&m.area?`${(e.price/m.area).toFixed(2)}`:"N/A"},{icon:kv,label:"Time on Market",value:"2 weeks",badge:"New"},{icon:Ov,label:"Property Views",value:"1,247",trend:"+25%"},{icon:Ws,label:"Property Rating",value:"4.8/5",reviews:"12 reviews"}],A={"swimming-pool":YP,garden:QP,balcony:g1,terrace:g1,"air-conditioning":GP,heating:VP,"security-system":qP,"pet-friendly":zP,furnished:TP,wifi:nS,tv:JP,kitchen:tS,gym:MP,elevator:PR,"family-friendly":SR,parking:Mv},T=H=>new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency||"EUR",maximumFractionDigits:0}).format(H),L=H=>{switch(H){case"for-rent":case"forRent":case"rent":return"bg-blue-100 text-blue-800 border-blue-200";case"for-sale":case"forSale":case"sale":return"bg-green-100 text-green-800 border-green-200";case"sold":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=H=>{switch(H){case"for-rent":case"forRent":case"rent":return"For Rent";case"for-sale":case"forSale":case"sale":return"For Sale";case"sold":return"Sold";default:return"Available"}};return p(Tr,{children:[p("div",{className:"bg-white",children:[p("div",{className:"relative min-h-[70vh] flex items-center justify-center text-white bg-cover bg-center bg-no-repeat",style:{backgroundImage:x?`linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.7)), url(${x})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[l("div",{className:"absolute inset-0 bg-black/40"}),l(xo,{children:p("div",{className:"relative z-10 py-12",children:[p("div",{className:"flex items-center justify-between mb-12",children:[p(Ue,{to:"/properties",className:"flex items-center space-x-3 bg-white/20 backdrop-blur-sm px-4 py-3 rounded-2xl text-white/90 hover:text-white hover:bg-white/30 transition-all duration-300 border border-white/20",children:[l(kP,{className:"text-sm"}),l("span",{className:"font-medium",children:"Back to Properties"})]}),p("div",{className:"flex items-center space-x-3",children:[l("button",{onClick:()=>f(!d),className:`p-3 rounded-2xl backdrop-blur-sm transition-all duration-300 border ${d?"bg-red-500 text-white border-red-400 shadow-lg":"bg-white/20 text-white border-white/30 hover:bg-white/30 hover:scale-105"}`,children:l(wx,{className:d?"fill-current":""})}),l("button",{className:"p-3 rounded-2xl bg-white/20 backdrop-blur-sm text-white border border-white/30 hover:bg-white/30 hover:scale-105 transition-all duration-300",children:l(WP,{})}),l("button",{className:"p-3 rounded-2xl bg-white/20 backdrop-blur-sm text-white border border-white/30 hover:bg-white/30 hover:scale-105 transition-all duration-300",children:l(DP,{})})]})]}),p("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[p("div",{className:"space-y-8",children:[p("div",{className:"flex flex-wrap items-center gap-3",children:[l("span",{className:`px-4 py-2 rounded-2xl text-sm font-semibold border-2 backdrop-blur-sm ${L(e.status)}`,children:k(e.status)}),e.featured&&p("span",{className:"px-4 py-2 rounded-2xl bg-yellow-400/90 text-yellow-900 text-sm font-semibold border-2 border-yellow-300 backdrop-blur-sm flex items-center gap-2",children:[l(Ws,{className:"fill-current"}),"Featured Property"]}),m.isNewConstruction&&l("span",{className:"px-4 py-2 rounded-2xl bg-green-400/90 text-green-900 text-sm font-semibold border-2 border-green-300 backdrop-blur-sm",children:"New Construction"})]}),p("div",{children:[l("h1",{className:"text-5xl lg:text-6xl font-bold mb-6 leading-tight font-serif",children:e.title}),p("div",{className:"flex items-center space-x-4 text-white/90 text-lg",children:[l(Rv,{className:"text-xl"}),l("span",{className:"font-medium",children:g.address||e.formattedAddress||"Prime Location"})]})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:v.slice(0,4).map((H,Z)=>{const ce=H.icon;return p("div",{className:"text-center p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[l(ce,{className:"text-2xl mx-auto mb-2 text-white/90"}),l("div",{className:"text-2xl font-bold text-white",children:H.value}),l("div",{className:"text-sm text-white/80",children:H.label})]},Z)})})]}),p("div",{className:"bg-white/10 backdrop-blur-sm rounded-3xl p-8 border-2 border-white/20 shadow-2xl",children:[p("div",{className:"text-center mb-8",children:[l("div",{className:"text-5xl lg:text-6xl font-bold text-white mb-2",children:T(e.price)}),l("div",{className:"text-xl text-white/80",children:e.status==="for-rent"||e.status==="forRent"||e.status==="rent"?"per month":"Total Price"}),m.area&&p("div",{className:"text-white/70 text-sm mt-2",children:[T(e.price/m.area)," per sq ft"]})]}),p("div",{className:"space-y-4",children:[p("button",{onClick:()=>o(!0),className:"w-full bg-white text-blue-600 py-4 rounded-2xl hover:bg-blue-50 transition-all duration-300 font-semibold flex items-center justify-center space-x-3 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[l(_o,{className:"text-lg"}),l("span",{children:"Contact Agent"})]}),p("button",{onClick:()=>u(!0),className:"w-full border-2 border-white text-white py-4 rounded-2xl hover:bg-white/10 transition-all duration-300 font-semibold flex items-center justify-center space-x-3 text-lg backdrop-blur-sm hover:scale-105",children:[l(wh,{className:"text-lg"}),l("span",{children:"Schedule Viewing"})]}),p("button",{className:"w-full border border-white/30 text-white/90 py-4 rounded-2xl hover:bg-white/5 transition-all duration-300 font-medium flex items-center justify-center space-x-3 text-lg backdrop-blur-sm",children:[l(yc,{className:"text-lg"}),l("span",{children:"Email Details"})]})]}),l("div",{className:"mt-6 pt-6 border-t border-white/20",children:p("div",{className:"grid grid-cols-2 gap-4 text-center text-white/80 text-sm",children:[p("div",{children:[l("div",{className:"font-semibold",children:"Property ID"}),l("div",{className:"font-mono",children:((E=e._id)==null?void 0:E.slice(-8))||((C=e.id)==null?void 0:C.slice(-8))})]}),p("div",{children:[l("div",{className:"font-semibold",children:"Updated"}),l("div",{children:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"Today"})]})]})})]})]})]})}),l("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:l(CP,{className:"text-white text-2xl"})})]}),p(xo,{children:[l("div",{className:"py-12 -mt-20 relative z-20",children:l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map((H,Z)=>l("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:p("div",{className:"flex items-center space-x-4",children:[l("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:l(H.icon,{className:"text-xl"})}),p("div",{children:[l("div",{className:"text-2xl font-bold text-gray-900",children:H.value}),l("div",{className:"text-sm text-gray-600",children:H.label}),H.badge&&l("span",{className:"inline-block mt-1 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:H.badge}),H.trend&&l("span",{className:"inline-block mt-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:H.trend})]})]})},Z))})}),l("div",{className:"py-12",children:l(OR,{images:e.images||[],title:e.title,className:"rounded-3xl overflow-hidden shadow-2xl"})}),p(J4,{gap:12,children:[p("div",{className:"space-y-12",children:[l("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-2",children:l("nav",{className:"flex space-x-1",children:[{id:"overview",label:"Overview",icon:Ho},{id:"features",label:"Features",icon:Ws},{id:"location",label:"Location",icon:Rv},{id:"details",label:"Details",icon:ho}].map(H=>{const Z=H.icon;return p("button",{onClick:()=>a(H.id),className:`flex items-center space-x-2 py-4 px-6 rounded-2xl font-medium text-sm transition-all duration-300 ${i===H.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[l(Z,{className:"text-lg"}),l("span",{children:H.label})]},H.id)})})}),p("div",{className:"space-y-8",children:[i==="overview"&&p("div",{className:"space-y-8",children:[p("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[l("h3",{className:"text-3xl font-bold text-gray-900 mb-6 font-serif",children:"Property Description"}),l("p",{className:"text-gray-700 leading-relaxed text-lg",children:e.description||"This exquisite property represents the pinnacle of modern luxury living. Meticulously designed with attention to every detail, this home offers an unparalleled living experience in one of the most sought-after locations."})]}),p("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[l("h3",{className:"text-3xl font-bold text-gray-900 mb-8 font-serif",children:"Property Features"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map((H,Z)=>{const ce=H.icon;return p("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-100 hover:border-blue-200 transition-all duration-300 group hover:shadow-lg",children:[l("div",{className:"p-3 bg-blue-100 rounded-xl text-blue-600 group-hover:scale-110 transition-transform duration-300",children:l(ce,{className:"text-xl"})}),p("div",{className:"flex-1",children:[p("div",{className:"flex justify-between items-center",children:[l("span",{className:"text-sm text-gray-600 font-medium",children:H.label}),l("span",{className:"text-lg font-bold text-gray-900",children:H.value})]}),l("p",{className:"text-xs text-gray-500 mt-1",children:H.description})]})]},Z)})})]})]}),i==="features"&&p("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[l("h3",{className:"text-3xl font-bold text-gray-900 mb-8 font-serif",children:"Amenities & Features"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map((H,Z)=>{const ce=H.toLowerCase().replace(/\s+/g,"-"),Ne=A[ce]||Ws;return p("div",{className:"flex items-center space-x-4 p-4 bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-100 hover:border-green-200 transition-all duration-300 group hover:shadow-lg",children:[l("div",{className:"p-2 bg-green-100 rounded-lg text-green-600 group-hover:scale-110 transition-transform duration-300",children:l(Ne,{className:"text-lg"})}),l("span",{className:"text-gray-700 font-medium",children:H})]},Z)})})]}),i==="location"&&l("div",{className:"space-y-8",children:p("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[l("h3",{className:"text-3xl font-bold text-gray-900 mb-6 font-serif",children:"Location & Neighborhood"}),p("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[p("div",{className:"space-y-4",children:[p("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Address"}),p("div",{className:"space-y-2 text-gray-700",children:[l("p",{className:"text-lg",children:g.address||e.formattedAddress}),g.city&&p("p",{children:[g.city,", ",g.state," ",g.zipCode]}),g.country&&l("p",{children:g.country})]})]}),p("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Neighborhood"}),p("p",{className:"text-gray-700 leading-relaxed",children:["Located in the prestigious ",g.neighborhood||g.city||"this sought-after"," neighborhood, this property offers unparalleled access to top-rated schools, luxury shopping centers, fine dining establishments, and beautiful parks. Excellent transportation links make commuting effortless."]})]})]}),p("div",{className:"space-y-4",children:[p("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Walk Score"}),p("div",{className:"flex items-center space-x-4",children:[l("div",{className:"text-3xl font-bold text-green-600",children:"92"}),p("div",{className:"text-sm text-gray-600",children:[l("div",{children:"Walker's Paradise"}),l("div",{children:"Excellent public transportation"})]})]})]}),p("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Nearby Amenities"}),p("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-700",children:[l("div",{children:" Schools: 0.3 mi"}),l("div",{children:" Shopping: 0.2 mi"}),l("div",{children:" Hospital: 0.8 mi"}),l("div",{children:" Metro: 0.1 mi"})]})]})]})]}),l(RR,{property:e,height:"500px",interactive:!0,className:"rounded-2xl overflow-hidden shadow-lg"})]})}),i==="details"&&p("div",{className:"bg-white rounded-3xl shadow-lg border border-gray-100 p-8",children:[l("h3",{className:"text-3xl font-bold text-gray-900 mb-8 font-serif",children:"Property Details"}),p("div",{className:"grid lg:grid-cols-2 gap-8",children:[l("div",{className:"space-y-6",children:p("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-4 text-xl",children:"Basic Information"}),l("div",{className:"space-y-4",children:[{label:"Property Type",value:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"Residential"},{label:"Property Status",value:k(e.status)},{label:"Year Built",value:m.yearBuilt||"N/A"},{label:"Lot Size",value:m.lotSize?`${m.lotSize} ${m.lotSizeUnit||"sq ft"}`:"N/A"},{label:"Property Style",value:m.architecturalStyle||"Contemporary"},{label:"Construction",value:m.constructionType||"Brick"}].map((H,Z)=>p("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[l("span",{className:"text-gray-600 font-medium",children:H.label}),l("span",{className:"font-semibold text-gray-900",children:H.value})]},Z))})]})}),l("div",{className:"space-y-6",children:p("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-4 text-xl",children:"Additional Information"}),l("div",{className:"space-y-4",children:[{label:"Currency",value:e.currency||"EUR"},{label:"Listed Date",value:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"},{label:"Last Updated",value:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"},{label:"Property ID",value:e._id||e.id},{label:"MLS Number",value:m.mlsNumber||"N/A"},{label:"Tax Amount",value:m.annualTaxes?T(m.annualTaxes):"N/A"}].map((H,Z)=>p("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[l("span",{className:"text-gray-600 font-medium",children:H.label}),l("span",{className:"font-semibold text-gray-900",children:H.value})]},Z))})]})})]})]})]})]}),p("div",{className:"space-y-8",children:[p("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 p-8 sticky top-8",children:[l("h4",{className:"font-semibold text-gray-900 mb-6 text-2xl font-serif",children:"Property Agent"}),p("div",{className:"flex items-center space-x-6 mb-8",children:[l("img",{src:((I=e.agent)==null?void 0:I.avatar)||((M=e.agentInfo)==null?void 0:M.photoURL)||"/images/avatar-placeholder.jpg",alt:((O=e.agent)==null?void 0:O.name)||((z=e.agentInfo)==null?void 0:z.name),className:"w-20 h-20 rounded-2xl border-4 border-blue-200 shadow-lg"}),p("div",{className:"flex-1",children:[l("p",{className:"font-bold text-gray-900 text-xl",children:((B=e.agent)==null?void 0:B.name)||((Q=e.agentInfo)==null?void 0:Q.name)||"Professional Agent"}),l("p",{className:"text-gray-600 mb-2",children:"Licensed Real Estate Agent"}),p("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(H=>l(Ws,{className:"text-yellow-400 text-sm fill-current"},H)),l("span",{className:"text-sm text-gray-500 ml-2",children:"4.9 (128 reviews)"})]})]})]}),p("div",{className:"space-y-4 mb-6",children:[p("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[l("span",{children:"Properties Sold"}),l("span",{className:"font-semibold text-gray-900",children:"247"})]}),p("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[l("span",{children:"Experience"}),l("span",{className:"font-semibold text-gray-900",children:"8 years"})]}),p("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[l("span",{children:"Response Time"}),l("span",{className:"font-semibold text-green-600",children:"~15 mins"})]})]}),p("div",{className:"space-y-4",children:[p("button",{onClick:()=>o(!0),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 font-semibold flex items-center justify-center space-x-3 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[l(_o,{className:"text-lg"}),l("span",{children:"Contact Agent"})]}),p("button",{onClick:()=>u(!0),className:"w-full border-2 border-blue-600 text-blue-600 py-4 rounded-2xl hover:bg-blue-50 transition-all duration-300 font-semibold flex items-center justify-center space-x-3 text-lg hover:scale-105",children:[l(wh,{className:"text-lg"}),l("span",{children:"Schedule Viewing"})]}),p("button",{className:"w-full border border-gray-300 text-gray-700 py-4 rounded-2xl hover:bg-gray-50 transition-all duration-300 font-semibold flex items-center justify-center space-x-3 text-lg",children:[l(yc,{className:"text-lg"}),l("span",{children:"Send Message"})]})]})]}),p("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8 border border-blue-200 shadow-lg",children:[l("h4",{className:"font-semibold text-gray-900 mb-6 text-xl",children:"Property Summary"}),l("div",{className:"space-y-4",children:[{label:"Property ID",value:e._id||e.id,icon:ho},{label:"Total Views",value:"1,247",icon:Ov},{label:"Days on Market",value:"14 days",icon:kv},{label:"Last Price Update",value:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"Today",icon:wh}].map((H,Z)=>{const ce=H.icon;return p("div",{className:"flex items-center justify-between py-2",children:[p("div",{className:"flex items-center space-x-3",children:[l(ce,{className:"text-blue-600 text-lg"}),l("span",{className:"text-gray-600 font-medium",children:H.label})]}),l("span",{className:"font-semibold text-gray-900",children:H.value})]},Z)})})]}),p("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-3xl p-8 border border-green-200 shadow-lg",children:[l("h4",{className:"font-semibold text-gray-900 mb-4 text-xl",children:"Mortgage Estimate"}),p("div",{className:"space-y-3 text-sm",children:[p("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Monthly Payment"}),p("span",{className:"font-semibold text-gray-900",children:["~",T(e.price*.004)]})]}),p("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Interest Rate"}),l("span",{className:"font-semibold text-gray-900",children:"4.2%"})]}),p("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Down Payment"}),l("span",{className:"font-semibold text-gray-900",children:"20%"})]}),l("button",{className:"w-full mt-4 bg-green-600 text-white py-3 rounded-2xl hover:bg-green-700 transition duration-200 font-semibold",children:"Calculate Mortgage"})]})]})]})]})]})]}),s&&l("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:p("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl transform animate-scale-in",children:[l(LR,{propertyId:e._id||e.id,propertyTitle:e.title,agentId:e.agentId,onClose:()=>o(!1)}),l("button",{onClick:()=>o(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 p-3 rounded-2xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-110",children:""})]})}),c&&l("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:p("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl transform animate-scale-in",children:[l(jR,{propertyId:e._id||e.id,propertyTitle:e.title,agentId:e.agentId,agentName:((ne=e.agent)==null?void 0:ne.name)||((he=e.agentInfo)==null?void 0:he.name),onClose:()=>u(!1)}),l("button",{onClick:()=>u(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 p-3 rounded-2xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-110",children:""})]})})]})},zc=({post:t,variant:e="default",className:r=""})=>{var _,S;const{_id:n,id:i=n,title:a,excerpt:s,featuredImage:o,authorName:c,authorAvatar:u,author:d={name:c,avatar:u},createdAt:f,publishDate:m=f,readTime:g,categories:w,tags:x,featured:v=!1,views:P=0}=t,A=()=>o?typeof o=="object"&&o.url?o.url:typeof o=="string"?o:"/images/blog-placeholder.jpg":"/images/blog-placeholder.jpg",T=E=>{if(!E)return"Unknown date";try{return new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid date"}},L=E=>({"market-news":"bg-blue-100 text-blue-800 border border-blue-200","home-improvement":"bg-green-100 text-green-800 border border-green-200",investment:"bg-purple-100 text-purple-800 border border-purple-200",neighborhood:"bg-orange-100 text-orange-800 border border-orange-200","design-tips":"bg-indigo-100 text-indigo-800 border border-indigo-200",mortgage:"bg-pink-100 text-pink-800 border border-pink-200",legal:"bg-red-100 text-red-800 border border-red-200",lifestyle:"bg-yellow-100 text-yellow-800 border border-yellow-200"})[E]||"bg-gray-100 text-gray-800 border border-gray-200",k=E=>E.split("-").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),D=()=>`/blog/${t.slug||i||n}`;return e==="minimal"?p("article",{className:`flex space-x-4 group ${r}`,children:[l("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-gray-200",children:l("img",{src:A(),alt:a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:E=>{E.target.src="/images/blog-placeholder.jpg"}})}),p("div",{className:"flex-1 min-w-0",children:[l("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2 mb-1",children:l(Ue,{to:D(),children:a||"Untitled Post"})}),p("p",{className:"text-sm text-gray-500",children:[T(m),"  ",g||5," min read"]})]})]}):e==="featured"?l("article",{className:`group relative bg-white rounded-2xl shadow-lg overflow-hidden ${r}`,children:p(Ue,{to:D(),className:"block",children:[p("div",{className:"relative h-64 bg-gray-200 overflow-hidden",children:[l("img",{src:A(),alt:(o==null?void 0:o.alt)||a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:E=>{E.target.src="/images/blog-placeholder.jpg"}}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),v&&l("div",{className:"absolute top-4 left-4",children:l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"})})]}),p("div",{className:"p-6",children:[w&&w.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-3",children:w.slice(0,2).map(E=>l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L(E)}`,children:k(E)},E))}),l("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 mb-3 line-clamp-2",children:a||"Untitled Post"}),l("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s||"No excerpt available..."}),p("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[p("div",{className:"flex items-center space-x-4",children:[p("div",{className:"flex items-center space-x-1",children:[l("img",{src:(d==null?void 0:d.avatar)||u||"/images/avatar-placeholder.jpg",alt:(d==null?void 0:d.name)||c||"Author",className:"w-6 h-6 rounded-full",onError:E=>{E.target.src="/images/avatar-placeholder.jpg"}}),l("span",{children:(d==null?void 0:d.name)||c||"Unknown Author"})]}),l("span",{children:T(m)})]}),p("span",{children:[g||5," min read"]})]})]})]})}):l("article",{className:`bg-white rounded-2xl shadow-lg overflow-hidden group hover:shadow-xl transition-all duration-300 ${r}`,children:p(Ue,{to:D(),className:"block",children:[p("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[l("img",{src:A(),alt:(o==null?void 0:o.alt)||a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:E=>{E.target.src="/images/blog-placeholder.jpg"}}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),v&&l("div",{className:"absolute top-4 left-4",children:l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"})})]}),p("div",{className:"p-6",children:[w&&w.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-3",children:w.slice(0,2).map(E=>l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L(E)}`,children:k(E)},E))}),l("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 mb-3 line-clamp-2",children:a||"Untitled Post"}),l("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s||"No excerpt available..."}),p("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[p("div",{className:"flex items-center space-x-3",children:[p("div",{className:"flex items-center space-x-2",children:[l("img",{src:(d==null?void 0:d.avatar)||u||"/images/avatar-placeholder.jpg",alt:(d==null?void 0:d.name)||c||"Author",className:"w-6 h-6 rounded-full",onError:E=>{E.target.src="/images/avatar-placeholder.jpg"}}),l("span",{children:(d==null?void 0:d.name)||c||"Unknown Author"})]}),l("span",{children:""}),l("span",{children:T(m)})]}),p("span",{children:[g||5," min read"]})]}),l("div",{className:"mt-3 pt-3 border-t border-gray-100",children:p("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[p("span",{children:[" ",P||0," views"]}),p("span",{children:[" ",((_=t.comments)==null?void 0:_.length)||0," comments"]}),p("span",{children:[" ",((S=t.likes)==null?void 0:S.length)||0," likes"]})]})})]})]})})},$R=({posts:t,loading:e=!1,error:r=null,currentPage:n=1,totalPages:i=1,totalItems:a=0,itemsPerPage:s=9,onPageChange:o,onItemsPerPageChange:c,className:u="",emptyMessage:d="No blog posts found.",showFeatured:f=!0})=>{if(e)return l("div",{className:"flex justify-center items-center py-12",children:l(nl,{size:"large",text:"Loading blog posts..."})});if(r)return l("div",{className:"text-center py-12",children:p("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 max-w-md mx-auto",children:[l("svg",{className:"w-12 h-12 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Blog Posts"}),l("p",{className:"text-red-600",children:r}),l("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Try Again"})]})});if(!t||t.length===0)return l("div",{className:"text-center py-12",children:p("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 max-w-md mx-auto",children:[l("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Posts Found"}),l("p",{className:"text-gray-600 mb-4",children:d}),l("a",{href:"/blog",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"View All Posts"})]})});const m=f?t.find(w=>w.featured):null,g=f?t.filter(w=>!w.featured):t;return p("div",{className:u,children:[p("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-2 sm:space-y-0",children:[p("div",{children:[p("h2",{className:"text-2xl font-bold text-gray-900",children:["Blog Posts ",a>0&&`(${a})`]}),l("p",{className:"text-gray-600 mt-1",children:a>0?`Showing ${(n-1)*s+1}-${Math.min(n*s,a)} of ${a} posts`:"No posts found"})]}),p("div",{className:"flex items-center space-x-4",children:[p("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l("option",{children:"Sort by: Newest"}),l("option",{children:"Sort by: Oldest"}),l("option",{children:"Sort by: Most Popular"}),l("option",{children:"Sort by: Title A-Z"})]}),p("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[l("button",{className:"p-2 bg-white border-r border-gray-300 hover:bg-gray-50",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l("button",{className:"p-2 bg-gray-100 border-l border-gray-300",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),m&&p("div",{className:"mb-12",children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Featured Post"}),l(zc,{post:m,variant:"featured"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8",children:g.map(w=>l(zc,{post:w},w.id))}),i>1&&l(e_,{currentPage:n,totalPages:i,totalItems:a,itemsPerPage:s,onPageChange:o,onItemsPerPageChange:c})]})},FR=({size:t="medium",variant:e="default",className:r="",onSubmit:n})=>{const[i,a]=y.useState(!1),[s,o]=y.useState(null),{values:c,errors:u,handleChange:d,handleSubmit:f,resetForm:m}=id({initialValues:{email:"",firstName:"",preferences:{newListings:!0,priceUpdates:!0,marketNews:!1,buyingTips:!1,sellingTips:!1}},validate:A=>{const T={};return A.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)||(T.email="Please enter a valid email address"):T.email="Email is required",T},onSubmit:async A=>{a(!0),o(null);try{n?await n(A):await g(A),o({type:"success",message:"Thank you for subscribing! Please check your email to confirm your subscription."}),m()}catch(T){o({type:"error",message:T.message||"Sorry, there was an error with your subscription. Please try again."})}finally{a(!1)}}}),g=async A=>{const T={}.REACT_APP_MAILERLITE_API_KEY,L={}.REACT_APP_MAILERLITE_GROUP_ID;if(!T||!L)throw new Error("Newsletter service is not properly configured.");const k={email:A.email,name:A.firstName||"",fields:{new_listings:A.preferences.newListings,price_updates:A.preferences.priceUpdates,market_news:A.preferences.marketNews,buying_tips:A.preferences.buyingTips,selling_tips:A.preferences.sellingTips,subscribed_at:new Date().toISOString(),source:"website_newsletter"}},D=await fetch("https://api.mailerlite.com/api/v2/subscribers",{method:"POST",headers:{"Content-Type":"application/json","X-MailerLite-ApiKey":T},body:JSON.stringify(k)}),_=await D.json();if(!D.ok)throw _.error&&_.error.code===104?new Error("This email is already subscribed to our newsletter."):_.error?new Error(_.error.message||"Subscription failed. Please try again."):new Error("Subscription failed. Please try again.");return _},w={small:"text-sm",medium:"text-base",large:"text-lg"},x={default:"bg-white border border-gray-300",dark:"bg-gray-800 border-gray-700",minimal:"bg-transparent border-0"},v={default:"text-gray-900",dark:"text-white",minimal:"text-gray-900"},P=e==="default"&&t==="large";return e==="minimal"?p("div",{className:`${r}`,children:[p("form",{onSubmit:f,className:"flex flex-col sm:flex-row gap-2",children:[p("div",{className:"flex-1",children:[l("input",{type:"email",name:"email",value:c.email,onChange:d,placeholder:"Enter your email",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${w[t]}`,disabled:i}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),l("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold whitespace-nowrap",children:i?"Subscribing...":"Subscribe"})]}),s&&l("div",{className:`mt-2 p-2 rounded text-sm ${s.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.message})]}):p("div",{className:`rounded-2xl p-6 ${x[e]} ${r}`,children:[p("div",{className:`mb-4 ${v[e]}`,children:[l("h3",{className:`font-bold mb-2 ${t==="large"?"text-2xl":"text-xl"}`,children:"Stay Updated"}),l("p",{className:`opacity-90 ${w[t]}`,children:"Get the latest property listings, market insights, and real estate news delivered to your inbox."})]}),s&&l("div",{className:`p-3 rounded-lg mb-4 ${s.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.message}),p("form",{onSubmit:f,className:"space-y-4",children:[P&&p("div",{children:[l("label",{htmlFor:"firstName",className:`block font-medium mb-2 ${v[e]}`,children:"First Name (Optional)"}),l("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:d,disabled:i,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} disabled:opacity-50`,placeholder:"Enter your first name"})]}),p("div",{children:[l("label",{htmlFor:"email",className:`block font-medium mb-2 ${v[e]}`,children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:c.email,onChange:d,disabled:i,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-500":e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} disabled:opacity-50`,placeholder:"Enter your email address"}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),P&&p("div",{children:[l("label",{className:`block font-medium mb-3 ${v[e]}`,children:"Email Preferences"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.preferences).map(([A,T])=>p("label",{className:`flex items-center space-x-3 ${v[e]} ${i?"opacity-50":""}`,children:[l("input",{type:"checkbox",name:`preferences.${A}`,checked:T,onChange:L=>d({target:{name:`preferences.${A}`,value:L.target.checked}}),disabled:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),l("span",{className:"text-sm capitalize",children:A.replace(/([A-Z])/g," $1").trim()})]},A))})]}),l("button",{type:"submit",disabled:i,className:`w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center justify-center space-x-2 ${t==="large"?"text-lg":""}`,children:i?p(vr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Subscribing..."})]}):l("span",{children:"Subscribe to Newsletter"})}),l("p",{className:`text-xs opacity-75 text-center ${v[e]} ${i?"opacity-50":""}`,children:"By subscribing, you agree to our Privacy Policy and consent to receive updates from our company."})]}),P&&p("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:`font-semibold mb-3 ${v[e]}`,children:"What You'll Receive"}),p("ul",{className:`space-y-2 text-sm ${v[e]} opacity-90`,children:[p("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"New property listings matching your criteria"})]}),p("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Exclusive price updates and market trends"})]}),p("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Expert real estate advice and tips"})]})]})]})]})},Ff=({recentPosts:t=[],categories:e=[],tags:r=[],popularPosts:n=[],className:i=""})=>{const[a,s]=y.useState(""),o=d=>{d.preventDefault(),a.trim()&&(window.location.href=`/blog/search?q=${encodeURIComponent(a)}`)},c=e.slice(0,5),u=r.slice(0,10);return p("aside",{className:`space-y-8 ${i}`,children:[p("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search Blog"}),l("form",{onSubmit:o,className:"space-y-3",children:p("div",{className:"relative",children:[l("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Search articles...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12"}),l("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]}),p("div",{className:"bg-blue-50 rounded-2xl p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About Our Blog"}),l("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:"Welcome to our real estate blog! We share expert insights, market trends, buying and selling tips, and industry news to help you make informed decisions in your real estate journey."}),p(Ue,{to:"/about",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm flex items-center space-x-1",children:[l("span",{children:"Learn more about us"}),l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.length>0&&p("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),l("ul",{className:"space-y-2",children:c.map(d=>l("li",{children:p(Ue,{to:`/blog/category/${d.slug}`,className:"flex items-center justify-between text-gray-600 hover:text-blue-600 transition-colors duration-200 py-2 group",children:[l("span",{className:"capitalize",children:d.name}),l("span",{className:"bg-gray-100 text-gray-500 text-xs px-2 py-1 rounded-full group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors duration-200",children:d.count})]})},d.slug))}),e.length>5&&l(Ue,{to:"/blog/categories",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm mt-3 inline-block",children:"View all categories"})]}),t.length>0&&p("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Posts"}),l("div",{className:"space-y-4",children:t.slice(0,3).map(d=>l(zc,{post:d,variant:"minimal"},d.id))}),l(Ue,{to:"/blog",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm mt-4 inline-block",children:"View all posts"})]}),n.length>0&&p("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Posts"}),l("div",{className:"space-y-4",children:n.slice(0,3).map((d,f)=>p("div",{className:"flex items-start space-x-3 group",children:[l("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full text-xs flex items-center justify-center font-semibold mt-1",children:f+1}),p("div",{className:"flex-1 min-w-0",children:[l(Ue,{to:`/blog/${d.id}`,className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2 mb-1",children:d.title}),l("p",{className:"text-xs text-gray-500",children:new Date(d.publishDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},d.id))})]}),r.length>0&&p("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Tags"}),l("div",{className:"flex flex-wrap gap-2",children:u.map(d=>p(Ue,{to:`/blog/tag/${d.slug}`,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-blue-100 hover:text-blue-700 transition-colors duration-200",children:["#",d.name]},d.slug))})]}),p("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stay Updated"}),l("p",{className:"text-gray-600 text-sm mb-4",children:"Get the latest real estate insights and market updates delivered to your inbox."}),l(FR,{variant:"minimal",size:"small"})]}),p("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),l("div",{className:"flex space-x-4",children:[{name:"facebook",color:"hover:text-blue-600",icon:""},{name:"twitter",color:"hover:text-blue-400",icon:""},{name:"instagram",color:"hover:text-pink-600",icon:""},{name:"linkedin",color:"hover:text-blue-700",icon:""}].map(d=>l("a",{href:"#",className:`w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 ${d.color} transition-colors duration-200`,"aria-label":`Follow us on ${d.name}`,children:l("span",{className:"text-lg",children:d.icon})},d.name))})]}),p("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-6 text-white",children:[l("h3",{className:"text-lg font-semibold mb-3",children:"Need Real Estate Help?"}),l("p",{className:"text-blue-100 text-sm mb-4",children:"Our expert agents are ready to assist you with buying, selling, or investing in properties."}),l(Ue,{to:"/contact",className:"block w-full bg-white text-blue-600 text-center py-3 rounded-lg font-semibold hover:bg-blue-50 transition duration-200",children:"Contact an Agent"})]})]})},jp=(t={},e=!0)=>{const[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(null),[c,u]=y.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:9}),{get:d,post:f,put:m,del:g}=ad(),w=y.useCallback(async(E={})=>{var C,I,M,O;try{a(!0),o(null);const z=new URLSearchParams;Object.entries(E).forEach(([Q,ne])=>{ne!=null&&ne!==""&&z.append(Q,ne.toString())});const B=await d(`/blog?${z.toString()}`);if(B.success){console.log(" Received posts response:",B.data);const Q=B.data.data||B.data.posts||B.data||[];n(Q),u({currentPage:((C=B.data.pagination)==null?void 0:C.page)||B.data.currentPage||1,totalPages:((I=B.data.pagination)==null?void 0:I.pages)||B.data.totalPages||1,totalItems:((M=B.data.pagination)==null?void 0:M.total)||B.data.total||B.data.totalItems||0,itemsPerPage:((O=B.data.pagination)==null?void 0:O.limit)||B.data.itemsPerPage||9})}else throw new Error(B.message||"Failed to fetch blog posts")}catch(z){o(z.message||"An error occurred while fetching blog posts"),console.error("Error fetching blog posts:",z)}finally{a(!1)}},[d]),x=y.useCallback(async E=>{try{a(!0),o(null);const C=await d(`/blog/${E}`);if(C.success)return C.data.data||C.data;throw new Error(C.message||"Failed to fetch blog post")}catch(C){return o(C.message||"An error occurred while fetching the blog post"),console.error("Error fetching blog post:",C),null}finally{a(!1)}},[d]),v=y.useCallback(async E=>{try{a(!0),o(null);const C=await f("/blog",E);if(C.success){const I=C.data.data||C.data;return n(M=>[I,...M]),I}else throw new Error(C.message||"Failed to create blog post")}catch(C){throw o(C.message||"An error occurred while creating the blog post"),console.error("Error creating blog post:",C),C}finally{a(!1)}},[f]),P=y.useCallback(async(E,C)=>{try{a(!0),o(null),console.log(" updatePost called:",{postId:E,updates:C});const I=await m(`/blog/${E}`,C);if(console.log(" Full API Response:",I),console.log(" Response success:",I.success),console.log(" Response data:",I.data),I.success){const M=I.data.data||I.data;return console.log(" Post updated successfully:",M),console.log(" Checking title match:",{sentTitle:C.title,returnedTitle:M.title,match:C.title===M.title}),n(O=>O.map(z=>(console.log(" Comparing IDs:",{postId:E,post_id:z._id,match:z._id===E}),z._id===E?M:z))),M}else throw console.log(" API returned success: false"),new Error(I.message||"Failed to update blog post")}catch(I){throw o(I.message||"An error occurred while updating the blog post"),console.error("Error updating blog post:",I),I}finally{a(!1)}},[m]),A=y.useCallback(async E=>{try{a(!0),o(null),console.log(" Deleting post:",E);const C=await g(`/blog/${E}`);if(C.success)return n(I=>I.filter(M=>M._id!==E)),!0;throw new Error(C.message||"Failed to delete blog post")}catch(C){throw o(C.message||"An error occurred while deleting the blog post"),console.error("Error deleting blog post:",C),C}finally{a(!1)}},[g]),T=y.useCallback(async(E,C)=>{try{if(console.log(" updateStatus called:",{postId:E,status:C}),!E)throw new Error("Post ID is required for status update");return await P(E,{status:C})}catch(I){throw o(I.message||"An error occurred while updating post status"),console.error("Error in updateStatus:",I),I}},[P]),L=y.useCallback(async(E,C)=>{try{return await P(E,{featured:C})}catch(I){throw o(I.message||"An error occurred while updating featured status"),I}},[P]),k=y.useCallback(async(E,C={})=>{try{a(!0),o(null),await w({...C,search:E})}catch(I){throw o(I.message||"An error occurred while searching blog posts"),console.error("Error searching blog posts:",I),I}},[w]),D=y.useCallback(async(E,C=10)=>{try{const I=await d(`/blog?category=${E}&limit=${C}`);if(I.success)return I.data.data||I.data.posts||[];throw new Error(I.message||"Failed to fetch posts by category")}catch(I){return console.error("Error fetching posts by category:",I),[]}},[d]),_=y.useCallback(async(E,C=10)=>{try{const I=await d(`/blog?tag=${E}&limit=${C}`);if(I.success)return I.data.data||I.data.posts||[];throw new Error(I.message||"Failed to fetch posts by tag")}catch(I){return console.error("Error fetching posts by tag:",I),[]}},[d]);y.useCallback(async()=>(console.warn("getFeaturedPosts not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getRecentPosts not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getRelatedPosts not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getCategories not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getTags not implemented in backend"),[]),[]);const S=y.useCallback(()=>{w(t)},[w,t]);return y.useEffect(()=>{e&&w(t)},[w,t,e]),{posts:r,loading:i,error:s,pagination:c,fetchPosts:w,fetchPost:x,createPost:v,deletePost:A,toggleFeatured:L,updateStatus:T,refetch:S,updatePost:P,searchPosts:k,getPostsByCategory:D,getPostsByTag:_,currentPage:c.currentPage,totalPages:c.totalPages,totalItems:c.totalItems,itemsPerPage:c.itemsPerPage,hasPosts:r.length>0,isEmpty:!i&&r.length===0}},UR=t=>{const[e,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(null),{get:o}=ad(),c=y.useCallback(async d=>{try{i(!0),s(null),console.log(" useBlogPost - Fetching post:",d);const f=await o(`/blog/${d}`);if(console.log(" useBlogPost - API Response:",f),f.success){const m=f.data.data||f.data;console.log(" useBlogPost - Post data received:",m),r(m)}else throw console.log(" useBlogPost - API returned error:",f.message),new Error(f.message||"Failed to fetch blog post")}catch(f){console.error(" useBlogPost - Error:",f),s(f.message||"An error occurred while fetching the blog post")}finally{i(!1),console.log(" useBlogPost - Loading complete")}},[o]);y.useEffect(()=>{console.log(" useBlogPost - useEffect triggered with identifier:",t),t?c(t):(console.log(" useBlogPost - No identifier provided"),i(!1))},[t,c]);const u=y.useCallback(()=>{t&&c(t)},[t,c]);return{post:e,loading:n,error:a,refetch:u,exists:!!e&&!n}},zR=()=>{const[t,e]=fx(),r=y.useMemo(()=>({page:parseInt(t.get("page"))||1,limit:9,category:t.get("category")||"",tag:t.get("tag")||"",search:t.get("search")||""}),[t.get("page"),t.get("category"),t.get("tag"),t.get("search")]),{posts:n,loading:i,error:a,currentPage:s,totalPages:o,totalItems:c,pagination:u}=jp(r),d=y.useMemo(()=>[{name:"Market News",slug:"market-news",count:24},{name:"Buying Guide",slug:"buying-guide",count:18},{name:"Selling Tips",slug:"selling-tips",count:15},{name:"Home Improvement",slug:"home-improvement",count:12},{name:"Investment",slug:"investment",count:8}],[]),f=y.useMemo(()=>[{name:"real estate",slug:"real-estate",count:45},{name:"market trends",slug:"market-trends",count:32},{name:"home buying",slug:"home-buying",count:28},{name:"investment",slug:"investment",count:25},{name:"mortgage",slug:"mortgage",count:22},{name:"interior design",slug:"interior-design",count:18}],[]),m=y.useMemo(()=>i?[]:(n==null?void 0:n.slice(0,3))||[],[n,i]),g=y.useMemo(()=>i?[]:(n==null?void 0:n.slice(3,6))||[],[n,i]),w=y.useCallback(T=>{e(L=>{const k=new URLSearchParams(L);return k.set("page",T.toString()),k}),window.scrollTo({top:0,behavior:"smooth"})},[e]),x=y.useCallback(T=>{e(L=>{const k=new URLSearchParams;return T.page||k.set("page","1"),Object.entries(T).forEach(([D,_])=>{_&&_.toString().trim()!==""&&k.set(D,_.toString())}),k})},[e]),v=y.useCallback(()=>{e(new URLSearchParams({page:"1"}))},[e]),P=y.useMemo(()=>r.category||r.tag||r.search,[r]),A=y.useMemo(()=>{var L,k;const T=[];return r.category&&T.push({type:"category",label:`Category: ${((L=d.find(D=>D.slug===r.category))==null?void 0:L.name)||r.category}`,bgColor:"bg-blue-100 text-blue-800"}),r.tag&&T.push({type:"tag",label:`Tag: ${((k=f.find(D=>D.slug===r.tag))==null?void 0:k.name)||r.tag}`,bgColor:"bg-green-100 text-green-800"}),r.search&&T.push({type:"search",label:`Search: "${r.search}"`,bgColor:"bg-yellow-100 text-yellow-800"}),T},[r,d,f]);return y.useEffect(()=>{console.log(" Blog Component State:",{postsCount:n==null?void 0:n.length,loading:i,error:a,filters:r,currentPage:s,totalPages:o})},[n,i,a,r,s,o]),l(Tr,{children:p(un,{children:[p("div",{className:"relative py-16 mb-12 overflow-hidden bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 rounded-3xl border border-orange-100",children:[p("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-orange-200/40 to-transparent animate-pulse"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-amber-200/30 to-transparent animate-pulse delay-75"}),l("div",{className:"absolute top-1/3 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-orange-300/30 to-transparent animate-pulse"})}),l("div",{className:"absolute bottom-1/4 right-0 w-2/3",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-amber-300/40 to-transparent animate-pulse delay-150"})}),l("div",{className:"absolute top-20 left-16 w-6 h-6 border-2 border-orange-300/50 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-24 right-20 w-8 h-8 border-2 border-amber-300/40 rounded-full animate-float delay-200"}),l("div",{className:"absolute top-32 right-1/4 w-4 h-4 bg-orange-400/20 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute top-1/2 left-1/3 w-2 h-2 bg-orange-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-1/3 right-1/4 w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"}),l("div",{className:"absolute top-6 left-6 w-12 h-12 border-t-2 border-l-2 border-orange-300/50 rounded-tl-lg"}),l("div",{className:"absolute bottom-6 right-6 w-12 h-12 border-b-2 border-r-2 border-amber-300/50 rounded-br-lg"}),l("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-gradient-to-r from-orange-200 to-amber-200 rounded-full blur-2xl opacity-40"}),l("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 bg-gradient-to-r from-amber-200 to-orange-200 rounded-full blur-2xl opacity-30"})]}),p("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[p("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full border border-orange-200 shadow-sm mb-6",children:[l("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),l("span",{className:"text-sm font-semibold text-orange-700 uppercase tracking-wide",children:"Latest Insights"})]}),p("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:["Real Estate ",l("span",{className:"bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Blog"})]}),p("div",{className:"relative inline-block max-w-2xl mb-6",children:[l("div",{className:"absolute -inset-3 bg-white/30 rounded-2xl transform rotate-1 blur-sm"}),l("p",{className:"relative text-xl text-gray-700 leading-relaxed bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/30 shadow-sm",children:"Expert insights, market trends, and tips for buyers, sellers, and investors in the real estate market."})]}),P&&p("div",{className:"relative mt-8 flex flex-wrap gap-3 justify-center",children:[l("div",{className:"absolute -inset-4 bg-white/40 rounded-2xl blur-sm"}),p("div",{className:"relative flex flex-wrap gap-3 justify-center bg-white/60 backdrop-blur-sm p-4 rounded-2xl border border-orange-100 shadow-sm",children:[A.map((T,L)=>l("span",{className:`${T.bgColor} px-4 py-2 rounded-full text-sm font-medium border border-white/50 shadow-sm hover:scale-105 transition-transform duration-200`,children:T.label},`${T.type}-${L}`)),p("button",{onClick:v,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium border border-gray-200 hover:bg-gray-200 hover:scale-105 transition-all duration-200 flex items-center gap-1",children:["Clear All ",l("span",{className:"text-lg",children:""})]})]})]}),p("div",{className:"flex justify-center items-center space-x-3 mt-8",children:[l("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-ping"}),l("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse delay-75"}),l("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-ping delay-150"})]})]})]}),p(Q4,{cols:2,gap:8,children:[l("div",{className:"lg:col-span-3",children:l($R,{posts:n||[],loading:i,error:a,currentPage:s||r.page,totalPages:o||(u==null?void 0:u.totalPages)||1,totalItems:c||(u==null?void 0:u.totalItems)||0,onPageChange:w,showFeatured:!0,filters:r,onFilterChange:x})}),l("div",{className:"lg:col-span-1",children:l("div",{className:"sticky top-24",children:l(Ff,{recentPosts:m,categories:d,tags:f,popularPosts:g,activeFilters:r,onFilterChange:x,onClearFilters:v})})})]})]})})},BR=({post:t,className:e=""})=>{const{_id:r,id:n=r,title:i,content:a,excerpt:s,featuredImage:o,authorName:c,authorEmail:u,authorAvatar:d,author:f={name:c,email:u,avatar:d,role:"Author"},createdAt:m,updatedAt:g,publishDate:w=m,updatedDate:x=g,readTime:v,categories:P,tags:A,featured:T=!1,views:L=0,likes:k=[],comments:D=[],slug:_,relatedPosts:S=[]}=t,E=()=>o?typeof o=="object"&&o.url?o.url:typeof o=="string"?o:"/images/blog-placeholder.jpg":"/images/blog-placeholder.jpg",C=B=>{if(!B)return"Unknown date";try{return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid date"}},I=B=>({"market-news":"bg-blue-100 text-blue-800 border border-blue-200","home-improvement":"bg-green-100 text-green-800 border border-green-200",investment:"bg-purple-100 text-purple-800 border border-purple-200",neighborhood:"bg-orange-100 text-orange-800 border border-orange-200","design-tips":"bg-indigo-100 text-indigo-800 border border-indigo-200",mortgage:"bg-pink-100 text-pink-800 border border-pink-200",legal:"bg-red-100 text-red-800 border border-red-200",lifestyle:"bg-yellow-100 text-yellow-800 border border-yellow-200"})[B]||"bg-gray-100 text-gray-800 border border-gray-200",M=B=>B.split("-").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)).join(" "),O=({content:B})=>p("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),l("nav",{children:l("ul",{className:"space-y-2",children:[{id:"introduction",title:"Introduction",level:2},{id:"key-points",title:"Key Points",level:2},{id:"conclusion",title:"Conclusion",level:2}].map(ne=>l("li",{children:p("a",{href:`#${ne.id}`,className:"text-gray-600 hover:text-blue-600 transition-colors duration-200 flex items-center space-x-2",style:{marginLeft:`${(ne.level-2)*1}rem`},children:[l("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),l("span",{children:ne.title})]})},ne.id))})})]}),z=B=>B?/<[a-z][\s\S]*>/i.test(B):!1;return p("article",{className:`max-w-4xl mx-auto ${e}`,children:[p("header",{className:"mb-8",children:[P&&P.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-4",children:P.map(B=>l(Ue,{to:`/blog/category/${B}`,className:`px-3 py-1 rounded-full text-sm font-semibold hover:opacity-80 transition-opacity duration-200 ${I(B)}`,children:M(B)},B))}),l("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:i||"Untitled Post"}),p("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[p("div",{className:"flex items-center space-x-4",children:[p("div",{className:"flex items-center space-x-3",children:[l("img",{src:(f==null?void 0:f.avatar)||d||"/images/avatar-placeholder.jpg",alt:(f==null?void 0:f.name)||c||"Author",className:"w-12 h-12 rounded-full",onError:B=>{B.target.src="/images/avatar-placeholder.jpg"}}),p("div",{children:[l("p",{className:"font-semibold text-gray-900",children:(f==null?void 0:f.name)||c||"Unknown Author"}),l("p",{className:"text-sm text-gray-600",children:(f==null?void 0:f.role)||"Author"})]})]}),p("div",{className:"text-sm text-gray-600",children:[p("p",{children:["Published ",C(w)]}),x&&w!==x&&p("p",{children:["Updated ",C(x)]})]})]}),p("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[p("span",{children:[v||5," min read"]}),T&&l("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Featured"})]})]}),p("div",{className:"flex items-center space-x-6 mt-4 text-sm text-gray-500",children:[p("span",{children:[" ",L||0," views"]}),p("span",{children:[" ",(D==null?void 0:D.length)||0," comments"]}),p("span",{children:[" ",(k==null?void 0:k.length)||0," likes"]})]})]}),p("div",{className:"mb-8 rounded-2xl overflow-hidden",children:[l("img",{src:E(),alt:(o==null?void 0:o.alt)||i||"Blog post",className:"w-full h-auto max-h-96 object-cover",onError:B=>{B.target.src="/images/blog-placeholder.jpg"}}),(o==null?void 0:o.alt)&&l("p",{className:"text-sm text-gray-500 mt-2 text-center",children:o.alt})]}),s&&l("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6 mb-8",children:p("p",{className:"text-lg font-medium text-blue-900 italic",children:['"',s,'"']})}),l(O,{content:a}),l("div",{className:"prose prose-lg max-w-none mb-12",children:z(a)?l("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:a}}):l("div",{className:"space-y-6 text-gray-700 leading-relaxed",children:a?a.split(`
`).map((B,Q)=>B.trim()?l("p",{children:B},Q):l("br",{},Q)):p("div",{className:"space-y-6",children:[l("p",{children:"This is a sample blog post content. In a real application, this would be populated with the actual blog content from your CMS or database."}),l("h2",{id:"introduction",children:"Introduction"}),l("p",{children:"The real estate market continues to evolve, with new trends and opportunities emerging regularly. Understanding these changes is crucial for both buyers and sellers."}),l("h2",{id:"key-points",children:"Key Points"}),l("p",{children:"Market analysis shows steady growth in suburban areas while urban centers experience shifting demand patterns. Technology continues to transform how properties are bought and sold."}),l("h2",{id:"conclusion",children:"Conclusion"}),l("p",{children:"Staying informed about market trends and working with experienced professionals can help you make the most of your real estate investments."})]})})}),A&&A.length>0&&p("div",{className:"mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),l("div",{className:"flex flex-wrap gap-2",children:A.map(B=>p(Ue,{to:`/blog/tag/${B}`,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors duration-200",children:["#",B]},B))})]}),l("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:p("div",{className:"flex items-start space-x-4",children:[l("img",{src:(f==null?void 0:f.avatar)||d||"/images/avatar-placeholder.jpg",alt:(f==null?void 0:f.name)||c||"Author",className:"w-16 h-16 rounded-full flex-shrink-0",onError:B=>{B.target.src="/images/avatar-placeholder.jpg"}}),p("div",{className:"flex-1",children:[p("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["About ",(f==null?void 0:f.name)||c||"the Author"]}),l("p",{className:"text-gray-600 mb-3",children:(f==null?void 0:f.bio)||`${(f==null?void 0:f.name)||c||"This author"} is an experienced real estate professional with deep knowledge of market trends and property investment strategies.`}),p("div",{className:"flex space-x-4",children:[(f==null?void 0:f.email)&&p("a",{href:`mailto:${f.email}`,className:"text-gray-400 hover:text-blue-600 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"Email"}),p("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[l("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),l("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})]}),p("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"Twitter"}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),p("a",{href:"#",className:"text-gray-400 hover:text-blue-700 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"LinkedIn"}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]})]})}),p("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share this article"}),l("div",{className:"flex space-x-4",children:[{name:"twitter",color:"hover:bg-blue-400 hover:text-white"},{name:"facebook",color:"hover:bg-blue-600 hover:text-white"},{name:"linkedin",color:"hover:bg-blue-700 hover:text-white"},{name:"email",color:"hover:bg-gray-600 hover:text-white"}].map(B=>p("button",{className:`p-3 bg-gray-100 rounded-lg transition-all duration-200 text-gray-600 ${B.color}`,title:`Share on ${B.name}`,children:[p("span",{className:"sr-only",children:["Share on ",B.name]}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})})]},B.name))})]}),p("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:[p("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Comments (",(D==null?void 0:D.length)||0,")"]}),D&&D.length>0?l("div",{className:"space-y-6",children:D.map((B,Q)=>l("div",{className:"border-b border-gray-100 pb-6 last:border-b-0",children:p("div",{className:"flex items-start space-x-3",children:[l("img",{src:B.userAvatar||"/images/avatar-placeholder.jpg",alt:B.userName,className:"w-10 h-10 rounded-full",onError:ne=>{ne.target.src="/images/avatar-placeholder.jpg"}}),p("div",{className:"flex-1",children:[p("div",{className:"flex items-center space-x-2 mb-2",children:[l("h4",{className:"font-semibold text-gray-900",children:B.userName}),l("span",{className:"text-sm text-gray-500",children:C(B.createdAt)})]}),l("p",{className:"text-gray-700",children:B.content})]})]})},Q))}):l("p",{className:"text-gray-500 text-center py-8",children:"No comments yet. Be the first to share your thoughts!"})]})]})},HR=({posts:t,currentPostId:e,title:r="Related Articles",subtitle:n="You might also be interested in these posts",className:i="",maxPosts:a=3})=>{const s=t.filter(o=>o.id!==e).slice(0,a);return s.length===0?null:p("section",{className:`py-8 ${i}`,children:[p("div",{className:"mb-8 text-center",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:r}),l("p",{className:"text-gray-600 text-lg",children:n})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(o=>l(zc,{post:o},o.id))}),l("div",{className:"text-center mt-12",children:p("a",{href:"/blog",className:"inline-flex items-center bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold text-lg",children:[l("span",{children:"View All Blog Posts"}),l("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})},WR=()=>{const{id:t}=mx();console.log(" BlogPost - ID from URL:",t);const{post:e,loading:r,error:n}=UR(t),{posts:i,fetchPosts:a,loading:s}=jp({limit:10},!1);gr.useEffect(()=>{a({limit:10})},[a]);const o=gr.useMemo(()=>(i==null?void 0:i.filter(d=>d._id!==t).slice(0,3))||[],[i,t]),c=[{name:"Market News",slug:"market-news",count:24},{name:"Buying Guide",slug:"buying-guide",count:18},{name:"Selling Tips",slug:"selling-tips",count:15}],u=[{name:"real estate",slug:"real-estate",count:45},{name:"market trends",slug:"market-trends",count:32},{name:"home buying",slug:"home-buying",count:28}];return r?l(Tr,{children:l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p("div",{className:"text-center",children:[l(nl,{size:"large",text:"Loading blog post..."}),l("p",{className:"mt-4 text-gray-600",children:"Please wait while we load the content"})]})})}):n||!e?l(Tr,{children:l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:l(xo,{children:p("div",{className:"text-center max-w-2xl mx-auto",children:[l("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l("span",{className:"text-2xl",children:""})}),l("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Post Not Found"}),l("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:n?`We encountered an error: ${n}`:"The blog post you're looking for doesn't exist or may have been removed."}),p("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l(Ue,{to:"/blog",className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium shadow-sm",children:"Back to Blog"}),l(Ue,{to:"/",className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition duration-200 font-medium shadow-sm",children:"Go Home"})]})]})})})}):l(Tr,{children:p("div",{className:"min-h-screen bg-gray-50",children:[l("div",{className:"container mx-auto px-4 py-8",children:p("div",{className:"flex flex-col lg:flex-row gap-8",children:[l("div",{className:"flex-1",children:p(xo,{children:[l("nav",{className:"mb-8",children:p("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l(Ue,{to:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),l("span",{children:""}),l(Ue,{to:"/blog",className:"hover:text-blue-600 transition-colors",children:"Blog"}),l("span",{children:""}),l("span",{className:"text-gray-900 font-medium truncate",children:e.title})]})}),l("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l(BR,{post:e})}),l("div",{className:"mt-12",children:l(HR,{posts:o,currentPostId:e._id,title:"Related Articles",subtitle:"Continue reading with these related posts"})})]})}),l("div",{className:"lg:w-80 flex-shrink-0",children:l("div",{className:"sticky top-24",children:l(Ff,{recentPosts:(i==null?void 0:i.slice(0,3))||[],categories:c,tags:u})})})]})}),l("div",{className:"lg:hidden bg-white border-t border-gray-200",children:l("div",{className:"container mx-auto px-4 py-6",children:l(Ff,{recentPosts:(i==null?void 0:i.slice(0,3))||[],categories:c,tags:u,mobileLayout:!0})})})]})})},qR=()=>{const t=[{city:"New York",address:"123 Broadway,Port Harcourt",phone:"+ (234)913 2080059",email:"ny@estatepro.com",hours:"Mon-Fri: 9AM-6PM, Sat: 10AM-4PM"}];return l(Tr,{children:p(un,{children:[p("div",{className:"relative text-center mb-16 py-12 overflow-hidden",children:[p("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-10 left-10 w-2 h-20 bg-blue-400/30 animate-pulse rounded-full"}),l("div",{className:"absolute bottom-10 right-20 w-1 h-16 bg-blue-500/40 animate-bounce rounded-full"}),l("div",{className:"absolute top-1/2 left-1/4 w-3 h-3 bg-blue-300 rounded-full animate-ping"})]}),p("div",{className:"relative z-10",children:[l("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Contact Us"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Get in touch with our expert real estate agents. We're here to help you with all your property needs."})]})]}),p("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[p("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-100",children:[l("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Send us a Message"}),l("p",{className:"text-gray-500 mb-6",children:"We'll get back to you within 2 hours"}),l(()=>p("form",{className:"space-y-6",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),l("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Your name"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"your.email@example.com"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),l("textarea",{rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"How can we help you?"})]}),l("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Send Message"})]}),{})]}),p("div",{className:"space-y-8",children:[p("div",{children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Get in Touch"}),l("div",{className:"grid grid-cols-1 gap-4",children:[{icon:"",title:"Call Us",description:"Speak directly with our agents",details:"+ (234)913 2080059",action:"tel:+2349132080059"},{icon:"",title:"Email Us",description:"Send us a message anytime",details:"nfo@Octopusrealestate.com",action:"mailto:nfo@Octopusrealestate.com"}].map((n,i)=>l("a",{href:n.action,className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-300 hover:border-blue-200",children:p("div",{className:"flex items-start space-x-4",children:[l("div",{className:"text-2xl",children:n.icon}),p("div",{children:[l("h4",{className:"font-semibold text-gray-900",children:n.title}),l("p",{className:"text-sm text-gray-600 mt-1",children:n.description}),l("p",{className:"text-blue-600 font-semibold mt-2",children:n.details})]})]})},i))})]}),p("div",{children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Our Offices"}),l("div",{className:"space-y-4",children:t.map((n,i)=>p("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[p("h4",{className:"font-semibold text-gray-900 text-lg mb-3",children:[n.city," Office"]}),p("div",{className:"space-y-2 text-sm text-gray-600",children:[p("p",{children:[" ",n.address]}),p("p",{children:[" ",n.phone]}),p("p",{children:[" ",n.email]}),p("p",{children:[" ",n.hours]})]})]},i))})]})]})]})]})})},KR=()=>{const t=[{name:"Sarah Johnson",role:"CEO & Founder",experience:"15+ years",specialty:"Luxury Properties",image:"/images/team/sarah.jpg",bio:"Sarah founded Octopus Real Estate with a vision to revolutionize real estate services through technology and personalized care."},{name:"Michael Chen",role:"Head of Sales",experience:"12+ years",specialty:"Commercial Real Estate",image:"/images/team/michael.jpg",bio:"Michael leads our sales team with expertise in commercial properties and investment opportunities."},{name:"Emily Rodriguez",role:"Senior Agent",experience:"8+ years",specialty:"First-time Buyers",image:"/images/team/emily.jpg",bio:"Emily specializes in helping first-time home buyers navigate the complex process of purchasing their dream home."},{name:"David Thompson",role:"Property Manager",experience:"10+ years",specialty:"Rental Properties",image:"/images/team/david.jpg",bio:"David manages our extensive portfolio of rental properties, ensuring optimal returns for investors."}],e=[{year:"2008",event:"Company Founded",description:"Started with a single office in Port Harcourt"},{year:"2012",event:"1000+ Properties",description:"Reached milestone of 1000 properties sold"},{year:"2015",event:"National Expansion",description:"Expanded to major cities across the US"},{year:"2018",event:"Tech Platform Launch",description:"Launched our proprietary real estate platform"},{year:"2022",event:"5000+ Clients",description:"Helped over 5000 clients find their perfect homes"},{year:"2024",event:"Award Winning",description:"Recognized as top real estate agency nationally"}],r=[{icon:l(mf,{className:"w-10 h-10"}),title:"Trust & Integrity",description:"We build relationships based on honesty and transparency in every transaction."},{icon:l(Um,{className:"w-10 h-10"}),title:"Expert Guidance",description:"Our experienced agents provide expert advice tailored to your unique needs."},{icon:l(UP,{className:"w-10 h-10"}),title:"Innovation",description:"We leverage cutting-edge technology to simplify the real estate process."},{icon:l(wx,{className:"w-10 h-10"}),title:"Client First",description:"Your goals and satisfaction are at the center of everything we do."}];return l(Tr,{children:p(un,{children:[p("section",{className:"relative py-8 overflow-hidden",children:[p("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-1/4 left-10 w-1 h-32 bg-blue-500/30 animate-pulse"}),l("div",{className:"absolute bottom-1/3 right-20 w-1 h-24 bg-blue-400/40 animate-bounce"}),l("div",{className:"absolute top-1/2 left-1/4 w-1 h-16 bg-blue-300/50 animate-ping"}),l("div",{className:"absolute top-10 right-1/4 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-20 left-1/3 w-2 h-2 bg-blue-300 rounded-full animate-pulse delay-75"}),l("div",{className:"absolute top-40 right-40 w-4 h-4 bg-blue-500/60 rounded-full animate-ping delay-150"}),l("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-gradient-to-r from-blue-100 to-cyan-100 rounded-full blur-xl opacity-60"}),l("div",{className:"absolute -bottom-16 -right-16 w-32 h-32 bg-gradient-to-r from-cyan-100 to-blue-100 rounded-full blur-xl opacity-40"})]}),p("div",{className:"relative z-10 text-center mb-16 max-w-4xl mx-auto px-4",children:[l("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 animate-fade-in",children:"About Octopus Real Estate"}),p("div",{className:"relative inline-block mb-8",children:[l("div",{className:"absolute -inset-4 bg-blue-50 rounded-lg transform rotate-3 animate-pulse"}),l("p",{className:"relative text-xl text-gray-600 leading-relaxed bg-white/80 backdrop-blur-sm p-6 rounded-lg border border-blue-100 shadow-sm",children:"For over 15 years, Octopus Real Estate has been transforming the real estate experience through innovation, expertise, and unwavering commitment to our clients' success."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12",children:[{icon:"",label:"Residential"},{icon:"",label:"Commercial"},{icon:"",label:"Urban"},{icon:"",label:"Luxury"}].map((n,i)=>p("div",{className:"flex flex-col items-center p-4 bg-white/70 backdrop-blur-sm rounded-lg border border-blue-100 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[l("span",{className:"text-2xl mb-2",children:n.icon}),l("span",{className:"text-sm font-medium text-gray-700",children:n.label})]},i))})]})]}),l("section",{className:"mb-8",children:p(J4,{children:[p("div",{children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),p("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[l("p",{children:"Founded in 2008, Octopus Real Estate began as a small real estate agency with a big vision: to make property buying and selling simpler, smarter, and more transparent."}),l("p",{children:"What started as a single office in New York has grown into a nationwide network of expert agents, serving thousands of clients across the United States."}),l("p",{children:"Today, we combine deep market knowledge with cutting-edge technology to deliver exceptional results for buyers, sellers, and investors alike."})]})]}),l("div",{children:l("img",{src:"/images/about-story.jpg",alt:"Our office team",className:"rounded-2xl shadow-lg w-full h-auto"})})]})}),p("section",{className:"mb-16",children:[p("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Values"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((n,i)=>p("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 text-center group",children:[l("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-white border border-blue-200 mb-4 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300 mx-auto",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),p("section",{className:"mb-16",children:[p("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Experienced professionals dedicated to your real estate success"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((n,i)=>p("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-blue-100 group",children:[l("img",{src:n.image,alt:n.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),p("div",{className:"p-6",children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:n.name}),l("p",{className:"text-blue-600 font-medium mb-2",children:n.role}),p("div",{className:"text-sm text-gray-600 space-y-1 mb-3",children:[p("div",{className:"flex items-center space-x-2",children:[l(xx,{className:"w-4 h-4 text-blue-500"}),p("span",{children:["Experience: ",n.experience]})]}),p("div",{className:"flex items-center space-x-2",children:[l(Ho,{className:"w-4 h-4 text-blue-500"}),p("span",{children:["Specialty: ",n.specialty]})]})]}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.bio})]})]},i))})]}),p("section",{className:"mb-16",children:[p("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Journey"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Milestones that mark our growth and success"})]}),p("div",{className:"relative",children:[l("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 bg-gradient-to-b from-blue-200 to-blue-300 h-full"}),l("div",{className:"space-y-12",children:e.map((n,i)=>p("div",{className:`relative flex items-center ${i%2===0?"flex-row":"flex-row-reverse"}`,children:[l("div",{className:`w-1/2 ${i%2===0?"pr-8 text-right":"pl-8"}`,children:p("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg p-6 border border-blue-100 hover:shadow-xl transition-all duration-300",children:[p("div",{className:"text-blue-600 font-bold text-lg mb-2 flex items-center space-x-2 justify-end",children:[l(EP,{className:"w-5 h-5"}),l("span",{children:n.year})]}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.event}),l("p",{className:"text-gray-700",children:n.description})]})}),l("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-6 h-6 bg-blue-600 rounded-full border-4 border-white shadow-lg z-10"}),l("div",{className:"w-1/2"})]},i))})]})]}),l("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl p-12 text-center text-white shadow-xl",children:p("div",{className:"max-w-4xl mx-auto",children:[l("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-10 rounded-2xl mb-6",children:l(eS,{className:"w-10 h-10 text-white"})}),l("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Work With Us?"}),l("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Join thousands of satisfied clients who have found their perfect property with Octopus Real Estate."}),p("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p("a",{href:"/contact",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(_x,{className:"w-5 h-5"}),l("span",{children:"Get in Touch"})]}),p("a",{href:"/properties",className:"border-2 border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(Ex,{className:"w-5 h-5"}),l("span",{children:"Browse Properties"})]})]})]})})]})})},GR=()=>{const t=[{icon:l(Ho,{className:"w-12 h-12"}),title:"Property Buying",description:"Find and purchase your dream home with expert guidance through every step of the process.",features:["Personalized property search","Market analysis and pricing","Negotiation and offer management","Mortgage assistance","Closing coordination"],cta:"Start Your Search"},{icon:l(zm,{className:"w-12 h-12"}),title:"Property Selling",description:"Maximize your property value and sell quickly with our comprehensive marketing strategy.",features:["Professional valuation","Staging and photography","Multi-channel marketing","Buyer screening and showings","Contract negotiation"],cta:"Get Free Valuation"},{icon:l(ho,{className:"w-12 h-12"}),title:"Property Rental",description:"Find perfect rental properties or manage your rental investments efficiently.",features:["Tenant screening","Lease management","Rent collection","Maintenance coordination","Property inspections"],cta:"Browse Rentals"}],e=[{icon:l(Um,{className:"w-10 h-10"}),title:"Property Management",description:"Professional management services for rental properties and investment portfolios."},{icon:l(OP,{className:"w-10 h-10"}),title:"Commercial Real Estate",description:"Expert services for commercial property transactions and investments."},{icon:l(RP,{className:"w-10 h-10"}),title:"Real Estate Consulting",description:"Strategic advice for property investors and portfolio optimization."},{icon:l(HP,{className:"w-10 h-10"}),title:"Property Valuation",description:"Accurate market valuations for sales, purchases, and investment analysis."},{icon:l(LP,{className:"w-10 h-10"}),title:"Legal Support",description:"Assistance with contracts, disclosures, and legal documentation."},{icon:l(mf,{className:"w-10 h-10"}),title:"Mortgage Services",description:"Connections with trusted lenders and mortgage assistance."}],r=[{step:"01",title:"Consultation",description:"We discuss your needs, preferences, and budget to understand your requirements.",icon:l(ZP,{className:"w-6 h-6"})},{step:"02",title:"Property Search",description:"Our agents search for properties that match your criteria and schedule viewings.",icon:l(Ex,{className:"w-6 h-6"})},{step:"03",title:"Analysis & Offer",description:"We provide market analysis and help you make competitive offers.",icon:l(IP,{className:"w-6 h-6"})},{step:"04",title:"Negotiation",description:"Our experts negotiate the best terms and price on your behalf.",icon:l(mf,{className:"w-6 h-6"})},{step:"05",title:"Closing",description:"We coordinate all paperwork and ensure a smooth closing process.",icon:l(jP,{className:"w-6 h-6"})}];return l(Tr,{children:p(un,{children:[p("div",{className:"relative py-20 mb-16 overflow-hidden bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[p("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-1/4 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-blue-300/40 to-transparent animate-pulse"})}),l("div",{className:"absolute top-2/3 right-0 w-1/2",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-cyan-300/40 to-transparent animate-pulse delay-75"})}),l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-blue-200/30 to-transparent animate-bounce"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-cyan-200/30 to-transparent animate-bounce delay-150"}),l("div",{className:"absolute top-20 left-10 w-6 h-6 border-2 border-blue-300/50 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-20 right-16 w-8 h-8 border-2 border-cyan-300/40 rounded-full animate-float delay-200"}),l("div",{className:"absolute top-40 right-20 w-4 h-4 bg-blue-400/20 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute top-1/3 left-1/2 w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),l("div",{className:"absolute bottom-1/4 right-1/4 w-1.5 h-1.5 bg-cyan-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-10 left-0 w-full opacity-10",children:p("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-20",children:[l("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",className:"fill-blue-300"}),l("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",className:"fill-cyan-300"}),l("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",className:"fill-blue-400"})]})})]}),p("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[p("div",{className:"inline-block mb-4",children:[l("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full mb-2 mx-auto"}),l("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider",children:"What We Offer"})]}),p("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Our ",l("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Services"})]}),p("div",{className:"relative inline-block max-w-3xl",children:[l("div",{className:"absolute -inset-4 bg-white/50 rounded-2xl transform rotate-2 blur-sm"}),l("p",{className:"relative text-xl md:text-2xl text-gray-700 leading-relaxed bg-white/80 backdrop-blur-sm p-8 rounded-xl border border-white/20 shadow-lg",children:"Comprehensive real estate solutions tailored to meet your unique needs. From buying your first home to managing investment properties, we've got you covered."})]}),p("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[l("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-ping"}),l("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),l("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-ping delay-150"})]})]})]}),l("section",{className:"mb-16",children:l("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:t.map((n,i)=>l("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group border border-blue-100",children:p("div",{className:"p-8",children:[l("div",{className:"inline-flex items-center justify-center p-4 rounded-2xl bg-white border border-blue-200 mb-6 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.title}),l("p",{className:"text-gray-700 mb-6 leading-relaxed",children:n.description}),l("ul",{className:"space-y-3 mb-8",children:n.features.map((a,s)=>p("li",{className:"flex items-center space-x-3 text-gray-700",children:[l("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),l("span",{className:"text-sm",children:a})]},s))}),l("a",{href:"/contact",className:"block w-full bg-blue-600 text-white text-center py-3 rounded-lg hover:bg-blue-700 transition-all duration-200 font-semibold hover:shadow-lg transform hover:-translate-y-0.5",children:n.cta})]})},i))})}),p("section",{className:"mb-16",children:[p("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Additional Services"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Specialized services to support all your real estate needs"})]}),l(Q4,{cols:3,gap:6,children:e.map((n,i)=>p("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-blue-100 group hover:border-blue-200",children:[l("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-white border border-blue-200 mb-4 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),p("section",{className:"mb-16",children:[p("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Process"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"A streamlined approach to ensure your real estate journey is smooth and successful"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:r.map((n,i)=>p("div",{className:"text-center group",children:[p("div",{className:"relative",children:[p("div",{className:"relative w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl flex flex-col items-center justify-center mx-auto mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:[l("div",{className:"text-xs font-semibold opacity-90",children:n.step}),l("div",{className:"text-white",children:n.icon})]}),i<r.length-1&&l("div",{className:"hidden lg:block absolute top-10 left-full w-full h-0.5 bg-gradient-to-r from-blue-100 to-blue-50 -translate-y-10"})]}),l("h3",{className:"text-lg font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors duration-200",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),l("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl p-12 text-center text-white shadow-xl",children:p("div",{className:"max-w-4xl mx-auto",children:[l("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-10 rounded-2xl mb-6",children:l(FP,{className:"w-10 h-10 text-white"})}),l("h2",{className:"text-3xl font-bold mb-4",children:"Start Your Real Estate Journey Today"}),l("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Let our expert team guide you through every step of your property transaction. Experience the difference of professional real estate services."}),p("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p("a",{href:"/contact",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(_x,{className:"w-5 h-5"}),l("span",{children:"Get Started"})]}),p("a",{href:"tel:+2349132080059",className:"border-2 border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(_o,{className:"w-5 h-5"}),l("span",{children:"Call Now: + (234)913 2080059"})]})]})]})})]})})};function i_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=i_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ce(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=i_(t))&&(n&&(n+=" "),n+=e);return n}var YR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vp(t){if(typeof t!="string")return!1;var e=YR;return e.includes(t)}var XR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function a_(t){if(typeof t!="string")return!1;var e=XR;return e.includes(t)}function s_(t){return typeof t=="string"&&t.startsWith("data-")}function Fr(t){var e=Object.entries(t).filter(r=>{var[n]=r;return a_(n)||s_(n)});return Object.fromEntries(e)}function Oo(t){if(t==null)return null;if(y.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Fr(e)}return typeof t=="object"&&!Array.isArray(t)?Fr(t):null}function Cr(t){var e=Object.entries(t).filter(r=>{var[n]=r;return a_(n)||s_(n)||Vp(n)});return Object.fromEntries(e)}var QR=["children","width","height","viewBox","className","style","title","desc"];function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uf.apply(null,arguments)}function JR(t,e){if(t==null)return{};var r,n,i=ZR(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ZR(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var $p=y.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=t,d=JR(t,QR),f=a||{width:n,height:i,x:0,y:0},m=Ce("recharts-surface",s);return y.createElement("svg",Uf({},Cr(d),{className:m,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),e9=["children","className"];function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zf.apply(null,arguments)}function t9(t,e){if(t==null)return{};var r,n,i=r9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function r9(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Qt=y.forwardRef((t,e)=>{var{children:r,className:n}=t,i=t9(t,e9),a=Ce("recharts-layer",n);return y.createElement("g",zf({className:a},Cr(i),{ref:e}),r)}),o_=y.createContext(null),n9=()=>y.useContext(o_);function Me(t){return function(){return t}}const l_=Math.cos,Bc=Math.sin,Br=Math.sqrt,Hc=Math.PI,sd=2*Hc,Bf=Math.PI,Hf=2*Bf,zi=1e-6,i9=Hf-zi;function c_(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function a9(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return c_;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class s9{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?c_:a9(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-e,u=i-r,d=s-e,f=o-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>zi)if(!(Math.abs(f*c-u*d)>zi)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,w=i-o,x=c*c+u*u,v=g*g+w*w,P=Math.sqrt(x),A=Math.sqrt(m),T=a*Math.tan((Bf-Math.acos((x+m-v)/(2*P*A)))/2),L=T/A,k=T/P;Math.abs(L-1)>zi&&this._append`L${e+L*d},${r+L*f}`,this._append`A${a},${a},0,0,${+(f*g>d*w)},${this._x1=e+k*c},${this._y1=r+k*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=e+o,d=r+c,f=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>zi||Math.abs(this._y1-d)>zi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%Hf+Hf),m>i9?this._append`A${n},${n},0,1,${f},${e-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>zi&&this._append`A${n},${n},0,${+(m>=Bf)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Fp(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new s9(e)}function Up(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function u_(t){this._context=t}u_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function od(t){return new u_(t)}function d_(t){return t[0]}function h_(t){return t[1]}function f_(t,e){var r=Me(!0),n=null,i=od,a=null,s=Fp(o);t=typeof t=="function"?t:t===void 0?d_:Me(t),e=typeof e=="function"?e:e===void 0?h_:Me(e);function o(c){var u,d=(c=Up(c)).length,f,m=!1,g;for(n==null&&(a=i(g=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(f,u,c),+e(f,u,c));if(g)return a=null,g+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Me(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Me(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Me(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Ul(t,e,r){var n=null,i=Me(!0),a=null,s=od,o=null,c=Fp(u);t=typeof t=="function"?t:t===void 0?d_:Me(+t),e=typeof e=="function"?e:Me(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?h_:Me(+r);function u(f){var m,g,w,x=(f=Up(f)).length,v,P=!1,A,T=new Array(x),L=new Array(x);for(a==null&&(o=s(A=c())),m=0;m<=x;++m){if(!(m<x&&i(v=f[m],m,f))===P)if(P=!P)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=m-1;w>=g;--w)o.point(T[w],L[w]);o.lineEnd(),o.areaEnd()}P&&(T[m]=+t(v,m,f),L[m]=+e(v,m,f),o.point(n?+n(v,m,f):T[m],r?+r(v,m,f):L[m]))}if(A)return o=null,A+""||null}function d(){return f_().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Me(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Me(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Me(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Me(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class m_{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function o9(t){return new m_(t,!0)}function l9(t){return new m_(t,!1)}const zp={draw(t,e){const r=Br(e/Hc);t.moveTo(r,0),t.arc(0,0,r,0,sd)}},c9={draw(t,e){const r=Br(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},p_=Br(1/3),u9=p_*2,d9={draw(t,e){const r=Br(e/u9),n=r*p_;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},h9={draw(t,e){const r=Br(e),n=-r/2;t.rect(n,n,r,r)}},f9=.8908130915292852,g_=Bc(Hc/10)/Bc(7*Hc/10),m9=Bc(sd/10)*g_,p9=-l_(sd/10)*g_,g9={draw(t,e){const r=Br(e*f9),n=m9*r,i=p9*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=sd*a/5,o=l_(s),c=Bc(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},$h=Br(3),v9={draw(t,e){const r=-Br(e/($h*3));t.moveTo(0,r*2),t.lineTo(-$h*r,-r),t.lineTo($h*r,-r),t.closePath()}},wr=-.5,_r=Br(3)/2,Wf=1/Br(12),y9=(Wf/2+1)*3,b9={draw(t,e){const r=Br(e/y9),n=r/2,i=r*Wf,a=n,s=r*Wf+r,o=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(wr*n-_r*i,_r*n+wr*i),t.lineTo(wr*a-_r*s,_r*a+wr*s),t.lineTo(wr*o-_r*c,_r*o+wr*c),t.lineTo(wr*n+_r*i,wr*i-_r*n),t.lineTo(wr*a+_r*s,wr*s-_r*a),t.lineTo(wr*o+_r*c,wr*c-_r*o),t.closePath()}};function x9(t,e){let r=null,n=Fp(i);t=typeof t=="function"?t:Me(t||zp),e=typeof e=="function"?e:Me(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Me(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Me(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Wc(){}function qc(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function v_(t){this._context=t}v_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w9(t){return new v_(t)}function y_(t){this._context=t}y_.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _9(t){return new y_(t)}function b_(t){this._context=t}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E9(t){return new b_(t)}function x_(t){this._context=t}x_.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function N9(t){return new x_(t)}function b1(t){return t<0?-1:1}function x1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(b1(a)+b1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function w1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Fh(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Kc(t){this._context=t}Kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fh(this,this._t0,w1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fh(this,w1(this,r=x1(this,t,e)),r);break;default:Fh(this,this._t0,r=x1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function w_(t){this._context=new __(t)}(w_.prototype=Object.create(Kc.prototype)).point=function(t,e){Kc.prototype.point.call(this,e,t)};function __(t){this._context=t}__.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function A9(t){return new Kc(t)}function P9(t){return new w_(t)}function E_(t){this._context=t}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=_1(t),i=_1(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function S9(t){return new E_(t)}function ld(t,e){this._context=t,this._t=e}ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function T9(t){return new ld(t,.5)}function I9(t){return new ld(t,0)}function C9(t){return new ld(t,1)}function is(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function qf(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function k9(t,e){return t[e]}function O9(t){const e=[];return e.key=t,e}function R9(){var t=Me([]),e=qf,r=is,n=k9;function i(a){var s=Array.from(t.apply(this,arguments),O9),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=Up(e(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Me(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Me(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?qf:typeof a=="function"?a:Me(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??is,i):r},i}function M9(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}is(t,e)}}function D9(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}is(t,e)}}function L9(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=t[e[o]],f=d[n][1]||0,m=d[n-1][1]||0,g=(f-m)/2,w=0;w<o;++w){var x=t[e[w]],v=x[n][1]||0,P=x[n-1][1]||0;g+=v-P}c+=f,u+=g*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,is(t,e)}}var cd={},N_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(N_);var Bp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Bp);var ud={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(ud);var dd={},A_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(A_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A_,r=ud;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,c+=i[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(c),c=""):c+=f:f==="["?(d=!0,c&&(a.push(c),c="")):f==="."?c&&(a.push(c),c=""):c+=f,o++}return c&&a.push(c),a}t.toPath=n})(dd);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N_,r=Bp,n=ud,i=dd;function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}t.get=a})(cd);var j9=cd.get;const da=Ci(j9);var Ct=t=>t===0?0:t>0?1:-1,Ur=t=>typeof t=="number"&&t!=+t,Vn=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ae=t=>(typeof t=="number"||t instanceof Number)&&!Ur(t),pn=t=>ae(t)||typeof t=="string",V9=0,Ro=t=>{var e=++V9;return"".concat(t||"").concat(e)},Kt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&typeof e!="string")return n;var a;if(Vn(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Ur(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},P_=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function pt(t,e,r){return ae(t)&&ae(e)?t+r*(e-t):e}function $9(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):da(n,e))===r)}var kt=t=>t===null||typeof t>"u",il=t=>kt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function F9(t){return t!=null}function Ea(){}var U9=["type","size","sizeType"];function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kf.apply(null,arguments)}function E1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(r),!0).forEach(function(n){z9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z9(t,e,r){return(e=B9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B9(t){var e=H9(t,"string");return typeof e=="symbol"?e:e+""}function H9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W9(t,e){if(t==null)return{};var r,n,i=q9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function q9(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var S_={symbolCircle:zp,symbolCross:c9,symbolDiamond:d9,symbolSquare:h9,symbolStar:g9,symbolTriangle:v9,symbolWye:b9},K9=Math.PI/180,G9=t=>{var e="symbol".concat(il(t));return S_[e]||zp},Y9=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*K9;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},X9=(t,e)=>{S_["symbol".concat(il(t))]=e},Hp=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=W9(t,U9),a=N1(N1({},i),{},{type:e,size:r,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var m=G9(s),g=x9().type(m).size(Y9(r,n,s)),w=g();if(w!==null)return w},{className:c,cx:u,cy:d}=a,f=Cr(a);return ae(u)&&ae(d)&&ae(r)?y.createElement("path",Kf({},f,{className:Ce("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Hp.registerSymbol=X9;var T_=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Q9=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(y.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Vp(i)&&(n[i]=e||(a=>r[i](r,a)))}),n},J9=(t,e,r)=>n=>(t(e,r,n),null),al=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];Vp(i)&&typeof a=="function"&&(n||(n={}),n[i]=J9(a,e,r))}),n};function A1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(r),!0).forEach(function(n){e7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e7(t,e,r){return(e=t7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t7(t){var e=r7(t,"string");return typeof e=="symbol"?e:e+""}function r7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ot(t,e){var r=Z9({},t),n=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gc.apply(null,arguments)}function P1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(r),!0).forEach(function(n){i7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i7(t,e,r){return(e=a7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a7(t){var e=s7(t,"string");return typeof e=="symbol"?e:e+""}function s7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nr=32,o7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function l7(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Nr/2,a=Nr/6,s=Nr/3,o=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline"){var u;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Nr,y2:i,className:"recharts-legend-icon"})}if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Nr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Nr/8,"h").concat(Nr,"v").concat(Nr*3/4,"h").concat(-Nr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(e.legendIcon)){var d=n7({},e);return delete d.legendIcon,y.cloneElement(e.legendIcon,d)}return y.createElement(Hp,{fill:o,cx:i,cy:i,size:Nr,sizeType:"diameter",type:c})}function c7(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Nr,height:Nr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var m=d.formatter||i,g=Ce({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var w=d.inactive?a:d.color,x=m?m(d.value,d,f):d.value;return y.createElement("li",Gc({className:g,style:c,key:"legend-item-".concat(f)},al(t,d,f)),y.createElement($p,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(x," legend icon")},y.createElement(l7,{data:d,iconType:s,inactiveColor:a})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x))})}var u7=t=>{var e=Ot(t,o7),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:a},y.createElement(c7,Gc({},e,{payload:r})))},I_={},C_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(C_);var Wp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Wp);var k_={},hd={},O_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(O_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O_;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(hd);var R_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(R_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hd,r=R_;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(k_);var M_={},D_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cd;function r(n){return function(i){return e.get(i,n)}}t.property=r})(D_);var L_={},qp={},j_={},Kp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Kp);var Gp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Gp);var Yp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Yp);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kp,r=Gp,n=Yp;function i(d,f,m){return typeof m!="function"?i(d,f,()=>{}):a(d,f,function g(w,x,v,P,A,T){const L=m(w,x,v,P,A,T);return L!==void 0?!!L:a(w,x,g,T)},new Map)}function a(d,f,m,g){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,m,g);case"function":return Object.keys(f).length>0?a(d,{...f},m,g):n.eq(d,f);default:return e.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function s(d,f,m,g){if(f==null)return!0;if(Array.isArray(f))return c(d,f,m,g);if(f instanceof Map)return o(d,f,m,g);if(f instanceof Set)return u(d,f,m,g);const w=Object.keys(f);if(d==null)return w.length===0;if(w.length===0)return!0;if(g!=null&&g.has(f))return g.get(f)===d;g==null||g.set(f,d);try{for(let x=0;x<w.length;x++){const v=w[x];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!m(d[v],f[v],v,d,f,g))return!1}return!0}finally{g==null||g.delete(f)}}function o(d,f,m,g){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[w,x]of f.entries()){const v=d.get(w);if(m(v,x,w,d,f,g)===!1)return!1}return!0}function c(d,f,m,g){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const w=new Set;for(let x=0;x<f.length;x++){const v=f[x];let P=!1;for(let A=0;A<d.length;A++){if(w.has(A))continue;const T=d[A];let L=!1;if(m(T,v,x,d,f,g)&&(L=!0),L){w.add(A),P=!0;break}}if(!P)return!1}return!0}function u(d,f,m,g){return f.size===0?!0:d instanceof Set?c([...d],[...f],m,g):!1}t.isMatchWith=i,t.isSetMatch=u})(j_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j_;function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(qp);var V_={},Xp={},$_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})($_);var Qp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Qp);var Jp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",g="[object Object]",w="[object Error]",x="[object DataView]",v="[object Uint8Array]",P="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",L="[object BigUint64Array]",k="[object Int8Array]",D="[object Int16Array]",_="[object Int32Array]",S="[object BigInt64Array]",E="[object Float32Array]",C="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=d,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=x,t.dateTag=o,t.errorTag=w,t.float32ArrayTag=E,t.float64ArrayTag=C,t.functionTag=f,t.int16ArrayTag=D,t.int32ArrayTag=_,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=A,t.uint32ArrayTag=T,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=P})(Jp);var F_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(F_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$_,r=Qp,n=Jp,i=Gp,a=F_;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,m,g=new Map,w=void 0){const x=w==null?void 0:w(d,f,m,g);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(g.has(d))return g.get(d);if(Array.isArray(d)){const v=new Array(d.length);g.set(d,v);for(let P=0;P<d.length;P++)v[P]=o(d[P],P,m,g,w);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;g.set(d,v);for(const[P,A]of d)v.set(P,o(A,P,m,g,w));return v}if(d instanceof Set){const v=new Set;g.set(d,v);for(const P of d)v.add(o(P,void 0,m,g,w));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);g.set(d,v);for(let P=0;P<d.length;P++)v[P]=o(d[P],P,m,g,w);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return g.set(d,v),c(v,d,m,g,w),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return g.set(d,v),c(v,d,m,g,w),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return g.set(d,v),c(v,d,m,g,w),v}if(d instanceof Error){const v=new d.constructor;return g.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,m,g,w),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return g.set(d,v),c(v,d,m,g,w),v}if(d instanceof Number){const v=new Number(d.valueOf());return g.set(d,v),c(v,d,m,g,w),v}if(d instanceof String){const v=new String(d.valueOf());return g.set(d,v),c(v,d,m,g,w),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return g.set(d,v),c(v,d,m,g,w),v}return d}function c(d,f,m=d,g,w){const x=[...Object.keys(f),...e.getSymbols(f)];for(let v=0;v<x.length;v++){const P=x[v],A=Object.getOwnPropertyDescriptor(d,P);(A==null||A.writable)&&(d[P]=o(f[P],P,m,g,w))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=c})(Xp);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xp;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(V_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qp,r=V_;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(L_);var U_={},z_={},B_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xp,r=Jp;function n(i,a){return e.cloneDeepWith(i,(s,o,c,u)=>{const d=a==null?void 0:a(s,o,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case r.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=n})(B_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B_;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(z_);var H_={},Zp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Zp);var W_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qp;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(W_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bp,r=Zp,n=W_,i=dd;function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=a})(H_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qp,r=ud,n=z_,i=cd,a=H_;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=s})(U_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wp,r=D_,n=L_,i=U_;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(M_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C_,r=Wp,n=k_,i=M_;function a(s,o=r.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(I_);var d7=I_.uniqBy;const S1=Ci(d7);function q_(t,e,r){return e===!0?S1(t,r):typeof e=="function"?S1(t,e):t}var K_={exports:{}},G_={},Y_={exports:{}},X_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=y;function h7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var f7=typeof Object.is=="function"?Object.is:h7,m7=as.useState,p7=as.useEffect,g7=as.useLayoutEffect,v7=as.useDebugValue;function y7(t,e){var r=e(),n=m7({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return g7(function(){i.value=r,i.getSnapshot=e,Uh(i)&&a({inst:i})},[t,r,e]),p7(function(){return Uh(i)&&a({inst:i}),t(function(){Uh(i)&&a({inst:i})})},[t]),v7(r),r}function Uh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!f7(t,r)}catch{return!0}}function b7(t,e){return e()}var x7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b7:y7;X_.useSyncExternalStore=as.useSyncExternalStore!==void 0?as.useSyncExternalStore:x7;Y_.exports=X_;var w7=Y_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=y,_7=w7;function E7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var N7=typeof Object.is=="function"?Object.is:E7,A7=_7.useSyncExternalStore,P7=fd.useRef,S7=fd.useEffect,T7=fd.useMemo,I7=fd.useDebugValue;G_.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=P7(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=T7(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),i!==void 0&&s.hasValue){var w=s.value;if(i(w,g))return f=w}return f=g}if(w=f,N7(d,g))return w;var x=n(g);return i!==void 0&&i(w,x)?(d=g,w):(d=g,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,i]);var o=A7(t,a[0],a[1]);return S7(function(){s.hasValue=!0,s.value=o},[o]),I7(o),o};K_.exports=G_;var C7=K_.exports,eg=y.createContext(null),k7=t=>t,De=()=>{var t=y.useContext(eg);return t?t.store.dispatch:k7},fc=()=>{},O7=()=>fc,R7=(t,e)=>t===e;function ie(t){var e=y.useContext(eg);return C7.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:O7,e?e.store.getState:fc,e?e.store.getState:fc,e?t:fc,R7)}function M7(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function D7(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function L7(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var T1=t=>Array.isArray(t)?t:[t];function j7(t){const e=Array.isArray(t[0])?t[0]:t;return L7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function V7(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var $7=class{constructor(t){this.value=t}deref(){return this.value}},F7=typeof WeakRef<"u"?WeakRef:$7,U7=0,I1=1;function zl(){return{s:U7,v:void 0,o:null,p:null}}function Q_(t,e={}){let r=zl();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var f;let o=r;const{length:c}=arguments;for(let m=0,g=c;m<g;m++){const w=arguments[m];if(typeof w=="function"||typeof w=="object"&&w!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const v=x.get(w);v===void 0?(o=zl(),x.set(w,o)):o=v}else{let x=o.p;x===null&&(o.p=x=new Map);const v=x.get(w);v===void 0?(o=zl(),x.set(w,o)):o=v}}const u=o;let d;if(o.s===I1)d=o.v;else if(d=t.apply(null,arguments),a++,n){const m=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;m!=null&&n(m,d)&&(d=m,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new F7(d):d}return u.s=I1,u.v=d,d}return s.clearCache=()=>{r=zl(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function z7(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),M7(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:g=Q_,argsMemoizeOptions:w=[],devModeChecks:x={}}=d,v=T1(m),P=T1(w),A=j7(i),T=f(function(){return a++,u.apply(null,arguments)},...v),L=g(function(){s++;const D=V7(A,arguments);return o=T.apply(null,D),o},...P);return Object.assign(L,{resultFunc:u,memoizedResultFunc:T,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var F=z7(Q_),B7=Object.assign((t,e=F)=>{D7(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>B7}),J_={},Z_={},e6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),o=e(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=r})(e6);var t6={},tg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(tg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(t6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e6,r=t6,n=dd;function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const u=(g,w)=>{let x=g;for(let v=0;v<w.length&&x!=null;++v)x=x[w[v]];return x},d=(g,w)=>w==null||g==null?w:typeof g=="object"&&"key"in g?Object.hasOwn(w,g.key)?w[g.key]:u(w,g.path):typeof g=="function"?g(w):Array.isArray(g)?u(w,g):typeof w=="object"?w[g]:w,f=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return a.map(g=>({original:g,criteria:f.map(w=>d(w,g))})).slice().sort((g,w)=>{for(let x=0;x<f.length;x++){const v=e.compareValues(g.criteria[x],w.criteria[x],o[x]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(Z_);var r6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}t.flatten=e})(r6);var rg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zp,r=hd,n=Kp,i=Yp;function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],s):!1}t.isIterateeCall=a})(rg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z_,r=r6,n=rg;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(J_);var H7=J_.sortBy;const md=Ci(H7);var n6=t=>t.legend.settings,W7=t=>t.legend.size,q7=t=>t.legend.payload,K7=F([q7,n6],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?md(n,r):n});function G7(){return ie(K7)}var Bl=1;function i6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Bl||Math.abs(s.left-e.left)>Bl||Math.abs(s.top-e.top)>Bl||Math.abs(s.width-e.width)>Bl)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Dt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Y7=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),C1=Y7,zh=()=>Math.random().toString(36).substring(7).split("").join("."),X7={INIT:`@@redux/INIT${zh()}`,REPLACE:`@@redux/REPLACE${zh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zh()}`},Yc=X7;function ng(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function a6(t,e,r){if(typeof t!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Dt(1));return r(a6)(t,e)}let n=t,i=e,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((v,P)=>{s.set(P,v)}))}function d(){if(c)throw new Error(Dt(3));return i}function f(v){if(typeof v!="function")throw new Error(Dt(4));if(c)throw new Error(Dt(5));let P=!0;u();const A=o++;return s.set(A,v),function(){if(P){if(c)throw new Error(Dt(6));P=!1,u(),s.delete(A),a=null}}}function m(v){if(!ng(v))throw new Error(Dt(7));if(typeof v.type>"u")throw new Error(Dt(8));if(typeof v.type!="string")throw new Error(Dt(17));if(c)throw new Error(Dt(9));try{c=!0,i=n(i,v)}finally{c=!1}return(a=s).forEach(A=>{A()}),v}function g(v){if(typeof v!="function")throw new Error(Dt(10));n=v,m({type:Yc.REPLACE})}function w(){const v=f;return{subscribe(P){if(typeof P!="object"||P===null)throw new Error(Dt(11));function A(){const L=P;L.next&&L.next(d())}return A(),{unsubscribe:v(A)}},[C1](){return this}}}return m({type:Yc.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:g,[C1]:w}}function Q7(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Yc.INIT})>"u")throw new Error(Dt(12));if(typeof r(void 0,{type:Yc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function s6(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{Q7(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],g=s[f],w=m(g,o);if(typeof w>"u")throw o&&o.type,new Error(Dt(14));u[f]=w,c=c||w!==g}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Xc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function J7(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Dt(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=t.map(c=>c(s));return a=Xc(...o)(i.dispatch),{...i,dispatch:a}}}function o6(t){return ng(t)&&"type"in t&&typeof t.type=="string"}var l6=Symbol.for("immer-nothing"),k1=Symbol.for("immer-draftable"),br=Symbol.for("immer-state");function Dr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mo=Object.getPrototypeOf;function ha(t){return!!t&&!!t[br]}function $n(t){var e;return t?c6(t)||Array.isArray(t)||!!t[k1]||!!((e=t.constructor)!=null&&e[k1])||sl(t)||gd(t):!1}var Z7=Object.prototype.constructor.toString(),O1=new WeakMap;function c6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=O1.get(r);return n===void 0&&(n=Function.toString.call(r),O1.set(r,n)),n===Z7}function Qc(t,e,r=!0){pd(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function pd(t){const e=t[br];return e?e.type_:Array.isArray(t)?1:sl(t)?2:gd(t)?3:0}function Gf(t,e){return pd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function u6(t,e,r){const n=pd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function eM(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sl(t){return t instanceof Map}function gd(t){return t instanceof Set}function Bi(t){return t.copy_||t.base_}function Yf(t,e){if(sl(t))return new Map(t);if(gd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=c6(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[br];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Mo(t),n)}else{const n=Mo(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function ig(t,e=!1){return vd(t)||ha(t)||!$n(t)||(pd(t)>1&&Object.defineProperties(t,{set:Hl,add:Hl,clear:Hl,delete:Hl}),Object.freeze(t),e&&Object.values(t).forEach(r=>ig(r,!0))),t}function tM(){Dr(2)}var Hl={value:tM};function vd(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var rM={};function fa(t){const e=rM[t];return e||Dr(0,t),e}var Do;function d6(){return Do}function nM(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R1(t,e){e&&(fa("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Xf(t){Qf(t),t.drafts_.forEach(iM),t.drafts_=null}function Qf(t){t===Do&&(Do=t.parent_)}function M1(t){return Do=nM(Do,t)}function iM(t){const e=t[br];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function D1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[br].modified_&&(Xf(e),Dr(4)),$n(t)&&(t=Jc(e,t),e.parent_||Zc(e,t)),e.patches_&&fa("Patches").generateReplacementPatches_(r[br].base_,t,e.patches_,e.inversePatches_)):t=Jc(e,r,[]),Xf(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==l6?t:void 0}function Jc(t,e,r){if(vd(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[br];if(!i)return Qc(e,(a,s)=>L1(t,i,e,a,s,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return Zc(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Qc(s,(c,u)=>L1(t,i,a,c,u,r,o),n),Zc(t,a,!1),r&&t.patches_&&fa("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function L1(t,e,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=vd(i);if(!(o&&!s)){if(ha(i)){const c=a&&e&&e.type_!==3&&!Gf(e.assigned_,n)?a.concat(n):void 0,u=Jc(t,i,c);if(u6(r,n,u),ha(u))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if($n(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;Jc(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(sl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zc(t,i)}}}function Zc(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ig(e,r)}function aM(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:d6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ag;r&&(i=[n],a=Lo);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var ag={get(t,e){if(e===br)return t;const r=Bi(t);if(!Gf(r,e))return sM(t,r,e);const n=r[e];return t.finalized_||!$n(n)?n:n===Bh(t.base_,e)?(Hh(t),t.copy_[e]=Zf(n,t)):n},has(t,e){return e in Bi(t)},ownKeys(t){return Reflect.ownKeys(Bi(t))},set(t,e,r){const n=h6(Bi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Bh(Bi(t),e),a=i==null?void 0:i[br];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(eM(r,i)&&(r!==void 0||Gf(t.base_,e)))return!0;Hh(t),Jf(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Bh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Hh(t),Jf(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Bi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Dr(11)},getPrototypeOf(t){return Mo(t.base_)},setPrototypeOf(){Dr(12)}},Lo={};Qc(ag,(t,e)=>{Lo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Lo.deleteProperty=function(t,e){return Lo.set.call(this,t,e,void 0)};Lo.set=function(t,e,r){return ag.set.call(this,t[0],e,r,t[0])};function Bh(t,e){const r=t[br];return(r?Bi(r):t)[e]}function sM(t,e,r){var i;const n=h6(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function h6(t,e){if(!(e in t))return;let r=Mo(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Mo(r)}}function Jf(t){t.modified_||(t.modified_=!0,t.parent_&&Jf(t.parent_))}function Hh(t){t.copy_||(t.copy_=Yf(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var oM=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Dr(6),n!==void 0&&typeof n!="function"&&Dr(7);let i;if($n(e)){const a=M1(this),s=Zf(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Xf(a):Qf(a)}return R1(a,n),D1(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===l6&&(i=void 0),this.autoFreeze_&&ig(i,!0),n){const a=[],s=[];fa("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else Dr(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,c=>e(c,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){$n(t)||Dr(8),ha(t)&&(t=On(t));const e=M1(this),r=Zf(t,void 0);return r[br].isManual_=!0,Qf(e),r}finishDraft(t,e){const r=t&&t[br];(!r||!r.isManual_)&&Dr(9);const{scope_:n}=r;return R1(n,e),D1(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=fa("Patches").applyPatches_;return ha(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Zf(t,e){const r=sl(t)?fa("MapSet").proxyMap_(t,e):gd(t)?fa("MapSet").proxySet_(t,e):aM(t,e);return(e?e.scope_:d6()).drafts_.push(r),r}function On(t){return ha(t)||Dr(10,t),f6(t)}function f6(t){if(!$n(t)||vd(t))return t;const e=t[br];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Yf(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=Yf(t,!0);return Qc(r,(i,a)=>{u6(r,i,f6(a))},n),e&&(e.finalized_=!1),r}var em=new oM,m6=em.produce,lM=em.setUseStrictIteration.bind(em);function p6(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var cM=p6(),uM=p6,dM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xc:Xc.apply(null,arguments)};function kr(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(yr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>o6(n)&&n.type===t,r}var g6=class co extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,co.prototype)}static get[Symbol.species](){return co}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new co(...e[0].concat(this)):new co(...e.concat(this))}};function j1(t){return $n(t)?m6(t,()=>{}):t}function Wl(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function hM(t){return typeof t=="boolean"}var fM=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new g6;return r&&(hM(r)?s.push(cM):s.push(uM(r.extraArgument))),s},v6="RTK_autoBatch",vt=()=>t=>({payload:t,meta:{[v6]:!0}}),V1=t=>e=>{setTimeout(e,t)},y6=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:V1(10):t.type==="callback"?t.queueNotification:V1(t.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),m=n.subscribe(f);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[v6]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},mM=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new g6(t);return n&&i.push(y6(typeof n=="object"?n:void 0)),i};function pM(t){const e=fM(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(ng(r))c=s6(r);else throw new Error(yr(1));let u;typeof n=="function"?u=n(e):u=e();let d=Xc;i&&(d=dM({trace:!1,...typeof i=="object"&&i}));const f=J7(...u),m=mM(f);let g=typeof o=="function"?o(m):m();const w=d(...g);return a6(c,s,w)}function b6(t){const e={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(yr(28));if(o in e)throw new Error(yr(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}lM(!1);function gM(t){return typeof t=="function"}function vM(t,e){let[r,n,i]=b6(e),a;if(gM(t))a=()=>j1(t());else{const o=j1(t);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(ha(d)){const g=f(d,c);return g===void 0?d:g}else{if($n(d))return m6(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return s.getInitialState=a,s}var yM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bM=(t=21)=>{let e="",r=t;for(;r--;)e+=yM[Math.random()*64|0];return e},xM=Symbol.for("rtk-slice-createasyncthunk");function wM(t,e){return`${t}/${e}`}function _M({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[xM];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(yr(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(NM()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(L,k){const D=typeof L=="string"?L:L.type;if(!D)throw new Error(yr(12));if(D in u.sliceCaseReducersByType)throw new Error(yr(13));return u.sliceCaseReducersByType[D]=k,d},addMatcher(L,k){return u.sliceMatchers.push({matcher:L,reducer:k}),d},exposeAction(L,k){return u.actionCreators[L]=k,d},exposeCaseReducer(L,k){return u.sliceCaseReducersByName[L]=k,d}};c.forEach(L=>{const k=o[L],D={reducerName:L,type:wM(a,L),createNotation:typeof i.reducers=="function"};PM(k)?TM(D,k,d,e):AM(D,k,d)});function f(){const[L={},k=[],D=void 0]=typeof i.extraReducers=="function"?b6(i.extraReducers):[i.extraReducers],_={...L,...u.sliceCaseReducersByType};return vM(i.initialState,S=>{for(let E in _)S.addCase(E,_[E]);for(let E of u.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of k)S.addMatcher(E.matcher,E.reducer);D&&S.addDefaultCase(D)})}const m=L=>L,g=new Map,w=new WeakMap;let x;function v(L,k){return x||(x=f()),x(L,k)}function P(){return x||(x=f()),x.getInitialState()}function A(L,k=!1){function D(S){let E=S[L];return typeof E>"u"&&k&&(E=Wl(w,D,P)),E}function _(S=m){const E=Wl(g,k,()=>new WeakMap);return Wl(E,S,()=>{const C={};for(const[I,M]of Object.entries(i.selectors??{}))C[I]=EM(M,S,()=>Wl(w,S,P),k);return C})}return{reducerPath:L,getSelectors:_,get selectors(){return _(D)},selectSlice:D}}const T={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:P,...A(s),injectInto(L,{reducerPath:k,...D}={}){const _=k??s;return L.inject({reducerPath:_,reducer:v},D),{...T,...A(_,!0)}}};return T}}function EM(t,e,r,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return i.unwrapped=t,i}var or=_M();function NM(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function AM({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!SM(n))throw new Error(yr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?kr(t,s):kr(t))}function PM(t){return t._reducerDefinitionType==="asyncThunk"}function SM(t){return t._reducerDefinitionType==="reducerWithPrepare"}function TM({type:t,reducerName:e},r,n,i){if(!i)throw new Error(yr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,f=i(t,a,d);n.exposeAction(e,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:s||ql,pending:o||ql,rejected:c||ql,settled:u||ql})}function ql(){}var IM="task",x6="listener",w6="completed",sg="cancelled",CM=`task-${sg}`,kM=`task-${w6}`,tm=`${x6}-${sg}`,OM=`${x6}-${w6}`,yd=class{constructor(t){Hs(this,"name","TaskAbortError");Hs(this,"message");this.code=t,this.message=`${IM} ${sg} (reason: ${t})`}},og=(t,e)=>{if(typeof t!="function")throw new TypeError(yr(32))},eu=()=>{},_6=(t,e=eu)=>(t.catch(e),t),E6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zi=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ea=t=>{if(t.aborted){const{reason:e}=t;throw new yd(e)}};function N6(t,e){let r=eu;return new Promise((n,i)=>{const a=()=>i(new yd(t.reason));if(t.aborted){a();return}r=E6(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=eu})}var RM=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof yd?"cancelled":"rejected",error:r}}finally{e==null||e()}},tu=t=>e=>_6(N6(t,e).then(r=>(ea(t),r))),A6=t=>{const e=tu(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Xa}=Object,$1={},bd="listenerMiddleware",MM=(t,e)=>{const r=n=>E6(t,()=>Zi(n,t.reason));return(n,i)=>{og(n);const a=new AbortController;r(a);const s=RM(async()=>{ea(t),ea(a.signal);const o=await n({pause:tu(a.signal),delay:A6(a.signal),signal:a.signal});return ea(a.signal),o},()=>Zi(a,kM));return i!=null&&i.autoJoin&&e.push(s.catch(eu)),{result:tu(t)(s),cancel(){Zi(a,CM)}}}},DM=(t,e)=>{const r=async(n,i)=>{ea(e);let a=()=>{};const o=[new Promise((c,u)=>{let d=t({predicate:n,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await N6(e,Promise.race(o));return ea(e),c}finally{a()}};return(n,i)=>_6(r(n,i))},P6=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=kr(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(yr(21));return og(a),{predicate:i,type:e,effect:a}},S6=Xa(t=>{const{type:e,predicate:r,effect:n}=P6(t);return{id:bM(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(yr(22))}}},{withTypes:()=>S6}),F1=(t,e)=>{const{type:r,effect:n,predicate:i}=P6(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},rm=t=>{t.pending.forEach(e=>{Zi(e,tm)})},LM=(t,e)=>()=>{for(const r of e.keys())rm(r);t.clear()},U1=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},T6=Xa(kr(`${bd}/add`),{withTypes:()=>T6}),jM=kr(`${bd}/removeAll`),I6=Xa(kr(`${bd}/remove`),{withTypes:()=>I6}),VM=(...t)=>{console.error(`${bd}/error`,...t)},ol=(t={})=>{const e=new Map,r=new Map,n=g=>{const w=r.get(g)??0;r.set(g,w+1)},i=g=>{const w=r.get(g)??1;w===1?r.delete(g):r.set(g,w-1)},{extra:a,onError:s=VM}=t;og(s);const o=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),w=>{g.unsubscribe(),w!=null&&w.cancelActive&&rm(g)}),c=g=>{const w=F1(e,g)??S6(g);return o(w)};Xa(c,{withTypes:()=>c});const u=g=>{const w=F1(e,g);return w&&(w.unsubscribe(),g.cancelActive&&rm(w)),!!w};Xa(u,{withTypes:()=>u});const d=async(g,w,x,v)=>{const P=new AbortController,A=DM(c,P.signal),T=[];try{g.pending.add(P),n(g),await Promise.resolve(g.effect(w,Xa({},x,{getOriginalState:v,condition:(L,k)=>A(L,k).then(Boolean),take:A,delay:A6(P.signal),pause:tu(P.signal),extra:a,signal:P.signal,fork:MM(P.signal,T),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((L,k,D)=>{L!==P&&(Zi(L,tm),D.delete(L))})},cancel:()=>{Zi(P,tm),g.pending.delete(P)},throwIfCancelled:()=>{ea(P.signal)}})))}catch(L){L instanceof yd||U1(s,L,{raisedBy:"effect"})}finally{await Promise.all(T),Zi(P,OM),i(g),g.pending.delete(P)}},f=LM(e,r);return{middleware:g=>w=>x=>{if(!o6(x))return w(x);if(T6.match(x))return c(x.payload);if(jM.match(x)){f();return}if(I6.match(x))return u(x.payload);let v=g.getState();const P=()=>{if(v===$1)throw new Error(yr(23));return v};let A;try{if(A=w(x),e.size>0){const T=g.getState(),L=Array.from(e.values());for(const k of L){let D=!1;try{D=k.predicate(x,T,v)}catch(_){D=!1,U1(s,_,{raisedBy:"predicate"})}D&&d(k,x,g,P)}}}finally{v=$1}return A},startListening:c,stopListening:u,clearListeners:f}};function yr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $M={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},C6=or({name:"chartLayout",initialState:$M,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:FM,setLayout:UM,setChartSize:zM,setScale:BM}=C6.actions,HM=C6.reducer;function k6(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function z1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(r),!0).forEach(function(n){WM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WM(t,e,r){return(e=qM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qM(t){var e=KM(t,"string");return typeof e=="symbol"?e:e+""}function KM(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xe(t,e,r){return kt(t)||kt(e)?r:pn(e)?da(t,e,r):typeof e=="function"?e(t):r}var GM=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ae(t[a]))return Ha(Ha({},t),{},{[a]:t[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ae(t[s]))return Ha(Ha({},t),{},{[s]:t[s]+(i||0)})}return t},Na=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",O6=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(r),s},R6=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:m,axisType:g}=t;if(!s)return null;var w=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=(e||r)&&i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(x=g==="angleAxis"&&a&&a.length>=2?Ct(a[0]-a[1])*2*x:x,e&&(f||m)){var v=(f||m||[]).map((P,A)=>{var T=n?n.indexOf(P):P;return{coordinate:s(T)+x,value:P,offset:x,index:A}});return v.filter(P=>!Ur(P.coordinate))}return c&&u?u.map((P,A)=>({coordinate:s(P)+x,value:P,index:A,offset:x})):s.ticks&&!r&&d!=null?s.ticks(d).map((P,A)=>({coordinate:s(P)+x,value:P,offset:x,index:A})):s.domain().map((P,A)=>({coordinate:s(P)+x,value:n?n[P]:P,index:A,offset:x}))},B1=1e-4,YM=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-B1,a=Math.max(n[0],n[1])+B1,s=t(e[0]),o=t(e[r-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[r-1]])}},XM=(t,e)=>{if(!e||e.length!==2||!ae(e[0])||!ae(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ae(t[0])||t[0]<r)&&(i[0]=r),(!ae(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},QM=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,s=0;s<e;++s){var o=Ur(t[s][r][1])?t[s][r][0]:t[s][r][1];o>=0?(t[s][r][0]=i,t[s][r][1]=i+o,i=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+o,a=t[s][r][1])}},JM=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var s=Ur(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=i,t[a][r][1]=i+s,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},ZM={sign:QM,expand:M9,none:is,silhouette:D9,wiggle:L9,positive:JM},eD=(t,e,r)=>{var n=ZM[r],i=R9().keys(e).value((a,s)=>Number(Xe(a,s,0))).order(qf).offset(n);return i(t)};function tD(t){return t==null?void 0:String(t)}var H1=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return r[s]?r[s].coordinate+n:null;var o=Xe(a,e.dataKey,e.scale.domain()[s]);return kt(o)?null:e.scale(o)-i/2+n},rD=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},nD=t=>{var e=t.flat(2).filter(ae);return[Math.min(...e),Math.max(...e)]},iD=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],aD=(t,e,r)=>{if(t!=null)return iD(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((c,u)=>{var d=k6(u,e,r),f=nD(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},W1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ru=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=md(e,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function K1(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Ha(Ha({},e),{},{dataKey:r,payload:n,value:i,name:a})}function xd(t,e){if(t)return String(t);if(typeof e=="string")return e}var sD=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},oD=(t,e)=>e==="centric"?t.angle:t.radius,Kn=t=>t.layout.width,Gn=t=>t.layout.height,lD=t=>t.layout.scale,M6=t=>t.layout.margin,wd=F(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),_d=F(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),D6="data-recharts-item-index",L6="data-recharts-item-data-key",ll=60;function G1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(r),!0).forEach(function(n){cD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cD(t,e,r){return(e=uD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uD(t){var e=dD(t,"string");return typeof e=="symbol"?e:e+""}function dD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hD=t=>t.brush.height;function fD(t){var e=_d(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ll;return r+i}return r},0)}function mD(t){var e=_d(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ll;return r+i}return r},0)}function pD(t){var e=wd(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function gD(t){var e=wd(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _t=F([Kn,Gn,M6,hD,fD,mD,pD,gD,n6,W7],(t,e,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},m=Kl(Kl({},f),d),g=m.bottom;m.bottom+=n,m=GM(m,c,u);var w=t-m.left-m.right,x=e-m.top-m.bottom;return Kl(Kl({brushBottom:g},m),{},{width:Math.max(w,0),height:Math.max(x,0)})}),vD=F(_t,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),lg=F(Kn,Gn,(t,e)=>({x:0,y:0,width:t,height:e})),yD=y.createContext(null),lr=()=>y.useContext(yD)!=null,Ed=t=>t.brush,Nd=F([Ed,_t,M6],(t,e,r)=>({height:t.height,x:ae(t.x)?t.x:e.left,y:ae(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:ae(t.width)?t.width:e.width})),j6={},V6={},$6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),x()};let m=null;const g=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},w=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{w(),s=void 0,o=null},v=()=>{d()},P=function(...A){if(i!=null&&i.aborted)return;s=this,o=A;const T=m==null;g(),c&&T&&d()};return P.schedule=g,P.cancel=x,P.flush=v,i==null||i.addEventListener("abort",x,{once:!0}),P}t.debounce=e})($6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$6;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const m=e.debounce(function(...x){d=n.apply(this,x),f=null},i,{edges:u}),g=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},w=()=>(m.flush(),d);return g.cancel=m.cancel,g.flush=w,g}t.debounce=r})(V6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V6;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:o})}t.throttle=r})(j6);var bD=j6.throttle;const xD=Ci(bD);var nu=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},F6=(t,e,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=Vn(n)?t:Number(n),c=Vn(i)?e:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},wD={width:0,height:0,overflow:"visible"},_D={width:0,overflowX:"visible"},ED={height:0,overflowY:"visible"},ND={},AD=t=>{var{width:e,height:r}=t,n=Vn(e),i=Vn(r);return n&&i?wD:n?_D:i?ED:ND};function PD(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function it(t){return Number.isFinite(t)}function gn(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nm.apply(null,arguments)}function Y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(r),!0).forEach(function(n){SD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SD(t,e,r){return(e=TD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TD(t){var e=ID(t,"string");return typeof e=="symbol"?e:e+""}function ID(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U6=y.createContext({width:-1,height:-1});function CD(t){return gn(t.width)&&gn(t.height)}function z6(t){var{children:e,width:r,height:n}=t,i=y.useMemo(()=>({width:r,height:n}),[r,n]);return CD(i)?y.createElement(U6.Provider,{value:i},e):null}var cg=()=>y.useContext(U6),kD=y.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:m,onResize:g,style:w={}}=t,x=y.useRef(null),v=y.useRef();v.current=g,y.useImperativeHandle(e,()=>x.current);var[P,A]=y.useState({containerWidth:n.width,containerHeight:n.height}),T=y.useCallback((S,E)=>{A(C=>{var I=Math.round(S),M=Math.round(E);return C.containerWidth===I&&C.containerHeight===M?C:{containerWidth:I,containerHeight:M}})},[]);y.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Ea;var S=M=>{var O,{width:z,height:B}=M[0].contentRect;T(z,B),(O=v.current)===null||O===void 0||O.call(v,z,B)};d>0&&(S=xD(S,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:C,height:I}=x.current.getBoundingClientRect();return T(C,I),E.observe(x.current),()=>{E.disconnect()}},[T,d]);var{containerWidth:L,containerHeight:k}=P;nu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:_}=F6(L,k,{width:i,height:a,aspect:r,maxHeight:c});return nu(D!=null&&D>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,_,i,a,s,o,r),y.createElement("div",{id:f?"".concat(f):void 0,className:Ce("recharts-responsive-container",m),style:X1(X1({},w),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:x},y.createElement("div",{style:AD({width:i,height:a})},y.createElement(z6,{width:D,height:_},u)))}),Q1=y.forwardRef((t,e)=>{var r=cg();if(gn(r.width)&&gn(r.height))return t.children;var{width:n,height:i}=PD({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=F6(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ae(a)&&ae(s)?y.createElement(z6,{width:a,height:s},t.children):y.createElement(kD,nm({},t,{width:n,height:i,ref:e}))});function B6(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ad=()=>{var t,e=lr(),r=ie(vD),n=ie(Nd),i=(t=ie(Ed))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},OD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},H6=()=>{var t;return(t=ie(_t))!==null&&t!==void 0?t:OD},ug=()=>ie(Kn),dg=()=>ie(Gn),RD=()=>ie(t=>t.layout.margin),Pe=t=>t.layout.layoutType,Pd=()=>ie(Pe),MD=()=>{var t=Pd();return t!==void 0},Sd=t=>{var e=De(),r=lr(),{width:n,height:i}=t,a=cg(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),y.useEffect(()=>{!r&&gn(s)&&gn(o)&&e(zM({width:s,height:o}))},[e,r,s,o]),null},DD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},W6=or({name:"legend",initialState:DD,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:vt()},removeLegendPayload:{reducer(t,e){var r=On(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:vt()}}}),{setLegendSize:J1,setLegendSettings:LD,addLegendPayload:q6,removeLegendPayload:K6}=W6.actions,jD=W6.reducer,VD=["contextPayload"];function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},im.apply(null,arguments)}function Z1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(r),!0).forEach(function(n){$D(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $D(t,e,r){return(e=FD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FD(t){var e=UD(t,"string");return typeof e=="symbol"?e:e+""}function UD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zD(t,e){if(t==null)return{};var r,n,i=BD(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function BD(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function HD(t){return t.value}function WD(t){var{contextPayload:e}=t,r=zD(t,VD),n=q_(e,t.payloadUniqBy,HD),i=ss(ss({},r),{},{payload:n});return y.isValidElement(t.content)?y.cloneElement(t.content,i):typeof t.content=="function"?y.createElement(t.content,i):y.createElement(u7,i)}function qD(t,e,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ss(ss({},u),d)}function KD(t){var e=De();return y.useEffect(()=>{e(LD(t))},[e,t]),null}function GD(t){var e=De();return y.useEffect(()=>(e(J1(t)),()=>{e(J1({width:0,height:0}))}),[e,t]),null}function YD(t,e,r,n){return t==="vertical"&&ae(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var XD={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function G6(t){var e=Ot(t,XD),r=G7(),n=n9(),i=RD(),{width:a,height:s,wrapperStyle:o,portal:c}=e,[u,d]=i6([r]),f=ug(),m=dg();if(f==null||m==null)return null;var g=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),w=YD(e.layout,s,a,g),x=c?o:ss(ss({position:"absolute",width:(w==null?void 0:w.width)||a||"auto",height:(w==null?void 0:w.height)||s||"auto"},qD(o,e,i,f,m,u)),o),v=c??n;if(v==null||r==null)return null;var P=y.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},y.createElement(KD,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(GD,{width:u.width,height:u.height}),y.createElement(WD,im({},e,w,{margin:i,chartWidth:f,chartHeight:m,contextPayload:r})));return Mu.createPortal(P,v)}G6.displayName="Legend";function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(null,arguments)}function eb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eb(Object(r),!0).forEach(function(n){QD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QD(t,e,r){return(e=JD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JD(t){var e=ZD(t,"string");return typeof e=="symbol"?e:e+""}function ZD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eL(t){return Array.isArray(t)&&pn(t[0])&&pn(t[1])?t.join(" ~ "):t}var tL=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:m=!1}=t,g=()=>{if(a&&a.length){var k={padding:0,margin:0},D=(o?md(a,o):a).map((_,S)=>{if(_.type==="none")return null;var E=_.formatter||s||eL,{value:C,name:I}=_,M=C,O=I;if(E){var z=E(C,I,_,S,a);if(Array.isArray(z))[M,O]=z;else if(z!=null)M=z;else return null}var B=Wh({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:B},pn(O)?y.createElement("span",{className:"recharts-tooltip-item-name"},O):null,pn(O)?y.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,y.createElement("span",{className:"recharts-tooltip-item-value"},M),y.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},w=Wh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Wh({margin:0},i),v=!kt(d),P=v?d:"",A=Ce("recharts-default-tooltip",c),T=Ce("recharts-tooltip-label",u);v&&f&&a!==void 0&&a!==null&&(P=f(d,a));var L=m?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",am({className:A,style:w},L),y.createElement("p",{className:T,style:x},y.isValidElement(P)?P:"".concat(P)),g())},Gs="recharts-tooltip-wrapper",rL={visibility:"hidden"};function nL(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ce(Gs,{["".concat(Gs,"-right")]:ae(r)&&e&&ae(e.x)&&r>=e.x,["".concat(Gs,"-left")]:ae(r)&&e&&ae(e.x)&&r<e.x,["".concat(Gs,"-bottom")]:ae(n)&&e&&ae(e.y)&&n>=e.y,["".concat(Gs,"-top")]:ae(n)&&e&&ae(e.y)&&n<e.y})}function tb(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=t;if(a&&ae(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(e[n])return s[n]?d:f;var m=c[n];if(m==null)return 0;if(s[n]){var g=d,w=m;return g<w?Math.max(f,m):Math.max(d,m)}if(u==null)return 0;var x=f+o,v=m+u;return x>v?Math.max(d,m):Math.max(f,m)}function iL(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function aL(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=t,u,d,f;return s.height>0&&s.width>0&&r?(d=tb({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=tb({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=iL({translateX:d,translateY:f,useTranslate3d:o})):u=rL,{cssProperties:u,cssClasses:nL({translateX:d,translateY:f,coordinate:r})}}function rb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(r),!0).forEach(function(n){sm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sm(t,e,r){return(e=sL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sL(t){var e=oL(t,"string");return typeof e=="symbol"?e:e+""}function oL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lL extends y.PureComponent{constructor(){super(...arguments),sm(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sm(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:m,viewBox:g,wrapperStyle:w,lastBoundingBox:x,innerRef:v,hasPortalFromProps:P}=this.props,{cssClasses:A,cssProperties:T}=aL({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:g}),L=P?{}:Gl(Gl({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=Gl(Gl({},L),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},w);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:k,ref:v},a)}}var cL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Aa={devToolsEnabled:!1,isSsr:cL()},Y6=()=>{var t;return(t=ie(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},om.apply(null,arguments)}function nb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ib(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(r),!0).forEach(function(n){uL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uL(t,e,r){return(e=dL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dL(t){var e=hL(t,"string");return typeof e=="symbol"?e:e+""}function hL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ab={curveBasisClosed:_9,curveBasisOpen:E9,curveBasis:w9,curveBumpX:o9,curveBumpY:l9,curveLinearClosed:N9,curveLinear:od,curveMonotoneX:A9,curveMonotoneY:P9,curveNatural:S9,curveStep:T9,curveStepAfter:C9,curveStepBefore:I9},iu=t=>it(t.x)&&it(t.y),sb=t=>t.base!=null&&iu(t.base)&&iu(t),Ys=t=>t.x,Xs=t=>t.y,fL=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(il(t));return(r==="curveMonotone"||r==="curveBump")&&e?ab["".concat(r).concat(e==="vertical"?"Y":"X")]:ab[r]||od},mL=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,s=fL(e,i),o=a?r.filter(iu):r,c;if(Array.isArray(n)){var u=r.map((g,w)=>ib(ib({},g),{},{base:n[w]}));i==="vertical"?c=Ul().y(Xs).x1(Ys).x0(g=>g.base.x):c=Ul().x(Ys).y1(Xs).y0(g=>g.base.y);var d=c.defined(sb).curve(s),f=a?u.filter(sb):u;return d(f)}i==="vertical"&&ae(n)?c=Ul().y(Xs).x1(Ys).x0(n):ae(n)?c=Ul().x(Ys).y1(Xs).y0(n):c=f_().x(Ys).y(Xs);var m=c.defined(iu).curve(s);return m(o)},hg=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?mL(t):n;return y.createElement("path",om({},Fr(t),Q9(t),{className:Ce("recharts-curve",e),d:a===null?void 0:a,ref:i}))},pL=["x","y","top","left","width","height","className"];function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(null,arguments)}function ob(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(r),!0).forEach(function(n){vL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vL(t,e,r){return(e=yL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yL(t){var e=bL(t,"string");return typeof e=="symbol"?e:e+""}function bL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xL(t,e){if(t==null)return{};var r,n,i=wL(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wL(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var _L=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),EL=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=t,c=xL(t,pL),u=gL({x:e,y:r,top:n,left:i,width:a,height:s},c);return!ae(e)||!ae(r)||!ae(a)||!ae(s)||!ae(n)||!ae(i)?null:y.createElement("path",lm({},Cr(u),{className:Ce("recharts-cross",o),d:_L(e,r,a,s,n,i)}))};function NL(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function lb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(r),!0).forEach(function(n){AL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AL(t,e,r){return(e=PL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PL(t){var e=SL(t,"string");return typeof e=="symbol"?e:e+""}function SL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TL=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),X6=(t,e,r)=>t.map(n=>"".concat(TL(n)," ").concat(e,"ms ").concat(r)).join(","),IL=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),jo=(t,e)=>Object.keys(e).reduce((r,n)=>cb(cb({},r),{},{[n]:t(n,e[n])}),{});function ub(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(r),!0).forEach(function(n){CL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CL(t,e,r){return(e=kL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kL(t){var e=OL(t,"string");return typeof e=="symbol"?e:e+""}function OL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var au=(t,e,r)=>t+(e-t)*r,cm=t=>{var{from:e,to:r}=t;return e!==r},Q6=(t,e,r)=>{var n=jo((i,a)=>{if(cm(a)){var[s,o]=t(a.from,a.to,a.velocity);return gt(gt({},a),{},{from:s,velocity:o})}return a},e);return r<1?jo((i,a)=>cm(a)?gt(gt({},a),{},{velocity:au(a.velocity,n[i].velocity,r),from:au(a.from,n[i].from,r)}):a,e):Q6(t,n,r-1)};function RL(t,e,r,n,i,a){var s,o=n.reduce((m,g)=>gt(gt({},m),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),c=()=>jo((m,g)=>g.from,o),u=()=>!Object.values(o).filter(cm).length,d=null,f=m=>{s||(s=m);var g=m-s,w=g/r.dt;o=Q6(r,o,w),i(gt(gt(gt({},t),e),c())),s=m,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function ML(t,e,r,n,i,a,s){var o=null,c=i.reduce((f,m)=>gt(gt({},f),{},{[m]:[t[m],e[m]]}),{}),u,d=f=>{u||(u=f);var m=(f-u)/n,g=jo((x,v)=>au(...v,r(m)),c);if(a(gt(gt(gt({},t),e),g)),m<1)o=s.setTimeout(d);else{var w=jo((x,v)=>au(...v,r(1)),c);a(gt(gt(gt({},t),e),w))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const DL=(t,e,r,n,i,a)=>{var s=IL(t,e);return r==null?()=>(i(gt(gt({},t),e)),()=>{}):r.isStepper===!0?RL(t,e,r,s,i,a):ML(t,e,r,n,s,i,a)};var su=1e-4,J6=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Z6=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),db=(t,e)=>r=>{var n=J6(t,e);return Z6(n,r)},LL=(t,e)=>r=>{var n=J6(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return Z6(i,r)},jL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},VL=(t,e,r,n)=>{var i=db(t,r),a=db(e,n),s=LL(t,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,m=0;m<8;++m){var g=i(f)-d,w=s(f);if(Math.abs(g-d)<su||w<su)return a(f);f=o(f-g/w)}return a(f)};return c.isStepper=!1,c},hb=function(){return VL(...jL(...arguments))},$L=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,f=c+(u-d)*i/1e3,m=c*i/1e3+s;return Math.abs(m-o)<su&&Math.abs(f)<su?[o,0]:[m,f]};return a.isStepper=!0,a.dt=i,a},FL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hb(t);case"spring":return $L();default:if(t.split("(")[0]==="cubic-bezier")return hb(t)}return typeof t=="function"?t:null};function UL(t){var e,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=t.setTimeout(a.bind(null,u),c);return}a(c),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}class zL{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function BL(){return UL(new zL)}var HL=y.createContext(BL);function WL(t,e){var r=y.useContext(HL);return y.useMemo(()=>e??r(t),[t,e,r])}var qL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},fb={t:0},qh={t:1};function Td(t){var e=Ot(t,qL),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=e,d=WL(e.animationId,e.animationManager),[f,m]=y.useState(r?fb:qh),g=y.useRef(null);return y.useEffect(()=>{r||m(qh)},[r]),y.useEffect(()=>{if(!r||!n)return Ea;var w=DL(fb,qh,FL(a),i,m,d.getTimeoutController()),x=()=>{g.current=w()};return d.start([c,s,x,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[r,n,i,a,s,c,o,d]),u(f.t)}function Id(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Ro(e)),n=y.useRef(t);return n.current!==t&&(r.current=Ro(e),n.current=t),r.current}var KL=["radius"],GL=["radius"];function mb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(r),!0).forEach(function(n){YL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YL(t,e,r){return(e=XL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=QL(t,"string");return typeof e=="symbol"?e:e+""}function QL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(null,arguments)}function gb(t,e){if(t==null)return{};var r,n,i=JL(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function JL(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var vb=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,m=4;f<m;f++)d[f]=i[f]>a?a:i[f];u="M".concat(t,",").concat(e+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+o*d[0],",").concat(e)),u+="L ".concat(t+r-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+s*d[1])),u+="L ".concat(t+r,",").concat(e+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-o*d[2],",").concat(e+n)),u+="L ".concat(t+o*d[3],",").concat(e+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);u="M ".concat(t,",").concat(e+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r,",").concat(e+s*g,`
            L `).concat(t+r,",").concat(e+n-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(e+n-s*g," Z")}else u="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},yb={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eE=t=>{var e=Ot(t,yb),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:m,animationBegin:g,isAnimationActive:w,isUpdateAnimationActive:x}=e,v=y.useRef(o),P=y.useRef(c),A=y.useRef(a),T=y.useRef(s),L=y.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),k=Id(L,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var D=Ce("recharts-rectangle",d);if(!x){var _=Cr(e),S=gb(_,KL);return y.createElement("path",ou({},S,{radius:typeof u=="number"?u:void 0,className:D,d:vb(a,s,o,c,u)}))}var E=v.current,C=P.current,I=A.current,M=T.current,O="0px ".concat(n===-1?1:n,"px"),z="".concat(n,"px 0px"),B=X6(["strokeDasharray"],m,typeof f=="string"?f:yb.animationEasing);return y.createElement(Td,{animationId:k,key:k,canBegin:n>0,duration:m,easing:f,isActive:x,begin:g},Q=>{var ne=pt(E,o,Q),he=pt(C,c,Q),H=pt(I,a,Q),Z=pt(M,s,Q);r.current&&(v.current=ne,P.current=he,A.current=H,T.current=Z);var ce;w?Q>0?ce={transition:B,strokeDasharray:z}:ce={strokeDasharray:O}:ce={strokeDasharray:z};var Ne=Cr(e),Te=gb(Ne,GL);return y.createElement("path",ou({},Te,{radius:typeof u=="number"?u:void 0,className:D,d:vb(H,Z,ne,he,u),ref:r,style:pb(pb({},ce),e.style)}))})};function bb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(r),!0).forEach(function(n){ZL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZL(t,e,r){return(e=ej(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ej(t){var e=tj(t,"string");return typeof e=="symbol"?e:e+""}function tj(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lu=Math.PI/180,rj=t=>t*180/Math.PI,ut=(t,e,r,n)=>({x:t+Math.cos(-lu*n)*r,y:e+Math.sin(-lu*n)*r}),tE=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nj=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},ij=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=nj({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:rj(c),angleInRadian:c}},aj=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},sj=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},oj=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=ij({x:r,y:n},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=aj(e),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?xb(xb({},e),{},{radius:i,angle:sj(d,e)}):null};function rE(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=ut(e,r,n,i),o=ut(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(null,arguments)}var lj=(t,e)=>{var r=Ct(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Yl=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=t,u=o*(s?1:-1)+n,d=Math.asin(o/u)/lu,f=c?i:i+a*d,m=ut(e,r,u,f),g=ut(e,r,n,f),w=c?i-a*d:i,x=ut(e,r,u*Math.cos(d*lu),w);return{center:m,circleTangency:g,lineTangency:x,theta:d}},nE=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,o=lj(a,s),c=a+o,u=ut(e,r,i,a),d=ut(e,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var m=ut(e,r,n,a),g=ut(e,r,n,c);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(e,",").concat(r," Z");return f},cj=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=t,d=Ct(u-c),{circleTangency:f,lineTangency:m,theta:g}=Yl({cx:e,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:x,theta:v}=Yl({cx:e,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),P=o?Math.abs(c-u):Math.abs(c-u)-g-v;if(P<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):nE({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var A="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:T,lineTangency:L,theta:k}=Yl({cx:e,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:D,lineTangency:_,theta:S}=Yl({cx:e,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-k-S;if(E<0&&a===0)return"".concat(A,"L").concat(e,",").concat(r,"Z");A+="L".concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else A+="L".concat(e,",").concat(r,"Z");return A},uj={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iE=t=>{var e=Ot(t,uj),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(a<i||u===d)return null;var m=Ce("recharts-sector",f),g=a-i,w=Kt(s,g,0,!0),x;return w>0&&Math.abs(u-d)<360?x=cj({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,g/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):x=nE({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),y.createElement("path",um({},Cr(e),{className:m,d:x}))};function dj(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(T_(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,c=ut(n,i,a,o),u=ut(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return rE(e)}}var aE={},sE={},oE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tg;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(oE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oE;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(sE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rg,r=sE;function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}t.range=n})(aE);var hj=aE.range;const lE=Ci(hj);function wi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fj(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fg(t){let e,r,n;t.length!==2?(e=wi,r=(o,c)=>wi(t(o),c),n=(o,c)=>t(o)-c):(e=t===wi||t===fj?t:mj,r=t,n=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function mj(){return 0}function cE(t){return t===null?NaN:+t}function*pj(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const gj=fg(wi),vj=gj.right;fg(cE).center;const cl=vj;class wb extends Map{constructor(e,r=xj){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(_b(this,e))}has(e){return super.has(_b(this,e))}set(e,r){return super.set(yj(this,e),r)}delete(e){return super.delete(bj(this,e))}}function _b({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function yj({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function bj({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function xj(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wj(t=wi){if(t===wi)return uE;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function uE(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _j=Math.sqrt(50),Ej=Math.sqrt(10),Nj=Math.sqrt(2);function cu(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=_j?10:a>=Ej?5:a>=Nj?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?cu(t,e,r*2):[o,c,u]}function dm(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?cu(e,t,r):cu(t,e,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function hm(t,e,r){return e=+e,t=+t,r=+r,cu(t,e,r)[2]}function fm(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?hm(e,t,r):hm(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Eb(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Nb(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function dE(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?uE:wj(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(e-u*f/c+m)),w=Math.min(n,Math.floor(e+(c-u)*f/c+m));dE(t,e,g,w,i)}const a=t[e];let s=r,o=n;for(Qs(t,r,e),i(t[n],a)>0&&Qs(t,r,n);s<o;){for(Qs(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Qs(t,r,o):(++o,Qs(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Qs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Aj(t,e,r){if(t=Float64Array.from(pj(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Nb(t);if(e>=1)return Eb(t);var n,i=(n-1)*e,a=Math.floor(i),s=Eb(dE(t,a).subarray(0,a+1)),o=Nb(t.subarray(a+1));return s+(o-s)*(i-a)}}function Pj(t,e,r=cE){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Sj(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Rr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mm=Symbol("implicit");function mg(){var t=new wb,e=[],r=[],n=mm;function i(a){let s=t.get(a);if(s===void 0){if(n!==mm)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new wb;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mg(e,r).unknown(n)},Rr.apply(i,arguments),i}function pg(){var t=mg().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,g=i<n,w=g?i:n,x=g?n:i;a=(x-w)/Math.max(1,m-c+u*2),o&&(a=Math.floor(a)),w+=(x-w-a*(m-c))*d,s=a*(1-c),o&&(w=Math.round(w),s=Math.round(s));var v=Sj(m).map(function(P){return w+a*P});return r(g?v.reverse():v)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(m){return arguments.length?(o=!!m,f()):o},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return pg(e(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Rr.apply(f(),arguments)}function hE(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hE(e())},t}function Tj(){return hE(pg.apply(null,arguments).paddingInner(1))}function gg(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function fE(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ul(){}var Vo=.7,uu=1/Vo,Qa="\\s*([+-]?\\d+)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ij=/^#([0-9a-f]{3,8})$/,Cj=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),kj=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),Oj=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${$o}\\)$`),Rj=new RegExp(`^rgba\\(${dn},${dn},${dn},${$o}\\)$`),Mj=new RegExp(`^hsl\\(${$o},${dn},${dn}\\)$`),Dj=new RegExp(`^hsla\\(${$o},${dn},${dn},${$o}\\)$`),Ab={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gg(ul,Fo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pb,formatHex:Pb,formatHex8:Lj,formatHsl:jj,formatRgb:Sb,toString:Sb});function Pb(){return this.rgb().formatHex()}function Lj(){return this.rgb().formatHex8()}function jj(){return mE(this).formatHsl()}function Sb(){return this.rgb().formatRgb()}function Fo(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ij.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Tb(e):r===3?new sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cj.exec(t))?new sr(e[1],e[2],e[3],1):(e=kj.exec(t))?new sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Oj.exec(t))?Xl(e[1],e[2],e[3],e[4]):(e=Rj.exec(t))?Xl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Mj.exec(t))?kb(e[1],e[2]/100,e[3]/100,1):(e=Dj.exec(t))?kb(e[1],e[2]/100,e[3]/100,e[4]):Ab.hasOwnProperty(t)?Tb(Ab[t]):t==="transparent"?new sr(NaN,NaN,NaN,0):null}function Tb(t){return new sr(t>>16&255,t>>8&255,t&255,1)}function Xl(t,e,r,n){return n<=0&&(t=e=r=NaN),new sr(t,e,r,n)}function Vj(t){return t instanceof ul||(t=Fo(t)),t?(t=t.rgb(),new sr(t.r,t.g,t.b,t.opacity)):new sr}function pm(t,e,r,n){return arguments.length===1?Vj(t):new sr(t,e,r,n??1)}function sr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gg(sr,pm,fE(ul,{brighter(t){return t=t==null?uu:Math.pow(uu,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vo:Math.pow(Vo,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sr(ta(this.r),ta(this.g),ta(this.b),du(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ib,formatHex:Ib,formatHex8:$j,formatRgb:Cb,toString:Cb}));function Ib(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}`}function $j(){return`#${Yi(this.r)}${Yi(this.g)}${Yi(this.b)}${Yi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cb(){const t=du(this.opacity);return`${t===1?"rgb(":"rgba("}${ta(this.r)}, ${ta(this.g)}, ${ta(this.b)}${t===1?")":`, ${t})`}`}function du(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ta(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yi(t){return t=ta(t),(t<16?"0":"")+t.toString(16)}function kb(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,r,n)}function mE(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof ul||(t=Fo(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Lr(s,o,c,t.opacity)}function Fj(t,e,r,n){return arguments.length===1?mE(t):new Lr(t,e,r,n??1)}function Lr(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gg(Lr,Fj,fE(ul,{brighter(t){return t=t==null?uu:Math.pow(uu,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vo:Math.pow(Vo,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new sr(Kh(t>=240?t-240:t+120,i,n),Kh(t,i,n),Kh(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Lr(Ob(this.h),Ql(this.s),Ql(this.l),du(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=du(this.opacity);return`${t===1?"hsl(":"hsla("}${Ob(this.h)}, ${Ql(this.s)*100}%, ${Ql(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ob(t){return t=(t||0)%360,t<0?t+360:t}function Ql(t){return Math.max(0,Math.min(1,t||0))}function Kh(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const vg=t=>()=>t;function Uj(t,e){return function(r){return t+r*e}}function zj(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Bj(t){return(t=+t)==1?pE:function(e,r){return r-e?zj(e,r,t):vg(isNaN(e)?r:e)}}function pE(t,e){var r=e-t;return r?Uj(t,r):vg(isNaN(t)?e:t)}const Rb=function t(e){var r=Bj(e);function n(i,a){var s=r((i=pm(i)).r,(a=pm(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=pE(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Hj(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Wj(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qj(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=bs(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Kj(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function hu(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Gj(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=bs(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var gm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gh=new RegExp(gm.source,"g");function Yj(t){return function(){return t}}function Xj(t){return function(e){return t(e)+""}}function Qj(t,e){var r=gm.lastIndex=Gh.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=gm.exec(t))&&(i=Gh.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:hu(n,i)})),r=Gh.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?Xj(c[0].x):Yj(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function bs(t,e){var r=typeof e,n;return e==null||r==="boolean"?vg(e):(r==="number"?hu:r==="string"?(n=Fo(e))?(e=n,Rb):Qj:e instanceof Fo?Rb:e instanceof Date?Kj:Wj(e)?Hj:Array.isArray(e)?qj:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gj:hu)(t,e)}function yg(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Jj(t,e){e===void 0&&(e=t,t=bs);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function Zj(t){return function(){return t}}function fu(t){return+t}var Mb=[0,1];function Xt(t){return t}function vm(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Zj(isNaN(e)?NaN:.5)}function eV(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function tV(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=vm(i,n),a=r(s,a)):(n=vm(n,i),a=r(a,s)),function(o){return a(n(o))}}function rV(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=vm(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var c=cl(t,o,1,n)-1;return a[c](i[c](o))}}function dl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cd(){var t=Mb,e=Mb,r=bs,n,i,a,s=Xt,o,c,u;function d(){var m=Math.min(t.length,e.length);return s!==Xt&&(s=eV(t[0],t[m-1])),o=m>2?rV:tV,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=o(t.map(n),e,r)))(n(s(m)))}return f.invert=function(m){return s(i((u||(u=o(e,t.map(n),hu)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,fu),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=yg,d()},f.clamp=function(m){return arguments.length?(s=m?!0:Xt,d()):s!==Xt},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,g){return n=m,i=g,d()}}function bg(){return Cd()(Xt,Xt)}function nV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mu(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function os(t){return t=mu(Math.abs(t)),t?t[1]:NaN}function iV(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function aV(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var sV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uo(t){if(!(e=sV.exec(t)))throw new Error("invalid format: "+t);var e;return new xg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uo.prototype=xg.prototype;function xg(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oV(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var gE;function lV(t,e){var r=mu(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(gE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mu(t,Math.max(0,e+a-1))[0]}function Db(t,e){var r=mu(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Lb={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:nV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Db(t*100,e),r:Db,s:lV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jb(t){return t}var Vb=Array.prototype.map,$b=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cV(t){var e=t.grouping===void 0||t.thousands===void 0?jb:iV(Vb.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?jb:aV(Vb.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Uo(f);var m=f.fill,g=f.align,w=f.sign,x=f.symbol,v=f.zero,P=f.width,A=f.comma,T=f.precision,L=f.trim,k=f.type;k==="n"?(A=!0,k="g"):Lb[k]||(T===void 0&&(T=12),L=!0,k="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var D=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=x==="$"?n:/[%p]/.test(k)?s:"",S=Lb[k],E=/[defgprs%]/.test(k);T=T===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function C(I){var M=D,O=_,z,B,Q;if(k==="c")O=S(I)+O,I="";else{I=+I;var ne=I<0||1/I<0;if(I=isNaN(I)?c:S(Math.abs(I),T),L&&(I=oV(I)),ne&&+I==0&&w!=="+"&&(ne=!1),M=(ne?w==="("?w:o:w==="-"||w==="("?"":w)+M,O=(k==="s"?$b[8+gE/3]:"")+O+(ne&&w==="("?")":""),E){for(z=-1,B=I.length;++z<B;)if(Q=I.charCodeAt(z),48>Q||Q>57){O=(Q===46?i+I.slice(z+1):I.slice(z))+O,I=I.slice(0,z);break}}}A&&!v&&(I=e(I,1/0));var he=M.length+I.length+O.length,H=he<P?new Array(P-he+1).join(m):"";switch(A&&v&&(I=e(H+I,H.length?P-O.length:1/0),H=""),g){case"<":I=M+I+O+H;break;case"=":I=M+H+I+O;break;case"^":I=H.slice(0,he=H.length>>1)+M+I+O+H.slice(he);break;default:I=H+M+I+O;break}return a(I)}return C.toString=function(){return f+""},C}function d(f,m){var g=u((f=Uo(f),f.type="f",f)),w=Math.max(-8,Math.min(8,Math.floor(os(m)/3)))*3,x=Math.pow(10,-w),v=$b[8+w/3];return function(P){return g(x*P)+v}}return{format:u,formatPrefix:d}}var Jl,wg,vE;uV({thousands:",",grouping:[3],currency:["$",""]});function uV(t){return Jl=cV(t),wg=Jl.format,vE=Jl.formatPrefix,Jl}function dV(t){return Math.max(0,-os(Math.abs(t)))}function hV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(os(e)/3)))*3-os(Math.abs(t)))}function fV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,os(e)-os(t))+1}function yE(t,e,r,n){var i=fm(t,e,r),a;switch(n=Uo(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=hV(i,s))&&(n.precision=a),vE(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=fV(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=dV(i))&&(n.precision=a-(n.type==="%")*2);break}}return wg(n)}function Ri(t){var e=t.domain;return t.ticks=function(r){var n=e();return dm(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return yE(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=hm(s,o,r),u===c)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function bE(){var t=bg();return t.copy=function(){return dl(t,bE())},Rr.apply(t,arguments),Ri(t)}function xE(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,fu),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return xE(t).unknown(e)},t=arguments.length?Array.from(t,fu):[0,1],Ri(r)}function wE(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Fb(t){return Math.log(t)}function Ub(t){return Math.exp(t)}function mV(t){return-Math.log(-t)}function pV(t){return-Math.exp(-t)}function gV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vV(t){return t===10?gV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zb(t){return(e,r)=>-t(-e,r)}function _g(t){const e=t(Fb,Ub),r=e.domain;let n=10,i,a;function s(){return i=yV(n),a=vV(n),r()[0]<0?(i=zb(i),a=zb(a),t(mV,pV)):t(Fb,Ub),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),g=i(d),w,x;const v=o==null?10:+o;let P=[];if(!(n%1)&&g-m<v){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(w=1;w<n;++w)if(x=m<0?w/a(-m):w*a(m),!(x<u)){if(x>d)break;P.push(x)}}else for(;m<=g;++m)for(w=n-1;w>=1;--w)if(x=m>0?w/a(-m):w*a(m),!(x<u)){if(x>d)break;P.push(x)}P.length*2<v&&(P=dm(u,d,v))}else P=dm(m,g,Math.min(g-m,v)).map(a);return f?P.reverse():P},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Uo(c)).precision==null&&(c.trim=!0),c=wg(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(wE(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function _E(){const t=_g(Cd()).domain([1,10]);return t.copy=()=>dl(t,_E()).base(t.base()),Rr.apply(t,arguments),t}function Bb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Hb(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Eg(t){var e=1,r=t(Bb(e),Hb(e));return r.constant=function(n){return arguments.length?t(Bb(e=+n),Hb(e)):e},Ri(r)}function EE(){var t=Eg(Cd());return t.copy=function(){return dl(t,EE()).constant(t.constant())},Rr.apply(t,arguments)}function Wb(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xV(t){return t<0?-t*t:t*t}function Ng(t){var e=t(Xt,Xt),r=1;function n(){return r===1?t(Xt,Xt):r===.5?t(bV,xV):t(Wb(r),Wb(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ri(e)}function Ag(){var t=Ng(Cd());return t.copy=function(){return dl(t,Ag()).exponent(t.exponent())},Rr.apply(t,arguments),t}function wV(){return Ag.apply(null,arguments).exponent(.5)}function qb(t){return Math.sign(t)*t*t}function _V(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function NE(){var t=bg(),e=[0,1],r=!1,n;function i(a){var s=_V(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(qb(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,fu)).map(qb)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return NE(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Rr.apply(i,arguments),Ri(i)}function AE(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Pj(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[cl(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(wi),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return AE().domain(t).range(e).unknown(n)},Rr.apply(a,arguments)}function PE(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[cl(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return PE().domain([t,e]).range(i).unknown(a)},Rr.apply(Ri(s),arguments)}function SE(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[cl(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SE().domain(t).range(e).unknown(r)},Rr.apply(i,arguments)}const Yh=new Date,Xh=new Date;function Et(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return c},i.filter=a=>Et(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Yh.setTime(+a),Xh.setTime(+s),t(Yh),t(Xh),Math.floor(r(Yh,Xh))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const pu=Et(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);pu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Et(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):pu);pu.range;const In=1e3,Sr=In*60,Cn=Sr*60,Fn=Cn*24,Pg=Fn*7,Kb=Fn*30,Qh=Fn*365,Xi=Et(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*In)},(t,e)=>(e-t)/In,t=>t.getUTCSeconds());Xi.range;const Sg=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*In)},(t,e)=>{t.setTime(+t+e*Sr)},(t,e)=>(e-t)/Sr,t=>t.getMinutes());Sg.range;const Tg=Et(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Sr)},(t,e)=>(e-t)/Sr,t=>t.getUTCMinutes());Tg.range;const Ig=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*In-t.getMinutes()*Sr)},(t,e)=>{t.setTime(+t+e*Cn)},(t,e)=>(e-t)/Cn,t=>t.getHours());Ig.range;const Cg=Et(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cn)},(t,e)=>(e-t)/Cn,t=>t.getUTCHours());Cg.range;const hl=Et(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Sr)/Fn,t=>t.getDate()-1);hl.range;const kd=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fn,t=>t.getUTCDate()-1);kd.range;const TE=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fn,t=>Math.floor(t/Fn));TE.range;function Pa(t){return Et(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Sr)/Pg)}const Od=Pa(0),gu=Pa(1),EV=Pa(2),NV=Pa(3),ls=Pa(4),AV=Pa(5),PV=Pa(6);Od.range;gu.range;EV.range;NV.range;ls.range;AV.range;PV.range;function Sa(t){return Et(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Pg)}const Rd=Sa(0),vu=Sa(1),SV=Sa(2),TV=Sa(3),cs=Sa(4),IV=Sa(5),CV=Sa(6);Rd.range;vu.range;SV.range;TV.range;cs.range;IV.range;CV.range;const kg=Et(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kg.range;const Og=Et(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Og.range;const Un=Et(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Un.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Un.range;const zn=Et(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});zn.range;function IE(t,e,r,n,i,a){const s=[[Xi,1,In],[Xi,5,5*In],[Xi,15,15*In],[Xi,30,30*In],[a,1,Sr],[a,5,5*Sr],[a,15,15*Sr],[a,30,30*Sr],[i,1,Cn],[i,3,3*Cn],[i,6,6*Cn],[i,12,12*Cn],[n,1,Fn],[n,2,2*Fn],[r,1,Pg],[e,1,Kb],[e,3,3*Kb],[t,1,Qh]];function o(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const g=f&&typeof f.range=="function"?f:c(u,d,f),w=g?g.range(u,+d+1):[];return m?w.reverse():w}function c(u,d,f){const m=Math.abs(d-u)/f,g=fg(([,,v])=>v).right(s,m);if(g===s.length)return t.every(fm(u/Qh,d/Qh,f));if(g===0)return pu.every(Math.max(fm(u,d,f),1));const[w,x]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return w.every(x)}return[o,c]}const[kV,OV]=IE(zn,Og,Rd,TE,Cg,Tg),[RV,MV]=IE(Un,kg,Od,hl,Ig,Sg);function Jh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Js(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function DV(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=Zs(i),d=eo(i),f=Zs(a),m=eo(a),g=Zs(s),w=eo(s),x=Zs(o),v=eo(o),P=Zs(c),A=eo(c),T={a:ne,A:he,b:H,B:Z,c:null,d:Zb,e:Zb,f:i$,g:m$,G:g$,H:t$,I:r$,j:n$,L:CE,m:a$,M:s$,p:ce,q:Ne,Q:r2,s:n2,S:o$,u:l$,U:c$,V:u$,w:d$,W:h$,x:null,X:null,y:f$,Y:p$,Z:v$,"%":t2},L={a:Te,A:He,b:Ze,B:tt,c:null,d:e2,e:e2,f:w$,g:k$,G:R$,H:y$,I:b$,j:x$,L:OE,m:_$,M:E$,p:$e,q:Jt,Q:r2,s:n2,S:N$,u:A$,U:P$,V:S$,w:T$,W:I$,x:null,X:null,y:C$,Y:O$,Z:M$,"%":t2},k={a:C,A:I,b:M,B:O,c:z,d:Qb,e:Qb,f:QV,g:Xb,G:Yb,H:Jb,I:Jb,j:KV,L:XV,m:qV,M:GV,p:E,q:WV,Q:ZV,s:e$,S:YV,u:FV,U:UV,V:zV,w:$V,W:BV,x:B,X:Q,y:Xb,Y:Yb,Z:HV,"%":JV};T.x=D(r,T),T.X=D(n,T),T.c=D(e,T),L.x=D(r,L),L.X=D(n,L),L.c=D(e,L);function D(K,de){return function(ge){var G=[],We=-1,we=0,qe=K.length,Ke,$t,Wr;for(ge instanceof Date||(ge=new Date(+ge));++We<qe;)K.charCodeAt(We)===37&&(G.push(K.slice(we,We)),($t=Gb[Ke=K.charAt(++We)])!=null?Ke=K.charAt(++We):$t=Ke==="e"?" ":"0",(Wr=de[Ke])&&(Ke=Wr(ge,$t)),G.push(Ke),we=We+1);return G.push(K.slice(we,We)),G.join("")}}function _(K,de){return function(ge){var G=Js(1900,void 0,1),We=S(G,K,ge+="",0),we,qe;if(We!=ge.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(de&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(we=Zh(Js(G.y,0,1)),qe=we.getUTCDay(),we=qe>4||qe===0?vu.ceil(we):vu(we),we=kd.offset(we,(G.V-1)*7),G.y=we.getUTCFullYear(),G.m=we.getUTCMonth(),G.d=we.getUTCDate()+(G.w+6)%7):(we=Jh(Js(G.y,0,1)),qe=we.getDay(),we=qe>4||qe===0?gu.ceil(we):gu(we),we=hl.offset(we,(G.V-1)*7),G.y=we.getFullYear(),G.m=we.getMonth(),G.d=we.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),qe="Z"in G?Zh(Js(G.y,0,1)).getUTCDay():Jh(Js(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(qe+5)%7:G.w+G.U*7-(qe+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Zh(G)):Jh(G)}}function S(K,de,ge,G){for(var We=0,we=de.length,qe=ge.length,Ke,$t;We<we;){if(G>=qe)return-1;if(Ke=de.charCodeAt(We++),Ke===37){if(Ke=de.charAt(We++),$t=k[Ke in Gb?de.charAt(We++):Ke],!$t||(G=$t(K,ge,G))<0)return-1}else if(Ke!=ge.charCodeAt(G++))return-1}return G}function E(K,de,ge){var G=u.exec(de.slice(ge));return G?(K.p=d.get(G[0].toLowerCase()),ge+G[0].length):-1}function C(K,de,ge){var G=g.exec(de.slice(ge));return G?(K.w=w.get(G[0].toLowerCase()),ge+G[0].length):-1}function I(K,de,ge){var G=f.exec(de.slice(ge));return G?(K.w=m.get(G[0].toLowerCase()),ge+G[0].length):-1}function M(K,de,ge){var G=P.exec(de.slice(ge));return G?(K.m=A.get(G[0].toLowerCase()),ge+G[0].length):-1}function O(K,de,ge){var G=x.exec(de.slice(ge));return G?(K.m=v.get(G[0].toLowerCase()),ge+G[0].length):-1}function z(K,de,ge){return S(K,e,de,ge)}function B(K,de,ge){return S(K,r,de,ge)}function Q(K,de,ge){return S(K,n,de,ge)}function ne(K){return s[K.getDay()]}function he(K){return a[K.getDay()]}function H(K){return c[K.getMonth()]}function Z(K){return o[K.getMonth()]}function ce(K){return i[+(K.getHours()>=12)]}function Ne(K){return 1+~~(K.getMonth()/3)}function Te(K){return s[K.getUTCDay()]}function He(K){return a[K.getUTCDay()]}function Ze(K){return c[K.getUTCMonth()]}function tt(K){return o[K.getUTCMonth()]}function $e(K){return i[+(K.getUTCHours()>=12)]}function Jt(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var de=D(K+="",T);return de.toString=function(){return K},de},parse:function(K){var de=_(K+="",!1);return de.toString=function(){return K},de},utcFormat:function(K){var de=D(K+="",L);return de.toString=function(){return K},de},utcParse:function(K){var de=_(K+="",!0);return de.toString=function(){return K},de}}}var Gb={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,LV=/^%/,jV=/[\\^$*+?|[\]().{}]/g;function Ae(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function VV(t){return t.replace(jV,"\\$&")}function Zs(t){return new RegExp("^(?:"+t.map(VV).join("|")+")","i")}function eo(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function $V(t,e,r){var n=Rt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function FV(t,e,r){var n=Rt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function UV(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function zV(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function BV(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Yb(t,e,r){var n=Rt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Xb(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function HV(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WV(t,e,r){var n=Rt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function qV(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Qb(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function KV(t,e,r){var n=Rt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Jb(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function GV(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function YV(t,e,r){var n=Rt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function XV(t,e,r){var n=Rt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function QV(t,e,r){var n=Rt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JV(t,e,r){var n=LV.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ZV(t,e,r){var n=Rt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function e$(t,e,r){var n=Rt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Zb(t,e){return Ae(t.getDate(),e,2)}function t$(t,e){return Ae(t.getHours(),e,2)}function r$(t,e){return Ae(t.getHours()%12||12,e,2)}function n$(t,e){return Ae(1+hl.count(Un(t),t),e,3)}function CE(t,e){return Ae(t.getMilliseconds(),e,3)}function i$(t,e){return CE(t,e)+"000"}function a$(t,e){return Ae(t.getMonth()+1,e,2)}function s$(t,e){return Ae(t.getMinutes(),e,2)}function o$(t,e){return Ae(t.getSeconds(),e,2)}function l$(t){var e=t.getDay();return e===0?7:e}function c$(t,e){return Ae(Od.count(Un(t)-1,t),e,2)}function kE(t){var e=t.getDay();return e>=4||e===0?ls(t):ls.ceil(t)}function u$(t,e){return t=kE(t),Ae(ls.count(Un(t),t)+(Un(t).getDay()===4),e,2)}function d$(t){return t.getDay()}function h$(t,e){return Ae(gu.count(Un(t)-1,t),e,2)}function f$(t,e){return Ae(t.getFullYear()%100,e,2)}function m$(t,e){return t=kE(t),Ae(t.getFullYear()%100,e,2)}function p$(t,e){return Ae(t.getFullYear()%1e4,e,4)}function g$(t,e){var r=t.getDay();return t=r>=4||r===0?ls(t):ls.ceil(t),Ae(t.getFullYear()%1e4,e,4)}function v$(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ae(e/60|0,"0",2)+Ae(e%60,"0",2)}function e2(t,e){return Ae(t.getUTCDate(),e,2)}function y$(t,e){return Ae(t.getUTCHours(),e,2)}function b$(t,e){return Ae(t.getUTCHours()%12||12,e,2)}function x$(t,e){return Ae(1+kd.count(zn(t),t),e,3)}function OE(t,e){return Ae(t.getUTCMilliseconds(),e,3)}function w$(t,e){return OE(t,e)+"000"}function _$(t,e){return Ae(t.getUTCMonth()+1,e,2)}function E$(t,e){return Ae(t.getUTCMinutes(),e,2)}function N$(t,e){return Ae(t.getUTCSeconds(),e,2)}function A$(t){var e=t.getUTCDay();return e===0?7:e}function P$(t,e){return Ae(Rd.count(zn(t)-1,t),e,2)}function RE(t){var e=t.getUTCDay();return e>=4||e===0?cs(t):cs.ceil(t)}function S$(t,e){return t=RE(t),Ae(cs.count(zn(t),t)+(zn(t).getUTCDay()===4),e,2)}function T$(t){return t.getUTCDay()}function I$(t,e){return Ae(vu.count(zn(t)-1,t),e,2)}function C$(t,e){return Ae(t.getUTCFullYear()%100,e,2)}function k$(t,e){return t=RE(t),Ae(t.getUTCFullYear()%100,e,2)}function O$(t,e){return Ae(t.getUTCFullYear()%1e4,e,4)}function R$(t,e){var r=t.getUTCDay();return t=r>=4||r===0?cs(t):cs.ceil(t),Ae(t.getUTCFullYear()%1e4,e,4)}function M$(){return"+0000"}function t2(){return"%"}function r2(t){return+t}function n2(t){return Math.floor(+t/1e3)}var Ma,ME,DE;D$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D$(t){return Ma=DV(t),ME=Ma.format,Ma.parse,DE=Ma.utcFormat,Ma.utcParse,Ma}function L$(t){return new Date(t)}function j$(t){return t instanceof Date?+t:+new Date(+t)}function Rg(t,e,r,n,i,a,s,o,c,u){var d=bg(),f=d.invert,m=d.domain,g=u(".%L"),w=u(":%S"),x=u("%I:%M"),v=u("%I %p"),P=u("%a %d"),A=u("%b %d"),T=u("%B"),L=u("%Y");function k(D){return(c(D)<D?g:o(D)<D?w:s(D)<D?x:a(D)<D?v:n(D)<D?i(D)<D?P:A:r(D)<D?T:L)(D)}return d.invert=function(D){return new Date(f(D))},d.domain=function(D){return arguments.length?m(Array.from(D,j$)):m().map(L$)},d.ticks=function(D){var _=m();return t(_[0],_[_.length-1],D??10)},d.tickFormat=function(D,_){return _==null?k:u(_)},d.nice=function(D){var _=m();return(!D||typeof D.range!="function")&&(D=e(_[0],_[_.length-1],D??10)),D?m(wE(_,D)):d},d.copy=function(){return dl(d,Rg(t,e,r,n,i,a,s,o,c,u))},d}function V$(){return Rr.apply(Rg(RV,MV,Un,kg,Od,hl,Ig,Sg,Xi,ME).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $$(){return Rr.apply(Rg(kV,OV,zn,Og,Rd,kd,Cg,Tg,Xi,DE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Md(){var t=0,e=1,r,n,i,a,s=Xt,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(m){var g,w;return arguments.length?([g,w]=m,s=f(g,w),u):[s(0),s(1)]}}return u.range=d(bs),u.rangeRound=d(yg),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Mi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function LE(){var t=Ri(Md()(Xt));return t.copy=function(){return Mi(t,LE())},Yn.apply(t,arguments)}function jE(){var t=_g(Md()).domain([1,10]);return t.copy=function(){return Mi(t,jE()).base(t.base())},Yn.apply(t,arguments)}function VE(){var t=Eg(Md());return t.copy=function(){return Mi(t,VE()).constant(t.constant())},Yn.apply(t,arguments)}function Mg(){var t=Ng(Md());return t.copy=function(){return Mi(t,Mg()).exponent(t.exponent())},Yn.apply(t,arguments)}function F$(){return Mg.apply(null,arguments).exponent(.5)}function $E(){var t=[],e=Xt;function r(n){if(n!=null&&!isNaN(n=+n))return e((cl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Aj(t,a/n))},r.copy=function(){return $E(e).domain(t)},Yn.apply(r,arguments)}function Dd(){var t=0,e=.5,r=1,n=1,i,a,s,o,c,u=Xt,d,f=!1,m;function g(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-a)*(n*x<n*a?o:c),u(f?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(x){return arguments.length?(f=!!x,g):f},g.interpolator=function(x){return arguments.length?(u=x,g):u};function w(x){return function(v){var P,A,T;return arguments.length?([P,A,T]=v,u=Jj(x,[P,A,T]),g):[u(0),u(.5),u(1)]}}return g.range=w(bs),g.rangeRound=w(yg),g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return d=x,i=x(t),a=x(e),s=x(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g}}function FE(){var t=Ri(Dd()(Xt));return t.copy=function(){return Mi(t,FE())},Yn.apply(t,arguments)}function UE(){var t=_g(Dd()).domain([.1,1,10]);return t.copy=function(){return Mi(t,UE()).base(t.base())},Yn.apply(t,arguments)}function zE(){var t=Eg(Dd());return t.copy=function(){return Mi(t,zE()).constant(t.constant())},Yn.apply(t,arguments)}function Dg(){var t=Ng(Dd());return t.copy=function(){return Mi(t,Dg()).exponent(t.exponent())},Yn.apply(t,arguments)}function U$(){return Dg.apply(null,arguments).exponent(.5)}const uo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pg,scaleDiverging:FE,scaleDivergingLog:UE,scaleDivergingPow:Dg,scaleDivergingSqrt:U$,scaleDivergingSymlog:zE,scaleIdentity:xE,scaleImplicit:mm,scaleLinear:bE,scaleLog:_E,scaleOrdinal:mg,scalePoint:Tj,scalePow:Ag,scaleQuantile:AE,scaleQuantize:PE,scaleRadial:NE,scaleSequential:LE,scaleSequentialLog:jE,scaleSequentialPow:Mg,scaleSequentialQuantile:$E,scaleSequentialSqrt:F$,scaleSequentialSymlog:VE,scaleSqrt:wV,scaleSymlog:EE,scaleThreshold:SE,scaleTime:V$,scaleUtc:$$,tickFormat:yE},Symbol.toStringTag,{value:"Module"}));var Di=t=>t.chartData,Lg=F([Di],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),jg=(t,e,r,n)=>n?Lg(t):Di(t);function ma(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(it(e)&&it(r))return!0}return!1}function i2(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function BE(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(it(r))i=r;else if(typeof r=="function")return;if(it(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(ma(s))return s}}function z$(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(ma(n))return i2(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(ae(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&W1.test(i)){var c=W1.exec(i);if(c==null||e==null)s=void 0;else{var u=+c[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(ae(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&q1.test(a)){var d=q1.exec(a);if(d==null||e==null)o=void 0;else{var f=+d[1];o=e[1]+f}}else o=e==null?void 0:e[1];var m=[s,o];if(ma(m))return e==null?m:i2(m,e,r)}}}var xs=1e9,B$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$g,ze=!0,Or="[DecimalError] ",ra=Or+"Invalid argument: ",Vg=Or+"Exponent out of range: ",ws=Math.floor,Hi=Math.pow,H$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mr,It=1e7,je=7,HE=9007199254740991,yu=ws(HE/je),re={};re.absoluteValue=re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};re.comparedTo=re.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};re.decimalPlaces=re.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*je;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(t){return Rn(this,new this.constructor(t))};re.dividedToIntegerBy=re.idiv=function(t){var e=this,r=e.constructor;return Re(Rn(e,new r(t),0,1),r.precision)};re.equals=re.eq=function(t){return!this.cmp(t)};re.exponent=function(){return dt(this)};re.greaterThan=re.gt=function(t){return this.cmp(t)>0};re.greaterThanOrEqualTo=re.gte=function(t){return this.cmp(t)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(t){return this.cmp(t)<0};re.lessThanOrEqualTo=re.lte=function(t){return this.cmp(t)<1};re.logarithm=re.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(mr))throw Error(Or+"NaN");if(r.s<1)throw Error(Or+(r.s?"NaN":"-Infinity"));return r.eq(mr)?new n(0):(ze=!1,e=Rn(zo(r,a),zo(t,a),a),ze=!0,Re(e,i))};re.minus=re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?KE(e,t):WE(e,(t.s=-t.s,t))};re.modulo=re.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Or+"NaN");return r.s?(ze=!1,e=Rn(r,t,0,1).times(t),ze=!0,r.minus(e)):Re(new n(r),i)};re.naturalExponential=re.exp=function(){return qE(this)};re.naturalLogarithm=re.ln=function(){return zo(this)};re.negated=re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};re.plus=re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?WE(e,t):KE(e,(t.s=-t.s,t))};re.precision=re.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ra+t);if(e=dt(i)+1,n=i.d.length-1,r=n*je+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};re.squareRoot=re.sqrt=function(){var t,e,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Or+"NaN")}for(t=dt(o),ze=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=tn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ws((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Rn(o,a,s+2)).times(.5),tn(a.d).slice(0,s)===(e=tn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Re(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return ze=!0,Re(n,r)};re.times=re.mul=function(t){var e,r,n,i,a,s,o,c,u,d=this,f=d.constructor,m=d.d,g=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=g.length,c<u&&(a=m,m=g,g=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)o=a[i]+g[n]*m[i-n-1]+e,a[i--]=o%It|0,e=o/It|0;a[i]=(a[i]+e)%It|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ze?Re(t,f.precision):t};re.toDecimalPlaces=re.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(vn(t,0,xs),e===void 0?e=n.rounding:vn(e,0,8),Re(r,t+dt(r)+1,e))};re.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=pa(n,!0):(vn(t,0,xs),e===void 0?e=i.rounding:vn(e,0,8),n=Re(new i(n),t+1,e),r=pa(n,!0,t+1)),r};re.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?pa(i):(vn(t,0,xs),e===void 0?e=a.rounding:vn(e,0,8),n=Re(new a(i),t+dt(i)+1,e),r=pa(n.abs(),!1,t+dt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var t=this,e=t.constructor;return Re(new e(t),dt(t)+1,e.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(t){var e,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(mr);if(o=new c(o),!o.s){if(t.s<1)throw Error(Or+"Infinity");return o}if(o.eq(mr))return o;if(n=c.precision,t.eq(mr))return Re(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=HE){for(i=new c(mr),e=Math.ceil(n/je+4),ze=!1;r%2&&(i=i.times(o),s2(i.d,e)),r=ws(r/2),r!==0;)o=o.times(o),s2(o.d,e);return ze=!0,t.s<0?new c(mr).div(i):Re(i,n)}}else if(a<0)throw Error(Or+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ze=!1,i=t.times(zo(o,n+u)),ze=!0,i=qE(i),i.s=a,i};re.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=dt(i),n=pa(i,r<=a.toExpNeg||r>=a.toExpPos)):(vn(t,1,xs),e===void 0?e=a.rounding:vn(e,0,8),i=Re(new a(i),t,e),r=dt(i),n=pa(i,t<=r||r<=a.toExpNeg,t)),n};re.toSignificantDigits=re.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(vn(t,1,xs),e===void 0?e=n.rounding:vn(e,0,8)),Re(new n(r),t,e)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dt(t),r=t.constructor;return pa(t,e<=r.toExpNeg||e>=r.toExpPos)};function WE(t,e){var r,n,i,a,s,o,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ze?Re(e,f):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(f/je),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/It|0,c[a]%=It;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,ze?Re(e,f):e}function vn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ra+t)}function tn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=je-n.length,r&&(a+=di(r)),a+=n;s=t[e],n=s+"",r=je-n.length,r&&(a+=di(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Rn=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%It|0,s=a/It|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*It+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,f,m,g,w,x,v,P,A,T,L,k,D,_,S,E=n.constructor,C=n.s==i.s?1:-1,I=n.d,M=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Or+"Division by zero");for(c=n.e-i.e,_=M.length,k=I.length,g=new E(C),w=g.d=[],u=0;M[u]==(I[u]||0);)++u;if(M[u]>(I[u]||0)&&--c,a==null?A=a=E.precision:s?A=a+(dt(n)-dt(i))+1:A=a,A<0)return new E(0);if(A=A/je+2|0,u=0,_==1)for(d=0,M=M[0],A++;(u<k||d)&&A--;u++)T=d*It+(I[u]||0),w[u]=T/M|0,d=T%M|0;else{for(d=It/(M[0]+1)|0,d>1&&(M=t(M,d),I=t(I,d),_=M.length,k=I.length),L=_,x=I.slice(0,_),v=x.length;v<_;)x[v++]=0;S=M.slice(),S.unshift(0),D=M[0],M[1]>=It/2&&++D;do d=0,o=e(M,x,_,v),o<0?(P=x[0],_!=v&&(P=P*It+(x[1]||0)),d=P/D|0,d>1?(d>=It&&(d=It-1),f=t(M,d),m=f.length,v=x.length,o=e(f,x,m,v),o==1&&(d--,r(f,_<m?S:M,m))):(d==0&&(o=d=1),f=M.slice()),m=f.length,m<v&&f.unshift(0),r(x,f,v),o==-1&&(v=x.length,o=e(M,x,_,v),o<1&&(d++,r(x,_<v?S:M,v))),v=x.length):o===0&&(d++,x=[0]),w[u++]=d,o&&x[0]?x[v++]=I[L]||0:(x=[I[L]],v=1);while((L++<k||x[0]!==void 0)&&A--)}return w[0]||w.shift(),g.e=c,Re(g,s?a+dt(g)+1:a)}}();function qE(t,e){var r,n,i,a,s,o,c=0,u=0,d=t.constructor,f=d.precision;if(dt(t)>16)throw Error(Vg+dt(t));if(!t.s)return new d(mr);for(e==null?(ze=!1,o=f):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Hi(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(mr),d.precision=o;;){if(i=Re(i.times(t),o),r=r.times(++c),s=a.plus(Rn(i,r,o)),tn(s.d).slice(0,o)===tn(a.d).slice(0,o)){for(;u--;)a=Re(a.times(a),o);return d.precision=f,e==null?(ze=!0,Re(a,f)):a}a=s}}function dt(t){for(var e=t.e*je,r=t.d[0];r>=10;r/=10)e++;return e}function ef(t,e,r){if(e>t.LN10.sd())throw ze=!0,r&&(t.precision=r),Error(Or+"LN10 precision limit exceeded");return Re(new t(t.LN10),e)}function di(t){for(var e="";t--;)e+="0";return e}function zo(t,e){var r,n,i,a,s,o,c,u,d,f=1,m=10,g=t,w=g.d,x=g.constructor,v=x.precision;if(g.s<1)throw Error(Or+(g.s?"NaN":"-Infinity"));if(g.eq(mr))return new x(0);if(e==null?(ze=!1,u=v):u=e,g.eq(10))return e==null&&(ze=!0),ef(x,u);if(u+=m,x.precision=u,r=tn(w),n=r.charAt(0),a=dt(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=tn(g.d),n=r.charAt(0),f++;a=dt(g),n>1?(g=new x("0."+r),a++):g=new x(n+"."+r.slice(1))}else return c=ef(x,u+2,v).times(a+""),g=zo(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=v,e==null?(ze=!0,Re(g,v)):g;for(o=s=g=Rn(g.minus(mr),g.plus(mr),u),d=Re(g.times(g),u),i=3;;){if(s=Re(s.times(d),u),c=o.plus(Rn(s,new x(i),u)),tn(c.d).slice(0,u)===tn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(ef(x,u+2,v).times(a+""))),o=Rn(o,new x(f),u),x.precision=v,e==null?(ze=!0,Re(o,v)):o;o=c,i+=2}}function a2(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=ws(r/je),t.d=[],n=(r+1)%je,r<0&&(n+=je),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=je;n<i;)t.d.push(+e.slice(n,n+=je));e=e.slice(n),n=je-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ze&&(t.e>yu||t.e<-yu))throw Error(Vg+r)}else t.s=0,t.e=0,t.d=[0];return t}function Re(t,e,r){var n,i,a,s,o,c,u,d,f=t.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=je,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/je),a=f.length,d>=a)return t;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=je,i=n-je+s}if(r!==void 0&&(a=Hi(10,s-i-1),o=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Hi(10,s-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=dt(t),f.length=1,e=e-a-1,f[0]=Hi(10,(je-e%je)%je),t.e=ws(-e/je)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Hi(10,je-n),f[d]=i>0?(u/Hi(10,s-i)%Hi(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==It&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=It)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ze&&(t.e>yu||t.e<-yu))throw Error(Vg+dt(t));return t}function KE(t,e){var r,n,i,a,s,o,c,u,d,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),ze?Re(e,g):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(g/je),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=It-1;--c[a],c[i]+=It}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ze?Re(e,g):e):new m(0)}function pa(t,e,r){var n,i=dt(t),a=tn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+di(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+di(-i-1)+a,r&&(n=r-s)>0&&(a+=di(n))):i>=s?(a+=di(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+di(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=di(n))),t.s<0?"-"+a:a}function s2(t,e){if(t.length>e)return t.length=e,!0}function GE(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ra+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return a2(s,a.toString())}else if(typeof a!="string")throw Error(ra+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,H$.test(a))a2(s,a);else throw Error(ra+a)}if(i.prototype=re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GE,i.config=i.set=W$,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function W$(t){if(!t||typeof t!="object")throw Error(Or+"Object expected");var e,r,n,i=["precision",1,xs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(ws(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ra+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ra+r+": "+n);return this}var $g=GE(B$);mr=new $g(1);const Ie=$g;var q$=t=>t,YE={"@@functional/placeholder":!0},XE=t=>t===YE,o2=t=>function e(){return arguments.length===0||arguments.length===1&&XE(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},QE=(t,e)=>t===1?e:o2(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==YE).length;return a>=t?e(...n):QE(t-a,o2(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>XE(d)?o.shift():d);return e(...u,...o)}))}),Ld=t=>QE(t.length,t),ym=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},K$=Ld((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),G$=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return q$;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}},bm=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),JE=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[o])})||(e=i,r=t(...i)),r}};function ZE(t){var e;return t===0?e=1:e=Math.floor(new Ie(t).abs().log(10).toNumber())+1,e}function eN(t,e,r){for(var n=new Ie(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Ld((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Ld((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Ld((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var tN=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},rN=(t,e,r)=>{if(t.lte(0))return new Ie(0);var n=ZE(t.toNumber()),i=new Ie(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Ie(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return e?new Ie(c.toNumber()):new Ie(Math.ceil(c.toNumber()))},Y$=(t,e,r)=>{var n=new Ie(1),i=new Ie(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ie(10).pow(ZE(t)-1),i=new Ie(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ie(Math.floor(t)))}else t===0?i=new Ie(Math.floor((e-1)/2)):r||(i=new Ie(Math.floor(t)));var s=Math.floor((e-1)/2),o=G$(K$(c=>i.add(new Ie(c-s).mul(n)).toNumber()),ym);return o(0,e)},nN=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var s=rN(new Ie(r).sub(e).div(n-1),i,a),o;e<=0&&r>=0?o=new Ie(0):(o=new Ie(e).add(r).div(2),o=o.sub(new Ie(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new Ie(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?nN(e,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Ie(c).mul(s)),tickMax:o.add(new Ie(u).mul(s))})};function X$(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=tN([e,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...ym(0,n-1).map(()=>1/0)]:[...ym(0,n-1).map(()=>-1/0),o];return e>r?bm(c):c}if(s===o)return Y$(s,n,i);var{step:u,tickMin:d,tickMax:f}=nN(s,o,a,i,0),m=eN(d,f.add(new Ie(.1).mul(u)),u);return e>r?bm(m):m}function Q$(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=tN([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(e,2),c=rN(new Ie(s).sub(a).div(o-1),i,0),u=[...eN(new Ie(a),new Ie(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?bm(u):u}var J$=JE(X$),Z$=JE(Q$),iN=t=>t.rootProps.maxBarSize,eF=t=>t.rootProps.barGap,aN=t=>t.rootProps.barCategoryGap,tF=t=>t.rootProps.barSize,fl=t=>t.rootProps.stackOffset,Fg=t=>t.options.chartName,Ug=t=>t.rootProps.syncId,sN=t=>t.rootProps.syncMethod,zg=t=>t.options.eventEmitter,xt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},An={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:xt.axis},fr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,includeHidden:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:xt.axis},jd=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},rF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:An.reversed,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:An.type,unit:void 0},nF={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:fr.type,unit:void 0},iF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:An.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:An.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:An.scale,tick:An.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aF={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:"category",unit:void 0},Bg=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iF:rF,Hg=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?aF:nF,Vd=t=>t.polarOptions,Wg=F([Kn,Gn,_t],tE),oN=F([Vd,Wg],(t,e)=>{if(t!=null)return Kt(t.innerRadius,e,0)}),lN=F([Vd,Wg],(t,e)=>{if(t!=null)return Kt(t.outerRadius,e,e*.8)}),sF=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},cN=F([Vd],sF);F([Bg,cN],jd);var uN=F([Wg,oN,lN],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});F([Hg,uN],jd);var dN=F([Pe,Vd,oN,lN,Kn,Gn],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=e;return{cx:Kt(s,i,i/2),cy:Kt(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Be=(t,e)=>e,ml=(t,e,r)=>r;function qg(t){return t==null?void 0:t.id}function hN(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return t.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=qg(o);u.forEach((f,m)=>{var g=a==null||i?m:String(Xe(f,a,null)),w=Xe(f,o.dataKey,0),x;s.has(g)?x=s.get(g):x={},Object.assign(x,{[d]:w}),s.set(g,x)})}}),Array.from(s.values())}function $d(t){return t.stackId!=null&&t.dataKey!=null}var Fd=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ud(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function oF(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Nt=t=>{var e=Pe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},_s=t=>t.tooltip.settings.axisId;function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){lF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lF(t,e,r){return(e=cF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cF(t){var e=uF(t,"string");return typeof e=="symbol"?e:e+""}function uF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xm=[0,"auto"],dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fN=(t,e)=>t.cartesianAxis.xAxis[e],Xn=(t,e)=>{var r=fN(t,e);return r??dr},hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ll},mN=(t,e)=>t.cartesianAxis.yAxis[e],Qn=(t,e)=>{var r=mN(t,e);return r??hr},dF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Kg=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??dF},Je=(t,e,r)=>{switch(e){case"xAxis":return Xn(t,r);case"yAxis":return Qn(t,r);case"zAxis":return Kg(t,r);case"angleAxis":return Bg(t,r);case"radiusAxis":return Hg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},hF=(t,e,r)=>{switch(e){case"xAxis":return Xn(t,r);case"yAxis":return Qn(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},pl=(t,e,r)=>{switch(e){case"xAxis":return Xn(t,r);case"yAxis":return Qn(t,r);case"angleAxis":return Bg(t,r);case"radiusAxis":return Hg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},pN=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Gg(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Yg=t=>t.graphicalItems.cartesianItems,fF=F([Be,ml],Gg),Xg=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),gl=F([Yg,Je,fF],Xg,{memoizeOptions:{resultEqualityCheck:Ud}}),gN=F([gl],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter($d)),vN=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),mF=F([gl],vN),Qg=t=>t.map(e=>e.data).filter(Boolean).flat(1),pF=F([gl],Qg,{memoizeOptions:{resultEqualityCheck:Ud}}),Jg=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},Zg=F([pF,jg],Jg),e0=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Xe(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Xe(i,n)}))):t.map(n=>({value:n})),zd=F([Zg,Je,gl],e0);function yN(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function mc(t){if(pn(t)||t instanceof Date){var e=Number(t);if(it(e))return e}}function c2(t){if(Array.isArray(t)){var e=[mc(t[0]),mc(t[1])];return ma(e)?e:void 0}var r=mc(t);if(r!=null)return[r,r]}function Bn(t){return t.map(mc).filter(F9)}function gF(t,e,r){return!r||typeof e!="number"||Ur(e)?[]:r.length?Bn(r.flatMap(n=>{var i=Xe(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!it(a)||!it(s)))return[e-a,e+s]})):[]}var At=t=>{var e=Nt(t),r=_s(t);return pl(t,e,r)},bN=F([At],t=>t==null?void 0:t.dataKey),vF=F([gN,jg,At],hN),xN=(t,e,r)=>{var n={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,c=o.map(qg);return[s,{stackedData:eD(t,c,r),graphicalItems:o}]}))},wm=F([vF,gN,fl],xN),wN=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var s=aD(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},yF=F([Je],t=>t.allowDataOverflow),t0=t=>{var e;if(t==null||!("domain"in t))return xm;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=Bn(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:xm},r0=F([Je],t0),n0=F([r0,yF],BE),bF=F([wm,Di,Be,n0],wN,{memoizeOptions:{resultEqualityCheck:Fd}}),Bd=t=>t.errorBars,xF=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>yN(r,n)),xu=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},i0=(t,e,r,n,i)=>{var a,s;if(r.length>0&&t.forEach(o=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(P=>yN(i,P)),m=Xe(o,(d=e.dataKey)!==null&&d!==void 0?d:c.dataKey),g=gF(o,m,f);if(g.length>=2){var w=Math.min(...g),x=Math.max(...g);(a==null||w<a)&&(a=w),(s==null||x>s)&&(s=x)}var v=c2(m);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var c=c2(Xe(o,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),it(a)&&it(s))return[a,s]},wF=F([Zg,Je,mF,Bd,Be],i0,{memoizeOptions:{resultEqualityCheck:Fd}});function _F(t){var{value:e}=t;if(pn(e)||e instanceof Date)return e}var EF=(t,e,r)=>{var n=t.map(_F).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&P_(n))?lE(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},_N=t=>t.referenceElements.dots,Es=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),NF=F([_N,Be,ml],Es),EN=t=>t.referenceElements.areas,AF=F([EN,Be,ml],Es),NN=t=>t.referenceElements.lines,PF=F([NN,Be,ml],Es),AN=(t,e)=>{var r=Bn(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},SF=F(NF,Be,AN),PN=(t,e)=>{var r=Bn(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},TF=F([AF,Be],PN);function IF(t){var e;if(t.x!=null)return Bn([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Bn(r)}function CF(t){var e;if(t.y!=null)return Bn([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Bn(r)}var SN=(t,e)=>{var r=t.flatMap(n=>e==="xAxis"?IF(n):CF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kF=F([PF,Be],SN),OF=F(SF,kF,TF,(t,e,r)=>xu(t,r,e)),a0=(t,e,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?xu(n,a,i):xu(a,i);return z$(e,u,t.allowDataOverflow)},RF=F([Je,r0,n0,bF,wF,OF,Pe,Be],a0,{memoizeOptions:{resultEqualityCheck:Fd}}),MF=[0,1],s0=(t,e,r,n,i,a,s)=>{if(!((t==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=t,u=Na(e,a);if(u&&o==null){var d;return lE(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?EF(n,t,u):i==="expand"?MF:s}},o0=F([Je,Pe,Zg,zd,fl,Be,RF],s0),TN=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(il(a));return o in uo?o:"point"}}},Ns=F([Je,Pe,pN,Fg,Be],TN);function DF(t){if(t!=null){if(t in uo)return uo[t]();var e="scale".concat(il(t));if(e in uo)return uo[e]()}}function l0(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=DF(e);if(i!=null){var a=i.domain(r).range(n);return YM(a),a}}}var c0=(t,e,r)=>{var n=t0(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ma(t))return J$(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ma(t))return Z$(t,e.tickCount,e.allowDecimals)}},u0=F([o0,pl,Ns],c0),d0=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ma(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],s=e[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},LF=F([Je,o0,u0,Be],d0),jF=F(zd,Je,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Bn(t.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),IN=F(jF,Pe,aN,_t,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!it(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Kt(r,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),VF=(t,e)=>{var r=Xn(t,e);return r==null||typeof r.padding!="string"?0:IN(t,"xAxis",e,r.padding)},$F=(t,e)=>{var r=Qn(t,e);return r==null||typeof r.padding!="string"?0:IN(t,"yAxis",e,r.padding)},FF=F(Xn,VF,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),UF=F(Qn,$F,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),zF=F([_t,FF,Nd,Ed,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),BF=F([_t,Pe,UF,Nd,Ed,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),vl=(t,e,r,n)=>{var i;switch(e){case"xAxis":return zF(t,r,n);case"yAxis":return BF(t,r,n);case"zAxis":return(i=Kg(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return cN(t);case"radiusAxis":return uN(t,r);default:return}},CN=F([Je,vl],jd),As=F([Je,Ns,LF,CN],l0);F([gl,Bd,Be],xF);function kN(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Hd=(t,e)=>e,Wd=(t,e,r)=>r,HF=F(wd,Hd,Wd,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(kN)),WF=F(_d,Hd,Wd,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(kN)),ON=(t,e)=>({width:t.width,height:e.height}),qF=(t,e)=>{var r=typeof e.width=="number"?e.width:ll;return{width:r,height:t.height}},RN=F(_t,Xn,ON),KF=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},GF=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},YF=F(Gn,_t,HF,Hd,Wd,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=ON(e,o);s==null&&(s=KF(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),XF=F(Kn,_t,WF,Hd,Wd,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=qF(e,o);s==null&&(s=GF(e,n,t));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),QF=(t,e)=>{var r=Xn(t,e);if(r!=null)return YF(t,r.orientation,r.mirror)},JF=F([_t,Xn,QF,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),ZF=(t,e)=>{var r=Qn(t,e);if(r!=null)return XF(t,r.orientation,r.mirror)},eU=F([_t,Qn,ZF,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),MN=F(_t,Qn,(t,e)=>{var r=typeof e.width=="number"?e.width:ll;return{width:r,height:t.height}}),u2=(t,e,r)=>{switch(e){case"xAxis":return RN(t,r).width;case"yAxis":return MN(t,r).height;default:return}},DN=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Na(t,n),c=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&P_(c))return c}},h0=F([Pe,zd,Je,Be],DN),LN=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Na(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},f0=F([Pe,zd,pl,Be],LN),d2=F([Pe,hF,Ns,As,h0,f0,vl,u0,Be],(t,e,r,n,i,a,s,o,c)=>{if(e!=null){var u=Na(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),tU=(t,e,r,n,i,a,s,o,c)=>{if(!(e==null||n==null)){var u=Na(t,c),{type:d,ticks:f,tickCount:m}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=d==="category"&&n.bandwidth?n.bandwidth()/g:0;w=c==="angleAxis"&&a!=null&&a.length>=2?Ct(a[0]-a[1])*2*w:w;var x=f||i;if(x){var v=x.map((P,A)=>{var T=s?s.indexOf(P):P;return{index:A,coordinate:n(T)+w,value:P,offset:w}});return v.filter(P=>it(P.coordinate))}return u&&o?o.map((P,A)=>({coordinate:n(P)+w,value:P,index:A,offset:w})).filter(P=>it(P.coordinate)):n.ticks?n.ticks(m).map(P=>({coordinate:n(P)+w,value:P,offset:w})):n.domain().map((P,A)=>({coordinate:n(P)+w,value:s?s[P]:P,index:A,offset:w}))}},jN=F([Pe,pl,Ns,As,u0,vl,h0,f0,Be],tU),rU=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=Na(t,s),{tickCount:c}=e,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Ct(n[0]-n[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},us=F([Pe,pl,As,vl,h0,f0,Be],rU),ds=F(Je,As,(t,e)=>{if(!(t==null||e==null))return bu(bu({},t),{},{scale:e})}),nU=F([Je,Ns,o0,CN],l0);F((t,e,r)=>Kg(t,r),nU,(t,e)=>{if(!(t==null||e==null))return bu(bu({},t),{},{scale:e})});var iU=F([Pe,wd,_d],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),VN=t=>t.options.defaultTooltipEventType,$N=t=>t.options.validateTooltipEventTypes;function FN(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function m0(t,e){var r=VN(t),n=$N(t);return FN(e,r,n)}function aU(t){return ie(e=>m0(e,t))}var UN=(t,e)=>{var r,n=Number(e);if(!(Ur(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},sU=t=>t.tooltip.settings,pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},oU={itemInteraction:{click:pi,hover:pi},axisInteraction:{click:pi,hover:pi},keyboardInteraction:pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zN=or({name:"tooltip",initialState:oU,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:vt()},removeTooltipEntrySettings:{reducer(t,e){var r=On(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:vt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:lU,removeTooltipEntrySettings:cU,setTooltipSettingsState:uU,setActiveMouseOverItemIndex:BN,mouseLeaveItem:dU,mouseLeaveChart:HN,setActiveClickItemIndex:hU,setMouseOverAxisIndex:WN,setMouseClickAxisIndex:fU,setSyncInteraction:_m,setKeyboardInteraction:Em}=zN.actions,mU=zN.reducer;function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){pU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pU(t,e,r){return(e=gU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gU(t){var e=vU(t,"string");return typeof e=="symbol"?e:e+""}function vU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yU(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function bU(t){return t.index!=null}var qN=(t,e,r,n)=>{if(e==null)return pi;var i=yU(t,e,r);if(i==null)return pi;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(bU(i)){if(a)return Zl(Zl({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Zl(Zl({},pi),{},{coordinate:i.coordinate})},p0=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!it(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},KN=(t,e,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},GN=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},yl=t=>t.options.tooltipPayloadSearcher,Ps=t=>t.tooltip;function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){xU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xU(t,e,r){return(e=wU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wU(t){var e=_U(t,"string");return typeof e=="symbol"?e:e+""}function _U(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EU(t,e){return t??e}var YN=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return t.reduce((m,g)=>{var w,{dataDefinedOnItem:x,settings:v}=g,P=EU(x,o),A=Array.isArray(P)?k6(P,u,d):P,T=(w=v==null?void 0:v.dataKey)!==null&&w!==void 0?w:n,L=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&s==="axis"?k=$9(A,n,i):k=a(A,e,c,L),Array.isArray(k))k.forEach(_=>{var S=m2(m2({},v),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});m.push(K1({tooltipEntrySettings:S,dataKey:_.dataKey,payload:_.payload,value:Xe(_.payload,_.dataKey),name:_.name}))});else{var D;m.push(K1({tooltipEntrySettings:v,dataKey:T,payload:k,value:Xe(k,T),name:(D=Xe(k,L))!==null&&D!==void 0?D:v==null?void 0:v.name}))}return m},f)}},g0=F([At,Pe,pN,Fg,Nt],TN),NU=F([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),AU=F([Nt,_s],Gg),bl=F([NU,At,AU],Xg,{memoizeOptions:{resultEqualityCheck:Ud}}),PU=F([bl],t=>t.filter($d)),SU=F([bl],Qg,{memoizeOptions:{resultEqualityCheck:Ud}}),Ss=F([SU,Di],Jg),TU=F([PU,Di,At],hN),v0=F([Ss,At,bl],e0),XN=F([At],t0),IU=F([At],t=>t.allowDataOverflow),QN=F([XN,IU],BE),CU=F([bl],t=>t.filter($d)),kU=F([TU,CU,fl],xN),OU=F([kU,Di,Nt,QN],wN),RU=F([bl],vN),MU=F([Ss,At,RU,Bd,Nt],i0,{memoizeOptions:{resultEqualityCheck:Fd}}),DU=F([_N,Nt,_s],Es),LU=F([DU,Nt],AN),jU=F([EN,Nt,_s],Es),VU=F([jU,Nt],PN),$U=F([NN,Nt,_s],Es),FU=F([$U,Nt],SN),UU=F([LU,FU,VU],xu),zU=F([At,XN,QN,OU,MU,UU,Pe,Nt],a0),JN=F([At,Pe,Ss,v0,fl,Nt,zU],s0),BU=F([JN,At,g0],c0),HU=F([At,JN,BU,Nt],d0),ZN=t=>{var e=Nt(t),r=_s(t),n=!1;return vl(t,e,r,n)},e3=F([At,ZN],jd),t3=F([At,g0,HU,e3],l0),WU=F([Pe,v0,At,Nt],DN),qU=F([Pe,v0,At,Nt],LN),KU=(t,e,r,n,i,a,s,o)=>{if(e){var{type:c}=e,u=Na(t,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ct(i[0]-i[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:n(m)+f,value:m,index:g,offset:f})):n.domain().map((m,g)=>({coordinate:n(m)+f,value:a?a[m]:m,index:g,offset:f}))}}},Jn=F([Pe,At,g0,t3,ZN,WU,qU,Nt],KU),y0=F([VN,$N,sU],(t,e,r)=>FN(r.shared,t,e)),r3=t=>t.tooltip.settings.trigger,b0=t=>t.tooltip.settings.defaultIndex,qd=F([Ps,y0,r3,b0],qN),ga=F([qd,Ss],p0),n3=F([Jn,ga],UN),i3=F([qd],t=>{if(t)return t.dataKey}),a3=F([Ps,y0,r3,b0],GN),GU=F([Kn,Gn,Pe,_t,Jn,b0,a3,yl],KN),YU=F([qd,GU],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),XU=F([qd],t=>t.active),QU=F([a3,ga,Di,bN,n3,yl,y0],YN);F([QU],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){JU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JU(t,e,r){return(e=ZU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZU(t){var e=ez(t,"string");return typeof e=="symbol"?e:e+""}function ez(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tz=()=>ie(At),rz=()=>{var t=tz(),e=ie(Jn),r=ie(t3);return ru(!t||!r?void 0:g2(g2({},t),{},{scale:r}),e)};function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){nz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nz(t,e,r){return(e=iz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iz(t){var e=az(t,"string");return typeof e=="symbol"?e:e+""}function az(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sz=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},oz=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=n;return Da(Da(Da({},n),ut(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return Da(Da(Da({},n),ut(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function lz(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var s3=(t,e,r,n,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Ct(d-u)!==Ct(f-d)){var g=[];if(Ct(f-d)===Ct(i[1]-i[0])){m=f;var w=d+i[1]-i[0];g[0]=Math.min(w,(w+u)/2),g[1]=Math.max(w,(w+u)/2)}else{m=u;var x=f+i[1]-i[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:s}=r[c]);break}}else{var P=Math.min(u,f),A=Math.max(u,f);if(t>(P+d)/2&&t<=(A+d)/2){({index:s}=r[c]);break}}}else if(e){for(var T=0;T<o;T++)if(T===0&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<o-1&&t>(e[T].coordinate+e[T-1].coordinate)/2&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T===o-1&&t>(e[T].coordinate+e[T-1].coordinate)/2){({index:s}=e[T]);break}}return s},cz=()=>ie(Fg),x0=(t,e)=>e,o3=(t,e,r)=>r,w0=(t,e,r,n)=>n,uz=F(Jn,t=>md(t,e=>e.coordinate)),_0=F([Ps,x0,o3,w0],qN),l3=F([_0,Ss],p0),dz=(t,e,r)=>{if(e!=null){var n=Ps(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},c3=F([Ps,x0,o3,w0],GN),wu=F([Kn,Gn,Pe,_t,Jn,w0,c3,yl],KN),hz=F([_0,wu],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),u3=F([Jn,l3],UN),fz=F([c3,l3,Di,bN,u3,yl,x0],YN),mz=F([_0],t=>({isActive:t.active,activeIndex:t.index})),pz=(t,e,r,n,i,a,s)=>{if(!(!t||!r||!n||!i)&&lz(t,s)){var o=sD(t,e),c=s3(o,a,i,r,n),u=sz(e,i,c,t);return{activeIndex:String(c),activeCoordinate:u}}},gz=(t,e,r,n,i,a,s)=>{if(!(!t||!n||!i||!a||!r)){var o=oj(t,r);if(o){var c=oD(o,e),u=s3(c,s,a,n,i),d=oz(e,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},vz=(t,e,r,n,i,a,s,o)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?pz(t,e,n,i,a,s,o):gz(t,e,r,n,i,a,s)},yz=F(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElementId:n.elementId}}),bz=F(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(xt)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:oF}});function y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(r),!0).forEach(function(n){xz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xz(t,e,r){return(e=wz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wz(t){var e=_z(t,"string");return typeof e=="symbol"?e:e+""}function _z(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ez={},Nz={zIndexMap:Object.values(xt).reduce((t,e)=>b2(b2({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Ez)},Az=new Set(Object.values(xt));function Pz(t){return Az.has(t)}var d3=or({name:"zIndex",initialState:Nz,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:vt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!Pz(r)&&delete t.zIndexMap[r])},prepare:vt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r,elementId:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElementId=n:t.zIndexMap[r].elementId=n:t.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:vt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:vt()}}}),{registerZIndexPortal:Sz,unregisterZIndexPortal:Tz,registerZIndexPortalId:Iz,unregisterZIndexPortalId:Cz}=d3.actions,kz=d3.reducer;function Hr(t){var{zIndex:e,children:r}=t,n=MD(),i=n&&e!==void 0&&e!==0,a=lr(),s=De();y.useLayoutEffect(()=>i?(s(Sz({zIndex:e})),()=>{s(Tz({zIndex:e}))}):Ea,[s,e,i]);var o=ie(u=>yz(u,e,a));if(!i)return r;if(!o)return null;var c=document.getElementById(o);return c?Mu.createPortal(r,c):null}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nm.apply(null,arguments)}function x2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(r),!0).forEach(function(n){Oz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oz(t,e,r){return(e=Rz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rz(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function Mz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dz(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return y.isValidElement(e)?y.cloneElement(e,n):y.createElement(r,n)}function Lz(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=t,f=r,m=n,g=i;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var w,x,v;if(d==="ScatterChart")w=f,x=EL,v=xt.cursorLine;else if(d==="BarChart")w=NL(o,f,a,s),x=eE,v=xt.cursorRectangle;else if(o==="radial"&&T_(f)){var{cx:P,cy:A,radius:T,startAngle:L,endAngle:k}=rE(f);w={cx:P,cy:A,startAngle:L,endAngle:k,innerRadius:T,outerRadius:T},x=iE,v=xt.cursorLine}else w={points:dj(o,f,a)},x=hg,v=xt.cursorLine;var D=typeof c=="object"&&"className"in c?c.className:void 0,_=ec(ec(ec(ec({stroke:"#ccc",pointerEvents:"none"},a),w),Oo(c)),{},{payload:m,payloadIndex:g,className:Ce("recharts-tooltip-cursor",D)});return y.createElement(Hr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:v},y.createElement(Dz,{cursor:c,cursorComp:x,cursorProps:_}))}function jz(t){var e=rz(),r=H6(),n=Pd(),i=cz();return e==null||r==null||n==null||i==null?null:y.createElement(Lz,Nm({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var h3=y.createContext(null),Vz=()=>y.useContext(h3),f3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||c,m),w=r?r+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],g]:c._events[w].push(g):(c._events[w]=g,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,w=new Array(g);m<g;m++)w[m]=f[m].fn;return w},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,m,g,w){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],P=arguments.length,A,T;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),P){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,g),!0;case 6:return v.fn.call(v.context,d,f,m,g,w),!0}for(T=1,A=new Array(P-1);T<P;T++)A[T-1]=arguments[T];v.fn.apply(v.context,A)}else{var L=v.length,k;for(T=0;T<L;T++)switch(v[T].once&&this.removeListener(u,v[T].fn,void 0,!0),P){case 1:v[T].fn.call(v[T].context);break;case 2:v[T].fn.call(v[T].context,d);break;case 3:v[T].fn.call(v[T].context,d,f);break;case 4:v[T].fn.call(v[T].context,d,f,m);break;default:if(!A)for(k=1,A=new Array(P-1);k<P;k++)A[k-1]=arguments[k];v[T].fn.apply(v[T].context,A)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,m){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return s(this,g),this;var w=this._events[g];if(w.fn)w.fn===d&&(!m||w.once)&&(!f||w.context===f)&&s(this,g);else{for(var x=0,v=[],P=w.length;x<P;x++)(w[x].fn!==d||m&&!w[x].once||f&&w[x].context!==f)&&v.push(w[x]);v.length?this._events[g]=v.length===1?v[0]:v:s(this,g)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(f3);var $z=f3.exports;const Fz=Ci($z);var Bo=new Fz,Am="recharts.syncEvent.tooltip",w2="recharts.syncEvent.brush";function m3(t,e){if(e){var r=Number.parseInt(e,10);if(!Ur(r))return t==null?void 0:t[r]}}var Uz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},p3=or({name:"options",initialState:Uz,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),zz=p3.reducer,{createEventEmitter:Bz}=p3.actions;function Hz(t){return t.tooltip.syncInteraction}var Wz={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},g3=or({name:"chartData",initialState:Wz,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:_2,setDataStartEndIndexes:qz,setComputedData:nX}=g3.actions,Kz=g3.reducer,Gz=["x","y"];function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(n){Yz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yz(t,e,r){return(e=Xz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xz(t){var e=Qz(t,"string");return typeof e=="symbol"?e:e+""}function Qz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jz(t,e){if(t==null)return{};var r,n,i=Zz(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zz(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eB(){var t=ie(Ug),e=ie(zg),r=De(),n=ie(sN),i=ie(Jn),a=Pd(),s=Ad(),o=ie(c=>c.rootProps.className);y.useEffect(()=>{if(t==null)return Ea;var c=(u,d,f)=>{if(e!==f&&t===u){if(n==="index"){var m;if(s&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var g=d.payload.coordinate,{x:w,y:x}=g,v=Jz(g,Gz),{x:P,y:A,width:T,height:L}=d.payload.sourceViewBox,k=La(La({},v),{},{x:s.x+(T?(w-P)/T:0)*s.width,y:s.y+(L?(x-A)/L:0)*s.height});r(La(La({},d),{},{payload:La(La({},d.payload),{},{coordinate:k})}))}else r(d);return}if(i!=null){var D;if(typeof n=="function"){var _={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(i,_);D=i[S]}else n==="value"&&(D=i.find(Q=>String(Q.value)===d.payload.label));var{coordinate:E}=d.payload;if(D==null||d.payload.active===!1||E==null||s==null){r(_m({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:I}=E,M=Math.min(C,s.x+s.width),O=Math.min(I,s.y+s.height),z={x:a==="horizontal"?D.coordinate:M,y:a==="horizontal"?O:D.coordinate},B=_m({active:d.payload.active,coordinate:z,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(B)}}};return Bo.on(Am,c),()=>{Bo.off(Am,c)}},[o,r,e,t,n,i,a,s])}function tB(){var t=ie(Ug),e=ie(zg),r=De();y.useEffect(()=>{if(t==null)return Ea;var n=(i,a,s)=>{e!==s&&t===i&&r(qz(a))};return Bo.on(w2,n),()=>{Bo.off(w2,n)}},[r,e,t])}function rB(){var t=De();y.useEffect(()=>{t(Bz())},[t]),eB(),tB()}function nB(t,e,r,n,i,a){var s=ie(g=>dz(g,t,e)),o=ie(zg),c=ie(Ug),u=ie(sN),d=ie(Hz),f=d==null?void 0:d.active,m=Ad();y.useEffect(()=>{if(!f&&c!=null&&o!=null){var g=_m({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:m});Bo.emit(Am,c,g,o)}},[f,r,s,i,n,o,c,u,a,m])}function N2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(r),!0).forEach(function(n){iB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iB(t,e,r){return(e=aB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aB(t){var e=sB(t,"string");return typeof e=="symbol"?e:e+""}function sB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oB(t){return t.dataKey}function lB(t,e){return y.isValidElement(t)?y.cloneElement(t,e):typeof t=="function"?y.createElement(t,e):y.createElement(tL,e)}var P2=[],cB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Aa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function S2(t){var e,r,n=Ot(t,cB),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:m,position:g,reverseDirection:w,useTranslate3d:x,wrapperStyle:v,cursor:P,shared:A,trigger:T,defaultIndex:L,portal:k,axisId:D}=n,_=De(),S=typeof L=="number"?String(L):L;y.useEffect(()=>{_(uU({shared:A,trigger:T,axisId:D,active:i,defaultIndex:S}))},[_,A,T,D,i,S]);var E=Ad(),C=Y6(),I=aU(A),{activeIndex:M,isActive:O}=(e=ie($e=>mz($e,I,T,S)))!==null&&e!==void 0?e:{},z=ie($e=>fz($e,I,T,S)),B=ie($e=>u3($e,I,T,S)),Q=ie($e=>hz($e,I,T,S)),ne=z,he=Vz(),H=(r=i??O)!==null&&r!==void 0?r:!1,[Z,ce]=i6([ne,H]),Ne=I==="axis"?B:void 0;nB(I,T,Q,Ne,M,H);var Te=k??he;if(Te==null||E==null||I==null)return null;var He=ne??P2;H||(He=P2),u&&He.length&&(He=q_(He.filter($e=>$e.value!=null&&($e.hide!==!0||n.includeHidden)),m,oB));var Ze=He.length>0,tt=y.createElement(lL,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:H,coordinate:Q,hasPayload:Ze,offset:f,position:g,reverseDirection:w,useTranslate3d:x,viewBox:E,wrapperStyle:v,lastBoundingBox:Z,innerRef:ce,hasPortalFromProps:!!k},lB(c,A2(A2({},n),{},{payload:He,label:Ne,active:H,activeIndex:M,coordinate:Q,accessibilityLayer:C})));return y.createElement(y.Fragment,null,Mu.createPortal(tt,Te),H&&y.createElement(jz,{cursor:P,tooltipEventType:I,coordinate:Q,payload:He,index:M}))}var xl=t=>null;xl.displayName="Cell";function uB(t,e,r){return(e=dB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dB(t){var e=hB(t,"string");return typeof e=="symbol"?e:e+""}function hB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fB{constructor(e){uB(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){pB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pB(t,e,r){return(e=gB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gB(t){var e=vB(t,"string");return typeof e=="symbol"?e:e+""}function vB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yB={cacheSize:2e3,enableCache:!0},v3=mB({},yB),I2=new fB(v3.cacheSize),bB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},C2="recharts_measurement_span";function xB(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var k2=(t,e)=>{try{var r=document.getElementById(C2);r||(r=document.createElement("span"),r.setAttribute("id",C2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,bB,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},wo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Aa.isSsr)return{width:0,height:0};if(!v3.enableCache)return k2(e,r);var n=xB(e,r),i=I2.get(n);if(i)return i;var a=k2(e,r);return I2.set(n,a),a},O2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_B=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EB=Object.keys(y3),Wa="NaN";function NB(t,e){return t*y3[e]}class tr{static parse(e){var r,[,n,i]=(r=_B.exec(e))!==null&&r!==void 0?r:[];return new tr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Ur(e)&&(this.unit=""),r!==""&&!wB.test(r)&&(this.num=NaN,this.unit=""),EB.includes(r)&&(this.num=NB(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new tr(NaN,""):new tr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new tr(NaN,""):new tr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tr(NaN,""):new tr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tr(NaN,""):new tr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ur(this.num)}}function b3(t){if(t.includes(Wa))return Wa;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=O2.exec(e))!==null&&r!==void 0?r:[],s=tr.parse(n??""),o=tr.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Wa;e=e.replace(O2,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,m]=(u=R2.exec(e))!==null&&u!==void 0?u:[],g=tr.parse(d??""),w=tr.parse(m??""),x=f==="+"?g.add(w):g.subtract(w);if(x.isNaN())return Wa;e=e.replace(R2,x.toString())}return e}var M2=/\(([^()]*)\)/;function AB(t){for(var e=t,r;(r=M2.exec(e))!=null;){var[,n]=r;e=e.replace(M2,b3(n))}return e}function PB(t){var e=t.replace(/\s+/g,"");return e=AB(e),e=b3(e),e}function SB(t){try{return PB(t)}catch{return Wa}}function tf(t){var e=SB(t.slice(5,-1));return e===Wa?"":e}var TB=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],IB=["dx","dy","angle","className","breakAll"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(null,arguments)}function D2(t,e){if(t==null)return{};var r,n,i=CB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function CB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var x3=/[ \f\n\r\t\v\u2028\u2029]+/,w3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];kt(e)||(r?i=e.toString().split(""):i=e.toString().split(x3));var a=i.map(o=>({word:o,width:wo(o,n).width})),s=r?0:wo("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function kB(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var _3=(t,e,r,n)=>t.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(e==null||n||c.width+o+r<Number(e)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),E3=t=>t.reduce((e,r)=>e.width>r.width?e:r),OB="",L2=(t,e,r,n,i,a,s,o)=>{var c=t.slice(0,e),u=w3({breakAll:r,style:n,children:c+OB});if(!u)return[!1,[]];var d=_3(u.wordsWithComputedWidth,a,s,o),f=d.length>i||E3(d).width>Number(a);return[f,d]},RB=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=t,u=ae(a),d=String(s),f=_3(e,n,r,i);if(!u||i)return f;var m=f.length>a||E3(f).width>Number(n);if(!m)return f;for(var g=0,w=d.length-1,x=0,v;g<=w&&x<=d.length-1;){var P=Math.floor((g+w)/2),A=P-1,[T,L]=L2(d,A,c,o,a,n,r,i),[k]=L2(d,P,c,o,a,n,r,i);if(!T&&!k&&(g=P+1),T&&k&&(w=P-1),!T&&k){v=L;break}x++}return v||f},j2=t=>{var e=kt(t)?[]:t.toString().split(x3);return[{words:e,width:void 0}]},MB=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!Aa.isSsr){var o,c,u=w3({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return j2(n);return RB({breakAll:a,children:n,maxLines:s,style:i},o,c,e,!!r)}return j2(n)},N3="#808080",DB={breakAll:!1,capHeight:"0.71em",fill:N3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Kd=y.forwardRef((t,e)=>{var r=Ot(t,DB),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=D2(r,TB),m=y.useMemo(()=>MB({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:g,dy:w,angle:x,className:v,breakAll:P}=f,A=D2(f,IB);if(!pn(n)||!pn(i)||m.length===0)return null;var T=Number(n)+(ae(g)?g:0),L=Number(i)+(ae(w)?w:0);if(!it(T)||!it(L))return null;var k;switch(d){case"start":k=tf("calc(".concat(s,")"));break;case"middle":k=tf("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=tf("calc(".concat(m.length-1," * -").concat(a,")"));break}var D=[];if(c){var _=m[0].width,{width:S}=f;D.push("scale(".concat(ae(S)&&ae(_)?S/_:1,")"))}return x&&D.push("rotate(".concat(x,", ").concat(T,", ").concat(L,")")),D.length&&(A.transform=D.join(" ")),y.createElement("text",Pm({},Cr(A),{ref:e,x:T,y:L,className:Ce("recharts-text",v),textAnchor:u,fill:o.includes("url")?N3:o}),m.map((E,C)=>{var I=E.words.join(P?"":" ");return y.createElement("tspan",{x:T,dy:C===0?k:a,key:"".concat(I,"-").concat(C)},I)}))});Kd.displayName="Text";var LB=["labelRef"];function jB(t,e){if(t==null)return{};var r,n,i=VB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function VB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){$B(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $B(t,e,r){return(e=FB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FB(t){var e=UB(t,"string");return typeof e=="symbol"?e:e+""}function UB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pn(){return Pn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pn.apply(null,arguments)}var A3=y.createContext(null),zB=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=t,c=y.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[e,r,n,i,a,s]);return y.createElement(A3.Provider,{value:c},o)},P3=()=>{var t=y.useContext(A3),e=Ad();return t||B6(e)},BB=y.createContext(null),HB=()=>{var t=y.useContext(BB),e=ie(dN);return t||e},WB=t=>{var{value:e,formatter:r}=t,n=kt(t.children)?e:t.children;return typeof r=="function"?r(n):n},E0=t=>t!=null&&typeof t=="function",qB=(t,e)=>{var r=Ct(e-t),n=Math.min(Math.abs(e-t),360);return r*n},KB=(t,e,r,n,i)=>{var{offset:a,className:s}=t,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:m,clockWise:g}=i,w=(u+d)/2,x=qB(f,m),v=x>=0?1:-1,P,A;switch(e){case"insideStart":P=f+v*a,A=g;break;case"insideEnd":P=m-v*a,A=!g;break;case"end":P=m+v*a,A=g;break;default:throw new Error("Unsupported position ".concat(e))}A=x<=0?A:!A;var T=ut(o,c,w,P),L=ut(o,c,w,P+(A?1:-1)*359),k="M".concat(T.x,",").concat(T.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(L.x,",").concat(L.y),D=kt(t.id)?Ro("recharts-radial-line-"):t.id;return y.createElement("text",Pn({},n,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:D,d:k})),y.createElement("textPath",{xlinkHref:"#".concat(D)},r))},GB=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=t,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=ut(n,i,s+e,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:g,y:w}=ut(n,i,m,u);return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Sm=t=>"cx"in t&&ae(t.cx),YB=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!Sm(r)&&(a=r);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=e,f=s,m=s+(c-u)/2,g=(f+m)/2,w=(c+u)/2,x=f+c/2,v=d>=0?1:-1,P=v*n,A=v>0?"end":"start",T=v>0?"start":"end",L=c>=0?1:-1,k=L*n,D=L>0?"end":"start",_=L>0?"start":"end";if(i==="top"){var S={x:f+c/2,y:o-P,textAnchor:"middle",verticalAnchor:A};return rt(rt({},S),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var E={x:m+u/2,y:o+d+P,textAnchor:"middle",verticalAnchor:T};return rt(rt({},E),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var C={x:g-k,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return rt(rt({},C),a?{width:Math.max(C.x-a.x,0),height:d}:{})}if(i==="right"){var I={x:g+w+k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"};return rt(rt({},I),a?{width:Math.max(a.x+a.width-I.x,0),height:d}:{})}var M=a?{width:w,height:d}:{};return i==="insideLeft"?rt({x:g+k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"},M):i==="insideRight"?rt({x:g+w-k,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},M):i==="insideTop"?rt({x:f+c/2,y:o+P,textAnchor:"middle",verticalAnchor:T},M):i==="insideBottom"?rt({x:m+u/2,y:o+d-P,textAnchor:"middle",verticalAnchor:A},M):i==="insideTopLeft"?rt({x:f+k,y:o+P,textAnchor:_,verticalAnchor:T},M):i==="insideTopRight"?rt({x:f+c-k,y:o+P,textAnchor:D,verticalAnchor:T},M):i==="insideBottomLeft"?rt({x:m+k,y:o+d-P,textAnchor:_,verticalAnchor:A},M):i==="insideBottomRight"?rt({x:m+u-k,y:o+d-P,textAnchor:D,verticalAnchor:A},M):i&&typeof i=="object"&&(ae(i.x)||Vn(i.x))&&(ae(i.y)||Vn(i.y))?rt({x:s+Kt(i.x,w),y:o+Kt(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):rt({x,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},XB={offset:5,zIndex:xt.label};function hi(t){var e=Ot(t,XB),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:u}=e,d=HB(),f=P3(),m=n==="center"?f:d??f,g,w,x;if(r==null?g=m:Sm(r)?g=r:g=B6(r),!g||kt(i)&&kt(a)&&!y.isValidElement(s)&&typeof s!="function")return null;var v=rt(rt({},e),{},{viewBox:g});if(y.isValidElement(s)){var P=jB(v,LB);return y.cloneElement(s,P)}if(typeof s=="function"){if(w=y.createElement(s,v),y.isValidElement(w))return w}else w=WB(e);var A=Cr(e);if(Sm(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return KB(e,n,w,A,g);x=GB(g,e.offset,e.position)}else x=YB(e,g);return y.createElement(Hr,{zIndex:e.zIndex},y.createElement(Kd,Pn({ref:u,className:Ce("recharts-label",o)},A,x,{textAnchor:kB(A.textAnchor)?A.textAnchor:x.textAnchor,breakAll:c}),w))}hi.displayName="Label";var QB=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?y.createElement(hi,Pn({key:"label-implicit"},n)):pn(t)?y.createElement(hi,Pn({key:"label-implicit",value:t},n)):y.isValidElement(t)?t.type===hi?y.cloneElement(t,rt({key:"label-implicit"},n)):y.createElement(hi,Pn({key:"label-implicit",content:t},n)):E0(t)?y.createElement(hi,Pn({key:"label-implicit",content:t},n)):t&&typeof t=="object"?y.createElement(hi,Pn({},t,{key:"label-implicit"},n)):null};function JB(t){var{label:e,labelRef:r}=t,n=P3();return QB(e,n,r)||null}var S3={},T3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(T3);var I3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(I3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T3,r=I3,n=hd;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(S3);var ZB=S3.last;const eH=Ci(ZB);var tH=["valueAccessor"],rH=["dataKey","clockWise","id","textBreakAll","zIndex"];function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(null,arguments)}function $2(t,e){if(t==null)return{};var r,n,i=nH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var iH=t=>Array.isArray(t.value)?eH(t.value):t.value,C3=y.createContext(void 0),aH=C3.Provider,k3=y.createContext(void 0),sH=k3.Provider;function oH(){return y.useContext(C3)}function lH(){return y.useContext(k3)}function pc(t){var{valueAccessor:e=iH}=t,r=$2(t,tH),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=$2(r,rH),u=oH(),d=lH(),f=u||d;return!f||!f.length?null:y.createElement(Hr,{zIndex:o??xt.label},y.createElement(Qt,{className:"recharts-label-list"},f.map((m,g)=>{var w,x=kt(n)?e(m,g):Xe(m&&m.payload,n),v=kt(a)?{}:{id:"".concat(a,"-").concat(g)};return y.createElement(hi,_u({key:"label-".concat(g)},Cr(m),c,v,{fill:(w=r.fill)!==null&&w!==void 0?w:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:s,viewBox:m.viewBox,index:g,zIndex:0}))})))}pc.displayName="LabelList";function O3(t){var{label:e}=t;return e?e===!0?y.createElement(pc,{key:"labelList-implicit"}):y.isValidElement(e)||E0(e)?y.createElement(pc,{key:"labelList-implicit",content:e}):typeof e=="object"?y.createElement(pc,_u({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var R3=t=>t.graphicalItems.polarItems,cH=F([Be,ml],Gg),Gd=F([R3,Je,cH],Xg),uH=F([Gd],Qg),Yd=F([uH,Lg],Jg),dH=F([Yd,Je,Gd],e0);F([Yd,Je,Gd],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,s=Xe(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Xe(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var F2=()=>{},hH=F([Yd,Je,Gd,Bd,Be],i0),fH=F([Je,r0,n0,F2,hH,F2,Pe,Be],a0),M3=F([Je,Pe,Yd,dH,fl,Be,fH],s0),mH=F([M3,Je,Ns],c0);F([Je,M3,mH,Be],d0);var pH={radiusAxis:{},angleAxis:{}},D3=or({name:"polarAxis",initialState:pH,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});D3.actions;var gH=D3.reducer;function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){vH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vH(t,e,r){return(e=yH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yH(t){var e=bH(t,"string");return typeof e=="symbol"?e:e+""}function bH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xH=(t,e)=>e,N0=F([R3,xH],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),wH=[],A0=(t,e,r)=>(r==null?void 0:r.length)===0?wH:r,L3=F([Lg,N0,A0],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>z2(z2({},e.presentationProps),a.props))),i!=null)return i}}),_H=F([L3,N0,A0],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,s=Xe(n,e.nameKey,e.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:xd(s,e.dataKey),color:o,payload:n,type:e.legendType}})}),EH=F([L3,N0,A0,_t],(t,e,r,n)=>{if(!(e==null||t==null))return AW({offset:n,pieSettings:e,displayedData:t,cells:r})}),j3={exports:{}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=typeof Symbol=="function"&&Symbol.for,P0=Mt?Symbol.for("react.element"):60103,S0=Mt?Symbol.for("react.portal"):60106,Xd=Mt?Symbol.for("react.fragment"):60107,Qd=Mt?Symbol.for("react.strict_mode"):60108,Jd=Mt?Symbol.for("react.profiler"):60114,Zd=Mt?Symbol.for("react.provider"):60109,eh=Mt?Symbol.for("react.context"):60110,T0=Mt?Symbol.for("react.async_mode"):60111,th=Mt?Symbol.for("react.concurrent_mode"):60111,rh=Mt?Symbol.for("react.forward_ref"):60112,nh=Mt?Symbol.for("react.suspense"):60113,NH=Mt?Symbol.for("react.suspense_list"):60120,ih=Mt?Symbol.for("react.memo"):60115,ah=Mt?Symbol.for("react.lazy"):60116,AH=Mt?Symbol.for("react.block"):60121,PH=Mt?Symbol.for("react.fundamental"):60117,SH=Mt?Symbol.for("react.responder"):60118,TH=Mt?Symbol.for("react.scope"):60119;function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P0:switch(t=t.type,t){case T0:case th:case Xd:case Jd:case Qd:case nh:return t;default:switch(t=t&&t.$$typeof,t){case eh:case rh:case ah:case ih:case Zd:return t;default:return e}}case S0:return e}}}function V3(t){return xr(t)===th}ke.AsyncMode=T0;ke.ConcurrentMode=th;ke.ContextConsumer=eh;ke.ContextProvider=Zd;ke.Element=P0;ke.ForwardRef=rh;ke.Fragment=Xd;ke.Lazy=ah;ke.Memo=ih;ke.Portal=S0;ke.Profiler=Jd;ke.StrictMode=Qd;ke.Suspense=nh;ke.isAsyncMode=function(t){return V3(t)||xr(t)===T0};ke.isConcurrentMode=V3;ke.isContextConsumer=function(t){return xr(t)===eh};ke.isContextProvider=function(t){return xr(t)===Zd};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P0};ke.isForwardRef=function(t){return xr(t)===rh};ke.isFragment=function(t){return xr(t)===Xd};ke.isLazy=function(t){return xr(t)===ah};ke.isMemo=function(t){return xr(t)===ih};ke.isPortal=function(t){return xr(t)===S0};ke.isProfiler=function(t){return xr(t)===Jd};ke.isStrictMode=function(t){return xr(t)===Qd};ke.isSuspense=function(t){return xr(t)===nh};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xd||t===th||t===Jd||t===Qd||t===nh||t===NH||typeof t=="object"&&t!==null&&(t.$$typeof===ah||t.$$typeof===ih||t.$$typeof===Zd||t.$$typeof===eh||t.$$typeof===rh||t.$$typeof===PH||t.$$typeof===SH||t.$$typeof===TH||t.$$typeof===AH)};ke.typeOf=xr;j3.exports=ke;var IH=j3.exports,B2=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",H2=null,rf=null,$3=t=>{if(t===H2&&Array.isArray(rf))return rf;var e=[];return y.Children.forEach(t,r=>{kt(r)||(IH.isFragment(r)?e=e.concat($3(r.props.children)):e.push(r))}),rf=e,H2=t,e};function I0(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>B2(i)):n=[B2(e)],$3(t).forEach(i=>{var a=da(i,"type.displayName")||da(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var F3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(F3);var CH=F3.isPlainObject;const kH=Ci(CH);function W2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(r),!0).forEach(function(n){OH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OH(t,e,r){return(e=RH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RH(t){var e=MH(t,"string");return typeof e=="symbol"?e:e+""}function MH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(null,arguments)}var K2=(t,e,r,n,i)=>{var a=r-n,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+r,",").concat(e),s+="L ".concat(t+r-a/2,",").concat(e+i),s+="L ".concat(t+r-a/2-n,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},DH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LH=t=>{var e=Ot(t,DH),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=e,m=y.useRef(null),[g,w]=y.useState(-1),x=y.useRef(i),v=y.useRef(a),P=y.useRef(s),A=y.useRef(r),T=y.useRef(n),L=Id(t,"trapezoid-");if(y.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var z=m.current.getTotalLength();z&&w(z)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=Ce("recharts-trapezoid",o);if(!f)return y.createElement("g",null,y.createElement("path",Eu({},Cr(e),{className:k,d:K2(r,n,i,a,s)})));var D=x.current,_=v.current,S=P.current,E=A.current,C=T.current,I="0px ".concat(g===-1?1:g,"px"),M="".concat(g,"px 0px"),O=X6(["strokeDasharray"],u,c);return y.createElement(Td,{animationId:L,key:L,canBegin:g>0,duration:u,easing:c,isActive:f,begin:d},z=>{var B=pt(D,i,z),Q=pt(_,a,z),ne=pt(S,s,z),he=pt(E,r,z),H=pt(C,n,z);m.current&&(x.current=B,v.current=Q,P.current=ne,A.current=he,T.current=H);var Z=z>0?{transition:O,strokeDasharray:M}:{strokeDasharray:I};return y.createElement("path",Eu({},Cr(e),{className:k,d:K2(he,H,B,Q,ne),ref:m,style:q2(q2({},Z),e.style)}))})},jH=["option","shapeType","propTransformer","activeClassName","isActive"];function VH(t,e){if(t==null)return{};var r,n,i=$H(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $H(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function G2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(r),!0).forEach(function(n){FH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FH(t,e,r){return(e=UH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UH(t){var e=zH(t,"string");return typeof e=="symbol"?e:e+""}function zH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BH(t,e){return Nu(Nu({},e),t)}function HH(t,e){return t==="symbols"}function Y2(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return y.createElement(eE,r);case"trapezoid":return y.createElement(LH,r);case"sector":return y.createElement(iE,r);case"symbols":if(HH(e))return y.createElement(Hp,r);break;case"curve":return y.createElement(hg,r);default:return null}}function WH(t){return y.isValidElement(t)?t.props:t}function U3(t){var{option:e,shapeType:r,propTransformer:n=BH,activeClassName:i="recharts-active-shape",isActive:a}=t,s=VH(t,jH),o;if(y.isValidElement(e))o=y.cloneElement(e,Nu(Nu({},s),WH(e)));else if(typeof e=="function")o=e(s);else if(kH(e)&&typeof e!="boolean"){var c=n(e,s);o=y.createElement(Y2,{shapeType:r,elementProps:c})}else{var u=s;o=y.createElement(Y2,{shapeType:r,elementProps:u})}return a?y.createElement(Qt,{className:i},o):o}var C0=(t,e)=>{var r=De();return(n,i)=>a=>{t==null||t(n,i,a),r(BN({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},k0=t=>{var e=De();return(r,n)=>i=>{t==null||t(r,n,i),e(dU())}},O0=(t,e)=>{var r=De();return(n,i)=>a=>{t==null||t(n,i,a),r(hU({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function z3(t){var{fn:e,args:r}=t,n=De(),i=lr();return y.useLayoutEffect(()=>{if(!i){var a=e(r);return n(lU(a)),()=>{n(cU(a))}}},[e,r,n,i]),null}function qH(t){var{legendPayload:e}=t,r=De(),n=lr();return y.useLayoutEffect(()=>n?Ea:(r(q6(e)),()=>{r(K6(e))}),[r,n,e]),null}function KH(t){var{legendPayload:e}=t,r=De(),n=ie(Pe);return y.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?Ea:(r(q6(e)),()=>{r(K6(e))}),[r,n,e]),null}var nf,GH=()=>{var[t]=y.useState(()=>Ro("uid-"));return t},YH=(nf=qA["useId".toString()])!==null&&nf!==void 0?nf:GH;function B3(t,e){var r=YH();return e||(t?"".concat(t,"-").concat(r):r)}var XH=y.createContext(void 0),H3=t=>{var{id:e,type:r,children:n}=t,i=B3("recharts-".concat(r),e);return y.createElement(XH.Provider,{value:i},n(i))},QH={cartesianItems:[],polarItems:[]},W3=or({name:"graphicalItems",initialState:QH,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:vt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=On(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:vt()},removeCartesianGraphicalItem:{reducer(t,e){var r=On(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:vt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:vt()},removePolarGraphicalItem:{reducer(t,e){var r=On(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:vt()}}}),{addCartesianGraphicalItem:JH,replaceCartesianGraphicalItem:ZH,removeCartesianGraphicalItem:eW,addPolarGraphicalItem:tW,removePolarGraphicalItem:rW}=W3.actions,nW=W3.reducer;function iW(t){var e=De(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?e(JH(t)):r.current!==t&&e(ZH({prev:r.current,next:t})),r.current=t},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(e(eW(r.current)),r.current=null)},[e]),null}function aW(t){var e=De();return y.useLayoutEffect(()=>(e(tW(t)),()=>{e(rW(t))}),[e,t]),null}var sW=["onMouseEnter","onClick","onMouseLeave"],oW=["id"],lW=["id"];function R0(t,e){if(t==null)return{};var r,n,i=cW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){uW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uW(t,e,r){return(e=dW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dW(t){var e=hW(t,"string");return typeof e=="symbol"?e:e+""}function hW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ii.apply(null,arguments)}function fW(t){var e=y.useMemo(()=>I0(t.children,xl),[t.children]),r=ie(n=>_H(n,t.id,e));return r==null?null:y.createElement(KH,{legendPayload:r})}function mW(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:r,name:xd(o,e),hide:c,type:u,color:s,unit:""}}}var pW=(t,e)=>t>e?"start":t<e?"end":"middle",gW=(t,e,r)=>Kt(typeof e=="function"?e(t):e,r,r*.8),vW=(t,e,r)=>{var{top:n,left:i,width:a,height:s}=e,o=tE(a,s),c=i+Kt(t.cx,a,a/2),u=n+Kt(t.cy,s,s/2),d=Kt(t.innerRadius,o,0),f=gW(r,t.outerRadius,o),m=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:m}},yW=(t,e)=>{var r=Ct(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function bW(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var xW=(t,e)=>{if(y.isValidElement(t))return y.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Ce("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return y.createElement(hg,Ii({},e,{type:"linear",className:r}))},wW=(t,e,r)=>{if(y.isValidElement(t))return y.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),y.isValidElement(n)))return n;var i=Ce("recharts-pie-label-text",bW(t));return y.createElement(Kd,Ii({},e,{alignmentBaseline:"middle",className:i}),n)};function _W(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!e)return null;var o=Fr(r),c=Oo(i),u=Oo(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((m,g)=>{var w=(m.startAngle+m.endAngle)/2,x=ut(m.cx,m.cy,m.outerRadius+d,w),v=Fe(Fe(Fe(Fe({},o),m),{},{stroke:"none"},c),{},{index:g,textAnchor:pW(x.x,m.cx)},x),P=Fe(Fe(Fe(Fe({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:g,points:[ut(m.cx,m.cy,m.outerRadius,w),x],key:"line"});return y.createElement(Hr,{zIndex:xt.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},y.createElement(Qt,null,a&&xW(a,P),wW(i,v,Xe(m,s))))});return y.createElement(Qt,{className:"recharts-pie-labels"},f)}function EW(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?y.createElement(O3,{label:i}):y.createElement(_W,{sectors:e,props:r,showLabels:n})}function NW(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=ie(ga),{onMouseEnter:s,onClick:o,onMouseLeave:c}=i,u=R0(i,sW),d=C0(s,i.dataKey),f=k0(c),m=O0(o,i.dataKey);return e==null||e.length===0?null:y.createElement(y.Fragment,null,e.map((g,w)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&e.length!==1)return null;var x=r&&String(w)===a,v=a?n:null,P=x?r:v,A=Fe(Fe({},g),{},{stroke:g.stroke,tabIndex:-1,[D6]:w,[L6]:i.dataKey});return y.createElement(Qt,Ii({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},al(u,g,w),{onMouseEnter:d(g,w),onMouseLeave:f(g,w),onClick:m(g,w)}),y.createElement(U3,Ii({option:P,isActive:x,shapeType:"sector"},A)))}))}function AW(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),g=yW(o,c),w=Math.abs(g),x=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(D=>Xe(D,u,0)!==0).length,P=(w>=360?v:v-1)*x,A=w-v*m-P,T=n.reduce((D,_)=>{var S=Xe(_,u,0);return D+(ae(S)?S:0)},0),L;if(T>0){var k;L=n.map((D,_)=>{var S=Xe(D,u,0),E=Xe(D,d,_),C=vW(r,a,D),I=(ae(S)?S:0)/T,M,O=Fe(Fe({},D),i&&i[_]&&i[_].props);_?M=k.endAngle+Ct(g)*x*(S!==0?1:0):M=o;var z=M+Ct(g)*((S!==0?m:0)+I*A),B=(M+z)/2,Q=(C.innerRadius+C.outerRadius)/2,ne=[{name:E,value:S,payload:O,dataKey:u,type:f}],he=ut(C.cx,C.cy,Q,B);return k=Fe(Fe(Fe(Fe({},r.presentationProps),{},{percent:I,cornerRadius:typeof s=="string"?parseFloat(s):s,name:E,tooltipPayload:ne,midAngle:B,middleRadius:Q,tooltipPosition:he},O),C),{},{value:S,startAngle:M,endAngle:z,payload:O,paddingAngle:Ct(g)*x}),k})}return L}function PW(t){var{showLabels:e,sectors:r,children:n}=t,i=y.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return y.createElement(sH,{value:e?i:void 0},n)}function SW(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=e,m=Id(e,"recharts-pie-"),g=r.current,[w,x]=y.useState(!1),v=y.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),P=y.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return y.createElement(PW,{showLabels:!w,sectors:n},y.createElement(Td,{animationId:m,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:P,onAnimationEnd:v,key:m},A=>{var T=[],L=n&&n[0],k=L==null?void 0:L.startAngle;return n==null||n.forEach((D,_)=>{var S=g&&g[_],E=_>0?da(D,"paddingAngle",0):0;if(S){var C=pt(S.endAngle-S.startAngle,D.endAngle-D.startAngle,A),I=Fe(Fe({},D),{},{startAngle:k+E,endAngle:k+C+E});T.push(I),k=I.endAngle}else{var{endAngle:M,startAngle:O}=D,z=pt(0,M-O,A),B=Fe(Fe({},D),{},{startAngle:k+E,endAngle:k+z+E});T.push(B),k=B.endAngle}}),r.current=T,y.createElement(Qt,null,y.createElement(NW,{sectors:T,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),y.createElement(EW,{showLabels:!w,sectors:n,props:e}),e.children)}var TW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Aa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:xt.area};function IW(t){var{id:e}=t,r=R0(t,oW),{hide:n,className:i,rootTabIndex:a}=t,s=y.useMemo(()=>I0(t.children,xl),[t.children]),o=ie(d=>EH(d,e,s)),c=y.useRef(null),u=Ce("recharts-pie",i);return n||o==null?(c.current=null,y.createElement(Qt,{tabIndex:a,className:u})):y.createElement(Hr,{zIndex:t.zIndex},y.createElement(z3,{fn:mW,args:Fe(Fe({},t),{},{sectors:o})}),y.createElement(Qt,{tabIndex:a,className:u},y.createElement(SW,{props:Fe(Fe({},r),{},{sectors:o}),previousSectorsRef:c})))}function q3(t){var e=Ot(t,TW),{id:r}=e,n=R0(e,lW),i=Fr(n);return y.createElement(H3,{id:r,type:"pie"},a=>y.createElement(y.Fragment,null,y.createElement(aW,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),y.createElement(fW,Ii({},n,{id:a})),y.createElement(IW,Ii({},n,{id:a}))))}q3.displayName="Pie";function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){CW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CW(t,e,r){return(e=kW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kW(t){var e=OW(t,"string");return typeof e=="symbol"?e:e+""}function OW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RW={xAxis:{},yAxis:{},zAxis:{}},K3=or({name:"cartesianAxis",initialState:RW,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:vt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:vt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:vt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:vt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:vt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:vt()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);t.yAxis[r]=J2(J2({},t.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:MW,removeXAxis:DW,addYAxis:LW,removeYAxis:jW,addZAxis:iX,removeZAxis:aX,updateYAxisWidth:VW}=K3.actions,$W=K3.reducer,FW=F([_t],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),UW=F([FW,Kn,Gn],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),G3=()=>ie(UW),zW=!0,af="Invariant failed";function BW(t,e){if(!t){if(zW)throw new Error(af);var r=typeof e=="function"?e():e,n=r?"".concat(af,": ").concat(r):af;throw new Error(n)}}var HW=["x","y"];function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(null,arguments)}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function to(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){WW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WW(t,e,r){return(e=qW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qW(t){var e=KW(t,"string");return typeof e=="symbol"?e:e+""}function KW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GW(t,e){if(t==null)return{};var r,n,i=YW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function YW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XW(t,e){var{x:r,y:n}=t,i=GW(t,HW),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),m=parseInt(f,10);return to(to(to(to(to({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function Au(t){return y.createElement(U3,Tm({shapeType:"rectangle",propTransformer:XW,activeClassName:"recharts-active-bar"},t))}var QW=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ae(e))return e;var a=ae(n)||kt(n);return a?e(n,i):(a||BW(!1),r)}},JW={},Y3=or({name:"errorBars",initialState:JW,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}});Y3.actions;var ZW=Y3.reducer,eq=["children"];function tq(t,e){if(t==null)return{};var r,n,i=rq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var nq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iq=y.createContext(nq);function aq(t){var{children:e}=t,r=tq(t,eq);return y.createElement(iq.Provider,{value:r},e)}function X3(t,e){var r,n,i=ie(u=>Xn(u,t)),a=ie(u=>Qn(u,e)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:dr.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:hr.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function sq(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=G3(),{needClipX:a,needClipY:s,needClip:o}=X3(e,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?c:c-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}function oq(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&it(t.zIndex)?t.zIndex:e}var lq=["onMouseEnter","onMouseLeave","onClick"],cq=["value","background","tooltipPosition"],uq=["id"],dq=["onMouseEnter","onClick","onMouseLeave"];function Hn(){return Hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hn.apply(null,arguments)}function ex(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(r),!0).forEach(function(n){hq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hq(t,e,r){return(e=fq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fq(t){var e=mq(t,"string");return typeof e=="symbol"?e:e+""}function mq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pu(t,e){if(t==null)return{};var r,n,i=pq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var gq=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:xd(r,e),payload:t}]};function vq(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:xd(a,e),hide:s,type:t.tooltipType,color:t.fill,unit:o}}}function yq(t){var e=ie(ga),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=Pu(a,lq),d=C0(s,n),f=k0(o),m=O0(c,n);if(!i||r==null)return null;var g=Oo(i);return y.createElement(Hr,{zIndex:oq(i,xt.barBackground)},r.map((w,x)=>{var{value:v,background:P,tooltipPosition:A}=w,T=Pu(w,cq);if(!P)return null;var L=d(w,x),k=f(w,x),D=m(w,x),_=Yt(Yt(Yt(Yt(Yt({option:i,isActive:String(x)===e},T),{},{fill:"#eee"},P),g),al(u,w,x)),{},{onMouseEnter:L,onMouseLeave:k,onClick:D,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(Au,Hn({key:"background-bar-".concat(x)},_))}))}function bq(t){var{showLabels:e,children:r,rects:n}=t,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Yt(Yt({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return y.createElement(aH,{value:e?i:void 0},r)}function xq(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=t,o=ie(ga),c=ie(i3),u=r&&String(a)===o&&(c==null||s===c),d=u?r:e;return u?y.createElement(Hr,{zIndex:xt.activeBar},y.createElement(Au,Hn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):y.createElement(Au,Hn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function wq(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return y.createElement(Au,Hn({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:a}))}function _q(t){var e,{data:r,props:n}=t,i=(e=Fr(n))!==null&&e!==void 0?e:{},a=Pu(i,uq),{shape:s,dataKey:o,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:f}=n,m=Pu(n,dq),g=C0(u,o),w=k0(f),x=O0(d,o);return r?y.createElement(y.Fragment,null,r.map((v,P)=>y.createElement(Qt,Hn({key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(P),className:"recharts-bar-rectangle"},al(m,v,P),{onMouseEnter:g(v,P),onMouseLeave:w(v,P),onClick:x(v,P)}),c?y.createElement(xq,{shape:s,activeBar:c,baseProps:a,entry:v,index:P,dataKey:o}):y.createElement(wq,{shape:s,baseProps:a,entry:v,index:P,dataKey:o})))):null}function Eq(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=r.current,m=Id(e,"recharts-bar-"),[g,w]=y.useState(!1),x=!g,v=y.useCallback(()=>{typeof u=="function"&&u(),w(!1)},[u]),P=y.useCallback(()=>{typeof d=="function"&&d(),w(!0)},[d]);return y.createElement(bq,{showLabels:x,rects:n},y.createElement(Td,{animationId:m,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:v,onAnimationStart:P,key:m},A=>{var T=A===1?n:n==null?void 0:n.map((L,k)=>{var D=f&&f[k];if(D)return Yt(Yt({},L),{},{x:pt(D.x,L.x,A),y:pt(D.y,L.y,A),width:pt(D.width,L.width,A),height:pt(D.height,L.height,A)});if(i==="horizontal"){var _=pt(0,L.height,A),S=pt(L.stackedBarStart,L.y,A);return Yt(Yt({},L),{},{y:S,height:_})}var E=pt(0,L.width,A),C=pt(L.stackedBarStart,L.x,A);return Yt(Yt({},L),{},{width:E,x:C})});return A>0&&(r.current=T??null),T==null?null:y.createElement(Qt,null,y.createElement(_q,{props:e,data:T}))}),y.createElement(O3,{label:e.label}),e.children)}function Nq(t){var e=y.useRef(null);return y.createElement(Eq,{previousRectanglesRef:e,props:t})}var Q3=0,Aq=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Xe(t,e)}};class Pq extends y.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(e||r==null)return null;var d=Ce("recharts-bar",i),f=u;return y.createElement(Qt,{className:d,id:u},o&&y.createElement("defs",null,y.createElement(sq,{clipPathId:f,xAxisId:a,yAxisId:s})),y.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},y.createElement(yq,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(Nq,this.props)))}}var Sq={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Aa.isSsr,legendType:"rect",minPointSize:Q3,xAxisId:0,yAxisId:0,zIndex:xt.bar};function Tq(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:f}=X3(e,r),m=Pd(),g=lr(),w=I0(t.children,xl),x=ie(A=>rK(A,e,r,g,t.id,w));if(m!=="vertical"&&m!=="horizontal")return null;var v,P=x==null?void 0:x[0];return P==null||P.height==null||P.width==null?v=0:v=m==="vertical"?P.height/2:P.width/2,y.createElement(aq,{xAxisId:e,yAxisId:r,data:x,dataPointFormatter:Aq,errorBarOffset:v},y.createElement(Pq,Hn({},t,{layout:m,needClip:f,data:x,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Iq(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:m,cells:g,parentViewBox:w,dataStartIndex:x}=t,v=e==="horizontal"?o:s,P=d?v.scale.domain():null,A=rD({numericAxis:v}),T=v.scale(A);return f.map((L,k)=>{var D,_,S,E,C,I;d?D=XM(d[k+x],P):(D=Xe(L,r),Array.isArray(D)||(D=[A,D]));var M=QW(n,Q3)(D[1],k);if(e==="horizontal"){var O,[z,B]=[o.scale(D[0]),o.scale(D[1])];_=H1({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:L,index:k}),S=(O=B??z)!==null&&O!==void 0?O:void 0,E=i.size;var Q=z-B;if(C=Ur(Q)?0:Q,I={x:_,y:m.top,width:E,height:m.height},Math.abs(M)>0&&Math.abs(C)<Math.abs(M)){var ne=Ct(C||M)*(Math.abs(M)-Math.abs(C));S-=ne,C+=ne}}else{var[he,H]=[s.scale(D[0]),s.scale(D[1])];if(_=he,S=H1({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:L,index:k}),E=H-he,C=i.size,I={x:m.left,y:S,width:m.width,height:C},Math.abs(M)>0&&Math.abs(E)<Math.abs(M)){var Z=Ct(E||M)*(Math.abs(M)-Math.abs(E));E+=Z}}if(_==null||S==null||E==null||C==null)return null;var ce=Yt(Yt({},L),{},{stackedBarStart:T,x:_,y:S,width:E,height:C,value:d?D:D[1],payload:L,background:I,tooltipPosition:{x:_+E/2,y:S+C/2},parentViewBox:w},g&&g[k]&&g[k].props);return ce}).filter(Boolean)}function Cq(t){var e=Ot(t,Sq),r=lr();return y.createElement(H3,{id:e.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(qH,{legendPayload:gq(e)}),y.createElement(z3,{fn:vq,args:e}),y.createElement(iW,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:tD(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),y.createElement(Hr,{zIndex:e.zIndex},y.createElement(Tq,Hn({},e,{id:n})))))}var Im=y.memo(Cq);Im.displayName="Bar";function tx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(r),!0).forEach(function(n){kq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kq(t,e,r){return(e=Oq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oq(t){var e=Rq(t,"string");return typeof e=="symbol"?e:e+""}function Rq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mq=(t,e)=>e,Dq=(t,e,r)=>r,Lq=(t,e,r,n)=>n,jq=(t,e,r,n,i)=>i,wl=F([Yg,jq],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Vq=F([wl],t=>t==null?void 0:t.maxBarSize),$q=(t,e,r,n,i,a)=>a,rx=(t,e,r)=>{var n=r??t;if(!kt(n))return Kt(n,e,0)},Fq=F([Pe,Yg,Mq,Dq,Lq],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Uq=(t,e,r,n)=>{var i=Pe(t);return i==="horizontal"?wm(t,"yAxis",r,n):wm(t,"xAxis",e,n)},zq=(t,e,r)=>{var n=Pe(t);return n==="horizontal"?u2(t,"xAxis",e):u2(t,"yAxis",r)},Bq=(t,e,r)=>{var n={},i=t.filter($d),a=t.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,m=f.map(w=>w.dataKey),g=rx(e,r,f[0].barSize);return{stackId:d,dataKeys:m,barSize:g}}),c=a.map(u=>{var d=[u.dataKey].filter(m=>m!=null),f=rx(e,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...c]},Hq=F([Fq,tF,zq],Bq),Wq=(t,e,r,n,i)=>{var a,s,o=wl(t,e,r,n,i);if(o!=null){var c=Pe(t),u=iN(t),{maxBarSize:d}=o,f=kt(d)?u:d,m,g;return c==="horizontal"?(m=ds(t,"xAxis",e,n),g=us(t,"xAxis",e,n)):(m=ds(t,"yAxis",r,n),g=us(t,"yAxis",r,n)),(a=(s=ru(m,g,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},J3=(t,e,r,n)=>{var i=Pe(t),a,s;return i==="horizontal"?(a=ds(t,"xAxis",e,n),s=us(t,"xAxis",e,n)):(a=ds(t,"yAxis",r,n),s=us(t,"yAxis",r,n)),ru(a,s)};function qq(t,e,r,n,i){var a=n.length;if(!(a<1)){var s=Kt(t,r,0,!0),o,c=[];if(it(n[0].barSize)){var u=!1,d=r/a,f=n.reduce((P,A)=>P+(A.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=a*d);var m=(r-f)/2>>0,g={offset:m-s,size:0};o=n.reduce((P,A)=>{var T,L={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:g.offset+g.size+s,size:u?d:(T=A.barSize)!==null&&T!==void 0?T:0}},k=[...P,L];return g=k[k.length-1].position,k},c)}else{var w=Kt(e,r,0,!0);r-2*w-(a-1)*s<=0&&(s=0);var x=(r-2*w-(a-1)*s)/a;x>1&&(x>>=0);var v=it(i)?Math.min(x,i):x;o=n.reduce((P,A,T)=>[...P,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:w+(x+s)*T+(x-v)/2,size:v}}],c)}return o}}var Kq=(t,e,r,n,i,a,s)=>{var o=kt(s)?e:s,c=qq(r,n,i!==a?i:a,t,o);return i!==a&&c!=null&&(c=c.map(u=>tc(tc({},u),{},{position:tc(tc({},u.position),{},{offset:u.position.offset-i/2})}))),c},Gq=F([Hq,iN,eF,aN,Wq,J3,Vq],Kq),Yq=(t,e,r,n)=>ds(t,"xAxis",e,n),Xq=(t,e,r,n)=>ds(t,"yAxis",r,n),Qq=(t,e,r,n)=>us(t,"xAxis",e,n),Jq=(t,e,r,n)=>us(t,"yAxis",r,n),Zq=F([Gq,wl],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),eK=(t,e)=>{var r=qg(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},tK=F([Uq,wl],eK),rK=F([_t,lg,Yq,Xq,Qq,Jq,Zq,Pe,jg,J3,tK,wl,$q],(t,e,r,n,i,a,s,o,c,u,d,f,m)=>{var{chartData:g,dataStartIndex:w,dataEndIndex:x}=c;if(!(f==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=f,P;if(v!=null&&v.length>0?P=v:P=g==null?void 0:g.slice(w,x+1),P!=null)return Iq({layout:o,barSettings:f,pos:s,parentViewBox:e,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:P,offset:t,cells:m,dataStartIndex:w})}}),Z3=t=>{var{chartData:e}=t,r=De(),n=lr();return y.useEffect(()=>n?()=>{}:(r(_2(e)),()=>{r(_2(void 0))}),[e,r,n]),null},nx={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},eA=or({name:"brush",initialState:nx,reducers:{setBrushSettings(t,e){return e.payload==null?nx:e.payload}}});eA.actions;var nK=eA.reducer;function iK(t,e,r){return(e=aK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aK(t){var e=sK(t,"string");return typeof e=="symbol"?e:e+""}function sK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class M0{static create(e){return new M0(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}iK(M0,"EPS",1e-4);function oK(t){return(t%180+180)%180}var lK=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=oK(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},cK={dots:[],areas:[],lines:[]},tA=or({name:"referenceElements",initialState:cK,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=On(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=On(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=On(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}});tA.actions;var uK=tA.reducer,dK=y.createContext(void 0),hK=t=>{var{children:e}=t,[r]=y.useState("".concat(Ro("recharts"),"-clip")),n=G3();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return y.createElement(dK.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function hs(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function rA(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e)r.push(t[n]);return r}function fK(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lK(n,r)}function mK(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Su(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function pK(t,e){return rA(t,e+1)}function gK(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=e,c=0,u=1,d=s,f=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:rA(n,u)};var x=c,v,P=()=>(v===void 0&&(v=r(w,x)),v),A=w.coordinate,T=c===0||Su(t,A,P,d,o);T||(c=0,d=s,u+=1),T&&(d=A+t*(P()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function ix(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(r),!0).forEach(function(n){vK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vK(t,e,r){return(e=yK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yK(t){var e=bK(t,"string");return typeof e=="symbol"?e:e+""}function bK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xK(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=e,{end:c}=e,u=function(m){var g=a[m],w,x=()=>(w===void 0&&(w=r(g,m)),w);if(m===s-1){var v=t*(g.coordinate+t*x()/2-c);a[m]=g=Bt(Bt({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else a[m]=g=Bt(Bt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var P=Su(t,g.tickCoord,x,o,c);P&&(c=g.tickCoord-t*(x()/2+i),a[m]=Bt(Bt({},g),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function wK(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=e;if(a){var d=n[o-1],f=r(d,o-1),m=t*(d.coordinate+t*f/2-u);if(s[o-1]=d=Bt(Bt({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate}),d.tickCoord!=null){var g=Su(t,d.tickCoord,()=>f,c,u);g&&(u=d.tickCoord-t*(f/2+i),s[o-1]=Bt(Bt({},d),{},{isShow:!0}))}}for(var w=a?o-1:o,x=function(A){var T=s[A],L,k=()=>(L===void 0&&(L=r(T,A)),L);if(A===0){var D=t*(T.coordinate-t*k()/2-c);s[A]=T=Bt(Bt({},T),{},{tickCoord:D<0?T.coordinate-D*t:T.coordinate})}else s[A]=T=Bt(Bt({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var _=Su(t,T.tickCoord,k,c,u);_&&(c=T.tickCoord+t*(k()/2+i),s[A]=Bt(Bt({},T),{},{isShow:!0}))}},v=0;v<w;v++)x(v);return s}function D0(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=t;if(!i||!i.length||!n)return[];if(ae(c)||Aa.isSsr){var m;return(m=pK(i,ae(c)?c:0))!==null&&m!==void 0?m:[]}var g=[],w=o==="top"||o==="bottom"?"width":"height",x=d&&w==="width"?wo(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(T,L)=>{var k=typeof u=="function"?u(T.value,L):T.value;return w==="width"?fK(wo(k,{fontSize:e,letterSpacing:r}),x,f):wo(k,{fontSize:e,letterSpacing:r})[w]},P=i.length>=2?Ct(i[1].coordinate-i[0].coordinate):1,A=mK(a,P,w);return c==="equidistantPreserveStart"?gK(P,A,v,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=wK(P,A,v,i,s,c==="preserveStartEnd"):g=xK(P,A,v,i,s),g.filter(T=>T.isShow))}var _K=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},EK=["axisLine","width","height","className","hide","ticks","axisType"],NK=["viewBox"],AK=["viewBox"];function Cm(t,e){if(t==null)return{};var r,n,i=PK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},va.apply(null,arguments)}function ax(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(r),!0).forEach(function(n){SK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SK(t,e,r){return(e=TK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TK(t){var e=IK(t,"string");return typeof e=="symbol"?e:e+""}function IK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:xt.axis};function CK(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var u=lt(lt(lt({},c),Fr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=lt(lt({},u),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=lt(lt({},u),{},{x1:e+f*n,y1:r,x2:e+f*n,y2:r+i})}return y.createElement("line",va({},u,{className:Ce("recharts-cartesian-axis-line",da(o,"className"))}))}function kK(t,e,r,n,i,a,s,o,c){var u,d,f,m,g,w,x=o?-1:1,v=t.tickSize||s,P=ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=d=t.coordinate,m=r+ +!o*i,f=m-x*v,w=f-x*c,g=P;break;case"left":f=m=t.coordinate,d=e+ +!o*n,u=d-x*v,g=u-x*c,w=P;break;case"right":f=m=t.coordinate,d=e+ +o*n,u=d+x*v,g=u+x*c,w=P;break;default:u=d=t.coordinate,m=r+ +o*i,f=m+x*v,w=f+x*c,g=P;break}return{line:{x1:u,y1:f,x2:d,y2:m},tick:{x:g,y:w}}}function OK(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function RK(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function MK(t){var{option:e,tickProps:r,value:n}=t,i,a=Ce(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(e))i=y.cloneElement(e,lt(lt({},r),{},{className:a}));else if(typeof e=="function")i=e(lt(lt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Ce(s,e==null?void 0:e.className)),i=y.createElement(Kd,va({},r,{className:s}),n)}return i}var DK=y.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:m,y:g,width:w,height:x,tickSize:v,tickMargin:P,fontSize:A,letterSpacing:T,getTicksConfig:L,events:k,axisType:D}=t,_=D0(lt(lt({},L),{},{ticks:r}),A,T),S=OK(d,f),E=RK(d,f),C=Fr(L),I=Oo(n),M={};typeof i=="object"&&(M=i);var O=lt(lt({},C),{},{fill:"none"},M),z=_.map(ne=>lt({entry:ne},kK(ne,m,g,w,x,d,v,f,P))),B=z.map(ne=>{var{entry:he,line:H}=ne;return y.createElement(Qt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&y.createElement("line",va({},O,H,{className:Ce("recharts-cartesian-axis-tick-line",da(i,"className"))})))}),Q=z.map((ne,he)=>{var{entry:H,tick:Z}=ne,ce=lt(lt(lt(lt({textAnchor:S,verticalAnchor:E},C),{},{stroke:"none",fill:a},I),Z),{},{index:he,payload:H,visibleTicksCount:_.length,tickFormatter:s,padding:c},u);return y.createElement(Qt,va({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},al(k,H,he)),n&&y.createElement(MK,{option:n,tickProps:ce,value:"".concat(typeof s=="function"?s(H.value,he):H.value).concat(o||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},Q.length>0&&y.createElement(Hr,{zIndex:xt.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},Q)),B.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},B))}),LK=y.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=t,u=Cm(t,EK),[d,f]=y.useState(""),[m,g]=y.useState(""),w=y.useRef(null);y.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return _K({ticks:w.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=y.useCallback(v=>{if(v){var P=v.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=P;var A=P[0];if(A){var T=window.getComputedStyle(A),L=T.fontSize,k=T.letterSpacing;(L!==d||k!==m)&&(f(L),g(k))}}},[d,m]);return s||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(Hr,{zIndex:t.zIndex},y.createElement(Qt,{className:Ce("recharts-cartesian-axis",a)},y.createElement(CK,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Fr(t)}),y.createElement(DK,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),y.createElement(zB,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},y.createElement(JB,{label:t.label,labelRef:t.labelRef}),t.children)))}),jK=y.memo(LK,(t,e)=>{var{viewBox:r}=t,n=Cm(t,NK),{viewBox:i}=e,a=Cm(e,AK);return hs(r,i)&&hs(n,a)}),j0=y.forwardRef((t,e)=>{var r=Ot(t,L0);return y.createElement(jK,va({},r,{ref:e}))});j0.displayName="CartesianAxis";var VK=["x1","y1","x2","y2","key"],$K=["offset"],FK=["xAxisId","yAxisId"],UK=["xAxisId","yAxisId"];function sx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sx(Object(r),!0).forEach(function(n){zK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zK(t,e,r){return(e=BK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BK(t){var e=HK(t,"string");return typeof e=="symbol"?e:e+""}function HK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qi.apply(null,arguments)}function Tu(t,e){if(t==null)return{};var r,n,i=WK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function WK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qK=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=t;return y.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nA(t){var{option:e,lineItemProps:r}=t,n;if(y.isValidElement(e))n=y.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=Tu(r,VK),f=(i=Fr(d))!==null&&i!==void 0?i:{},m=Tu(f,$K);n=y.createElement("line",Qi({},m,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function KK(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Tu(t,FK),s=i.map((o,c)=>{var u=qt(qt({},a),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return y.createElement(nA,{key:"line-".concat(c),option:n,lineItemProps:u})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function GK(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Tu(t,UK),s=i.map((o,c)=>{var u=qt(qt({},a),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return y.createElement(nA,{option:n,lineItemProps:u,key:"line-".concat(c)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function YK(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=t;if(!c||!e||!e.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var g=!u[m+1],w=g?i+s-f:u[m+1]-f;if(w<=0)return null;var x=m%e.length;return y.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function XK(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var d=u.map((f,m)=>{var g=!u[m+1],w=g?i+s-f:u[m+1]-f;if(w<=0)return null;var x=m%r.length;return y.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:w,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var QK=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return O6(D0(qt(qt(qt({},L0),r),{},{ticks:R6(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},JK=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return O6(D0(qt(qt(qt({},L0),r),{},{ticks:R6(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},ZK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:xt.grid};function iA(t){var e=ug(),r=dg(),n=H6(),i=qt(qt({},Ot(t,ZK)),{},{x:ae(t.x)?t.x:n.left,y:ae(t.y)?t.y:n.top,width:ae(t.width)?t.width:n.width,height:ae(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:g}=i,w=lr(),x=ie(E=>d2(E,"xAxis",a,w)),v=ie(E=>d2(E,"yAxis",s,w));if(!gn(u)||!gn(d)||!ae(o)||!ae(c))return null;var P=i.verticalCoordinatesGenerator||QK,A=i.horizontalCoordinatesGenerator||JK,{horizontalPoints:T,verticalPoints:L}=i;if((!T||!T.length)&&typeof A=="function"){var k=m&&m.length,D=A({yAxis:v?qt(qt({},v),{},{ticks:k?m:v.ticks}):void 0,width:e??u,height:r??d,offset:n},k?!0:f);nu(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(T=D)}if((!L||!L.length)&&typeof P=="function"){var _=g&&g.length,S=P({xAxis:x?qt(qt({},x),{},{ticks:_?g:x.ticks}):void 0,width:e??u,height:r??d,offset:n},_?!0:f);nu(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(L=S)}return y.createElement(Hr,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(qK,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(YK,Qi({},i,{horizontalPoints:T})),y.createElement(XK,Qi({},i,{verticalPoints:L})),y.createElement(KK,Qi({},i,{offset:n,horizontalPoints:T,xAxis:x,yAxis:v})),y.createElement(GK,Qi({},i,{offset:n,verticalPoints:L,xAxis:x,yAxis:v}))))}iA.displayName="CartesianGrid";var eG=["dangerouslySetInnerHTML","ticks"],tG=["id"],rG=["domain"],nG=["domain"];function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(null,arguments)}function Iu(t,e){if(t==null)return{};var r,n,i=iG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function iG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function aG(t){var e=De();return y.useLayoutEffect(()=>(e(MW(t)),()=>{e(DW(t))}),[t,e]),null}var sG=t=>{var{xAxisId:e,className:r}=t,n=ie(lg),i=lr(),a="xAxis",s=ie(g=>As(g,a,e,i)),o=ie(g=>jN(g,a,e,i)),c=ie(g=>RN(g,e)),u=ie(g=>JF(g,e)),d=ie(g=>fN(g,e));if(c==null||u==null||d==null)return null;var f=Iu(t,eG),m=Iu(d,tG);return y.createElement(j0,km({},f,m,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Ce("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},oG={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,height:dr.height,hide:!1,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tickCount:dr.tickCount,type:dr.type,xAxisId:0},lG=t=>{var e,r,n,i,a,s=Ot(t,oG);return y.createElement(y.Fragment,null,y.createElement(aG,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),y.createElement(sG,s))},cG=(t,e)=>{var{domain:r}=t,n=Iu(t,rG),{domain:i}=e,a=Iu(e,nG);return hs(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:hs({domain:r},{domain:i}):!1},aA=y.memo(lG,cG);aA.displayName="XAxis";var uG=["dangerouslySetInnerHTML","ticks"],dG=["id"],hG=["domain"],fG=["domain"];function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Om.apply(null,arguments)}function Cu(t,e){if(t==null)return{};var r,n,i=mG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function pG(t){var e=De();return y.useLayoutEffect(()=>(e(LW(t)),()=>{e(jW(t))}),[t,e]),null}var gG=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=y.useRef(null),s=y.useRef(null),o=ie(lg),c=lr(),u=De(),d="yAxis",f=ie(A=>As(A,d,e,c)),m=ie(A=>MN(A,e)),g=ie(A=>eU(A,e)),w=ie(A=>jN(A,d,e,c)),x=ie(A=>mN(A,e));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!m||E0(i)||y.isValidElement(i)||x==null)){var A=a.current;if(A){var T=A.getCalculatedWidth();Math.round(m.width)!==Math.round(T)&&u(VW({id:e,width:T}))}}},[w,m,u,i,e,n,x]),m==null||g==null||x==null)return null;var v=Cu(t,uG),P=Cu(x,dG);return y.createElement(j0,Om({},v,P,{ref:a,labelRef:s,scale:f,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Ce("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:w,axisType:d}))},vG={allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,hide:!1,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tickCount:hr.tickCount,type:hr.type,width:hr.width,yAxisId:0},yG=t=>{var e,r,n,i,a,s=Ot(t,vG);return y.createElement(y.Fragment,null,y.createElement(pG,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),y.createElement(gG,s))},bG=(t,e)=>{var{domain:r}=t,n=Cu(t,hG),{domain:i}=e,a=Cu(e,fG);return hs(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:hs({domain:r},{domain:i}):!1},sA=y.memo(yG,bG);sA.displayName="YAxis";var xG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=y;function wG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _G=typeof Object.is=="function"?Object.is:wG,EG=_l.useSyncExternalStore,NG=_l.useRef,AG=_l.useEffect,PG=_l.useMemo,SG=_l.useDebugValue;xG.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=NG(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=PG(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),i!==void 0&&s.hasValue){var w=s.value;if(i(w,g))return f=w}return f=g}if(w=f,_G(d,g))return w;var x=n(g);return i!==void 0&&i(w,x)?(d=g,w):(d=g,f=x)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,i]);var o=EG(t,a[0],a[1]);return AG(function(){s.hasValue=!0,s.value=o},[o]),SG(o),o};function TG(t){t()}function IG(){let t=null,e=null;return{clear(){t=null,e=null},notify(){TG(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ox={notify(){},get:()=>[]};function CG(t,e){let r,n=ox,i=0,a=!1;function s(x){d();const v=n.subscribe(x);let P=!1;return()=>{P||(P=!0,v(),f())}}function o(){n.notify()}function c(){w.onStateChange&&w.onStateChange()}function u(){return a}function d(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=IG())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ox)}function m(){a||(a=!0,d())}function g(){a&&(a=!1,f())}const w={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>n};return w}var kG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OG=kG(),RG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MG=RG(),DG=()=>OG||MG?y.useLayoutEffect:y.useEffect,LG=DG(),sf=Symbol.for("react-redux-context"),of=typeof globalThis<"u"?globalThis:{};function jG(){if(!y.createContext)return{};const t=of[sf]??(of[sf]=new Map);let e=t.get(y.createContext);return e||(e=y.createContext(null),t.set(y.createContext,e)),e}var VG=jG();function $G(t){const{children:e,context:r,serverState:n,store:i}=t,a=y.useMemo(()=>{const c=CG(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=y.useMemo(()=>i.getState(),[i]);LG(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||VG;return y.createElement(o.Provider,{value:a},e)}var FG=$G,UG=(t,e)=>e,V0=F([UG,Pe,dN,Nt,e3,Jn,uz,_t],vz),$0=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},oA=kr("mouseClick"),lA=ol();lA.startListening({actionCreator:oA,effect:(t,e)=>{var r=t.payload,n=V0(e.getState(),$0(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(fU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Rm=kr("mouseMove"),cA=ol();cA.startListening({actionCreator:Rm,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=m0(n,n.tooltip.settings.shared),a=V0(n,$0(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(WN({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(HN()))}});var lx={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},uA=or({name:"rootProps",initialState:lx,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:lx.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),zG=uA.reducer,{updateOptions:BG}=uA.actions,dA=or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:HG}=dA.actions,WG=dA.reducer,hA=kr("keyDown"),fA=kr("focus"),F0=ol();F0.startListening({actionCreator:hA,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(p0(i,Ss(r))),o=Jn(r);if(a==="Enter"){var c=wu(r,"axis","hover",String(i.index));e.dispatch(Em({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=iU(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,m=s+f*d;if(!(o==null||m>=o.length||m<0)){var g=wu(r,"axis","hover",String(m));e.dispatch(Em({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});F0.startListening({actionCreator:fA,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=wu(r,"axis","hover",String(a));e.dispatch(Em({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Er=kr("externalEvent"),mA=ol();mA.startListening({actionCreator:Er,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:YU(r),activeDataKey:i3(r),activeIndex:ga(r),activeLabel:n3(r),activeTooltipIndex:ga(r),isTooltipActive:XU(r)};t.payload.handler(n,t.payload.reactEvent)}}});var qG=F([Ps],t=>t.tooltipItemPayloads),KG=F([qG,yl,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,r);return s}}}),pA=kr("touchMove"),gA=ol();gA.startListening({actionCreator:pA,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=m0(n,n.tooltip.settings.shared);if(i==="axis"){var a=V0(n,$0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(WN({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(D6),d=(s=c.getAttribute(L6))!==null&&s!==void 0?s:void 0,f=KG(e.getState(),u,d);e.dispatch(BN({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var GG=s6({brush:nK,cartesianAxis:$W,chartData:Kz,errorBars:ZW,graphicalItems:nW,layout:HM,legend:jD,options:zz,polarAxis:gH,polarOptions:WG,referenceElements:uK,rootProps:zG,tooltip:mU,zIndex:kz}),YG=function(e){return pM({reducer:GG,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([lA.middleware,cA.middleware,F0.middleware,mA.middleware,gA.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(y6({type:"raf"}))},devTools:Aa.devToolsEnabled})};function vA(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=lr(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=YG(e));var s=eg;return y.createElement(FG,{context:s,store:a.current},r)}function yA(t){var{layout:e,margin:r}=t,n=De(),i=lr();return y.useEffect(()=>{i||(n(UM(e)),n(FM(r)))},[n,i,e,r]),null}function bA(t){var e=De();return y.useEffect(()=>{e(BG(t))},[e,t]),null}function cx(t){var{zIndex:e,isPanorama:r}=t,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=B3("".concat(n).concat(e)),a=De();return y.useLayoutEffect(()=>(a(Iz({zIndex:e,elementId:i,isPanorama:r})),()=>{a(Cz({zIndex:e,isPanorama:r}))}),[a,e,i,r]),y.createElement("g",{id:i})}function ux(t){var{children:e,isPanorama:r}=t,n=ie(bz);if(!n||n.length===0)return e;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return y.createElement(y.Fragment,null,i.map(s=>y.createElement(cx,{key:s,zIndex:s,isPanorama:r})),e,a.map(s=>y.createElement(cx,{key:s,zIndex:s,isPanorama:r})))}var XG=["children"];function QG(t,e){if(t==null)return{};var r,n,i=JG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function JG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ku.apply(null,arguments)}var ZG={width:"100%",height:"100%",display:"block"},eY=y.forwardRef((t,e)=>{var r=ug(),n=dg(),i=Y6();if(!gn(r)||!gn(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=t,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),y.createElement($p,ku({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:ZG,ref:e}),a)}),tY=t=>{var{children:e}=t,r=ie(Nd);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return y.createElement($p,{width:n,height:i,x:s,y:a},e)},dx=y.forwardRef((t,e)=>{var{children:r}=t,n=QG(t,XG),i=lr();return i?y.createElement(tY,null,y.createElement(ux,{isPanorama:!0},r)):y.createElement(eY,ku({ref:e},n),y.createElement(ux,{isPanorama:!1},r))});function rY(){var t=De(),[e,r]=y.useState(null),n=ie(lD);return y.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;it(a)&&a!==n&&t(BM(a))}},[e,t,n]),r}function hx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(r),!0).forEach(function(n){iY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iY(t,e,r){return(e=aY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aY(t){var e=sY(t,"string");return typeof e=="symbol"?e:e+""}function sY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ya(){return ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ya.apply(null,arguments)}var oY=()=>(rB(),null);function Ou(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var lY=y.forwardRef((t,e)=>{var r,n,i=y.useRef(null),[a,s]=y.useState({containerWidth:Ou((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:Ou((n=t.style)===null||n===void 0?void 0:n.height)}),o=y.useCallback((u,d)=>{s(f=>{var m=Math.round(u),g=Math.round(d);return f.containerWidth===m&&f.containerHeight===g?f:{containerWidth:m,containerHeight:g}})},[]),c=y.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var m=w=>{var{width:x,height:v}=w[0].contentRect;o(x,v)},g=new ResizeObserver(m);g.observe(u),i.current=g}},[e,o]);return y.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),y.createElement(y.Fragment,null,y.createElement(Sd,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",ya({ref:c},t)))}),cY=y.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=y.useState({containerWidth:Ou(r),containerHeight:Ou(n)}),s=y.useCallback((c,u)=>{a(d=>{var f=Math.round(c),m=Math.round(u);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),o=y.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[e,s]);return y.createElement(y.Fragment,null,y.createElement(Sd,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",ya({ref:o},t)))}),uY=y.forwardRef((t,e)=>{var{width:r,height:n}=t;return y.createElement(y.Fragment,null,y.createElement(Sd,{width:r,height:n}),y.createElement("div",ya({ref:e},t)))}),dY=y.forwardRef((t,e)=>{var{width:r,height:n}=t;return Vn(r)||Vn(n)?y.createElement(cY,ya({},t,{ref:e})):y.createElement(uY,ya({},t,{ref:e}))});function hY(t){return t===!0?lY:dY}var fY=y.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:g,onTouchMove:w,onTouchStart:x,style:v,width:P,responsive:A,dispatchTouchEvents:T=!0}=t,L=y.useRef(null),k=De(),[D,_]=y.useState(null),[S,E]=y.useState(null),C=rY(),I=cg(),M=(I==null?void 0:I.width)>0?I.width:P,O=(I==null?void 0:I.height)>0?I.height:i,z=y.useCallback(K=>{C(K),typeof e=="function"&&e(K),_(K),E(K),K!=null&&(L.current=K)},[C,e,_,E]),B=y.useCallback(K=>{k(oA(K)),k(Er({handler:a,reactEvent:K}))},[k,a]),Q=y.useCallback(K=>{k(Rm(K)),k(Er({handler:u,reactEvent:K}))},[k,u]),ne=y.useCallback(K=>{k(HN()),k(Er({handler:d,reactEvent:K}))},[k,d]),he=y.useCallback(K=>{k(Rm(K)),k(Er({handler:f,reactEvent:K}))},[k,f]),H=y.useCallback(()=>{k(fA())},[k]),Z=y.useCallback(K=>{k(hA(K.key))},[k]),ce=y.useCallback(K=>{k(Er({handler:s,reactEvent:K}))},[k,s]),Ne=y.useCallback(K=>{k(Er({handler:o,reactEvent:K}))},[k,o]),Te=y.useCallback(K=>{k(Er({handler:c,reactEvent:K}))},[k,c]),He=y.useCallback(K=>{k(Er({handler:m,reactEvent:K}))},[k,m]),Ze=y.useCallback(K=>{k(Er({handler:x,reactEvent:K}))},[k,x]),tt=y.useCallback(K=>{T&&k(pA(K)),k(Er({handler:w,reactEvent:K}))},[k,T,w]),$e=y.useCallback(K=>{k(Er({handler:g,reactEvent:K}))},[k,g]),Jt=hY(A);return y.createElement(h3.Provider,{value:D},y.createElement(o_.Provider,{value:S},y.createElement(Jt,{width:M??(v==null?void 0:v.width),height:O??(v==null?void 0:v.height),className:Ce("recharts-wrapper",n),style:nY({position:"relative",cursor:"default",width:M,height:O},v),onClick:B,onContextMenu:ce,onDoubleClick:Ne,onFocus:H,onKeyDown:Z,onMouseDown:Te,onMouseEnter:Q,onMouseLeave:ne,onMouseMove:he,onMouseUp:He,onTouchEnd:$e,onTouchMove:tt,onTouchStart:Ze,ref:z},y.createElement(oY,null),r)))}),mY=["width","height","responsive","children","className","style","compact","title","desc"];function pY(t,e){if(t==null)return{};var r,n,i=gY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xA=y.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=t,f=pY(t,mY),m=Fr(f);return c?y.createElement(y.Fragment,null,y.createElement(Sd,{width:r,height:n}),y.createElement(dx,{otherAttributes:m,title:u,desc:d},a)):y.createElement(fY,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},y.createElement(dx,{otherAttributes:m,title:u,desc:d,ref:e},y.createElement(hK,null,a)))});function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mm.apply(null,arguments)}var vY={top:5,right:5,bottom:5,left:5},yY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vY,reverseStackOrder:!1,syncMethod:"index",responsive:!1},bY=y.forwardRef(function(e,r){var n,i=Ot(e.categoricalChartProps,yY),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(vA,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},y.createElement(Z3,{chartData:u.data}),y.createElement(yA,{layout:i.layout,margin:i.margin}),y.createElement(bA,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(xA,Mm({},i,{ref:r})))}),xY=["axis","item"],wY=y.forwardRef((t,e)=>y.createElement(bY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xY,tooltipPayloadSearcher:m3,categoricalChartProps:t,ref:e}));function _Y(t){var e=De();return y.useEffect(()=>{e(HG(t))},[e,t]),null}var EY=["layout"];function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(null,arguments)}function NY(t,e){if(t==null)return{};var r,n,i=AY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function AY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var PY={top:5,right:5,bottom:5,left:5},SY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:PY,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},TY=y.forwardRef(function(e,r){var n,i=Ot(e.categoricalChartProps,SY),{layout:a}=i,s=NY(i,EY),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,f={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return y.createElement(vA,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},y.createElement(Z3,{chartData:i.data}),y.createElement(yA,{layout:a,margin:i.margin}),y.createElement(bA,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(_Y,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(xA,Dm({},s,{ref:r})))}),IY=["item"],CY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},kY=y.forwardRef((t,e)=>{var r=Ot(t,CY);return y.createElement(TY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:IY,tooltipPayloadSearcher:m3,categoricalChartProps:r,ref:e})});const OY=()=>{const[t,e]=y.useState({totalProperties:0,activeListings:0,soldProperties:0,totalBlogs:0,pendingAppointments:0,totalRevenue:0}),[r,n]=y.useState([]);y.useState([]);const[i,a]=y.useState(!0),s=["#0088FE","#00C49F","#FFBB28","#FF8042"],o=[{name:"House",value:45},{name:"Apartment",value:30},{name:"Villa",value:15},{name:"Commercial",value:10}],c=[{month:"Jan",listings:12,sales:8},{month:"Feb",listings:19,sales:11},{month:"Mar",listings:15,sales:9},{month:"Apr",listings:22,sales:14},{month:"May",listings:18,sales:12},{month:"Jun",listings:25,sales:16}];return y.useEffect(()=>{setTimeout(()=>{e({totalProperties:156,activeListings:89,soldProperties:67,totalBlogs:24,pendingAppointments:8,totalRevenue:245e4}),n([{id:1,type:"property",action:"added",title:"Modern Villa in Beverly Hills",time:"2 hours ago"},{id:2,type:"blog",action:"published",title:"Market Trends 2024",time:"5 hours ago"},{id:3,type:"appointment",action:"scheduled",title:"Property viewing - John Smith",time:"1 day ago"},{id:4,type:"property",action:"sold",title:"Downtown Apartment",time:"2 days ago"}]),a(!1)},1e3)},[]),i?p("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[...Array(6)].map((u,d)=>l("div",{className:"h-32 bg-gray-200 rounded"},d))})]}):p("div",{children:[" ",p("div",{className:"mb-8",children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Overview"}),l("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your real estate business today."})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:[l(ja,{title:"Total Properties",value:t.totalProperties,icon:"",color:"blue"}),l(ja,{title:"Active Listings",value:t.activeListings,icon:"",color:"green"}),l(ja,{title:"Sold Properties",value:t.soldProperties,icon:"",color:"purple"}),l(ja,{title:"Blog Posts",value:t.totalBlogs,icon:"",color:"orange"}),l(ja,{title:"Pending Appointments",value:t.pendingAppointments,icon:"",color:"red"}),l(ja,{title:"Total Revenue",value:`$${(t.totalRevenue/1e6).toFixed(1)}M`,icon:"",color:"emerald"})]}),p("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[p("div",{className:"bg-white p-6 rounded-lg shadow",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Performance"}),l(Q1,{width:"100%",height:300,children:p(wY,{data:c,children:[l(iA,{strokeDasharray:"3 3"}),l(aA,{dataKey:"month"}),l(sA,{}),l(S2,{}),l(G6,{}),l(Im,{dataKey:"listings",fill:"#3B82F6",name:"New Listings"}),l(Im,{dataKey:"sales",fill:"#10B981",name:"Properties Sold"})]})})]}),p("div",{className:"bg-white p-6 rounded-lg shadow",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Property Types Distribution"}),l(Q1,{width:"100%",height:300,children:p(kY,{children:[l(q3,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:d})=>`${u} ${(d*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((u,d)=>l(xl,{fill:s[d%s.length]},`cell-${d}`))}),l(S2,{})]})})]})]}),p("div",{className:"bg-white p-6 rounded-lg shadow",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activities"}),l("div",{className:"space-y-4",children:r.map(u=>p("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[p("div",{className:"flex items-center space-x-3",children:[l("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u.type==="property"?"bg-blue-100":u.type==="blog"?"bg-green-100":"bg-purple-100"}`,children:l("span",{className:"text-lg",children:u.type==="property"?"":u.type==="blog"?"":""})}),p("div",{children:[l("p",{className:"font-medium",children:u.title}),p("p",{className:"text-sm text-gray-500 capitalize",children:[u.action,"  ",u.time]})]})]}),l("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})]},u.id))})]})]})},ja=({title:t,value:e,icon:r,color:n})=>l("div",{className:"bg-white p-6 rounded-lg shadow",children:p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("p",{className:"text-sm font-medium text-gray-600",children:t}),l("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e})]}),l("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${{blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600",red:"bg-red-50 text-red-600",emerald:"bg-emerald-50 text-emerald-600"}[n]}`,children:l("span",{className:"text-xl",children:r})})]})}),Jr=cf.create({baseURL:{}.VITE_API_URL||"http://localhost:5000/api",timeout:3e4,headers:{"Content-Type":"application/json"}});Jr.interceptors.request.use(async t=>{var e;try{const n=yw().currentUser;if(n){const i=await n.getIdToken();t.headers.Authorization=`Bearer ${i}`,console.log(" Added Firebase token to request")}else console.warn(" No Firebase user found for request")}catch(r){console.warn(" Failed to get auth token:",r)}return t.method==="get"&&(t.params={...t.params,_t:Date.now()}),console.log(` ${(e=t.method)==null?void 0:e.toUpperCase()} ${t.url}`,{data:t.data,params:t.params,headers:t.headers}),t},t=>(console.error(" Request interceptor error:",t),Promise.reject(t)));Jr.interceptors.response.use(t=>{var e;return console.log(` ${(e=t.config.method)==null?void 0:e.toUpperCase()} ${t.config.url} SUCCESS:`,t.data),t.data},t=>{var n,i,a,s,o,c,u,d,f,m,g;const{response:e,config:r}=t;if(console.error(` ${(n=r==null?void 0:r.method)==null?void 0:n.toUpperCase()} ${r==null?void 0:r.url} FAILED:`,{status:e==null?void 0:e.status,message:t.message,data:e==null?void 0:e.data,url:r==null?void 0:r.url}),e)switch(e.status){case 400:console.error(" 400 Validation Errors:",e.data),(i=e.data)!=null&&i.errors&&console.error(" Field-specific errors:",e.data.errors);break;case 401:console.warn(" Unauthorized access - please login again");const w=window.location.pathname;w.startsWith("/admin")?console.log(" On admin page, not redirecting to login"):window.location.href="/login?redirect="+encodeURIComponent(w);break;case 403:console.error(" Access forbidden:",(a=e.data)==null?void 0:a.message);break;case 404:console.error(" Resource not found:",r==null?void 0:r.url);break;case 409:console.error(" Conflict:",(s=e.data)==null?void 0:s.message);break;case 422:console.error(" Validation failed:",(o=e.data)==null?void 0:o.errors);break;case 429:console.error(" Rate limit exceeded:",(c=e.data)==null?void 0:c.message);break;case 500:console.error(" Server error:",(u=e.data)==null?void 0:u.message);break;case 502:console.error(" Bad Gateway - Server may be down");break;case 503:console.error(" Service Unavailable - Server maintenance");break;default:console.error(" API error:",(d=e.data)==null?void 0:d.message)}else console.error(" Network error:",t.message);return Promise.reject({message:((f=e==null?void 0:e.data)==null?void 0:f.message)||t.message,status:e==null?void 0:e.status,code:(m=e==null?void 0:e.data)==null?void 0:m.code,errors:(g=e==null?void 0:e.data)==null?void 0:g.errors,data:e==null?void 0:e.data,url:r==null?void 0:r.url,method:r==null?void 0:r.method,timestamp:new Date().toISOString()})});const ot={get:(t,e={},r={})=>Jr.get(t,{params:e,...r}),post:(t,e={},r={})=>Jr.post(t,e,r),put:(t,e={},r={})=>Jr.put(t,e,r),patch:(t,e={},r={})=>Jr.patch(t,e,r),delete:(t,e={})=>Jr.delete(t,e),upload:(t,e,r=null,n={})=>{var a,s,o,c;const i={...n,headers:{"Content-Type":"multipart/form-data",...n.headers},onUploadProgress:u=>{if(r&&u.total){const d=Math.round(u.loaded*100/u.total);console.log(` Upload progress: ${d}%`),r(d)}},timeout:6e4};return console.log(` UPLOAD ${t}`,{fileCount:((a=e.getAll("files"))==null?void 0:a.length)||((s=e.getAll("file"))==null?void 0:s.length)||0,fileNames:((o=e.getAll("files"))==null?void 0:o.map(u=>u.name))||((c=e.getAll("file"))==null?void 0:c.map(u=>u.name))||[]}),Jr.post(t,e,i)},uploadSingle:(t,e="property",r=null)=>{const n=new FormData;return n.append("file",t),n.append("category",e),ot.upload("/upload",n,r)},uploadMultiple:(t,e="property",r=null)=>{const n=new FormData;return t.forEach(i=>{n.append("files",i)}),n.append("category",e),ot.upload("/upload/multiple",n,r)},createCancelToken:()=>cf.CancelToken.source(),isCancel:t=>cf.isCancel(t),testConnection:()=>Jr.get("/health"),getCurrentUser:()=>Jr.get("/auth/me")},Wi={uploadFile:(t,e="property",r="",n=[])=>{const i=new FormData;return i.append("file",t),i.append("category",e),r&&i.append("description",r),n.length>0&&i.append("tags",n.join(",")),console.log(` Uploading single file: ${t.name}`,{category:e,description:r}),ot.upload("/upload",i)},uploadMultipleFiles:(t,e="property",r="",n=[],i=null)=>{const a=new FormData;return t.forEach(s=>{a.append("files",s)}),a.append("category",e),r&&a.append("description",r),n.length>0&&a.append("tags",n.join(",")),console.log(` Uploading ${t.length} files`,{category:e,fileNames:t.map(s=>s.name)}),ot.upload("/upload/multiple",a,i)},getUploads:(t={})=>{const{page:e=1,limit:r=20,category:n,search:i}=t;return console.log(" Fetching uploads with params:",t),ot.get("/upload",{page:e,limit:r,category:n,search:i})},getUpload:t=>(console.log(` Fetching upload: ${t}`),ot.get(`/upload/${t}`)),updateUpload:(t,e)=>(console.log(` Updating upload ${t}:`,e),ot.put(`/upload/${t}`,e)),deleteUpload:t=>(console.log(` Deleting upload: ${t}`),ot.delete(`/upload/${t}`)),uploadWithProgress:(t,e="property",r)=>ot.uploadMultiple(t,e,r)},rc={getProperties:(t={})=>{const{page:e=1,limit:r=12,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,featured:d,search:f}=t;return console.log(" Fetching properties with filters:",t),ot.get("/properties",{page:e,limit:r,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,featured:d,search:f})},getProperty:t=>(console.log(` Fetching property: ${t}`),ot.get(`/properties/${t}`)),getFeaturedProperties:()=>ot.get("/properties/featured"),getPropertiesByAgent:t=>ot.get(`/properties/agent/${t}`),getMyProperties:()=>(console.log(" Fetching my properties"),ot.get("/properties/my/properties")),createProperty:t=>(console.log(" Creating property with data:",JSON.stringify(t,null,2)),ot.post("/properties",t)),updateProperty:(t,e)=>(console.log(` Updating property ${t}:`,e),ot.put(`/properties/${t}`,e)),deleteProperty:t=>(console.log(` Deleting property: ${t}`),ot.delete(`/properties/${t}`)),uploadImages:(t,e=null)=>(console.log(` Uploading ${t.length} property images...`),Wi.uploadMultipleFiles(t,"property","",[],e)),updatePropertyImages:(t,e,r)=>(console.log(` Updating property ${t} images:`,{imageIds:e,featuredImageId:r}),ot.put(`/properties/${t}/images`,{imageIds:e,featuredImageId:r})),testCreateProperty:async t=>{console.log(" Testing property creation with:",t);try{const e=await ot.post("/properties",t);return console.log(" Test successful:",e),e}catch(e){throw console.error(" Test failed:",e),e}},getPropertySchema:()=>ot.get("/properties/schema")};class RY{async uploadFile(e,r="property",n="",i=[]){try{console.log(` Uploading single file: ${e.name}`,{category:r,size:e.size,type:e.type});const a=await Wi.uploadFile(e,r,n,i);return console.log(" File upload successful:",a.data),a}catch(a){throw console.error(" File upload failed:",a),this._enhanceError(a,"uploadFile")}}async uploadMultipleFiles(e,r="property",n="",i=[],a=null){try{if(!e||!Array.isArray(e)||e.length===0)throw new Error("No files provided for upload");console.log(` Uploading ${e.length} files`,{category:r,fileNames:e.map(o=>o.name),totalSize:this._formatFileSize(e.reduce((o,c)=>o+c.size,0))});const s=await Wi.uploadMultipleFiles(e,r,n,i,a);return console.log(" Multiple files upload successful:",{count:s.data.length,files:s.data.map(o=>o.originalName)}),s}catch(s){throw console.error(" Multiple files upload failed:",s),this._enhanceError(s,"uploadMultipleFiles")}}async uploadWithProgress(e,r="property",n=null){return this.uploadMultipleFiles(e,r,"",[],n)}async getUploads(e={}){try{console.log(" Fetching uploads with params:",e);const r=await Wi.getUploads(e);return console.log(" Fetched uploads:",{count:r.data.length,total:r.total,category:e.category}),r}catch(r){throw console.error(" Failed to fetch uploads:",r),this._enhanceError(r,"getUploads")}}async getUpload(e){try{if(!e)throw new Error("Upload ID is required");console.log(` Fetching upload: ${e}`);const r=await Wi.getUpload(e);return console.log(" Fetched upload:",r.data.originalName),r}catch(r){throw console.error(` Failed to fetch upload ${e}:`,r),this._enhanceError(r,"getUpload")}}async updateUpload(e,r){try{if(!e)throw new Error("Upload ID is required");console.log(` Updating upload ${e}:`,r);const n=await Wi.updateUpload(e,r);return console.log(" Upload updated successfully:",n.data.originalName),n}catch(n){throw console.error(` Failed to update upload ${e}:`,n),this._enhanceError(n,"updateUpload")}}async deleteUpload(e){try{if(!e)throw new Error("Upload ID is required");console.log(` Deleting upload: ${e}`);const r=await Wi.deleteUpload(e);return console.log(" Upload deleted successfully"),r}catch(r){throw console.error(` Failed to delete upload ${e}:`,r),this._enhanceError(r,"deleteUpload")}}async getUploadsByCategory(e,r=50){return this.getUploads({category:e,limit:r})}async searchUploads(e,r=null){const n={search:e};return r&&(n.category=r),this.getUploads(n)}async getMyPropertyImages(e=100){return this.getUploads({category:"property",limit:e})}async getMyBlogImages(e=100){return this.getUploads({category:"blog",limit:e})}validateFile(e,r={}){const{maxSize:n=10*1024*1024,allowedTypes:i=["image/jpeg","image/jpg","image/png","image/webp","image/gif"]}=r,a=[];return e.size>n&&a.push(`File size too large. Maximum: ${this._formatFileSize(n)}`),i.includes(e.type)||a.push(`File type not allowed. Allowed: ${i.join(", ")}`),e.type.startsWith("image/")||a.push("Only image files are allowed"),{isValid:a.length===0,errors:a,fileInfo:{name:e.name,size:e.size,type:e.type,formattedSize:this._formatFileSize(e.size)}}}validateFiles(e,r={}){const n=e.map(s=>this.validateFile(s,r)),i=n.every(s=>s.isValid),a=n.flatMap(s=>s.errors);return{isValid:i,errors:a,results:n,validFiles:i?e:e.filter((s,o)=>n[o].isValid),invalidFiles:e.filter((s,o)=>!n[o].isValid)}}processFiles(e,r={}){const n=this.validateFiles(e,r);return n.isValid||console.warn(" Some files failed validation:",{valid:n.validFiles.length,invalid:n.invalidFiles.length,errors:n.errors}),{...n,totalSize:this._formatFileSize(e.reduce((i,a)=>i+a.size,0)),canUpload:n.validFiles.length>0}}async uploadPropertyImages(e,r=null){const n=this.processFiles(e,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp"]});if(!n.canUpload)throw new Error(`No valid files to upload. Errors: ${n.errors.join(", ")}`);return console.log(` Uploading ${n.validFiles.length} property images`),this.uploadWithProgress(n.validFiles,"property",r)}async uploadBlogImages(e,r=null){const n=this.processFiles(e,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp","image/gif"]});if(!n.canUpload)throw new Error(`No valid files to upload. Errors: ${n.errors.join(", ")}`);return console.log(` Uploading ${n.validFiles.length} blog images`),this.uploadWithProgress(n.validFiles,"blog",r)}async uploadProfilePicture(e){const r=this.validateFile(e,{maxSize:2097152,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp"]});if(!r.isValid)throw new Error(`Profile picture validation failed: ${r.errors.join(", ")}`);return console.log(` Uploading profile picture: ${e.name}`),this.uploadFile(e,"profile","Profile picture")}_enhanceError(e,r){const n=new Error(e.message||"Upload service error");return n.originalError=e,n.method=r,n.timestamp=new Date().toISOString(),n.status=e.status,n.code=e.code,n}_formatFileSize(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,i)).toFixed(2))+" "+n[i]}generateFilePreview(e){return new Promise((r,n)=>{if(!e.type.startsWith("image/")){r(null);return}const i=new FileReader;i.onload=a=>r(a.target.result),i.onerror=a=>n(a),i.readAsDataURL(e)})}getFileCategory(e){return e.startsWith("image/")?"image":e.startsWith("video/")?"video":e.startsWith("audio/")?"audio":e.includes("pdf")||e.includes("word")||e.includes("document")?"document":"other"}}const Ru=new RY,MY=(t,e=f1.DEFAULT)=>{if(t==null)return"Price on request";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(t))}catch(r){return console.error("Price formatting error:",r),`${f1.SYMBOL}${Number(t).toLocaleString()}`}},DY=t=>({[Fi.HOUSE]:"House",[Fi.APARTMENT]:"Apartment",[Fi.CONDO]:"Condo",[Fi.VILLA]:"Villa",[Fi.COMMERCIAL]:"Commercial",[Fi.LAND]:"Land",[Fi.OTHER]:"Other"})[t]||(t==null?void 0:t.charAt(0).toUpperCase())+(t==null?void 0:t.slice(1))||"Property",LY=t=>({[Ks.FOR_SALE]:"For Sale",[Ks.FOR_RENT]:"For Rent",[Ks.SOLD]:"Sold",[Ks.RENTED]:"Rented",[Ks.PENDING]:"Pending"})[t]||(t==null?void 0:t.charAt(0).toUpperCase())+(t==null?void 0:t.slice(1))||"Available",jY="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yMCAxM0MxNi4xMyAxMyAxMyAxNi4xMyAxMyAyMEMxMyAyMy44NyAxNi4xMyAyNyAyMCAyN0MyMy44NyAyNyAyNyAyMy44NyAyNyAyMEMyNyAxNi4xMyAyMy44NyAxMyAyMCAxM1pNMjAgMjVDMTcuMjQgMjUgMTUgMjIuNzYgMTUgMjBDMTUgMTcuMjQgMTcuMjQgMTUgMjAgMTVDMjIuNzYgMTUgMjUgMTcuMjQgMjUgMjBDMjUgMjIuNzYgMjIuNzYgMjUgMjAgMjVaTTI2IDlIMTRDMTIuOSA5IDEyIDguMSAxMiA3VjRDMTIgMi45IDEyLjkgMiAxNCAySDI2QzI3LjEgMiAyOCAyLjkgMjggNFY3QzI4IDguMSAyNy4xIDkgMjYgOVpNMjYgN1Y0SDE0VjdIMjZaIiBmaWxsPSIjOUNBM0FCIi8+Cjwvc3ZnPgo=",VY=()=>{const[t,e]=y.useState([]),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(""),[c,u]=y.useState("all"),[d,f]=y.useState("all"),[m,g]=y.useState(!1),[w,x]=y.useState(!1),[v,P]=y.useState(!1),[A,T]=y.useState(null),[L,k]=y.useState(""),[D,_]=y.useState(""),{user:S}=ys(),[E,C]=y.useState({title:"",description:"",price:"",currency:"USD",type:"house",status:"for-sale",location:{address:"",city:"",state:"",zipCode:"",country:"United States"},specifications:{bedrooms:"",bathrooms:"",area:"",areaUnit:"sqft",yearBuilt:"",floors:"1",parking:"0"},amenities:[]}),[I,M]=y.useState(!1),[O,z]=y.useState([]),[B,Q]=y.useState(null),[ne,he]=y.useState(0),H=()=>({title:"",description:"",price:"",currency:"USD",type:"house",status:"for-sale",location:{address:"",city:"",state:"",zipCode:"",country:"United States"},specifications:{bedrooms:"",bathrooms:"",area:"",areaUnit:"sqft",yearBuilt:"",floors:"1",parking:"0"},amenities:[]}),Z=y.useCallback(async()=>{try{a(!0),k("");const j=await rc.getMyProperties();let q=[];Array.isArray(j)?q=j:j&&typeof j=="object"&&(q=j.data||j.properties||[]),Array.isArray(q)||(q=[]),e(q),n(q)}catch(j){console.error("Error fetching properties:",j),k(j.message||Fl.DEFAULT),e([]),n([])}finally{a(!1)}},[]);y.useEffect(()=>{Z()},[Z]),y.useEffect(()=>{if(!Array.isArray(t)){n([]);return}let j=t.filter(q=>{var Ge,Zt,Ft,Mr,qr,ti;const fe=s===""||((Ge=q.title)==null?void 0:Ge.toLowerCase().includes(s.toLowerCase()))||((Zt=q.description)==null?void 0:Zt.toLowerCase().includes(s.toLowerCase()))||((Mr=(Ft=q.location)==null?void 0:Ft.address)==null?void 0:Mr.toLowerCase().includes(s.toLowerCase()))||((ti=(qr=q.location)==null?void 0:qr.city)==null?void 0:ti.toLowerCase().includes(s.toLowerCase())),X=c==="all"||q.status===c,Ee=d==="all"||q.type===d;return fe&&X&&Ee});n(j)},[t,s,c,d]);const ce=async j=>{const q=Array.from(j.target.files);if(q.length){M(!0),he(0);try{const X=(await Ru.uploadMultipleFiles(q,"property")).data.map(Ee=>({id:Ee._id,url:Ee.url,name:Ee.originalName,cloudinaryId:Ee.cloudinaryId}));z(Ee=>[...Ee,...X]),!B&&X.length>0&&Q(X[0].id),he(100),setTimeout(()=>he(0),1e3)}catch(fe){console.error("Upload failed:",fe),k("Image upload failed. Please try again.")}finally{M(!1)}}},Ne=async j=>{var q;try{await Ru.deleteUpload(j),z(fe=>fe.filter(X=>X.id!==j)),B===j&&Q(((q=O[0])==null?void 0:q.id)||null)}catch(fe){console.error("Delete failed:",fe),k("Failed to delete image")}},Te=j=>{Q(j)},He=()=>{z([]),Q(null)},Ze=y.useCallback(async j=>{j.preventDefault();try{M(!0),k("");const q=[];if(E.title.trim()||q.push("Property title is required"),E.description.trim()||q.push("Property description is required"),(!E.price||E.price<=0)&&q.push("Valid price is required"),E.location.address.trim()||q.push("Address is required"),E.location.city.trim()||q.push("City is required"),E.location.state.trim()||q.push("State is required"),E.location.zipCode.trim()||q.push("ZIP code is required"),(!E.specifications.bedrooms||E.specifications.bedrooms<0)&&q.push("Number of bedrooms is required"),(!E.specifications.bathrooms||E.specifications.bathrooms<0)&&q.push("Number of bathrooms is required"),(!E.specifications.area||E.specifications.area<0)&&q.push("Property area is required"),O.length===0&&q.push("At least one property image is required"),q.length>0)throw new Error(q.join(", "));const fe=O.map(Ge=>Ge.id),X={title:E.title.trim(),description:E.description.trim(),price:parseFloat(E.price),currency:E.currency,type:E.type,status:E.status,location:{address:E.location.address.trim(),city:E.location.city.trim(),state:E.location.state.trim(),zipCode:E.location.zipCode.trim(),country:E.location.country},specifications:{bedrooms:parseInt(E.specifications.bedrooms),bathrooms:parseFloat(E.specifications.bathrooms),area:parseInt(E.specifications.area),areaUnit:E.specifications.areaUnit,floors:parseInt(E.specifications.floors)||1,parking:parseInt(E.specifications.parking)||0},amenities:E.amenities,images:fe,featuredImage:B,createdBy:S==null?void 0:S.uid,agentId:S==null?void 0:S.uid};E.specifications.yearBuilt&&E.specifications.yearBuilt.trim()&&(X.specifications.yearBuilt=parseInt(E.specifications.yearBuilt)),console.log("Creating property with data:",X);const Ee=await rc.createProperty(X);e(Ge=>[Ee.data,...Ge]),_(jh.PROPERTY_CREATED),qe(),setTimeout(()=>{_("")},3e3)}catch(q){console.error("Error creating property:",q),k(q.message||Fl.DEFAULT)}finally{M(!1)}},[E,S,O,B]),tt=y.useCallback(j=>{var q,fe,X,Ee,Ge,Zt,Ft,Mr,qr,ti,ri,Cs,Pt;if(j){if(T(j),C({title:j.title||"",description:j.description||"",price:j.price||"",currency:j.currency||"NAG",type:j.type||"house",status:j.status||"for-sale",location:{address:((q=j.location)==null?void 0:q.address)||"",city:((fe=j.location)==null?void 0:fe.city)||"",state:((X=j.location)==null?void 0:X.state)||"",zipCode:((Ee=j.location)==null?void 0:Ee.zipCode)||"",country:((Ge=j.location)==null?void 0:Ge.country)||"Nigeria"},specifications:{bedrooms:((Zt=j.specifications)==null?void 0:Zt.bedrooms)||"",bathrooms:((Ft=j.specifications)==null?void 0:Ft.bathrooms)||"",area:((Mr=j.specifications)==null?void 0:Mr.area)||"",areaUnit:((qr=j.specifications)==null?void 0:qr.areaUnit)||"sqft",yearBuilt:((ti=j.specifications)==null?void 0:ti.yearBuilt)||"",floors:((ri=j.specifications)==null?void 0:ri.floors)||"1",parking:((Cs=j.specifications)==null?void 0:Cs.parking)||"0"},amenities:j.amenities||[]}),j.images&&Array.isArray(j.images)){const ks=j.images.map(Kr=>({id:Kr._id||Kr,url:Kr.url||"/placeholder-property.jpg",name:Kr.originalName||"Property Image"}));z(ks),Q(j.featuredImage||((Pt=ks[0])==null?void 0:Pt.id)||null)}P(!0)}},[]),$e=y.useCallback(async j=>{j.preventDefault();try{if(M(!0),k(""),!A)throw new Error("No property selected for update");const q=O.map(Ee=>Ee.id),fe={title:E.title.trim(),description:E.description.trim(),price:parseFloat(E.price),currency:E.currency,type:E.type,status:E.status,location:{address:E.location.address.trim(),city:E.location.city.trim(),state:E.location.state.trim(),zipCode:E.location.zipCode.trim(),country:E.location.country},specifications:{bedrooms:parseInt(E.specifications.bedrooms),bathrooms:parseFloat(E.specifications.bathrooms),area:parseInt(E.specifications.area),areaUnit:E.specifications.areaUnit,floors:parseInt(E.specifications.floors)||1,parking:parseInt(E.specifications.parking)||0},amenities:E.amenities,images:q,featuredImage:B,createdBy:S==null?void 0:S.uid,agentId:S==null?void 0:S.uid};E.specifications.yearBuilt&&E.specifications.yearBuilt.trim()&&(fe.specifications.yearBuilt=parseInt(E.specifications.yearBuilt)),console.log("Updating property with data:",fe);const X=await rc.updateProperty(A._id,fe);e(Ee=>Ee.map(Ge=>Ge._id===A._id?X.data:Ge)),_(jh.PROPERTY_UPDATED),Ke(),setTimeout(()=>{_("")},3e3)}catch(q){console.error("Error updating property:",q);let fe=q.message||Fl.DEFAULT;q.status===400&&q.data&&(q.data.details&&q.data.details.length>0?fe=`Validation failed: ${q.data.details.join(", ")}`:q.data.message&&(fe=q.data.message)),k(fe)}finally{M(!1)}},[E,A,S,O,B]),Jt=y.useCallback(j=>{T(j),g(!0)},[]),K=y.useCallback(async()=>{if(!A){k("No property selected for deletion"),g(!1);return}try{k(""),await rc.deleteProperty(A._id),e(j=>j.filter(q=>q._id!==A._id)),g(!1),T(null),_(jh.PROPERTY_DELETED),setTimeout(()=>_(""),3e3)}catch(j){k(j.message||Fl.DEFAULT)}},[A]),de=y.useCallback((j,q)=>{C(fe=>({...fe,[j]:q}))},[]),ge=y.useCallback((j,q)=>{C(fe=>({...fe,location:{...fe.location,[j]:q}}))},[]),G=y.useCallback((j,q)=>{C(fe=>({...fe,specifications:{...fe.specifications,[j]:q}}))},[]),We=y.useCallback(j=>{C(q=>({...q,amenities:q.amenities.includes(j)?q.amenities.filter(fe=>fe!==j):[...q.amenities,j]}))},[]),we=y.useCallback(()=>{C(H()),z([]),Q(null),x(!0)},[]),qe=y.useCallback(()=>{x(!1),C(H()),z([]),Q(null),k("")},[]),Ke=y.useCallback(()=>{P(!1),T(null),C(H()),z([]),Q(null),k("")},[]),$t=y.useCallback(()=>{Z()},[Z]),Wr=y.useCallback(j=>{j&&(window.location.href=`/properties/${j._id}`)},[]),Zn=y.useCallback(j=>{switch(j){case"for-sale":return"bg-green-100 text-green-800";case"for-rent":return"bg-blue-100 text-blue-800";case"sold":return"bg-gray-100 text-gray-800";case"rented":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},[]),at=y.useCallback(j=>{switch(j){case"villa":return"bg-purple-100 text-purple-800";case"apartment":return"bg-blue-100 text-blue-800";case"house":return"bg-green-100 text-green-800";case"commercial":return"bg-orange-100 text-orange-800";case"land":return"bg-yellow-100 text-yellow-800";case"condo":return"bg-pink-100 text-pink-800";case"townhouse":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},[]),ft=y.useCallback(j=>{if(j.images&&j.images.length>0){const q=j.images[0];if(q.url&&q.url.startsWith("http"))return q.url}return jY},[]),ei=y.useCallback(j=>{var q;return(q=j==null?void 0:j.location)!=null&&q.address?`${j.location.address}, ${j.location.city}, ${j.location.state}`:"Location not specified"},[]),Ts=y.useCallback(j=>{var Ge,Zt,Ft,Mr;const q=((Ge=j==null?void 0:j.specifications)==null?void 0:Ge.bedrooms)||0,fe=((Zt=j==null?void 0:j.specifications)==null?void 0:Zt.bathrooms)||0,X=((Ft=j==null?void 0:j.specifications)==null?void 0:Ft.area)||0,Ee=((Mr=j==null?void 0:j.specifications)==null?void 0:Mr.areaUnit)||"sqft";return`${q} beds  ${fe} baths  ${X} ${Ee}`},[]),Ta=[{value:"all",label:"All Status"},{value:"for-sale",label:"For Sale"},{value:"for-rent",label:"For Rent"},{value:"sold",label:"Sold"},{value:"rented",label:"Rented"}],Is=[{value:"all",label:"All Types"},{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"townhouse",label:"Townhouse"},{value:"commercial",label:"Commercial"},{value:"land",label:"Land"}],xn=[{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"townhouse",label:"Townhouse"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"}],Ia=[{value:"for-sale",label:"For Sale"},{value:"for-rent",label:"For Rent"},{value:"sold",label:"Sold"},{value:"rented",label:"Rented"}],Ca=[{value:"swimming-pool",label:"Swimming Pool"},{value:"garden",label:"Garden"},{value:"garage",label:"Garage"},{value:"balcony",label:"Balcony"},{value:"fireplace",label:"Fireplace"},{value:"air-conditioning",label:"Air Conditioning"},{value:"heating",label:"Heating"},{value:"security-system",label:"Security System"},{value:"elevator",label:"Elevator"},{value:"gym",label:"Gym"},{value:"parking",label:"Parking"},{value:"furnished",label:"Furnished"},{value:"pet-friendly",label:"Pet Friendly"}],$=({isEdit:j=!1,onSubmit:q,onCancel:fe})=>l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:p("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[p("div",{className:"flex justify-between items-center p-6 border-b",children:[l("h2",{className:"text-2xl font-bold text-gray-900",children:j?"Edit Property":"Add New Property"}),l("button",{onClick:fe,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l(ro,{size:24})})]}),p("form",{onSubmit:q,className:"p-6 space-y-6",children:[p("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Title *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.title,onChange:X=>de("title",X.target.value),placeholder:"Enter property title"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),p("div",{className:"flex space-x-2",children:[p("select",{className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.currency,onChange:X=>de("currency",X.target.value),children:[l("option",{value:"USD",children:"USD"}),l("option",{value:"NAN",children:"NAN"})]}),l("input",{type:"number",required:!0,min:"0",step:"0.01",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.price,onChange:X=>de("price",X.target.value),placeholder:"Enter price"})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type *"}),l("select",{required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.type,onChange:X=>de("type",X.target.value),children:xn.map(X=>l("option",{value:X.value,children:X.label},X.value))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),l("select",{required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.status,onChange:X=>de("status",X.target.value),children:Ia.map(X=>l("option",{value:X.value,children:X.label},X.value))})]})]}),p("div",{className:"mt-4",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),l("textarea",{required:!0,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.description,onChange:X=>de("description",X.target.value),placeholder:"Describe the property features, location advantages, etc."})]})]}),p("div",{children:[p("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l(hf,{size:20,className:"mr-2"}),"Property Images"]}),ne>0&&p("div",{className:"mb-4",children:[p("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[l("span",{children:"Uploading images..."}),p("span",{children:[ne,"%"]})]}),l("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${ne}%`}})})]}),p("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4",children:[l("input",{type:"file",multiple:!0,accept:"image/*",onChange:ce,disabled:I,className:"hidden",id:"property-images"}),p("label",{htmlFor:"property-images",className:`cursor-pointer inline-flex items-center px-4 py-2 rounded-md transition-colors ${I?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[l($m,{size:16,className:"mr-2"}),I?"Uploading...":"Select Images"]}),l("p",{className:"mt-2 text-sm text-gray-500",children:"Upload multiple property images (JPEG, PNG, WebP)"})]}),O.length>0&&p("div",{className:"mt-4",children:[p("div",{className:"flex justify-between items-center mb-3",children:[p("h4",{className:"text-sm font-medium text-gray-700",children:["Uploaded Images (",O.length,")"]}),l("button",{type:"button",onClick:He,className:"text-sm text-red-600 hover:text-red-800",children:"Clear All"})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:O.map(X=>p("div",{className:"relative group",children:[l("img",{src:X.url,alt:X.name,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200"}),p("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center space-x-1",children:[l("button",{type:"button",onClick:()=>Te(X.id),className:`text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity ${B===X.id?"bg-green-500 text-white":"bg-white text-gray-800 hover:bg-gray-100"}`,children:B===X.id?"Featured":"Set Featured"}),l("button",{type:"button",onClick:()=>Ne(X.id),className:"text-xs bg-red-500 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:"Remove"})]}),B===X.id&&l("div",{className:"absolute top-1 left-1 bg-green-500 text-white text-xs px-1 rounded",children:"Featured"})]},X.id))})]}),O.length===0&&p("div",{className:"text-center py-4 text-gray-500",children:[l(hf,{size:32,className:"mx-auto mb-2 text-gray-300"}),l("p",{children:"At least one property image is required"})]})]}),p("div",{children:[p("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l(QA,{size:20,className:"mr-2"}),"Location"]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.address,onChange:X=>ge("address",X.target.value),placeholder:"Street address"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.city,onChange:X=>ge("city",X.target.value),placeholder:"City"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.state,onChange:X=>ge("state",X.target.value),placeholder:"State"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.zipCode,onChange:X=>ge("zipCode",X.target.value),placeholder:"ZIP code"})]})]})]}),p("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Specifications"}),p("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms *"}),l("input",{type:"number",required:!0,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.bedrooms,onChange:X=>G("bedrooms",X.target.value),placeholder:"0"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms *"}),l("input",{type:"number",required:!0,min:"0",step:"0.5",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.bathrooms,onChange:X=>G("bathrooms",X.target.value),placeholder:"0"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),p("div",{className:"flex space-x-2",children:[l("input",{type:"number",required:!0,min:"0",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.area,onChange:X=>G("area",X.target.value),placeholder:"0"}),p("select",{className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.areaUnit,onChange:X=>G("areaUnit",X.target.value),children:[l("option",{value:"sqft",children:"sqft"}),l("option",{value:"sqm",children:"sqm"})]})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Floors"}),l("input",{type:"number",min:"1",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.floors,onChange:X=>G("floors",X.target.value),placeholder:"1"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Spaces"}),l("input",{type:"number",min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.parking,onChange:X=>G("parking",X.target.value),placeholder:"0"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Built"}),l("input",{type:"number",min:"1800",max:new Date().getFullYear(),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.yearBuilt,onChange:X=>G("yearBuilt",X.target.value),placeholder:"Year"})]})]})]}),p("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Amenities"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Ca.map(X=>p("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:E.amenities.includes(X.value),onChange:()=>We(X.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm text-gray-700",children:X.label})]},X.value))})]}),p("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[l("button",{type:"button",onClick:fe,className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l("button",{type:"submit",disabled:I||O.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I?j?"Updating Property...":"Creating Property...":j?"Update Property":"Create Property"})]})]})]})});return i&&t.length===0?l("div",{className:"min-h-screen bg-gray-50 p-6",children:p("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 gap-4",children:[...Array(5)].map((j,q)=>l("div",{className:"h-20 bg-gray-200 rounded"},q))})]})}):p("div",{className:"min-h-screen bg-gray-50 p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[p("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Properties Management"}),l("p",{className:"text-gray-600",children:"Manage your property listings"})]}),p("div",{className:"flex space-x-3",children:[p("button",{onClick:$t,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-200 transition-colors",disabled:i,children:[l(qi,{size:20,className:i?"animate-spin":""}),l("span",{children:i?"Refreshing...":"Refresh"})]}),p("button",{onClick:we,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l(uf,{size:20}),l("span",{children:"Add New Property"})]})]})]}),L&&l("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:p("div",{className:"flex items-center",children:[l(df,{className:"text-red-500 mr-2",size:20}),l("div",{className:"text-red-600 text-sm",children:L})]})}),D&&l("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:l("div",{className:"flex items-center",children:l("div",{className:"text-green-600 text-sm",children:D})})}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:p("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p("div",{className:"relative",children:[l(Lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search properties...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:j=>o(j.target.value)})]}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:j=>u(j.target.value),children:Ta.map(j=>l("option",{value:j.value,children:j.label},j.value))}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:j=>f(j.target.value),children:Is.map(j=>l("option",{value:j.value,children:j.label},j.value))}),p("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-200 transition-colors",children:[l(XA,{size:20}),l("span",{children:"More Filters"})]})]})}),p("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l("div",{className:"overflow-x-auto",children:p("table",{className:"min-w-full divide-y divide-gray-200",children:[l("thead",{className:"bg-gray-50",children:p("tr",{children:[l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(j=>p("tr",{className:"hover:bg-gray-50",children:[l("td",{className:"px-6 py-4 whitespace-nowrap",children:p("div",{className:"flex items-center",children:[l("div",{className:"h-10 w-10 flex-shrink-0",children:l("img",{className:"h-10 w-10 rounded-lg object-cover",src:ft(j),alt:j.title,onError:q=>{q.target.src!=="/placeholder-property.jpg"&&(q.target.src="/placeholder-property.jpg")}})}),p("div",{className:"ml-4",children:[l("div",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:j.title}),l("div",{className:"text-sm text-gray-500",children:Ts(j)})]})]})}),l("td",{className:"px-6 py-4 whitespace-nowrap",children:l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${at(j.type)}`,children:DY(j.type)})}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:MY(j.price)}),l("td",{className:"px-6 py-4 whitespace-nowrap",children:l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Zn(j.status)}`,children:LY(j.status)})}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ei(j)}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:p("div",{className:"flex items-center space-x-2",children:[l("button",{className:"text-blue-600 hover:text-blue-900 transition-colors",onClick:()=>Wr(j),title:"View Property",children:l(jm,{size:16})}),l("button",{className:"text-green-600 hover:text-green-900 transition-colors",onClick:()=>tt(j),title:"Edit Property",children:l(px,{size:16})}),l("button",{className:"text-red-600 hover:text-red-900 transition-colors",onClick:()=>Jt(j),title:"Delete Property",children:l(Vm,{size:16})})]})})]},j._id))})]})}),r.length===0&&!i&&p("div",{className:"text-center py-12",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900",children:"No properties found"}),l("p",{className:"text-gray-500 mt-1",children:t.length===0?"You haven't added any properties yet.":"Try adjusting your search or filters"}),t.length===0&&l("button",{onClick:we,className:"mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold",children:"Add Your First Property"})]}),i&&t.length>0&&p("div",{className:"text-center py-4",children:[l(qi,{className:"animate-spin mx-auto text-gray-400",size:20}),l("p",{className:"text-gray-500 mt-2",children:"Updating properties..."})]})]}),w&&l($,{isEdit:!1,onSubmit:Ze,onCancel:qe}),v&&l($,{isEdit:!0,onSubmit:$e,onCancel:Ke}),m&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[l("h3",{className:"text-lg font-semibold mb-2",children:"Delete Property"}),p("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',A==null?void 0:A.title,'"? This action cannot be undone.']}),p("div",{className:"flex justify-end space-x-3",children:[l("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>g(!1),children:"Cancel"}),l("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:K,children:"Delete"})]})]})})]})},$Y=()=>{const[t,e]=y.useState(""),[r,n]=y.useState("all"),[i,a]=y.useState("all"),[s,o]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(null),[m,g]=y.useState({}),[w,x]=y.useState(null),[v,P]=y.useState(!1),[A,T]=y.useState(!1),[L,k]=y.useState(0),{user:D,isAdmin:_,loading:S}=ys(),[E,C]=y.useState({title:"",excerpt:"",content:"",categories:[],tags:[],status:"draft",featuredImage:{url:"",alt:"",cloudinaryId:""},seo:{metaTitle:"",metaDescription:"",keywords:[]},readTime:5}),[I,M]=y.useState(""),[O,z]=y.useState(""),{posts:B,loading:Q,error:ne,deletePost:he,updateStatus:H,createPost:Z,updatePost:ce,refetch:Ne,pagination:Te}=jp(m),He=[{value:"all",label:"All Status"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"archived",label:"Archived"}],Ze=[{value:"all",label:"All Categories"},{value:"market-news",label:"Market News"},{value:"home-improvement",label:"Home Improvement"},{value:"investment",label:"Investment"},{value:"neighborhood",label:"Neighborhood"},{value:"design-tips",label:"Design Tips"},{value:"mortgage",label:"Mortgage"},{value:"legal",label:"Legal"},{value:"lifestyle",label:"Lifestyle"}],tt=async $=>{const j=$.target.files[0];if(j){T(!0),k(0),x(null);try{const q=Ru.validateFile(j,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp","image/gif"]});if(!q.isValid)throw new Error(q.errors.join(", "));console.log(" Uploading blog image:",j.name);const X=(await Ru.uploadBlogImages([j],Ee=>{k(Ee)})).data[0];console.log(" Upload response:",X),C(Ee=>({...Ee,featuredImage:{url:X.url,cloudinaryId:X.cloudinaryId,alt:Ee.featuredImage.alt||X.originalName.split(".")[0]||"Blog post image"}})),console.log(" Image uploaded successfully:",{url:X.url,cloudinaryId:X.cloudinaryId,originalName:X.originalName})}catch(q){console.error(" Image upload failed:",q),x(q.message||"Failed to upload image. Please try again.")}finally{T(!1),k(0),$.target.value=""}}},$e=$=>{$.preventDefault();const j=$.dataTransfer.files;if(j.length>0){const q=document.createElement("input");q.type="file",q.files=j;const fe=new Event("change",{bubbles:!0});Object.defineProperty(fe,"target",{value:q}),tt({target:q})}},Jt=$=>{$.preventDefault()},K=()=>{C($=>({...$,featuredImage:{url:"",alt:"",cloudinaryId:""}}))};y.useEffect(()=>{const $={};t&&($.search=t),r!=="all"&&($.status=r),i!=="all"&&($.category=i),g($)},[t,r,i]);const de=$=>{if(!D){x("Please log in to delete posts");return}if(!_){x("Admin privileges required to delete posts");return}f($),o(!0)},ge=async()=>{P(!0);try{await he(d._id),o(!1),f(null)}catch($){console.error("Failed to delete post:",$),$.status===401&&x("Authentication failed. Please log in again.")}finally{P(!1)}},G=async($,j)=>{if(!D){x("Please log in to update post status");return}if(!_){x("Admin privileges required to update post status");return}P(!0);try{await H($,j)}catch(q){console.error("Failed to update status:",q),q.status===401&&x("Authentication failed. Please log in again.")}finally{P(!1)}},We=()=>{if(!D){x("Please log in to create blog posts");return}if(!_){x("Admin privileges required to create blog posts");return}u(!0),x(null)},we=async()=>{if(!D){x("Please log in to create a post");return}if(!_){x("Admin privileges required to create posts");return}P(!0);try{const $=qe(E.content),j={title:E.title,content:E.content,excerpt:E.excerpt,categories:E.categories,tags:E.tags,status:E.status,featuredImage:E.featuredImage.url?{url:E.featuredImage.url,alt:E.featuredImage.alt,cloudinaryId:E.featuredImage.cloudinaryId}:void 0,seo:E.seo,readTime:$};console.log(" Post data being sent:",JSON.stringify(j,null,2)),await Z(j),u(!1),Ke(),x(null)}catch($){console.error("Failed to create post:",$),$.status===401?x("Authentication failed. Please log in again."):$.status===403?x("Access denied. Admin privileges required."):x("Failed to create post. Please try again.")}finally{P(!1)}},qe=$=>{if(!$)return 5;const j=$.split(" ").length;return Math.ceil(j/200)},Ke=()=>{C({title:"",excerpt:"",content:"",categories:[],tags:[],status:"draft",featuredImage:{url:"",alt:"",cloudinaryId:""},seo:{metaTitle:"",metaDescription:"",keywords:[]},readTime:5}),M(""),z("")},$t=()=>{I.trim()&&!E.tags.includes(I.trim())&&(C($=>({...$,tags:[...$.tags,I.trim()]})),M(""))},Wr=$=>{C(j=>({...j,tags:j.tags.filter(q=>q!==$)}))},Zn=()=>{O.trim()&&!E.seo.keywords.includes(O.trim())&&(C($=>({...$,seo:{...$.seo,keywords:[...$.seo.keywords,O.trim()]}})),z(""))},at=$=>{C(j=>({...j,seo:{...j.seo,keywords:j.seo.keywords.filter(q=>q!==$)}}))},ft=$=>{C(j=>({...j,categories:j.categories.includes($)?j.categories.filter(q=>q!==$):[...j.categories,$]}))},ei=$=>{window.location.href=`/blog/${$.slug||$._id}`},Ts=$=>{if(!D){x("Please log in to edit posts");return}if(!_){x("Admin privileges required to edit posts");return}f($),C({title:$.title,excerpt:$.excerpt,content:$.content,categories:$.categories||[],tags:$.tags||[],status:$.status,featuredImage:$.featuredImage||{url:"",alt:"",cloudinaryId:""},seo:$.seo||{metaTitle:"",metaDescription:"",keywords:[]},readTime:$.readTime||5}),u(!0),x(null)},Ta=async()=>{if(!D||!_){x("Admin privileges required to update posts");return}P(!0);try{const $=qe(E.content),j={title:E.title,content:E.content,excerpt:E.excerpt,categories:E.categories,tags:E.tags,status:E.status,featuredImage:E.featuredImage.url?{url:E.featuredImage.url,alt:E.featuredImage.alt,cloudinaryId:E.featuredImage.cloudinaryId}:void 0,seo:E.seo,readTime:$},q=await ce(d._id,j);u(!1),Ke(),f(null),x(null)}catch($){console.error(" updatePost failed:",$),$.status===401?x("Authentication failed. Please log in again."):$.status===403?x("Access denied. Admin privileges required."):x(`Failed to update post: ${$.message}`)}finally{P(!1)}},Is=$=>{switch($){case"published":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"archived":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},xn=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Ia=$=>{if(!$)return"5 min";const j=$.split(" ").length;return`${Math.ceil(j/200)} min`},Ca=()=>{Ne()};return y.useEffect(()=>{D&&x(null)},[D]),Q&&B.length===0?l("div",{className:"min-h-screen bg-gray-50 p-6",children:p("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 gap-4",children:[...Array(6)].map(($,j)=>l("div",{className:"h-32 bg-gray-200 rounded"},j))})]})}):p("div",{className:"min-h-screen bg-gray-50 p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[p("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Blog Management"}),l("p",{className:"text-gray-600",children:"Manage your blog posts and content"})]}),p("div",{className:"flex items-center space-x-3",children:[D&&p("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l(Pv,{size:16}),l("span",{children:D.displayName||D.email}),_&&l("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Admin"})]}),p("button",{onClick:Ca,disabled:Q,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 transition-colors",children:[l(qi,{size:20,className:Q?"animate-spin":""}),l("span",{children:"Refresh"})]}),D&&_?p("button",{onClick:We,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l(uf,{size:20}),l("span",{children:"New Post"})]}):p("button",{onClick:We,className:"bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 cursor-not-allowed opacity-50",title:D?"Admin access required":"Please log in",children:[l(uf,{size:20}),l("span",{children:"New Post"})]})]})]}),w&&p("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center justify-between",children:[p("div",{className:"flex items-center space-x-3",children:[l(df,{className:"text-yellow-500",size:20}),p("div",{children:[l("h4",{className:"text-yellow-800 font-medium",children:"Authentication Required"}),l("p",{className:"text-yellow-600 text-sm",children:w})]})]}),!D&&p("button",{onClick:()=>window.location.href="/login",className:"flex items-center space-x-2 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:[l(JA,{size:16}),l("span",{children:"Log In"})]})]}),ne&&!w&&p("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[l(df,{className:"text-red-500",size:20}),p("div",{children:[l("h4",{className:"text-red-800 font-medium",children:"Error Loading Posts"}),l("p",{className:"text-red-600 text-sm",children:ne})]})]}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:p("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p("div",{className:"relative",children:[l(Lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search posts...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:$=>e($.target.value)})]}),l("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:$=>n($.target.value),children:He.map($=>l("option",{value:$.value,children:$.label},$.value))}),l("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i,onChange:$=>a($.target.value),children:Ze.map($=>l("option",{value:$.value,children:$.label},$.value))}),p("div",{className:"flex items-center justify-between px-3 py-2 text-sm text-gray-600",children:[l("span",{children:Te.totalItems>0?`${Te.totalItems} posts found`:"No posts found"}),Q&&l(qi,{size:16,className:"animate-spin"})]})]})}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:B.map($=>{var j,q,fe,X,Ee;return p("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[p("div",{className:"h-48 bg-gray-200 relative",children:[(j=$.featuredImage)!=null&&j.url?l("img",{src:$.featuredImage.url,alt:$.featuredImage.alt||$.title,className:"w-full h-full object-cover"}):l("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center",children:l("span",{className:"text-gray-400 text-sm",children:"No image"})}),p("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${Is($.status)}`,children:$.status}),(q=$.categories)==null?void 0:q.map((Ge,Zt)=>l("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:Ge},Zt))]})]}),p("div",{className:"p-4",children:[p("div",{className:"flex items-center justify-between mb-2",children:[l("span",{className:"text-sm text-blue-600 font-medium",children:((fe=$.categories)==null?void 0:fe[0])||"Uncategorized"}),l("span",{className:"text-sm text-gray-500",children:Ia($.content)})]}),l("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 text-gray-900",children:$.title}),l("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:$.excerpt}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:p("div",{className:"flex items-center space-x-4",children:[p("div",{className:"flex items-center space-x-1",children:[l(Pv,{size:14}),l("span",{children:$.authorName||"Unknown Author"})]}),p("div",{className:"flex items-center space-x-1",children:[l(ZA,{size:14}),l("span",{children:xn($.createdAt)})]})]})}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:p("div",{className:"flex items-center space-x-4",children:[p("span",{children:[" ",$.views||0," views"]}),p("span",{children:[" ",((X=$.comments)==null?void 0:X.length)||0," comments"]}),p("span",{children:[" ",((Ee=$.likes)==null?void 0:Ee.length)||0," likes"]})]})}),p("div",{className:"flex items-center justify-between border-t pt-4",children:[p("div",{className:"flex items-center space-x-3",children:[p("button",{onClick:()=>ei($),className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",disabled:v,title:"View full post",children:[l(jm,{size:16}),l("span",{children:"View"})]}),p("button",{onClick:()=>Ts($),className:"text-green-600 hover:text-green-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",disabled:!D||!_||v,title:D?_?"Edit post":"Admin access required":"Please log in",children:[l(px,{size:16}),l("span",{children:"Edit"})]}),p("select",{value:$.status,onChange:Ge=>G($._id,Ge.target.value),disabled:!D||!_||v,className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-50",title:D?_?"Change status":"Admin access required":"Please log in",children:[l("option",{value:"draft",children:"Draft"}),l("option",{value:"published",children:"Publish"}),l("option",{value:"archived",children:"Archive"})]})]}),p("button",{className:"text-red-600 hover:text-red-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",onClick:()=>de($),disabled:!D||!_||v,title:D?_?"Delete post":"Admin access required":"Please log in",children:[l(Vm,{size:16}),l("span",{children:"Delete"})]})]})]})]},$._id)})}),B.length===0&&!Q&&p("div",{className:"text-center py-12",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blog posts found"}),l("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or create a new post"}),l("button",{onClick:We,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:!D||!_,title:D?_?"Create new post":"Admin access required":"Please log in",children:"Create Your First Post"})]}),Te.totalPages>1&&p("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[l("button",{disabled:Te.currentPage===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),p("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",Te.currentPage," of ",Te.totalPages]}),l("button",{disabled:Te.currentPage===Te.totalPages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]}),c&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[p("div",{className:"flex items-center justify-between p-6 border-b",children:[l("h3",{className:"text-xl font-semibold",children:d?"Edit Blog Post":"Create New Blog Post"}),l("button",{onClick:()=>{u(!1),Ke(),f(null)},className:"text-gray-400 hover:text-gray-600",disabled:v,children:l(ro,{size:24})})]}),p("div",{className:"p-6 space-y-6",children:[p("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p("div",{className:"space-y-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),l("input",{type:"text",value:E.title,onChange:$=>C(j=>({...j,title:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter blog post title",disabled:v})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt *"}),l("textarea",{value:E.excerpt,onChange:$=>C(j=>({...j,excerpt:$.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the post",disabled:v})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),E.featuredImage.url?p("div",{className:"mb-4",children:[p("div",{className:"relative",children:[l("img",{src:E.featuredImage.url,alt:E.featuredImage.alt,className:"w-full h-48 object-cover rounded-lg border"}),l("button",{onClick:K,className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",disabled:A,children:l(ro,{size:16})})]}),p("div",{className:"mt-2",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Alt Text"}),l("input",{type:"text",value:E.featuredImage.alt,onChange:$=>C(j=>({...j,featuredImage:{...j.featuredImage,alt:$.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the image for SEO",disabled:v})]})]}):l("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",onDrop:$e,onDragOver:Jt,children:A?p("div",{className:"space-y-3",children:[l(qi,{size:32,className:"animate-spin text-blue-600 mx-auto"}),p("p",{className:"text-sm text-gray-600",children:["Uploading... ",L,"%"]}),l("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${L}%`}})})]}):p(vr,{children:[l(eP,{size:48,className:"text-gray-400 mx-auto mb-3"}),l("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop an image, or click to browse"}),l("p",{className:"text-xs text-gray-500 mb-4",children:"Supports JPG, PNG, WebP, GIF  Max 5MB"}),p("label",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:[l($m,{size:16,className:"inline mr-2"}),"Choose Image",l("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:tt,className:"hidden",disabled:A||v})]})]})})]})]}),p("div",{className:"space-y-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),p("select",{value:E.status,onChange:$=>C(j=>({...j,status:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:v,children:[l("option",{value:"draft",children:"Draft"}),l("option",{value:"published",children:"Published"}),l("option",{value:"archived",children:"Archived"})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),l("div",{className:"grid grid-cols-2 gap-2",children:Ze.filter($=>$.value!=="all").map($=>p("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:E.categories.includes($.value),onChange:()=>ft($.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:v}),l("span",{className:"text-sm",children:$.label})]},$.value))})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),p("div",{className:"flex space-x-2 mb-2",children:[l("input",{type:"text",value:I,onChange:$=>M($.target.value),onKeyPress:$=>$.key==="Enter"&&($.preventDefault(),$t()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a tag",disabled:v}),l("button",{onClick:$t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",disabled:v,children:"Add"})]}),l("div",{className:"flex flex-wrap gap-2",children:E.tags.map(($,j)=>p("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[$,l("button",{onClick:()=>Wr($),className:"ml-1 text-blue-600 hover:text-blue-800",disabled:v,children:l(ro,{size:14})})]},j))})]})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),l("textarea",{value:E.content,onChange:$=>C(j=>({...j,content:$.target.value})),rows:"8",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write your blog post content here...",disabled:v}),p("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[l(tP,{size:16,className:"mr-1"}),"Estimated read time: ",qe(E.content)," minutes"]})]}),p("div",{className:"border-t pt-6",children:[l("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO Settings"}),p("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title"}),l("input",{type:"text",value:E.seo.metaTitle,onChange:$=>C(j=>({...j,seo:{...j.seo,metaTitle:$.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SEO meta title",disabled:v})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),l("textarea",{value:E.seo.metaDescription,onChange:$=>C(j=>({...j,seo:{...j.seo,metaDescription:$.target.value}})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SEO meta description",disabled:v})]})]}),p("div",{className:"mt-4",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),p("div",{className:"flex space-x-2 mb-2",children:[l("input",{type:"text",value:O,onChange:$=>z($.target.value),onKeyPress:$=>$.key==="Enter"&&($.preventDefault(),Zn()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a keyword",disabled:v}),l("button",{onClick:Zn,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",disabled:v,children:"Add"})]}),l("div",{className:"flex flex-wrap gap-2",children:E.seo.keywords.map(($,j)=>p("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[$,l("button",{onClick:()=>at($),className:"ml-1 text-green-600 hover:text-green-800",disabled:v,children:l(ro,{size:14})})]},j))})]})]})]}),p("div",{className:"flex justify-end space-x-3 p-6 border-t",children:[l("button",{onClick:()=>{u(!1),Ke(),f(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",disabled:v,children:"Cancel"}),p("button",{onClick:d?Ta:we,disabled:!E.title||!E.excerpt||!E.content||v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[v&&l(qi,{size:16,className:"animate-spin"}),l("span",{children:v?d?"Updating...":"Creating...":d?"Update Post":"Create Post"})]})]})]})}),s&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[l("h3",{className:"text-lg font-semibold mb-2",children:"Delete Blog Post"}),p("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',d==null?void 0:d.title,'"? This action cannot be undone.']}),p("div",{className:"flex justify-end space-x-3",children:[l("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",onClick:()=>o(!1),disabled:v,children:"Cancel"}),p("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center space-x-2",onClick:ge,disabled:v,children:[v&&l(qi,{size:16,className:"animate-spin"}),l("span",{children:v?"Deleting...":"Delete"})]})]})]})})]})},FY=()=>{const[t,e]=y.useState([]),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(""),[c,u]=y.useState("all");y.useState([]);const[d,f]=y.useState(!1),[m,g]=y.useState(!1),[w,x]=y.useState(null),v=[{value:"all",label:"All Types"},{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"document",label:"Documents"}];y.useEffect(()=>{setTimeout(()=>{const _=[{id:1,name:"property-exterior.jpg",url:"/media/property1.jpg",type:"image",size:"2.4 MB",dimensions:"1920x1080",uploaded:"2024-01-15",usedIn:["Modern Villa Listing"]},{id:2,name:"living-room-interior.png",url:"/media/living-room.jpg",type:"image",size:"3.1 MB",dimensions:"1920x1080",uploaded:"2024-01-14",usedIn:["Modern Villa Listing","Featured Properties"]},{id:3,name:"property-video-tour.mp4",url:"/media/tour-video.mp4",type:"video",size:"45.2 MB",dimensions:"1920x1080",uploaded:"2024-01-13",usedIn:["Modern Villa Listing"]},{id:4,name:"floor-plan.pdf",url:"/media/floor-plan.pdf",type:"document",size:"1.2 MB",dimensions:"-",uploaded:"2024-01-12",usedIn:["Modern Villa Listing"]},{id:5,name:"kitchen-design.jpg",url:"/media/kitchen.jpg",type:"image",size:"2.8 MB",dimensions:"1920x1080",uploaded:"2024-01-11",usedIn:[]}];e(_),n(_),a(!1)},1e3)},[]),y.useEffect(()=>{P()},[s,c,t]);const P=()=>{let _=t;s&&(_=_.filter(S=>S.name.toLowerCase().includes(s.toLowerCase()))),c!=="all"&&(_=_.filter(S=>S.type===c)),n(_)},A=_=>{const S=_.target.files;S.length>0&&(f(!0),setTimeout(()=>{const E=Array.from(S).map((C,I)=>({id:t.length+I+1,name:C.name,url:URL.createObjectURL(C),type:C.type.split("/")[0],size:`${(C.size/1048576).toFixed(1)} MB`,dimensions:"Unknown",uploaded:new Date().toISOString().split("T")[0],usedIn:[]}));e(C=>[...C,...E]),f(!1)},2e3))},T=_=>{e(t.filter(S=>S.id!==_.id))},L=_=>{x(_),g(!0)},k=_=>{switch(_){case"image":return l(hf,{className:"text-blue-500",size:24});case"video":return l(nP,{className:"text-purple-500",size:24});case"document":return l(xh,{className:"text-green-500",size:24});default:return l(xh,{className:"text-gray-500",size:24})}},D=_=>{switch(_){case"image":return"bg-blue-100 text-blue-800";case"video":return"bg-purple-100 text-purple-800";case"document":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return i?l("div",{className:"min-h-screen bg-gray-50 p-6",children:p("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(8)].map((_,S)=>l("div",{className:"h-40 bg-gray-200 rounded"},S))})]})}):p("div",{className:"min-h-screen bg-gray-50 p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[p("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),l("p",{className:"text-gray-600",children:"Manage your images, videos, and documents"})]}),l("div",{className:"flex items-center space-x-4",children:p("div",{className:"relative",children:[l("input",{type:"file",multiple:!0,className:"hidden",id:"file-upload",onChange:A,accept:"image/*,video/*,.pdf,.doc,.docx"}),p("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 cursor-pointer",children:[l($m,{size:20}),l("span",{children:"Upload Files"})]})]})})]}),d&&l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:p("div",{className:"flex items-center space-x-3",children:[l("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),l("span",{className:"text-gray-600",children:"Uploading files..."})]})}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:p("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p("div",{className:"relative",children:[l(Lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search media...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:_=>o(_.target.value)})]}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:_=>u(_.target.value),children:v.map(_=>l("option",{value:_.value,children:_.label},_.value))}),p("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"newest",children:"Newest First"}),l("option",{value:"oldest",children:"Oldest First"}),l("option",{value:"name",children:"Name A-Z"}),l("option",{value:"size",children:"Size"})]})]})}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:r.map(_=>p("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow",children:[p("div",{className:"aspect-square bg-gray-100 relative group",children:[_.type==="image"?l("img",{src:_.url||"/placeholder-media.jpg",alt:_.name,className:"w-full h-full object-cover"}):l("div",{className:"w-full h-full flex items-center justify-center bg-gray-50",children:k(_.type)}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:p("div",{className:"flex space-x-2",children:[l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",onClick:()=>L(_),children:l(jm,{size:16})}),l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",children:l(rP,{size:16})}),l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",onClick:()=>T(_),children:l(Vm,{size:16})})]})})]}),p("div",{className:"p-3",children:[p("div",{className:"flex items-center justify-between mb-2",children:[l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${D(_.type)}`,children:_.type}),l("span",{className:"text-xs text-gray-500",children:_.size})]}),l("h3",{className:"font-medium text-sm mb-1 truncate",title:_.name,children:_.name}),p("div",{className:"text-xs text-gray-500 space-y-1",children:[l("div",{children:_.dimensions}),p("div",{children:["Uploaded: ",new Date(_.uploaded).toLocaleDateString()]}),_.usedIn.length>0&&p("div",{className:"truncate",title:_.usedIn.join(", "),children:["Used in: ",_.usedIn.length," place(s)"]})]})]})]},_.id))}),r.length===0&&p("div",{className:"text-center py-12",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900",children:"No media files found"}),l("p",{className:"text-gray-500 mt-1",children:"Upload some files to get started"})]}),m&&w&&l("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:p("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[p("div",{className:"p-4 border-b flex justify-between items-center",children:[l("h3",{className:"text-lg font-semibold",children:w.name}),l("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>g(!1),children:""})]}),l("div",{className:"p-8 flex items-center justify-center max-h-[70vh] overflow-auto",children:w.type==="image"?l("img",{src:w.url,alt:w.name,className:"max-w-full max-h-full object-contain"}):w.type==="video"?p("video",{controls:!0,className:"max-w-full max-h-full",children:[l("source",{src:w.url,type:"video/mp4"}),"Your browser does not support the video tag."]}):p("div",{className:"text-center",children:[l(xh,{size:64,className:"text-gray-400 mx-auto mb-4"}),p("p",{className:"text-gray-600",children:["Preview not available for ",w.type," files"]}),l("a",{href:w.url,download:!0,className:"inline-block mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Download File"})]})}),l("div",{className:"p-4 border-t bg-gray-50",children:p("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[p("div",{children:[l("span",{className:"font-medium",children:"Type:"})," ",w.type]}),p("div",{children:[l("span",{className:"font-medium",children:"Size:"})," ",w.size]}),p("div",{children:[l("span",{className:"font-medium",children:"Dimensions:"})," ",w.dimensions]}),p("div",{children:[l("span",{className:"font-medium",children:"Uploaded:"})," ",new Date(w.uploaded).toLocaleDateString()]})]})})]})})]})},UY=()=>{const[t,e]=y.useState("general"),[r,n]=y.useState(!1),[i,a]=y.useState({siteName:"EstatePro",siteDescription:"Premium Real Estate Solutions",contactEmail:"contact@estatepro.com",phoneNumber:"+1 (555) 123-4567",address:"123 Business Ave, City, State 12345",emailNotifications:!0,smsNotifications:!1,newListingAlerts:!0,appointmentReminders:!0,marketUpdates:!1,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,currency:"USD",taxRate:8.5,commissionRate:3.5,googleMapsApiKey:"",cloudinaryCloudName:"",cloudinaryApiKey:"",dataRetention:365,analyticsTracking:!0,cookieConsent:!0}),s=[{id:"general",label:"General",icon:aP},{id:"notifications",label:"Notifications",icon:sP},{id:"security",label:"Security",icon:Sv},{id:"payments",label:"Payments",icon:oP},{id:"api",label:"API Keys",icon:lP},{id:"privacy",label:"Privacy",icon:cP}],o=async()=>{n(!0),setTimeout(()=>{n(!1),alert("Settings saved successfully!")},2e3)},c=(v,P,A)=>{a(T=>({...T,[P]:A}))},u=()=>p("div",{className:"space-y-6",children:[p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),l("input",{type:"text",value:i.siteName,onChange:v=>c("general","siteName",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),l("input",{type:"email",value:i.contactEmail,onChange:v=>c("general","contactEmail",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Description"}),l("textarea",{value:i.siteDescription,onChange:v=>c("general","siteDescription",v.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l("input",{type:"tel",value:i.phoneNumber,onChange:v=>c("general","phoneNumber",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l("input",{type:"text",value:i.address,onChange:v=>c("general","address",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),d=()=>l("div",{className:"space-y-6",children:p("div",{className:"space-y-4",children:[l("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),p("div",{className:"space-y-3",children:[p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"}),l("p",{className:"text-sm text-gray-500",children:"Receive important updates via email"})]}),l("input",{type:"checkbox",checked:i.emailNotifications,onChange:v=>c("notifications","emailNotifications",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"SMS Notifications"}),l("p",{className:"text-sm text-gray-500",children:"Receive urgent alerts via SMS"})]}),l("input",{type:"checkbox",checked:i.smsNotifications,onChange:v=>c("notifications","smsNotifications",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"New Listing Alerts"}),l("p",{className:"text-sm text-gray-500",children:"Get notified when new properties are listed"})]}),l("input",{type:"checkbox",checked:i.newListingAlerts,onChange:v=>c("notifications","newListingAlerts",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Appointment Reminders"}),l("p",{className:"text-sm text-gray-500",children:"Reminders for scheduled appointments"})]}),l("input",{type:"checkbox",checked:i.appointmentReminders,onChange:v=>c("notifications","appointmentReminders",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})}),f=()=>l("div",{className:"space-y-6",children:p("div",{className:"space-y-4",children:[p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),l("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),l("input",{type:"checkbox",checked:i.twoFactorAuth,onChange:v=>c("security","twoFactorAuth",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),p("select",{value:i.sessionTimeout,onChange:v=>c("security","sessionTimeout",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:15,children:"15 minutes"}),l("option",{value:30,children:"30 minutes"}),l("option",{value:60,children:"1 hour"}),l("option",{value:120,children:"2 hours"})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Expiry (days)"}),p("select",{value:i.passwordExpiry,onChange:v=>c("security","passwordExpiry",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:30,children:"30 days"}),l("option",{value:60,children:"60 days"}),l("option",{value:90,children:"90 days"}),l("option",{value:180,children:"180 days"})]})]})]})}),m=()=>p("div",{className:"space-y-6",children:[p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),p("select",{value:i.currency,onChange:v=>c("payments","currency",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"USD",children:"USD ($)"}),l("option",{value:"EUR",children:"EUR ()"}),l("option",{value:"GBP",children:"GBP ()"}),l("option",{value:"CAD",children:"CAD ($)"})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),l("input",{type:"number",step:"0.1",value:i.taxRate,onChange:v=>c("payments","taxRate",parseFloat(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commission Rate (%)"}),l("input",{type:"number",step:"0.1",value:i.commissionRate,onChange:v=>c("payments","commissionRate",parseFloat(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l("p",{className:"text-sm text-gray-500 mt-1",children:"Standard commission rate for property sales"})]})]}),g=()=>p("div",{className:"space-y-6",children:[l("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:p("div",{className:"flex",children:[l("div",{className:"flex-shrink-0",children:l(Sv,{className:"h-5 w-5 text-yellow-400"})}),p("div",{className:"ml-3",children:[l("h3",{className:"text-sm font-medium text-yellow-800",children:"API Security"}),l("div",{className:"mt-2 text-sm text-yellow-700",children:l("p",{children:"Keep your API keys secure. Never share them in client-side code or public repositories."})})]})]})}),p("div",{className:"space-y-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps API Key"}),l("input",{type:"password",value:i.googleMapsApiKey,onChange:v=>c("api","googleMapsApiKey",v.target.value),placeholder:"Enter your Google Maps API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cloudinary Cloud Name"}),l("input",{type:"text",value:i.cloudinaryCloudName,onChange:v=>c("api","cloudinaryCloudName",v.target.value),placeholder:"Your cloud name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cloudinary API Key"}),l("input",{type:"password",value:i.cloudinaryApiKey,onChange:v=>c("api","cloudinaryApiKey",v.target.value),placeholder:"Your API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),w=()=>l("div",{className:"space-y-6",children:p("div",{className:"space-y-4",children:[p("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Retention Period (days)"}),p("select",{value:i.dataRetention,onChange:v=>c("privacy","dataRetention",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:30,children:"30 days"}),l("option",{value:90,children:"90 days"}),l("option",{value:180,children:"180 days"}),l("option",{value:365,children:"1 year"}),l("option",{value:730,children:"2 years"})]}),l("p",{className:"text-sm text-gray-500 mt-1",children:"How long to keep user data before automatic deletion"})]}),p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Analytics Tracking"}),l("p",{className:"text-sm text-gray-500",children:"Collect anonymous usage data to improve the platform"})]}),l("input",{type:"checkbox",checked:i.analyticsTracking,onChange:v=>c("privacy","analyticsTracking",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),p("div",{className:"flex items-center justify-between",children:[p("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Cookie Consent"}),l("p",{className:"text-sm text-gray-500",children:"Show cookie consent banner to visitors"})]}),l("input",{type:"checkbox",checked:i.cookieConsent,onChange:v=>c("privacy","cookieConsent",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})}),x=()=>{switch(t){case"general":return u();case"notifications":return d();case"security":return f();case"payments":return m();case"api":return g();case"privacy":return w();default:return u()}};return p("div",{className:"min-h-screen bg-gray-50 p-6",children:[p("div",{className:"mb-6",children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),l("p",{className:"text-gray-600",children:"Manage your website configuration and preferences"})]}),p("div",{className:"bg-white rounded-lg shadow",children:[l("div",{className:"border-b border-gray-200",children:l("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:s.map(v=>{const P=v.icon;return p("button",{onClick:()=>e(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${t===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l(P,{size:18}),l("span",{children:v.label})]},v.id)})})}),p("div",{className:"p-6",children:[x(),l("div",{className:"flex justify-end pt-6 mt-6 border-t border-gray-200",children:p("button",{onClick:o,disabled:r,className:"bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l(iP,{size:20}),l("span",{children:r?"Saving...":"Save Changes"})]})})]})]})]})},Va=({children:t,className:e=""})=>{var T,L;const{user:r,isAdmin:n,loading:i,initialized:a,logout:s}=ys();y.useState(!1);const[o,c]=y.useState(!1),[u,d]=y.useState(!1),f=Du(),m=KA();console.log(" AdminLayout Debug:",{user:r?r.email:"No user",isAdmin:n(),loading:i,initialized:a,timestamp:new Date().toISOString()});const g=[{name:"Dashboard",href:"/admin/dashboard",icon:"",current:f.pathname==="/admin/dashboard"},{name:"Properties",href:"/admin/properties",icon:"",current:f.pathname.startsWith("/admin/properties")},{name:"Blog Posts",href:"/admin/blog",icon:"",current:f.pathname.startsWith("/admin/blog")},{name:"Media Library",href:"/admin/media",icon:"",current:f.pathname.startsWith("/admin/media")},{name:"Users",href:"/admin/users",icon:"",current:f.pathname.startsWith("/admin/users")},{name:"Settings",href:"/admin/settings",icon:"",current:f.pathname.startsWith("/admin/settings")}],w=[{name:"Total Properties",value:"247",change:"+12%",changeType:"increase"},{name:"Active Listings",value:"143",change:"+8%",changeType:"increase"},{name:"Pending Sales",value:"24",change:"-2%",changeType:"decrease"},{name:"Blog Posts",value:"89",change:"+15%",changeType:"increase"}],x=async()=>{try{await s(),m("/")}catch(k){console.error("Logout failed:",k)}};if(i||!a)return l("div",{className:"min-h-screen flex items-center justify-center",children:l(nl,{size:"large",text:"Loading admin panel..."})});const v=(r==null?void 0:r.displayName)||((T=r==null?void 0:r.email)==null?void 0:T.split("@")[0])||"User",P=(r==null?void 0:r.photoURL)||"/images/avatar-placeholder.jpg",A=(r==null?void 0:r.role)||"Administrator";return p("div",{className:`min-h-screen bg-gray-50 ${e}`,children:[o&&l("div",{className:"fixed inset-0 z-40 lg:hidden bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),u&&l("div",{className:"fixed inset-0 z-30",onClick:()=>d(!1)}),p("div",{className:"flex",children:[l("div",{className:"hidden lg:flex lg:flex-shrink-0",children:l("div",{className:"flex flex-col w-64",children:p("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[l("div",{className:"flex items-center flex-shrink-0 px-6",children:p("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l("span",{className:"text-white font-bold text-sm",children:"A"})}),p("div",{children:[l("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"}),l("p",{className:"text-sm text-gray-500",children:"EstatePro"})]})]})}),l("nav",{className:"mt-8 flex-1 px-4 space-y-2",children:g.map(k=>p(Ue,{to:k.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${k.current?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[l("span",{className:"mr-3 text-lg",children:k.icon}),k.name]},k.name))}),l("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:p("div",{className:"flex items-center w-full",children:[l("div",{className:"flex-shrink-0",children:l("img",{className:"w-10 h-10 rounded-full",src:P,alt:v})}),p("div",{className:"ml-3 flex-1",children:[l("p",{className:"text-sm font-medium text-gray-900",children:v}),l("p",{className:"text-xs text-gray-500 capitalize",children:A})]}),l("button",{onClick:x,className:"ml-2 p-2 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"Logout",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})})}),p("div",{className:"flex-1 flex flex-col min-w-0",children:[l("div",{className:"bg-white border-b border-gray-200",children:p("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8 py-4",children:[p("div",{className:"flex items-center",children:[p("button",{type:"button",className:"lg:hidden -ml-2.5 p-2.5 text-gray-700",onClick:()=>c(!0),children:[l("span",{className:"sr-only",children:"Open sidebar"}),l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),l("h1",{className:"ml-2 text-2xl font-semibold text-gray-900",children:((L=g.find(k=>k.current))==null?void 0:L.name)||"Dashboard"})]}),p("div",{className:"flex items-center space-x-4",children:[p("button",{className:"p-2 text-gray-400 hover:text-gray-500 relative",children:[l("span",{className:"sr-only",children:"View notifications"}),l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM10.5 3.75a6 6 0 0 0-6 6v2.25l-2 2V15h15v-.75l-2-2V9.75a6 6 0 0 0-6-6z"})}),l("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),p("div",{className:"relative",children:[p("button",{className:"flex items-center space-x-3 text-sm focus:outline-none",onClick:()=>d(!u),children:[l("img",{className:"w-8 h-8 rounded-full",src:P,alt:v}),l("span",{className:"hidden md:block font-medium text-gray-700",children:v}),l("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&p("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-40 border border-gray-200",children:[p("div",{className:"px-4 py-2 border-b border-gray-100",children:[l("p",{className:"text-sm font-medium text-gray-900",children:v}),l("p",{className:"text-xs text-gray-500 capitalize",children:A})]}),l(Ue,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>d(!1),children:"Settings"}),l("button",{onClick:x,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Sign out"})]})]})]})]})}),l("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none",children:p("div",{className:"py-6",children:[f.pathname==="/admin/dashboard"&&l("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8",children:l("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:w.map(k=>l("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:l("div",{className:"p-5",children:p("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:l("span",{className:"text-white text-sm font-semibold",children:""})})}),l("div",{className:"ml-5 w-0 flex-1",children:p("dl",{children:[l("dt",{className:"text-sm font-medium text-gray-500 truncate",children:k.name}),p("dd",{className:"flex items-baseline",children:[l("div",{className:"text-2xl font-semibold text-gray-900",children:k.value}),l("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${k.changeType==="increase"?"text-green-600":"text-red-600"}`,children:k.change})]})]})})]})})},k.name))})}),l("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t})]})})]})]}),l("div",{className:`lg:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:p("div",{className:"flex flex-col h-full bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[p("div",{className:"flex items-center justify-between flex-shrink-0 px-6",children:[p("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l("span",{className:"text-white font-bold text-sm",children:"A"})}),p("div",{children:[l("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"}),l("p",{className:"text-sm text-gray-500",children:"EstatePro"})]})]}),l("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-gray-500",children:l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l("nav",{className:"mt-8 flex-1 px-4 space-y-2",children:g.map(k=>p(Ue,{to:k.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${k.current?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[l("span",{className:"mr-3 text-lg",children:k.icon}),k.name]},k.name))}),l("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:p("div",{className:"flex items-center w-full",children:[l("div",{className:"flex-shrink-0",children:l("img",{className:"w-10 h-10 rounded-full",src:P,alt:v})}),p("div",{className:"ml-3 flex-1",children:[l("p",{className:"text-sm font-medium text-gray-900",children:v}),l("p",{className:"text-xs text-gray-500 capitalize",children:A})]})]})})]})})]})},$a=({children:t,requireAdmin:e=!1})=>{const{isAuthenticated:r,isAdmin:n,loading:i,initialized:a}=ys(),s=Du();return console.log(" ProtectedRoute Debug:",{path:s.pathname,requireAdmin:e,isAuthenticated:r,isAdmin:n(),loading:i,initialized:a,timestamp:new Date().toISOString()}),!a||i?(console.log(" ProtectedRoute: Still loading..."),p("div",{className:"min-h-screen flex items-center justify-center",children:[l("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l("span",{className:"ml-3 text-gray-600",children:"Loading..."})]})):r?e&&!n()?(console.log(" ProtectedRoute: Not admin, redirecting to home"),l(lf,{to:"/",replace:!0})):(console.log(" ProtectedRoute: Access granted - rendering children"),t):(console.log(" ProtectedRoute: Not authenticated, redirecting to home"),l(lf,{to:"/",replace:!0}))},zY=()=>{const t=ys(),e=Du();return p("div",{className:"p-6",children:[l("h1",{className:"text-2xl font-bold mb-6",children:" Auth Debug"}),p("div",{className:"bg-white rounded-lg shadow p-6",children:[p("div",{className:"mb-4",children:[l("h3",{className:"font-semibold",children:"Current Location:"}),l("pre",{className:"bg-gray-100 p-2 rounded",children:e.pathname+e.search})]}),l("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify({user:t.user?{email:t.user.email,uid:t.user.uid,emailVerified:t.user.emailVerified}:"No user",isAuthenticated:t.isAuthenticated,isAdmin:t.isAdmin(),loading:t.loading,initialized:t.initialized,userRole:t.userRole},null,2)}),p("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{className:`p-4 rounded-lg ${t.isAuthenticated?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:[l("h3",{className:"font-semibold",children:"Authentication"}),l("p",{children:t.isAuthenticated?" Authenticated":" Not Authenticated"})]}),p("div",{className:`p-4 rounded-lg ${t.isAdmin()?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:[l("h3",{className:"font-semibold",children:"Admin Status"}),l("p",{children:t.isAdmin()?" Is Admin":" Not Admin"})]})]})]})]})},BY=()=>{const t=Du();return console.log(" AppRouter - Current location:",{pathname:t.pathname,search:t.search,hash:t.hash,timestamp:new Date().toISOString()}),p(GA,{children:[l(Ut,{path:"/",element:l(vR,{})}),l(Ut,{path:"/properties",element:l(CR,{})}),l(Ut,{path:"/properties/:id",element:l(VR,{})}),l(Ut,{path:"/blog",element:l(zR,{})}),l(Ut,{path:"/blog/:id",element:l(WR,{})}),l(Ut,{path:"/contact",element:l(qR,{})}),l(Ut,{path:"/about",element:l(KR,{})}),l(Ut,{path:"/services",element:l(GR,{})}),l(Ut,{path:"/admin/dashboard",element:l($a,{requireAdmin:!0,children:l(Va,{children:l(OY,{})})})}),l(Ut,{path:"/admin/properties",element:l($a,{requireAdmin:!0,children:l(Va,{children:l(VY,{})})})}),l(Ut,{path:"/admin/blog",element:l($a,{requireAdmin:!0,children:l(Va,{children:l($Y,{})})})}),l(Ut,{path:"/admin/media",element:l($a,{requireAdmin:!0,children:l(Va,{children:l(FY,{})})})}),l(Ut,{path:"/admin/settings",element:l($a,{requireAdmin:!0,children:l(Va,{children:l(UY,{})})})}),l(Ut,{path:"/admin/debug",element:l($a,{requireAdmin:!0,children:l(Va,{children:l(zY,{})})})}),l(Ut,{path:"/admin",element:l(lf,{to:"/admin/dashboard",replace:!0})}),l(Ut,{path:"*",element:l(HY,{})})]})},HY=()=>l("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:p("div",{className:"text-center max-w-md",children:[l("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:l("span",{className:"text-2xl",children:""})}),l("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),l("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),l("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),p("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("a",{href:"/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium",children:"Go Home"}),l("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition duration-200 font-medium",children:"Go Back"})]})]})}),en={SET_THEME:"SET_THEME",SET_COLOR_SCHEME:"SET_COLOR_SCHEME",SET_FONT_SIZE:"SET_FONT_SIZE",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",RESET_SETTINGS:"RESET_SETTINGS"},Xr={LIGHT:"light",DARK:"dark",AUTO:"auto"},Qr={BLUE:"blue",GREEN:"green",PURPLE:"purple",ORANGE:"orange",PINK:"pink"},_n={SMALL:"small",MEDIUM:"medium",LARGE:"large"},wA={theme:Ar.get("theme",Xr.LIGHT),colorScheme:Ar.get("colorScheme",Qr.BLUE),fontSize:Ar.get("fontSize",_n.MEDIUM),darkMode:Ar.get("darkMode",!1)},WY=(t,e)=>{switch(e.type){case en.SET_THEME:return Ar.set("theme",e.payload),{...t,theme:e.payload};case en.SET_COLOR_SCHEME:return Ar.set("colorScheme",e.payload),{...t,colorScheme:e.payload};case en.SET_FONT_SIZE:return Ar.set("fontSize",e.payload),{...t,fontSize:e.payload};case en.TOGGLE_DARK_MODE:const r=e.payload??!t.darkMode;return Ar.set("darkMode",r),{...t,darkMode:r};case en.RESET_SETTINGS:return Ar.remove("theme"),Ar.remove("colorScheme"),Ar.remove("fontSize"),Ar.remove("darkMode"),wA;default:return t}},qY=y.createContext(),KY=({children:t})=>{const[e,r]=y.useReducer(WY,wA),n={setTheme:o=>r({type:en.SET_THEME,payload:o}),setColorScheme:o=>r({type:en.SET_COLOR_SCHEME,payload:o}),setFontSize:o=>r({type:en.SET_FONT_SIZE,payload:o}),toggleDarkMode:o=>r({type:en.TOGGLE_DARK_MODE,payload:o}),resetSettings:()=>r({type:en.RESET_SETTINGS}),toggleTheme:()=>{const o=e.theme===Xr.LIGHT?Xr.DARK:Xr.LIGHT;n.setTheme(o)},cycleColorScheme:()=>{const o=Object.values(Qr),u=(o.indexOf(e.colorScheme)+1)%o.length;n.setColorScheme(o[u])},increaseFontSize:()=>{const o=Object.values(_n),c=o.indexOf(e.fontSize);c<o.length-1&&n.setFontSize(o[c+1])},decreaseFontSize:()=>{const o=Object.values(_n),c=o.indexOf(e.fontSize);c>0&&n.setFontSize(o[c-1])}};y.useEffect(()=>{(()=>{const c=document.documentElement;c.classList.remove("theme-light","theme-dark","theme-auto"),Object.values(Qr).forEach(u=>{c.classList.remove(`color-scheme-${u}`)}),Object.values(_n).forEach(u=>{c.classList.remove(`font-size-${u}`)}),c.classList.add(`theme-${e.theme}`),c.classList.add(`color-scheme-${e.colorScheme}`),c.classList.add(`font-size-${e.fontSize}`),c.setAttribute("data-theme",e.theme),c.setAttribute("data-color-scheme",e.colorScheme),c.setAttribute("data-font-size",e.fontSize),c.setAttribute("data-dark-mode",e.darkMode.toString())})()},[e.theme,e.colorScheme,e.fontSize,e.darkMode]),y.useEffect(()=>{if(e.theme!==Xr.AUTO)return;const o=window.matchMedia("(prefers-color-scheme: dark)"),c=u=>{const d=document.documentElement;u.matches?(d.classList.add("system-dark"),d.classList.remove("system-light")):(d.classList.add("system-light"),d.classList.remove("system-dark"))};return c(o),o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[e.theme]);const i=()=>{const o={[Qr.BLUE]:{"--primary":"59 130 246","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Qr.GREEN]:{"--primary":"34 197 94","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Qr.PURPLE]:{"--primary":"168 85 247","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Qr.ORANGE]:{"--primary":"249 115 22","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Qr.PINK]:{"--primary":"236 72 153","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"}};return o[e.colorScheme]||o[Qr.BLUE]},a=()=>{const o={[_n.SMALL]:{"--text-xs":"0.75rem","--text-sm":"0.875rem","--text-base":"1rem","--text-lg":"1.125rem","--text-xl":"1.25rem","--text-2xl":"1.5rem"},[_n.MEDIUM]:{"--text-xs":"0.8rem","--text-sm":"0.9rem","--text-base":"1rem","--text-lg":"1.125rem","--text-xl":"1.25rem","--text-2xl":"1.5rem"},[_n.LARGE]:{"--text-xs":"0.875rem","--text-sm":"1rem","--text-base":"1.125rem","--text-lg":"1.25rem","--text-xl":"1.5rem","--text-2xl":"1.75rem"}};return o[e.fontSize]||o[_n.MEDIUM]};y.useEffect(()=>{const o=document.documentElement,c=i();Object.entries(c).forEach(([d,f])=>{o.style.setProperty(d,f)});const u=a();Object.entries(u).forEach(([d,f])=>{o.style.setProperty(d,f)})},[e.colorScheme,e.fontSize]);const s={...e,...n,themes:Xr,colorSchemes:Qr,fontSizes:_n,isDark:e.theme===Xr.DARK||e.theme===Xr.AUTO&&window.matchMedia("(prefers-color-scheme: dark)").matches,isLight:e.theme===Xr.LIGHT||e.theme===Xr.AUTO&&!window.matchMedia("(prefers-color-scheme: dark)").matches};return l(qY.Provider,{value:s,children:t})};function GY(){return l(KY,{children:l(hR,{children:l(YA,{basename:"/realEstateOctopus",children:l("div",{className:"App",children:l(BY,{})})})})})}class YY extends gr.Component{constructor(r){super(r);Hs(this,"handleRefresh",()=>{window.location.reload()});Hs(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){this.setState({error:r,errorInfo:n}),console.error("Error caught by boundary:",r),console.error("Error info:",n)}render(){return this.state.hasError?l("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:p("div",{className:"text-center max-w-md",children:[l("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Something went wrong"}),l("p",{className:"text-gray-600 mb-2",children:"We're sorry, but something unexpected happened."}),!1,p("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("button",{onClick:this.handleRefresh,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200 font-medium",children:"Refresh Page"}),l("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition duration-200 font-medium",children:"Go Home"})]}),l("p",{className:"text-sm text-gray-500 mt-4",children:"If the problem persists, please contact support."})]})}):this.props.children}}ff.createRoot(document.getElementById("root")).render(l(gr.StrictMode,{children:l(YY,{children:l(GY,{})})}));
//# sourceMappingURL=index-e8287f20.js.map
