var e5=Object.defineProperty;var t5=(t,e,r)=>e in t?e5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Gs=(t,e,r)=>(t5(t,typeof e!="symbol"?e+"":e,r),r);import{r as y,a as Lu,b as yr,g as Oi,R as r5}from"./vendor-280e31ee.js";import{u as Go,L as we,a as _x,b as Nx,c as n5,R as i5,d as Bt,N as pf,H as a5}from"./router-fd94c4a3.js";import{a as gf}from"./utils-78d57de0.js";import{R as Gi,P as vf,A as yf,S as Bm,F as s5,E as Hm,a as Ex,T as Wm,X as ao,I as bf,U as qm,M as o5,b as Rv,L as l5,C as c5,c as u5,d as d5,D as h5,e as wh,V as f5,f as m5,G as p5,B as g5,g as Mv,h as v5,i as y5,j as b5}from"./ui-c2e7612f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ax={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x5=y,w5=Symbol.for("react.element"),_5=Symbol.for("react.fragment"),N5=Object.prototype.hasOwnProperty,E5=x5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A5={key:!0,ref:!0,__self:!0,__source:!0};function Px(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)N5.call(e,n)&&!A5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:w5,type:t,key:a,ref:s,props:i,_owner:E5.current}}ju.Fragment=_5;ju.jsx=Px;ju.jsxs=Px;Ax.exports=ju;var Km=Ax.exports;const br=Km.Fragment,l=Km.jsx,m=Km.jsxs;var xf={},Dv=Lu;xf.createRoot=Dv.createRoot,xf.hydrateRoot=Dv.hydrateRoot;var Sx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lv=yr.createContext&&yr.createContext(Sx),P5=["attr","size","title"];function S5(t,e){if(t==null)return{};var r=T5(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bc.apply(this,arguments)}function jv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jv(Object(r),!0).forEach(function(n){I5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I5(t,e,r){return e=C5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C5(t){var e=k5(t,"string");return typeof e=="symbol"?e:e+""}function k5(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tx(t){return t&&t.map((e,r)=>yr.createElement(e.tag,xc({key:r},e.attr),Tx(e.child)))}function Z(t){return e=>yr.createElement(O5,bc({attr:xc({},t.attr)},e),Tx(t.child))}function O5(t){var e=r=>{var{attr:n,size:i,title:a}=t,s=S5(t,P5),o=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),yr.createElement("svg",bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:xc(xc({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&yr.createElement("title",null,a),t.children)};return Lv!==void 0?yr.createElement(Lv.Consumer,null,r=>e(r)):e(Sx)}function so(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function R5(t){return Z({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function M5(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function D5(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"},child:[]}]})(t)}function L5(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(t)}function vo(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function Ix(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function _h(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Vv(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(t)}function $v(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"},child:[]}]})(t)}function j5(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Gm(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function V5(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function $5(t){return Z({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function F5(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(t)}function Fv(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function U5(t){return Z({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function z5(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function B5(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(t)}function Cx(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Uv(t){return Z({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function H5(t){return Z({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function W5(t){return Z({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function q5(t){return Z({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function wf(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(t)}function kx(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function ea(t){return Z({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function K5(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(t)}function G5(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function Y5(t){return Z({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function Nh(t){return Z({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Ym(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function zv(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},child:[]}]})(t)}function X5(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"},child:[]}]})(t)}function ns(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function Bv(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function Q5(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(t)}function Ox(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function J5(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Z5(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.04 442.66l-99.71-99.69c-4.5-4.5-10.6-7-17-7h-16.3c27.6-35.3 44-79.69 44-127.99C416.03 93.09 322.92 0 208.02 0S0 93.09 0 207.98s93.11 207.98 208.02 207.98c48.3 0 92.71-16.4 128.01-44v16.3c0 6.4 2.5 12.5 7 17l99.71 99.69c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.59.1-33.99zm-297.02-90.7c-79.54 0-144-64.34-144-143.98 0-79.53 64.35-143.98 144-143.98 79.54 0 144 64.34 144 143.98 0 79.53-64.35 143.98-144 143.98zm27.11-152.54l-45.01-13.5c-5.16-1.55-8.77-6.78-8.77-12.73 0-7.27 5.3-13.19 11.8-13.19h28.11c4.56 0 8.96 1.29 12.82 3.72 3.24 2.03 7.36 1.91 10.13-.73l11.75-11.21c3.53-3.37 3.33-9.21-.57-12.14-9.1-6.83-20.08-10.77-31.37-11.35V112c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v16.12c-23.63.63-42.68 20.55-42.68 45.07 0 19.97 12.99 37.81 31.58 43.39l45.01 13.5c5.16 1.55 8.77 6.78 8.77 12.73 0 7.27-5.3 13.19-11.8 13.19h-28.1c-4.56 0-8.96-1.29-12.82-3.72-3.24-2.03-7.36-1.91-10.13.73l-11.75 11.21c-3.53 3.37-3.33 9.21.57 12.14 9.1 6.83 20.08 10.77 31.37 11.35V304c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-16.12c23.63-.63 42.68-20.54 42.68-45.07 0-19.97-12.99-37.81-31.59-43.39z"},child:[]}]})(t)}function Rx(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function eP(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function Eh(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function tP(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function rP(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function nP(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(t)}function Va(t){return Z({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function iP(t){return Z({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 96v256c0 51.815-61.624 96-130.022 96l62.98 49.721C386.905 502.417 383.562 512 376 512H72c-7.578 0-10.892-9.594-4.957-14.279L130.022 448C61.82 448 0 403.954 0 352V96C0 42.981 64 0 128 0h192c65 0 128 42.981 128 96zM200 232V120c0-13.255-10.745-24-24-24H72c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm200 0V120c0-13.255-10.745-24-24-24H272c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm-48 56c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm-256 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function Ah(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"},child:[]}]})(t)}function Ph(t){return Z({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function aP(t){return Z({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Hv(t){return Z({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M378.31 378.49L298.42 288h30.63c9.01 0 16.98-5 20.78-13.06 3.8-8.04 2.55-17.26-3.28-24.05L268.42 160h28.89c9.1 0 17.3-5.35 20.86-13.61 3.52-8.13 1.86-17.59-4.24-24.08L203.66 4.83c-6.03-6.45-17.28-6.45-23.32 0L70.06 122.31c-6.1 6.49-7.75 15.95-4.24 24.08C69.38 154.65 77.59 160 86.69 160h28.89l-78.14 90.91c-5.81 6.78-7.06 15.99-3.27 24.04C37.97 283 45.93 288 54.95 288h30.63L5.69 378.49c-6 6.79-7.36 16.09-3.56 24.26 3.75 8.05 12 13.25 21.01 13.25H160v24.45l-30.29 48.4c-5.32 10.64 2.42 23.16 14.31 23.16h95.96c11.89 0 19.63-12.52 14.31-23.16L224 440.45V416h136.86c9.01 0 17.26-5.2 21.01-13.25 3.8-8.17 2.44-17.47-3.56-24.26z"},child:[]}]})(t)}function sP(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(t)}function oP(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M115.38 136.9l102.11 37.18c35.19-81.54 86.21-144.29 139-173.7-95.88-4.89-188.78 36.96-248.53 111.8-6.69 8.4-2.66 21.05 7.42 24.72zm132.25 48.16l238.48 86.83c35.76-121.38 18.7-231.66-42.63-253.98-7.4-2.7-15.13-4-23.09-4-58.02.01-128.27 69.17-172.76 171.15zM521.48 60.5c6.22 16.3 10.83 34.6 13.2 55.19 5.74 49.89-1.42 108.23-18.95 166.98l102.62 37.36c10.09 3.67 21.31-3.43 21.57-14.17 2.32-95.69-41.91-187.44-118.44-245.36zM560 447.98H321.06L386 269.5l-60.14-21.9-72.9 200.37H16c-8.84 0-16 7.16-16 16.01v32.01C0 504.83 7.16 512 16 512h544c8.84 0 16-7.17 16-16.01v-32.01c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Wv(t){return Z({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function lP(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function cP(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function uP(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480.1 31.9c-55-55.1-164.9-34.5-227.8 28.5-49.3 49.3-55.1 110-28.8 160.4L9 413.2c-11.6 10.5-12.1 28.5-1 39.5L59.3 504c11 11 29.1 10.5 39.5-1.1l192.4-214.4c50.4 26.3 111.1 20.5 160.4-28.8 63-62.9 83.6-172.8 28.5-227.8z"},child:[]}]})(t)}function qv(t){return Z({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function dP(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 128V32c0-17.67-14.33-32-32-32h-96c-17.67 0-32 14.33-32 32H160c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32v192c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32h192c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32V160c17.67 0 32-14.33 32-32zm-96-64h32v32h-32V64zM64 64h32v32H64V64zm32 384H64v-32h32v32zm352 0h-32v-32h32v32zm-32-96h-32c-17.67 0-32 14.33-32 32v32H160v-32c0-17.67-14.33-32-32-32H96V160h32c17.67 0 32-14.33 32-32V96h192v32c0 17.67 14.33 32 32 32h32v192z"},child:[]}]})(t)}function hP(t){return Z({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(t)}function fP(t){return Z({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(t)}function mP(t){return Z({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(t)}const pP=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},gP=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,g=u&63;c||(g=64,s||(p=64)),n.push(r[d],r[h],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new vP;const p=a<<2|o>>4;if(n.push(p),u!==64){const g=o<<4&240|u>>2;if(n.push(g),h!==64){const b=u<<6&192|h;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yP=function(t){const e=Mx(t);return Dx.encodeByteArray(e,!0)},wc=function(t){return yP(t).replace(/\./g,"")},Lx=function(t){try{return Dx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=()=>bP().__FIREBASE_DEFAULTS__,wP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_P=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lx(t[1]);return e&&JSON.parse(e)},Vu=()=>{try{return pP()||xP()||wP()||_P()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jx=t=>{var e,r;return(r=(e=Vu())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Vx=t=>{const e=jx(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},$x=()=>{var t;return(t=Vu())==null?void 0:t.config},Fx=t=>{var e;return(e=Vu())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t},o="";return[wc(JSON.stringify(r)),wc(JSON.stringify(s)),o].join(".")}const yo={};function EP(){const t={prod:[],emulator:[]};for(const e of Object.keys(yo))yo[e]?t.emulator.push(e):t.prod.push(e);return t}function AP(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Kv=!1;function Qm(t,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||yo[t]===e||yo[t]||Kv)return;yo[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=EP().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Kv=!0,s()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=AP(n),g=r("text"),b=document.getElementById(g)||document.createElement("span"),x=r("learnmore"),v=document.getElementById(x)||document.createElement("a"),E=r("preprendIcon"),A=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;o(S),d(v,x);const L=u();c(A,E),S.append(A,b,v,L),document.body.appendChild(S)}a?(b.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function SP(){var e;const t=(e=Vu())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kP(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OP(){return!SP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RP(){try{return typeof indexedDB=="object"}catch{return!1}}function MP(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="FirebaseError";class bn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=DP,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?LP(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new bn(i,o,n)}}function LP(t,e){return t.replace(jP,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const jP=/\{\$([^}]+)}/g;function VP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sa(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(Gv(a)&&Gv(s)){if(!sa(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Gv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function oo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function lo(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function $P(t,e){const r=new FP(t,e);return r.subscribe.bind(r)}class FP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");UP(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Sh),i.error===void 0&&(i.error=Sh),i.complete===void 0&&(i.complete=Sh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Sh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zP=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new NP;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HP(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BP(t){return t===Hi?void 0:t}function HP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new zP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const qP={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},KP=_e.INFO,GP={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},YP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=GP[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=KP,this._logHandler=YP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const XP=(t,e)=>e.some(r=>t instanceof r);let Yv,Xv;function QP(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JP(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zx=new WeakMap,_f=new WeakMap,Bx=new WeakMap,Th=new WeakMap,Zm=new WeakMap;function ZP(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(bi(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&zx.set(r,t)}).catch(()=>{}),Zm.set(e,t),e}function eS(t){if(_f.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});_f.set(t,e)}let Nf={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bx.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return bi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tS(t){Nf=t(Nf)}function rS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ih(this),e,...r);return Bx.set(n,e.sort?e.sort():[e]),bi(n)}:JP().includes(t)?function(...e){return t.apply(Ih(this),e),bi(zx.get(this))}:function(...e){return bi(t.apply(Ih(this),e))}}function nS(t){return typeof t=="function"?rS(t):(t instanceof IDBTransaction&&eS(t),XP(t,QP())?new Proxy(t,Nf):t)}function bi(t){if(t instanceof IDBRequest)return ZP(t);if(Th.has(t))return Th.get(t);const e=nS(t);return e!==t&&(Th.set(t,e),Zm.set(e,t)),e}const Ih=t=>Zm.get(t);function iS(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=bi(s);return n&&s.addEventListener("upgradeneeded",c=>{n(bi(s.result),c.oldVersion,c.newVersion,bi(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const aS=["get","getKey","getAll","getAllKeys","count"],sS=["put","add","delete","clear"],Ch=new Map;function Qv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ch.get(e))return Ch.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=sS.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||aS.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return Ch.set(e,a),a}tS(t=>({...t,get:(e,r,n)=>Qv(e,r)||t.get(e,r,n),has:(e,r)=>!!Qv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(lS(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function lS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ef="@firebase/app",Jv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new Jm("@firebase/app"),cS="@firebase/app-compat",uS="@firebase/analytics-compat",dS="@firebase/analytics",hS="@firebase/app-check-compat",fS="@firebase/app-check",mS="@firebase/auth",pS="@firebase/auth-compat",gS="@firebase/database",vS="@firebase/data-connect",yS="@firebase/database-compat",bS="@firebase/functions",xS="@firebase/functions-compat",wS="@firebase/installations",_S="@firebase/installations-compat",NS="@firebase/messaging",ES="@firebase/messaging-compat",AS="@firebase/performance",PS="@firebase/performance-compat",SS="@firebase/remote-config",TS="@firebase/remote-config-compat",IS="@firebase/storage",CS="@firebase/storage-compat",kS="@firebase/firestore",OS="@firebase/ai",RS="@firebase/firestore-compat",MS="firebase",DS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",LS={[Ef]:"fire-core",[cS]:"fire-core-compat",[dS]:"fire-analytics",[uS]:"fire-analytics-compat",[fS]:"fire-app-check",[hS]:"fire-app-check-compat",[mS]:"fire-auth",[pS]:"fire-auth-compat",[gS]:"fire-rtdb",[vS]:"fire-data-connect",[yS]:"fire-rtdb-compat",[bS]:"fire-fn",[xS]:"fire-fn-compat",[wS]:"fire-iid",[_S]:"fire-iid-compat",[NS]:"fire-fcm",[ES]:"fire-fcm-compat",[AS]:"fire-perf",[PS]:"fire-perf-compat",[SS]:"fire-rc",[TS]:"fire-rc-compat",[IS]:"fire-gcs",[CS]:"fire-gcs-compat",[kS]:"fire-fst",[RS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,jS=new Map,Pf=new Map;function Zv(t,e){try{t.container.addComponent(e)}catch(r){Ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function oa(t){const e=t.name;if(Pf.has(e))return Ln.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,t);for(const r of _c.values())Zv(r,t);for(const r of jS.values())Zv(r,t);return!0}function $u(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Yo("app","Firebase",VS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=DS;function Hx(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Af,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw xi.create("bad-app-name",{appName:String(i)});if(r||(r=$x()),!r)throw xi.create("no-options");const a=_c.get(i);if(a){if(sa(r,a.options)&&sa(n,a.config))return a;throw xi.create("duplicate-app",{appName:i})}const s=new WP(i);for(const c of Pf.values())s.addComponent(c);const o=new $S(r,n,s);return _c.set(i,o),o}function ep(t=Af){const e=_c.get(t);if(!e&&t===Af&&$x())return Hx();if(!e)throw xi.create("no-app",{appName:t});return e}function an(t,e,r){let n=LS[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ln.warn(s.join(" "));return}oa(new Ei(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="firebase-heartbeat-database",US=1,So="firebase-heartbeat-store";let kh=null;function Wx(){return kh||(kh=iS(FS,US,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(So)}catch(r){console.warn(r)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),kh}async function zS(t){try{const r=(await Wx()).transaction(So),n=await r.objectStore(So).get(qx(t));return await r.done,n}catch(e){if(e instanceof bn)Ln.warn(e.message);else{const r=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ln.warn(r.message)}}}async function ey(t,e){try{const n=(await Wx()).transaction(So,"readwrite");await n.objectStore(So).put(e,qx(t)),await n.done}catch(r){if(r instanceof bn)Ln.warn(r.message);else{const n=xi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ln.warn(n.message)}}}function qx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=1024,HS=30;class WS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new KS(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ty();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const s=GS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ln.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ty(),{heartbeatsToSend:n,unsentEntries:i}=qS(this._heartbeatsCache.heartbeats),a=wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ln.warn(r),""}}}function ty(){return new Date().toISOString().substring(0,10)}function qS(t,e=BS){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),ry(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ry(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class KS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RP()?MP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await zS(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ey(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ey(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ry(t){return wc(JSON.stringify({version:2,heartbeats:t})).length}function GS(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){oa(new Ei("platform-logger",e=>new oS(e),"PRIVATE")),oa(new Ei("heartbeat",e=>new WS(e),"PRIVATE")),an(Ef,Jv,t),an(Ef,Jv,"esm2020"),an("fire-js","")}YS("");function Kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XS=Kx,Gx=new Yo("auth","Firebase",Kx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Jm("@firebase/auth");function QS(t,...e){Nc.logLevel<=_e.WARN&&Nc.warn(`Auth (${Na}): ${t}`,...e)}function sc(t,...e){Nc.logLevel<=_e.ERROR&&Nc.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw rp(t,...e)}function Br(t,...e){return rp(t,...e)}function tp(t,e,r){const n={...XS(),[e]:r};return new Yo("auth","Firebase",n).create(e,{appName:t.name})}function Rn(t){return tp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JS(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Or(t,"argument-error"),tp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rp(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Gx.create(t,...e)}function he(t,e,...r){if(!t)throw rp(e,...r)}function In(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sc(e),new Error(e)}function jn(t,e){t||In(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ZS(){return ny()==="http:"||ny()==="https:"}function ny(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZS()||IP()||"connection"in navigator)?navigator.onLine:!0}function tT(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,r){this.shortDelay=e,this.longDelay=r,jn(r>e,"Short delay should be less than long delay!"),this.isMobile=PP()||CP()}get(){return eT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t,e){jn(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iT=new Qo(3e4,6e4);function Kn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qr(t,e,r,n,i={}){return Xx(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=Xo({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return TP()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&_a(t.emulatorConfig.host)&&(u.credentials="include"),Yx.fetch()(await Qx(t,t.config.apiHost,r,o),u)})}async function Xx(t,e,r){t._canInitEmulator=!1;const n={...rT,...e};try{const i=new sT(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw jl(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw jl(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw jl(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw jl(t,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tp(t,d,u);Or(t,d)}}catch(i){if(i instanceof bn)throw i;Or(t,"network-request-failed",{message:String(i)})}}async function Jo(t,e,r,n,i={}){const a=await qr(t,e,r,n,i);return"mfaPendingCredential"in a&&Or(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Qx(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?np(t.config,i):`${t.config.apiScheme}://${i}`;return nT.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function aT(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Br(this.auth,"network-request-failed")),iT.get())})}}function jl(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Br(t,e,n);return i.customData._tokenResponse=r,i}function iy(t){return t!==void 0&&t.enterprise!==void 0}class oT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return aT(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lT(t,e){return qr(t,"GET","/v2/recaptchaConfig",Kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t,e){return qr(t,"POST","/v1/accounts:delete",e)}async function Ec(t,e){return qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uT(t,e=!1){const r=pt(t),n=await r.getIdToken(e),i=ip(n);he(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:bo(Oh(i.auth_time)),issuedAtTime:bo(Oh(i.iat)),expirationTime:bo(Oh(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Oh(t){return Number(t)*1e3}function ip(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lx(r);return i?JSON.parse(i):(sc("Failed to decode base64 JWT payload"),null)}catch(i){return sc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ay(t){const e=ip(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof bn&&dT(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function dT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=bo(this.lastLoginAt),this.creationTime=bo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t){var h;const e=t.auth,r=await t.getIdToken(),n=await la(t,Ec(e,{idToken:r}));he(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?Jx(i.providerUserInfo):[],s=mT(t.providerData,a),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Tf(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function fT(t){const e=pt(t);await Ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mT(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Jx(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(t,e){const r=await Xx(t,{},async()=>{const n=Xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Qx(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return t.emulatorConfig&&_a(t.emulatorConfig.host)&&(c.credentials="include"),Yx.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function gT(t,e){return qr(t,"POST","/v2/accounts:revokeToken",Kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ay(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){he(e.length!==0,"internal-error");const r=ay(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await pT(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Qa;return n&&(he(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(he(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return In("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new hT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await la(this,this.stsTokenManager.getToken(this.auth,e));return he(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return uT(this,e)}reload(){return fT(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ac(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Rn(this.auth));const e=await this.getIdToken();return await la(this,cT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:b,stsTokenManager:x}=r;he(h&&x,e,"internal-error");const v=Qa.fromJSON(this.name,x);he(typeof h=="string",e,"internal-error"),di(n,e.name),di(i,e.name),he(typeof p=="boolean",e,"internal-error"),he(typeof g=="boolean",e,"internal-error"),di(a,e.name),di(s,e.name),di(o,e.name),di(c,e.name),di(u,e.name),di(d,e.name);const E=new Fr({uid:h,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:g,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:u,lastLoginAt:d});return b&&Array.isArray(b)&&(E.providerData=b.map(A=>({...A}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new Qa;i.updateFromServerResponse(r);const a=new Fr({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ac(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];he(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Jx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Qa;o.updateFromIdToken(n);const c=new Fr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Tf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Map;function Cn(t){jn(t instanceof Function,"Expected a class definition");let e=sy.get(t);return e?(jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Zx.type="NONE";const oy=Zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t,e,r){return`firebase:${t}:${e}:${r}`}class Ja{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=oc(this.userKey,i.apiKey,a),this.fullPersistenceKey=oc("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Ec(this.auth,{idToken:e}).catch(()=>{});return r?Fr._fromGetAccountInfoResponse(this.auth,r,e):null}return Fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ja(Cn(oy),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Cn(oy);const s=oc(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){let h;if(typeof d=="string"){const p=await Ec(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Fr._fromGetAccountInfoResponse(e,p,d)}else h=Fr._fromJSON(e,d);u!==a&&(o=h),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ja(a,e,n):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Ja(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(sw(e))return"Webos";if(tw(e))return"Safari";if((e.includes("chrome/")||rw(e))&&!e.includes("edge/"))return"Chrome";if(iw(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function ew(t=Xt()){return/firefox\//i.test(t)}function tw(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rw(t=Xt()){return/crios\//i.test(t)}function nw(t=Xt()){return/iemobile/i.test(t)}function iw(t=Xt()){return/android/i.test(t)}function aw(t=Xt()){return/blackberry/i.test(t)}function sw(t=Xt()){return/webos/i.test(t)}function ap(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vT(t=Xt()){var e;return ap(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yT(){return kP()&&document.documentMode===10}function ow(t=Xt()){return ap(t)||iw(t)||sw(t)||aw(t)||/windows phone/i.test(t)||nw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e=[]){let r;switch(t){case"Browser":r=ly(Xt());break;case"Worker":r=`${ly(Xt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Na}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(t,e={}){return qr(t,"GET","/v2/passwordPolicy",Kn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=6;class _T{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??wT,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cy(this),this.idTokenSubscription=new cy(this),this.beforeStateQueue=new bT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Cn(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Ec(this,{idToken:e}),n=await Fr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(ar(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ac(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Rn(this));const r=e?pt(e):null;return r&&he(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Rn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Rn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xT(this),r=new _T(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yo("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await gT(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Cn(e)||this._popupRedirectResolver;he(r,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Cn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&QS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gn(t){return pt(t)}class cy{constructor(e){this.auth=e,this.observer=null,this.addObserver=$P(r=>this.observer=r)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ET(t){Fu=t}function cw(t){return Fu.loadJS(t)}function AT(){return Fu.recaptchaEnterpriseScript}function PT(){return Fu.gapiScript}function ST(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class TT{constructor(){this.enterprise=new IT}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class IT{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const CT="recaptcha-enterprise",uw="NO_RECAPTCHA";class kT{constructor(e){this.type=CT,this.auth=Gn(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{lT(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new oT(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(c=>{o(c)})})}function i(a,s,o){const c=window.grecaptcha;iy(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(uw)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TT().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&iy(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=AT();c.length!==0&&(c+=o),cw(c).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function Ys(t,e,r,n=!1,i=!1){const a=new kT(t);let s;if(i)s=uw;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Pc(t,e,r,n,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ys(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ys(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await Ys(t,e,r);return n(t,o).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const d=await Ys(t,e,r,!1,!0);return n(t,d)}return Promise.reject(c)})}else{const o=await Ys(t,e,r,!1,!0);return n(t,o)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t,e){const r=$u(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(sa(a,e??{}))return i;Or(i,"already-initialized")}return r.initialize({options:e})}function RT(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Cn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function MT(t,e,r){const n=Gn(t);he(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=dw(e),{host:s,port:o}=DT(e),c=o===null?"":`:${o}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){he(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),he(sa(u,n.config.emulator)&&sa(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,_a(s)?(Xm(`${a}//${s}${c}`),Qm("Auth",!0)):i||LT()}function dw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DT(t){const e=dw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:uy(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:uy(s)}}}function uy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LT(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return In("not implemented")}_getIdTokenResponse(e){return In("not implemented")}_linkToIdToken(e,r){return In("not implemented")}_getReauthenticationResolver(e){return In("not implemented")}}async function jT(t,e){return qr(t,"POST","/v1/accounts:update",e)}async function VT(t,e){return qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(t,e){return Jo(t,"POST","/v1/accounts:signInWithPassword",Kn(t,e))}async function hw(t,e){return qr(t,"POST","/v1/accounts:sendOobCode",Kn(t,e))}async function FT(t,e){return hw(t,e)}async function UT(t,e){return hw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t,e){return Jo(t,"POST","/v1/accounts:signInWithEmailLink",Kn(t,e))}async function BT(t,e){return Jo(t,"POST","/v1/accounts:signInWithEmailLink",Kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends sp{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new To(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new To(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pc(e,r,"signInWithPassword",$T,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zT(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pc(e,n,"signUpPassword",VT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return BT(e,{idToken:r,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return Jo(t,"POST","/v1/accounts:signInWithIdp",Kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="http://localhost";class ca extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Or("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new ca(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Za(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Za(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Za(e,r)}buildRequest(){const e={requestUri:HT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Xo(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qT(t){const e=oo(lo(t)).link,r=e?oo(lo(e)).deep_link_id:null,n=oo(lo(t)).deep_link_id;return(n?oo(lo(n)).link:null)||n||r||e||t}class op{constructor(e){const r=oo(lo(e)),n=r.apiKey??null,i=r.oobCode??null,a=WT(r.mode??null);he(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=qT(e);try{return new op(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.providerId=bs.PROVIDER_ID}static credential(e,r){return To._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=op.parseLink(r);return he(n,"argument-error"),To._fromEmailAndCode(e,n.code,n.tenantId)}}bs.PROVIDER_ID="password";bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends Zo{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:An.PROVIDER_ID,signInMethod:An.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return An.credentialFromTaggedObject(e)}static credentialFromError(e){return An.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return An.credential(e.oauthAccessToken)}catch{return null}}}An.FACEBOOK_SIGN_IN_METHOD="facebook.com";An.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ca._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Pn.credential(r,n)}catch{return null}}}Pn.GOOGLE_SIGN_IN_METHOD="google.com";Pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Zo{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Zo{constructor(){super("twitter.com")}static credential(e,r){return ca._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return gi.credential(r,n)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(t,e){return Jo(t,"POST","/v1/accounts:signUp",Kn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Fr._fromIdTokenResponse(e,n,i),s=dy(n);return new ua({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=dy(n);return new ua({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function dy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends bn{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Sc(e,r,n,i)}}function fw(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(t,a,e,n):a})}async function GT(t,e,r=!1){const n=await la(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ua._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YT(t,e,r=!1){const{auth:n}=t;if(ar(n.app))return Promise.reject(Rn(n));const i="reauthenticate";try{const a=await la(t,fw(n,i,e,t),r);he(a.idToken,n,"internal-error");const s=ip(a.idToken);he(s,n,"internal-error");const{sub:o}=s;return he(t.uid===o,n,"user-mismatch"),ua._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Or(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t,e,r=!1){if(ar(t.app))return Promise.reject(Rn(t));const n="signIn",i=await fw(t,n,e),a=await ua._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function XT(t,e){return mw(Gn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e,r){var n;he(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),he(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),he(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(he(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(he(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(t){const e=Gn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QT(t,e,r){const n=Gn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&pw(n,i,r),await Pc(n,i,"getOobCode",UT,"EMAIL_PASSWORD_PROVIDER")}async function JT(t,e,r){if(ar(t.app))return Promise.reject(Rn(t));const n=Gn(t),s=await Pc(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KT,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&gw(t),c}),o=await ua._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function ZT(t,e,r){return ar(t.app)?Promise.reject(Rn(t)):XT(pt(t),bs.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&gw(t),n})}async function eI(t,e){const r=pt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&pw(r.auth,i,e);const{email:a}=await FT(r.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(t,e){return qr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hy(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=pt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await la(n,tI(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function rI(t,e){return nI(pt(t),null,e)}async function nI(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const s=await la(t,jT(n,a));await t._updateTokensIfNecessary(s,!0)}function iI(t,e,r,n){return pt(t).onIdTokenChanged(e,r,n)}function aI(t,e,r){return pt(t).beforeAuthStateChanged(e,r)}function sI(t,e,r,n){return pt(t).onAuthStateChanged(e,r,n)}function oI(t){return pt(t).signOut()}const Tc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1e3,cI=10;class yw extends vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);yT()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cI):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const uI=yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}bw.type="SESSION";const xw=bw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Uu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),c=await dI(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const u=cp("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function fI(t){sn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function mI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gI(){return ww()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebaseLocalStorageDb",vI=1,Ic="firebaseLocalStorage",Nw="fbase_key";class el{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function zu(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function yI(){const t=indexedDB.deleteDatabase(_w);return new el(t).toPromise()}function If(){const t=indexedDB.open(_w,vI);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ic,{keyPath:Nw})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ic)?e(n):(n.close(),await yI(),e(await If()))})})}async function fy(t,e,r){const n=zu(t,!0).put({[Nw]:e,value:r});return new el(n).toPromise()}async function bI(t,e){const r=zu(t,!1).get(e),n=await new el(r).toPromise();return n===void 0?null:n.value}function my(t,e){const r=zu(t,!0).delete(e);return new el(r).toPromise()}const xI=800,wI=3;class Ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await If(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>wI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ww()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uu._getInstance(gI()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await mI(),!this.activeServiceWorker)return;this.sender=new hI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await If();return await fy(e,Tc,"1"),await my(e,Tc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>fy(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>bI(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>my(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=zu(i,!1).getAll();return new el(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ew.type="LOCAL";const _I=Ew;new Qo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t,e){return e?Cn(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Za(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function NI(t){return mw(t.auth,new up(t),t.bypassAuthState)}function EI(t){const{auth:e,user:r}=t;return he(r,e,"internal-error"),YT(r,new up(t),t.bypassAuthState)}async function AI(t){const{auth:e,user:r}=t;return he(r,e,"internal-error"),GT(r,new up(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NI;case"linkViaPopup":case"linkViaRedirect":return AI;case"reauthViaPopup":case"reauthViaRedirect":return EI;default:Or(this.auth,"internal-error")}}resolve(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Qo(2e3,1e4);async function py(t,e,r){if(ar(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const n=Gn(t);JS(t,e,lp);const i=Aw(n,r);return new Yi(n,"signInViaPopup",e,i).executeNotNull()}class Yi extends Pw{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Yi.currentPopupAction&&Yi.currentPopupAction.cancel(),Yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){jn(this.filter.length===1,"Popup operations only handle one event");const e=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PI.get())};e()}}Yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="pendingRedirect",lc=new Map;class TI extends Pw{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=lc.get(this.auth._key());if(!e){try{const n=await II(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}lc.set(this.auth._key(),e)}return this.bypassAuthState||lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function II(t,e){const r=OI(e),n=kI(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function CI(t,e){lc.set(t._key(),e)}function kI(t){return Cn(t._redirectPersistence)}function OI(t){return oc(SI,t.config.apiKey,t.name)}async function RI(t,e,r=!1){if(ar(t.app))return Promise.reject(Rn(t));const n=Gn(t),i=Aw(n,e),s=await new TI(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=10*60*1e3;class DI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LI(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!Sw(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Br(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MI&&this.cachedEventUids.clear(),this.cachedEventUids.has(gy(e))}saveEventToCache(e){this.cachedEventUids.add(gy(e)),this.lastProcessedEventTime=Date.now()}}function gy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Sw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e={}){return qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function FI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jI(t);for(const r of e)try{if(UI(r))return}catch{}Or(t,"unauthorized-domain")}function UI(t){const e=Sf(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!$I.test(r))return!1;if(VI.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Qo(3e4,6e4);function vy(){const t=sn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function BI(t){return new Promise((e,r)=>{var i,a,s;function n(){vy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vy(),r(Br(t,"network-request-failed"))},timeout:zI.get()})}if((a=(i=sn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=sn().gapi)!=null&&s.load)n();else{const o=ST("iframefcb");return sn()[o]=()=>{gapi.load?n():r(Br(t,"network-request-failed"))},cw(`${PT()}?onload=${o}`).catch(c=>r(c))}}).catch(e=>{throw cc=null,e})}let cc=null;function HI(t){return cc=cc||BI(t),cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Qo(5e3,15e3),qI="__/auth/iframe",KI="emulator/auth/iframe",GI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XI(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?np(e,KI):`https://${t.config.authDomain}/${qI}`,n={apiKey:e.apiKey,appName:t.name,v:Na},i=YI.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Xo(n).slice(1)}`}async function QI(t){const e=await HI(t),r=sn().gapi;return he(r,t,"internal-error"),e.open({where:document.body,url:XI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GI,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Br(t,"network-request-failed"),o=sn().setTimeout(()=>{a(s)},WI.get());function c(){sn().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZI=500,eC=600,tC="_blank",rC="http://localhost";class yy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nC(t,e,r,n=ZI,i=eC){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c={...JI,width:n.toString(),height:i.toString(),top:a,left:s},u=Xt().toLowerCase();r&&(o=rw(u)?tC:r),ew(u)&&(e=e||rC,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(vT(u)&&o!=="_self")return iC(e||"",o),new yy(null);const h=window.open(e||"",o,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new yy(h)}function iC(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__/auth/handler",sC="emulator/auth/handler",oC=encodeURIComponent("fac");async function by(t,e,r,n,i,a){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Na,eventId:i};if(e instanceof lp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",VP(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(a||{}))s[d]=h}if(e instanceof Zo){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),u=c?`#${oC}=${encodeURIComponent(c)}`:"";return`${lC(t)}?${Xo(o).slice(1)}${u}`}function lC({config:t}){return t.emulator?np(t,sC):`https://${t.authDomain}/${aC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="webStorageSupport";class cC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xw,this._completeRedirectFn=RI,this._overrideRedirectResult=CI}async _openPopup(e,r,n,i){var s;jn((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await by(e,r,n,Sf(),i);return nC(e,a,cp())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await by(e,r,n,Sf(),i);return fI(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(jn(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await QI(e),n=new DI(e);return r.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Rh,{type:Rh},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Rh];a!==void 0&&r(!!a),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=FI(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ow()||tw()||ap()}}const uC=cC;var xy="@firebase/auth",wy="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fC(t){oa(new Ei("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lw(t)},u=new NT(n,i,a,c);return RT(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),oa(new Ei("auth-internal",e=>{const r=Gn(e.getProvider("auth").getImmediate());return(n=>new dC(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),an(xy,wy,hC(t)),an(xy,wy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=5*60,pC=Fx("authIdTokenMaxAge")||mC;let _y=null;const gC=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>pC)return;const i=r==null?void 0:r.token;_y!==i&&(_y=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Tw(t=ep()){const e=$u(t,"auth");if(e.isInitialized())return e.getImmediate();const r=OT(t,{popupRedirectResolver:uC,persistence:[_I,uI,xw]}),n=Fx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=gC(a.toString());aI(r,s,()=>s(r.currentUser)),iI(r,o=>s(o))}}const i=jx("auth");return i&&MT(r,`http://${i}`),r}function vC(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ET({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Br("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",vC().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fC("Browser");var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,Iw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,T){function N(){}N.prototype=T.prototype,_.F=T.prototype,_.prototype=new N,_.prototype.constructor=_,_.D=function(C,I,D){for(var O=Array(arguments.length-2),B=2;B<arguments.length;B++)O[B-2]=arguments[B];return T.prototype[I].apply(C,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,T,N){N||(N=0);const C=Array(16);if(typeof T=="string")for(var I=0;I<16;++I)C[I]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(I=0;I<16;++I)C[I]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=_.g[0],N=_.g[1],I=_.g[2];let D=_.g[3],O;O=T+(D^N&(I^D))+C[0]+3614090360&4294967295,T=N+(O<<7&4294967295|O>>>25),O=D+(I^T&(N^I))+C[1]+3905402710&4294967295,D=T+(O<<12&4294967295|O>>>20),O=I+(N^D&(T^N))+C[2]+606105819&4294967295,I=D+(O<<17&4294967295|O>>>15),O=N+(T^I&(D^T))+C[3]+3250441966&4294967295,N=I+(O<<22&4294967295|O>>>10),O=T+(D^N&(I^D))+C[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=D+(I^T&(N^I))+C[5]+1200080426&4294967295,D=T+(O<<12&4294967295|O>>>20),O=I+(N^D&(T^N))+C[6]+2821735955&4294967295,I=D+(O<<17&4294967295|O>>>15),O=N+(T^I&(D^T))+C[7]+4249261313&4294967295,N=I+(O<<22&4294967295|O>>>10),O=T+(D^N&(I^D))+C[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=D+(I^T&(N^I))+C[9]+2336552879&4294967295,D=T+(O<<12&4294967295|O>>>20),O=I+(N^D&(T^N))+C[10]+4294925233&4294967295,I=D+(O<<17&4294967295|O>>>15),O=N+(T^I&(D^T))+C[11]+2304563134&4294967295,N=I+(O<<22&4294967295|O>>>10),O=T+(D^N&(I^D))+C[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=D+(I^T&(N^I))+C[13]+4254626195&4294967295,D=T+(O<<12&4294967295|O>>>20),O=I+(N^D&(T^N))+C[14]+2792965006&4294967295,I=D+(O<<17&4294967295|O>>>15),O=N+(T^I&(D^T))+C[15]+1236535329&4294967295,N=I+(O<<22&4294967295|O>>>10),O=T+(I^D&(N^I))+C[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=D+(N^I&(T^N))+C[6]+3225465664&4294967295,D=T+(O<<9&4294967295|O>>>23),O=I+(T^N&(D^T))+C[11]+643717713&4294967295,I=D+(O<<14&4294967295|O>>>18),O=N+(D^T&(I^D))+C[0]+3921069994&4294967295,N=I+(O<<20&4294967295|O>>>12),O=T+(I^D&(N^I))+C[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=D+(N^I&(T^N))+C[10]+38016083&4294967295,D=T+(O<<9&4294967295|O>>>23),O=I+(T^N&(D^T))+C[15]+3634488961&4294967295,I=D+(O<<14&4294967295|O>>>18),O=N+(D^T&(I^D))+C[4]+3889429448&4294967295,N=I+(O<<20&4294967295|O>>>12),O=T+(I^D&(N^I))+C[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=D+(N^I&(T^N))+C[14]+3275163606&4294967295,D=T+(O<<9&4294967295|O>>>23),O=I+(T^N&(D^T))+C[3]+4107603335&4294967295,I=D+(O<<14&4294967295|O>>>18),O=N+(D^T&(I^D))+C[8]+1163531501&4294967295,N=I+(O<<20&4294967295|O>>>12),O=T+(I^D&(N^I))+C[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=D+(N^I&(T^N))+C[2]+4243563512&4294967295,D=T+(O<<9&4294967295|O>>>23),O=I+(T^N&(D^T))+C[7]+1735328473&4294967295,I=D+(O<<14&4294967295|O>>>18),O=N+(D^T&(I^D))+C[12]+2368359562&4294967295,N=I+(O<<20&4294967295|O>>>12),O=T+(N^I^D)+C[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=D+(T^N^I)+C[8]+2272392833&4294967295,D=T+(O<<11&4294967295|O>>>21),O=I+(D^T^N)+C[11]+1839030562&4294967295,I=D+(O<<16&4294967295|O>>>16),O=N+(I^D^T)+C[14]+4259657740&4294967295,N=I+(O<<23&4294967295|O>>>9),O=T+(N^I^D)+C[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=D+(T^N^I)+C[4]+1272893353&4294967295,D=T+(O<<11&4294967295|O>>>21),O=I+(D^T^N)+C[7]+4139469664&4294967295,I=D+(O<<16&4294967295|O>>>16),O=N+(I^D^T)+C[10]+3200236656&4294967295,N=I+(O<<23&4294967295|O>>>9),O=T+(N^I^D)+C[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=D+(T^N^I)+C[0]+3936430074&4294967295,D=T+(O<<11&4294967295|O>>>21),O=I+(D^T^N)+C[3]+3572445317&4294967295,I=D+(O<<16&4294967295|O>>>16),O=N+(I^D^T)+C[6]+76029189&4294967295,N=I+(O<<23&4294967295|O>>>9),O=T+(N^I^D)+C[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=D+(T^N^I)+C[12]+3873151461&4294967295,D=T+(O<<11&4294967295|O>>>21),O=I+(D^T^N)+C[15]+530742520&4294967295,I=D+(O<<16&4294967295|O>>>16),O=N+(I^D^T)+C[2]+3299628645&4294967295,N=I+(O<<23&4294967295|O>>>9),O=T+(I^(N|~D))+C[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=D+(N^(T|~I))+C[7]+1126891415&4294967295,D=T+(O<<10&4294967295|O>>>22),O=I+(T^(D|~N))+C[14]+2878612391&4294967295,I=D+(O<<15&4294967295|O>>>17),O=N+(D^(I|~T))+C[5]+4237533241&4294967295,N=I+(O<<21&4294967295|O>>>11),O=T+(I^(N|~D))+C[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=D+(N^(T|~I))+C[3]+2399980690&4294967295,D=T+(O<<10&4294967295|O>>>22),O=I+(T^(D|~N))+C[10]+4293915773&4294967295,I=D+(O<<15&4294967295|O>>>17),O=N+(D^(I|~T))+C[1]+2240044497&4294967295,N=I+(O<<21&4294967295|O>>>11),O=T+(I^(N|~D))+C[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=D+(N^(T|~I))+C[15]+4264355552&4294967295,D=T+(O<<10&4294967295|O>>>22),O=I+(T^(D|~N))+C[6]+2734768916&4294967295,I=D+(O<<15&4294967295|O>>>17),O=N+(D^(I|~T))+C[13]+1309151649&4294967295,N=I+(O<<21&4294967295|O>>>11),O=T+(I^(N|~D))+C[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=D+(N^(T|~I))+C[11]+3174756917&4294967295,D=T+(O<<10&4294967295|O>>>22),O=I+(T^(D|~N))+C[2]+718787259&4294967295,I=D+(O<<15&4294967295|O>>>17),O=N+(D^(I|~T))+C[9]+3951481745&4294967295,_.g[0]=_.g[0]+T&4294967295,_.g[1]=_.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+D&4294967295}n.prototype.v=function(_,T){T===void 0&&(T=_.length);const N=T-this.blockSize,C=this.C;let I=this.h,D=0;for(;D<T;){if(I==0)for(;D<=N;)i(this,_,D),D+=this.blockSize;if(typeof _=="string"){for(;D<T;)if(C[I++]=_.charCodeAt(D++),I==this.blockSize){i(this,C),I=0;break}}else for(;D<T;)if(C[I++]=_[D++],I==this.blockSize){i(this,C),I=0;break}}this.h=I,this.o+=T},n.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var T=1;T<_.length-8;++T)_[T]=0;T=this.o*8;for(var N=_.length-8;N<_.length;++N)_[N]=T&255,T/=256;for(this.v(_),_=Array(16),T=0,N=0;N<4;++N)for(let C=0;C<32;C+=8)_[T++]=this.g[N]>>>C&255;return _};function a(_,T){var N=o;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=T(_)}function s(_,T){this.h=T;const N=[];let C=!0;for(let I=_.length-1;I>=0;I--){const D=_[I]|0;C&&D==T||(N[I]=D,C=!1)}this.g=N}var o={};function c(_){return-128<=_&&_<128?a(_,function(T){return new s([T|0],T<0?-1:0)}):new s([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return h;if(_<0)return v(u(-_));const T=[];let N=1;for(let C=0;_>=N;C++)T[C]=_/N|0,N*=4294967296;return new s(T,0)}function d(_,T){if(_.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(_.charAt(0)=="-")return v(d(_.substring(1),T));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=u(Math.pow(T,8));let C=h;for(let D=0;D<_.length;D+=8){var I=Math.min(8,_.length-D);const O=parseInt(_.substring(D,D+I),T);I<8?(I=u(Math.pow(T,I)),C=C.j(I).add(u(O))):(C=C.j(N),C=C.add(u(O)))}return C}var h=c(0),p=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-v(this).m();let _=0,T=1;for(let N=0;N<this.g.length;N++){const C=this.i(N);_+=(C>=0?C:4294967296+C)*T,T*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(b(this))return"0";if(x(this))return"-"+v(this).toString(_);const T=u(Math.pow(_,6));var N=this;let C="";for(;;){const I=L(N,T).g;N=E(N,I.j(T));let D=((N.g.length>0?N.g[0]:N.h)>>>0).toString(_);if(N=I,b(N))return D+C;for(;D.length<6;)D="0"+D;C=D+C}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function b(_){if(_.h!=0)return!1;for(let T=0;T<_.g.length;T++)if(_.g[T]!=0)return!1;return!0}function x(_){return _.h==-1}t.l=function(_){return _=E(this,_),x(_)?-1:b(_)?0:1};function v(_){const T=_.g.length,N=[];for(let C=0;C<T;C++)N[C]=~_.g[C];return new s(N,~_.h).add(p)}t.abs=function(){return x(this)?v(this):this},t.add=function(_){const T=Math.max(this.g.length,_.g.length),N=[];let C=0;for(let I=0;I<=T;I++){let D=C+(this.i(I)&65535)+(_.i(I)&65535),O=(D>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);C=O>>>16,D&=65535,O&=65535,N[I]=O<<16|D}return new s(N,N[N.length-1]&-2147483648?-1:0)};function E(_,T){return _.add(v(T))}t.j=function(_){if(b(this)||b(_))return h;if(x(this))return x(_)?v(this).j(v(_)):v(v(this).j(_));if(x(_))return v(this.j(v(_)));if(this.l(g)<0&&_.l(g)<0)return u(this.m()*_.m());const T=this.g.length+_.g.length,N=[];for(var C=0;C<2*T;C++)N[C]=0;for(C=0;C<this.g.length;C++)for(let I=0;I<_.g.length;I++){const D=this.i(C)>>>16,O=this.i(C)&65535,B=_.i(I)>>>16,H=_.i(I)&65535;N[2*C+2*I]+=O*H,A(N,2*C+2*I),N[2*C+2*I+1]+=D*H,A(N,2*C+2*I+1),N[2*C+2*I+1]+=O*B,A(N,2*C+2*I+1),N[2*C+2*I+2]+=D*B,A(N,2*C+2*I+2)}for(_=0;_<T;_++)N[_]=N[2*_+1]<<16|N[2*_];for(_=T;_<2*T;_++)N[_]=0;return new s(N,0)};function A(_,T){for(;(_[T]&65535)!=_[T];)_[T+1]+=_[T]>>>16,_[T]&=65535,T++}function S(_,T){this.g=_,this.h=T}function L(_,T){if(b(T))throw Error("division by zero");if(b(_))return new S(h,h);if(x(_))return T=L(v(_),T),new S(v(T.g),v(T.h));if(x(T))return T=L(_,v(T)),new S(v(T.g),T.h);if(_.g.length>30){if(x(_)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var N=p,C=T;C.l(_)<=0;)N=k(N),C=k(C);var I=M(N,1),D=M(C,1);for(C=M(C,2),N=M(N,2);!b(C);){var O=D.add(C);O.l(_)<=0&&(I=I.add(N),D=O),C=M(C,1),N=M(N,1)}return T=E(_,I.j(T)),new S(I,T)}for(I=h;_.l(T)>=0;){for(N=Math.max(1,Math.floor(_.m()/T.m())),C=Math.ceil(Math.log(N)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),D=u(N),O=D.j(T);x(O)||O.l(_)>0;)N-=C,D=u(N),O=D.j(T);b(D)&&(D=p),I=I.add(D),_=E(_,O)}return new S(I,_)}t.B=function(_){return L(this,_).h},t.and=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let C=0;C<T;C++)N[C]=this.i(C)&_.i(C);return new s(N,this.h&_.h)},t.or=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let C=0;C<T;C++)N[C]=this.i(C)|_.i(C);return new s(N,this.h|_.h)},t.xor=function(_){const T=Math.max(this.g.length,_.g.length),N=[];for(let C=0;C<T;C++)N[C]=this.i(C)^_.i(C);return new s(N,this.h^_.h)};function k(_){const T=_.g.length+1,N=[];for(let C=0;C<T;C++)N[C]=_.i(C)<<1|_.i(C-1)>>>31;return new s(N,_.h)}function M(_,T){const N=T>>5;T%=32;const C=_.g.length-N,I=[];for(let D=0;D<C;D++)I[D]=T>0?_.i(D+N)>>>T|_.i(D+N+1)<<32-T:_.i(D+N);return new s(I,_.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,Iw=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,wi=s}).apply(typeof Ny<"u"?Ny:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cw,co,kw,uc,Cf,Ow,Rw,Mw;(function(){var t,e=Object.defineProperty;function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var w=0;w<f.length;++w){var P=f[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(f,w){if(w)e:{var P=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var j=f[R];if(!(j in P))break e;P=P[j]}f=f[f.length-1],R=P[f],w=w(R),w!=R&&w!=null&&e(P,f,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(w){var P=[],R;for(R in w)Object.prototype.hasOwnProperty.call(w,R)&&P.push([R,w[R]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,P){return f.call.apply(f.bind,arguments)}function u(f,w,P){return u=c,u.apply(null,arguments)}function d(f,w){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function h(f,w){function P(){}P.prototype=w.prototype,f.Z=w.prototype,f.prototype=new P,f.prototype.constructor=f,f.Ob=function(R,j,U){for(var J=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)J[xe-2]=arguments[xe];return w.prototype[j].apply(R,J)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function g(f){const w=f.length;if(w>0){const P=Array(w);for(let R=0;R<w;R++)P[R]=f[R];return P}return[]}function b(f,w){for(let R=1;R<arguments.length;R++){const j=arguments[R];var P=typeof j;if(P=P!="object"?P:j?Array.isArray(j)?"array":P:"null",P=="array"||P=="object"&&typeof j.length=="number"){P=f.length||0;const U=j.length||0;f.length=P+U;for(let J=0;J<U;J++)f[P+J]=j[J]}else f.push(j)}}class x{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function v(f){s.setTimeout(()=>{throw f},0)}function E(){var f=_;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class A{constructor(){this.h=this.g=null}add(w,P){const R=S.get();R.set(w,P),this.h?this.h.next=R:this.g=R,this.h=R}}var S=new x(()=>new L,f=>f.reset());class L{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let k,M=!1,_=new A,T=()=>{const f=Promise.resolve(void 0);k=()=>{f.then(N)}};function N(){for(var f;f=E();){try{f.h.call(f.g)}catch(P){v(P)}var w=S;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}M=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};s.addEventListener("test",P,w),s.removeEventListener("test",P,w)}catch{}return f}();function O(f){return/^[\s\xa0]*$/.test(f)}function B(f,w){I.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}h(B,I),B.prototype.init=function(f,w){const P=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(P=="mouseover"?w=f.fromElement:P=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),K=0;function te(f,w,P,R,j){this.listener=f,this.proxy=null,this.src=w,this.type=P,this.capture=!!R,this.ha=j,this.key=++K,this.da=this.fa=!1}function pe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function z(f,w,P){for(const R in f)w.call(P,f[R],R,f)}function ee(f,w){for(const P in f)w.call(void 0,f[P],P,f)}function ce(f){const w={};for(const P in f)w[P]=f[P];return w}const Pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(f,w){let P,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(P in R)f[P]=R[P];for(let U=0;U<Pe.length;U++)P=Pe[U],Object.prototype.hasOwnProperty.call(R,P)&&(f[P]=R[P])}}function Ye(f){this.src=f,this.g={},this.h=0}Ye.prototype.add=function(f,w,P,R,j){const U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);const J=at(f,w,R,j);return J>-1?(w=f[J],P||(w.fa=!1)):(w=new te(w,this.src,U,!!R,j),w.fa=P,f.push(w)),w};function nt(f,w){const P=w.type;if(P in f.g){var R=f.g[P],j=Array.prototype.indexOf.call(R,w,void 0),U;(U=j>=0)&&Array.prototype.splice.call(R,j,1),U&&(pe(w),f.g[P].length==0&&(delete f.g[P],f.h--))}}function at(f,w,P,R){for(let j=0;j<f.length;++j){const U=f[j];if(!U.da&&U.listener==w&&U.capture==!!P&&U.ha==R)return j}return-1}var We="closure_lm_"+(Math.random()*1e6|0),er={};function G(f,w,P,R,j){if(R&&R.once)return Y(f,w,P,R,j);if(Array.isArray(w)){for(let U=0;U<w.length;U++)G(f,w[U],P,R,j);return null}return P=ti(P),f&&f[H]?f.J(w,P,o(R)?!!R.capture:!!R,j):ge(f,w,P,!1,R,j)}function ge(f,w,P,R,j,U){if(!w)throw Error("Invalid event type");const J=o(j)?!!j.capture:!!j;let xe=zt(f);if(xe||(f[We]=xe=new Ye(f)),P=xe.add(w,P,R,J,U),P.proxy)return P;if(R=be(),P.proxy=R,R.src=f,R.listener=P,f.addEventListener)D||(j=J),j===void 0&&(j=!1),f.addEventListener(w.toString(),R,j);else if(f.attachEvent)f.attachEvent(Qe(w.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function be(){function f(P){return w.call(f.src,f.listener,P)}const w=Je;return f}function Y(f,w,P,R,j){if(Array.isArray(w)){for(let U=0;U<w.length;U++)Y(f,w[U],P,R,j);return null}return P=ti(P),f&&f[H]?f.K(w,P,o(R)?!!R.capture:!!R,j):ge(f,w,P,!0,R,j)}function Xe(f,w,P,R,j){if(Array.isArray(w))for(var U=0;U<w.length;U++)Xe(f,w[U],P,R,j);else R=o(R)?!!R.capture:!!R,P=ti(P),f&&f[H]?(f=f.i,U=String(w).toString(),U in f.g&&(w=f.g[U],P=at(w,P,R,j),P>-1&&(pe(w[P]),Array.prototype.splice.call(w,P,1),w.length==0&&(delete f.g[U],f.h--)))):f&&(f=zt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=at(w,P,R,j)),(P=f>-1?w[f]:null)&&Ae(P))}function Ae(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[H])nt(w.i,f);else{var P=f.type,R=f.proxy;w.removeEventListener?w.removeEventListener(P,R,f.capture):w.detachEvent?w.detachEvent(Qe(P),R):w.addListener&&w.removeListener&&w.removeListener(R),(P=zt(w))?(nt(P,f),P.h==0&&(P.src=null,w[We]=null)):pe(f)}}}function Qe(f){return f in er?er[f]:er[f]="on"+f}function Je(f,w){if(f.da)f=!0;else{w=new B(w,this);const P=f.listener,R=f.ha||f.src;f.fa&&Ae(f),f=P.call(R,w)}return f}function zt(f){return f=f[We],f instanceof Ye?f:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ti(f){return typeof f=="function"?f:(f[Yr]||(f[Yr]=function(w){return f.handleEvent(w)}),f[Yr])}function ct(){C.call(this),this.i=new Ye(this),this.M=this,this.G=null}h(ct,C),ct.prototype[H]=!0,ct.prototype.removeEventListener=function(f,w,P,R){Xe(this,f,w,P,R)};function gt(f,w){var P,R=f.G;if(R)for(P=[];R;R=R.G)P.push(R);if(f=f.M,R=w.type||w,typeof w=="string")w=new I(w,f);else if(w instanceof I)w.target=w.target||f;else{var j=w;w=new I(R,f),ke(w,j)}j=!0;let U,J;if(P)for(J=P.length-1;J>=0;J--)U=w.g=P[J],j=ri(U,R,!0,w)&&j;if(U=w.g=f,j=ri(U,R,!0,w)&&j,j=ri(U,R,!1,w)&&j,P)for(J=0;J<P.length;J++)U=w.g=P[J],j=ri(U,R,!1,w)&&j}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const P=f.g[w];for(let R=0;R<P.length;R++)pe(P[R]);delete f.g[w],f.h--}}this.G=null},ct.prototype.J=function(f,w,P,R){return this.i.add(String(f),w,!1,P,R)},ct.prototype.K=function(f,w,P,R){return this.i.add(String(f),w,!0,P,R)};function ri(f,w,P,R){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let j=!0;for(let U=0;U<w.length;++U){const J=w[U];if(J&&!J.da&&J.capture==P){const xe=J.listener,vt=J.ha||J.src;J.fa&&nt(f.i,J),j=xe.call(vt,R)!==!1&&j}}return j&&!R.defaultPrevented}function Rs(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:s.setTimeout(f,w||0)}function Oa(f){f.g=Rs(()=>{f.g=null,f.i&&(f.i=!1,Oa(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Ms extends C{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Oa(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(f){C.call(this),this.h=f,this.g={}}h(wn,C);var Ra=[];function Ma(f){z(f.g,function(w,P){this.g.hasOwnProperty(P)&&Ae(w)},f),f.g={}}wn.prototype.N=function(){wn.Z.N.call(this),Ma(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $=s.JSON.stringify,ie=s.JSON.parse,V=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Q(){}function se(){}var W={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ue(){I.call(this,"d")}h(ue,I);function de(){I.call(this,"c")}h(de,I);var Oe={},$e=null;function ur(){return $e=$e||new ct}Oe.Ia="serverreachability";function ni(f){I.call(this,Oe.Ia,f)}h(ni,I);function jr(f){const w=ur();gt(w,new ni(w))}Oe.STAT_EVENT="statevent";function Ds(f,w){I.call(this,Oe.STAT_EVENT,f),this.stat=w}h(Ds,I);function It(f){const w=ur();gt(w,new Ds(w,f))}Oe.Ja="timingevent";function Ls(f,w){I.call(this,Oe.Ja,f),this.size=w}h(Ls,I);function ii(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},w)}function Nr(){this.g=!0}Nr.prototype.ua=function(){this.g=!1};function OA(f,w,P,R,j,U){f.info(function(){if(f.g)if(U){var J="",xe=U.split("&");for(let je=0;je<xe.length;je++){var vt=xe[je].split("=");if(vt.length>1){const Ct=vt[0];vt=vt[1];const Qr=Ct.split("_");J=Qr.length>=2&&Qr[1]=="type"?J+(Ct+"="+vt+"&"):J+(Ct+"=redacted&")}}}else J=null;else J=U;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+w+`
`+P+`
`+J})}function RA(f,w,P,R,j,U,J){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+w+`
`+P+`
`+U+" "+J})}function Da(f,w,P,R){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+DA(f,P)+(R?" "+R:"")})}function MA(f,w){f.info(function(){return"TIMEOUT: "+w})}Nr.prototype.info=function(){};function DA(f,w){if(!f.g)return w;if(!w)return null;try{const U=JSON.parse(w);if(U){for(f=0;f<U.length;f++)if(Array.isArray(U[f])){var P=U[f];if(!(P.length<2)){var R=P[1];if(Array.isArray(R)&&!(R.length<1)){var j=R[0];if(j!="noop"&&j!="stop"&&j!="close")for(let J=1;J<R.length;J++)R[J]=""}}}}return $(U)}catch{return w}}var Sl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},G0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Y0;function oh(){}h(oh,Q),oh.prototype.g=function(){return new XMLHttpRequest},Y0=new oh;function js(f){return encodeURIComponent(String(f))}function LA(f){var w=1;f=f.split(":");const P=[];for(;w>0&&f.length;)P.push(f.shift()),w--;return f.length&&P.push(f.join(":")),P}function ai(f,w,P,R){this.j=f,this.i=w,this.l=P,this.S=R||1,this.V=new wn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new X0}function X0(){this.i=null,this.g="",this.h=!1}var Q0={},lh={};function ch(f,w,P){f.M=1,f.A=Il(Xr(w)),f.u=P,f.R=!0,J0(f,null)}function J0(f,w){f.F=Date.now(),Tl(f),f.B=Xr(f.A);var P=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),dv(P.i,"t",R),f.C=0,P=f.j.L,f.h=new X0,f.g=Iv(f.j,P?w:null,!f.u),f.P>0&&(f.O=new Ms(u(f.Y,f,f.g),f.P)),w=f.V,P=f.g,R=f.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ra[0]=j.toString()),j=Ra);for(let U=0;U<j.length;U++){const J=G(P,j[U],R||w.handleEvent,!1,w.h||w);if(!J)break;w.g[J.key]=J}w=f.J?ce(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),jr(),OA(f.i,f.v,f.B,f.l,f.S,f.u)}ai.prototype.ba=function(f){f=f.target;const w=this.O;w&&li(f)==3?w.j():this.Y(f)},ai.prototype.Y=function(f){try{if(f==this.g)e:{const xe=li(this.g),vt=this.g.ya(),je=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||yv(this.g)))){this.K||xe!=4||vt==7||(vt==8||je<=0?jr(3):jr(2)),uh(this);var w=this.g.ca();this.X=w;var P=jA(this);if(this.o=w==200,RA(this.i,this.v,this.B,this.l,this.S,xe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var R,j=this.g;if((R=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var U=R;break t}}U=null}if(f=U)Da(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dh(this,f);else{this.o=!1,this.m=3,It(12),Vi(this),Vs(this);break e}}if(this.R){f=!0;let Ct;for(;!this.K&&this.C<P.length;)if(Ct=VA(this,P),Ct==lh){xe==4&&(this.m=4,It(14),f=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Q0){this.m=4,It(15),Da(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Da(this.i,this.l,Ct,null),dh(this,Ct);if(Z0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||P.length!=0||this.h.h||(this.m=1,It(16),f=!1),this.o=this.o&&f,!f)Da(this.i,this.l,P,"[Invalid Chunked Response]"),Vi(this),Vs(this);else if(P.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),bh(J),J.P=!0,It(11))}}else Da(this.i,this.l,P,null),dh(this,P);xe==4&&Vi(this),this.o&&!this.K&&(xe==4?Av(this.j,this):(this.o=!1,Tl(this)))}else JA(this.g),w==400&&P.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Vi(this),Vs(this)}}}catch{}finally{}};function jA(f){if(!Z0(f))return f.g.la();const w=yv(f.g);if(w==="")return"";let P="";const R=w.length,j=li(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Vi(f),Vs(f),"";f.h.i=new s.TextDecoder}for(let U=0;U<R;U++)f.h.h=!0,P+=f.h.i.decode(w[U],{stream:!(j&&U==R-1)});return w.length=0,f.h.g+=P,f.C=0,f.h.g}function Z0(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function VA(f,w){var P=f.C,R=w.indexOf(`
`,P);return R==-1?lh:(P=Number(w.substring(P,R)),isNaN(P)?Q0:(R+=1,R+P>w.length?lh:(w=w.slice(R,R+P),f.C=R+P,w)))}ai.prototype.cancel=function(){this.K=!0,Vi(this)};function Tl(f){f.T=Date.now()+f.H,ev(f,f.H)}function ev(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ii(u(f.aa,f),w)}function uh(f){f.D&&(s.clearTimeout(f.D),f.D=null)}ai.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(MA(this.i,this.B),this.M!=2&&(jr(),It(17)),Vi(this),this.m=2,Vs(this)):ev(this,this.T-f)};function Vs(f){f.j.I==0||f.K||Av(f.j,f)}function Vi(f){uh(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,Ma(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function dh(f,w){try{var P=f.j;if(P.I!=0&&(P.g==f||hh(P.h,f))){if(!f.L&&hh(P.h,f)&&P.I==3){try{var R=P.Ba.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<f.F)Ml(P),Ol(P);else break e;yh(P),It(18)}}else P.xa=j[1],0<P.xa-P.K&&j[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=ii(u(P.Va,P),6e3));nv(P.h)<=1&&P.ta&&(P.ta=void 0)}else Fi(P,11)}else if((f.L||P.g==f)&&Ml(P),!O(w))for(j=P.Ba.g.parse(w),w=0;w<j.length;w++){let je=j[w];const Ct=je[0];if(!(Ct<=P.K))if(P.K=Ct,je=je[1],P.I==2)if(je[0]=="c"){P.M=je[1],P.ba=je[2];const Qr=je[3];Qr!=null&&(P.ka=Qr,P.j.info("VER="+P.ka));const Ui=je[4];Ui!=null&&(P.za=Ui,P.j.info("SVER="+P.za));const ci=je[5];ci!=null&&typeof ci=="number"&&ci>0&&(R=1.5*ci,P.O=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const ui=f.g;if(ui){const Ll=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var U=R.h;U.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(fh(U,U.h),U.h=null))}if(R.G){const xh=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;xh&&(R.wa=xh,ze(R.J,R.G,xh))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-f.F,P.j.info("Handshake RTT: "+P.T+"ms")),R=P;var J=f;if(R.na=Tv(R,R.L?R.ba:null,R.W),J.L){iv(R.h,J);var xe=J,vt=R.O;vt&&(xe.H=vt),xe.D&&(uh(xe),Tl(xe)),R.g=J}else Nv(R);P.i.length>0&&Rl(P)}else je[0]!="stop"&&je[0]!="close"||Fi(P,7);else P.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Fi(P,7):vh(P):je[0]!="noop"&&P.l&&P.l.qa(je),P.A=0)}}jr(4)}catch{}}var $A=class{constructor(f,w){this.g=f,this.map=w}};function tv(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rv(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function nv(f){return f.h?1:f.g?f.g.size:0}function hh(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function fh(f,w){f.g?f.g.add(w):f.h=w}function iv(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}tv.prototype.cancel=function(){if(this.i=av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function av(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const P of f.g.values())w=w.concat(P.G);return w}return g(f.i)}var sv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FA(f,w){if(f){f=f.split("&");for(let P=0;P<f.length;P++){const R=f[P].indexOf("=");let j,U=null;R>=0?(j=f[P].substring(0,R),U=f[P].substring(R+1)):j=f[P],w(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function si(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof si?(this.l=f.l,$s(this,f.j),this.o=f.o,this.g=f.g,Fs(this,f.u),this.h=f.h,mh(this,hv(f.i)),this.m=f.m):f&&(w=String(f).match(sv))?(this.l=!1,$s(this,w[1]||"",!0),this.o=Us(w[2]||""),this.g=Us(w[3]||"",!0),Fs(this,w[4]),this.h=Us(w[5]||"",!0),mh(this,w[6]||"",!0),this.m=Us(w[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}si.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(zs(w,ov,!0),":");var P=this.g;return(P||w=="file")&&(f.push("//"),(w=this.o)&&f.push(zs(w,ov,!0),"@"),f.push(js(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&f.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(zs(P,P.charAt(0)=="/"?BA:zA,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",zs(P,WA)),f.join("")},si.prototype.resolve=function(f){const w=Xr(this);let P=!!f.j;P?$s(w,f.j):P=!!f.o,P?w.o=f.o:P=!!f.g,P?w.g=f.g:P=f.u!=null;var R=f.h;if(P)Fs(w,f.u);else if(P=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var j=w.h.lastIndexOf("/");j!=-1&&(R=w.h.slice(0,j+1)+R)}if(j=R,j==".."||j==".")R="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){R=j.lastIndexOf("/",0)==0,j=j.split("/");const U=[];for(let J=0;J<j.length;){const xe=j[J++];xe=="."?R&&J==j.length&&U.push(""):xe==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),R&&J==j.length&&U.push("")):(U.push(xe),R=!0)}R=U.join("/")}else R=j}return P?w.h=R:P=f.i.toString()!=="",P?mh(w,hv(f.i)):P=!!f.m,P&&(w.m=f.m),w};function Xr(f){return new si(f)}function $s(f,w,P){f.j=P?Us(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Fs(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function mh(f,w,P){w instanceof Bs?(f.i=w,qA(f.i,f.l)):(P||(w=zs(w,HA)),f.i=new Bs(w,f.l))}function ze(f,w,P){f.i.set(w,P)}function Il(f){return ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Us(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zs(f,w,P){return typeof f=="string"?(f=encodeURI(f).replace(w,UA),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function UA(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ov=/[#\/\?@]/g,zA=/[#\?:]/g,BA=/[#\?]/g,HA=/[#\?@]/g,WA=/#/g;function Bs(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function $i(f){f.g||(f.g=new Map,f.h=0,f.i&&FA(f.i,function(w,P){f.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}t=Bs.prototype,t.add=function(f,w){$i(this),this.i=null,f=La(this,f);let P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(w),this.h+=1,this};function lv(f,w){$i(f),w=La(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function cv(f,w){return $i(f),w=La(f,w),f.g.has(w)}t.forEach=function(f,w){$i(this),this.g.forEach(function(P,R){P.forEach(function(j){f.call(w,j,R,this)},this)},this)};function uv(f,w){$i(f);let P=[];if(typeof w=="string")cv(f,w)&&(P=P.concat(f.g.get(La(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)P=P.concat(f[w]);return P}t.set=function(f,w){return $i(this),this.i=null,f=La(this,f),cv(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=uv(this,f),f.length>0?String(f[0]):w):w};function dv(f,w,P){lv(f,w),P.length>0&&(f.i=null,f.g.set(La(f,w),g(P)),f.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let R=0;R<w.length;R++){var P=w[R];const j=js(P);P=uv(this,P);for(let U=0;U<P.length;U++){let J=j;P[U]!==""&&(J+="="+js(P[U])),f.push(J)}}return this.i=f.join("&")};function hv(f){const w=new Bs;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function La(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function qA(f,w){w&&!f.j&&($i(f),f.i=null,f.g.forEach(function(P,R){const j=R.toLowerCase();R!=j&&(lv(this,R),dv(this,j,P))},f)),f.j=w}function KA(f,w){const P=new Nr;if(s.Image){const R=new Image;R.onload=d(oi,P,"TestLoadImage: loaded",!0,w,R),R.onerror=d(oi,P,"TestLoadImage: error",!1,w,R),R.onabort=d(oi,P,"TestLoadImage: abort",!1,w,R),R.ontimeout=d(oi,P,"TestLoadImage: timeout",!1,w,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else w(!1)}function GA(f,w){const P=new Nr,R=new AbortController,j=setTimeout(()=>{R.abort(),oi(P,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:R.signal}).then(U=>{clearTimeout(j),U.ok?oi(P,"TestPingServer: ok",!0,w):oi(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(j),oi(P,"TestPingServer: error",!1,w)})}function oi(f,w,P,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(P)}catch{}}function YA(){this.g=new V}function ph(f){this.i=f.Sb||null,this.h=f.ab||!1}h(ph,Q),ph.prototype.g=function(){return new Cl(this.i,this.h)};function Cl(f,w){ct.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Cl,ct),t=Cl.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Ws(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||s).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fv(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function fv(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Hs(this):Ws(this),this.readyState==3&&fv(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Hs(this))},t.Na=function(f){this.g&&(this.response=f,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ws(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=w.next();return f.join(`\r
`)};function Ws(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function mv(f){let w="";return z(f,function(P,R){w+=R,w+=":",w+=P,w+=`\r
`}),w}function gh(f,w,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=mv(P),typeof f=="string"?P!=null&&js(P):ze(f,w,P))}function it(f){ct.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(it,ct);var XA=/^https?$/i,QA=["POST","PUT"];t=it.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Y0.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(U){pv(this,U);return}if(f=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)P.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())P.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(U=>U.toLowerCase()=="content-type"),j=s.FormData&&f instanceof s.FormData,!(Array.prototype.indexOf.call(QA,w,void 0)>=0)||R||j||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of P)this.g.setRequestHeader(U,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(U){pv(this,U)}};function pv(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,gv(f),kl(f)}function gv(f){f.A||(f.A=!0,gt(f,"complete"),gt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,gt(this,"complete"),gt(this,"abort"),kl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kl(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vv(this):this.Xa())},t.Xa=function(){vv(this)};function vv(f){if(f.h&&typeof a<"u"){if(f.v&&li(f)==4)setTimeout(f.Ca.bind(f),0);else if(gt(f,"readystatechange"),li(f)==4){f.h=!1;try{const U=f.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var R;if(R=U===0){let J=String(f.D).match(sv)[1]||null;!J&&s.self&&s.self.location&&(J=s.self.location.protocol.slice(0,-1)),R=!XA.test(J?J.toLowerCase():"")}P=R}if(P)gt(f,"complete"),gt(f,"success");else{f.o=6;try{var j=li(f)>2?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.ca()+"]",gv(f)}}finally{kl(f)}}}}function kl(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const P=f.g;f.g=null,w||gt(f,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function li(f){return f.g?f.g.readyState:0}t.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),ie(w)}};function yv(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function JA(f){const w={};f=(f.g&&li(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(O(f[R]))continue;var P=LA(f[R]);const j=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const U=w[j]||[];w[j]=U,U.push(P)}ee(w,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(f,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||w}function bv(f){this.za=0,this.i=[],this.j=new Nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qs("baseRetryDelayMs",5e3,f),this.Za=qs("retryDelaySeedMs",1e4,f),this.Ta=qs("forwardChannelMaxRetries",2,f),this.va=qs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new tv(f&&f.concurrentRequestLimit),this.Ba=new YA,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bv.prototype,t.ka=8,t.I=1,t.connect=function(f,w,P,R){It(0),this.W=f,this.H=w||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.J=Tv(this,null,this.W),Rl(this)};function vh(f){if(xv(f),f.I==3){var w=f.V++,P=Xr(f.J);if(ze(P,"SID",f.M),ze(P,"RID",w),ze(P,"TYPE","terminate"),Ks(f,P),w=new ai(f,f.j,w),w.M=2,w.A=Il(Xr(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(w.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=w.A,P=!0),P||(w.g=Iv(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Tl(w)}Sv(f)}function Ol(f){f.g&&(bh(f),f.g.cancel(),f.g=null)}function xv(f){Ol(f),f.v&&(s.clearTimeout(f.v),f.v=null),Ml(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&s.clearTimeout(f.m),f.m=null)}function Rl(f){if(!rv(f.h)&&!f.m){f.m=!0;var w=f.Ea;k||T(),M||(k(),M=!0),_.add(w,f),f.D=0}}function ZA(f,w){return nv(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ii(u(f.Ea,f,w),Pv(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const j=new ai(this,this.j,f);let U=this.o;if(this.U&&(U?(U=ce(U),ke(U,this.U)):U=this.U),this.u!==null||this.R||(j.J=U,U=null),this.S)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,w>4096){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=_v(this,j,w),P=Xr(this.J),ze(P,"RID",f),ze(P,"CVER",22),this.G&&ze(P,"X-HTTP-Session-Id",this.G),Ks(this,P),U&&(this.R?w="headers="+js(mv(U))+"&"+w:this.u&&gh(P,this.u,U)),fh(this.h,j),this.Ra&&ze(P,"TYPE","init"),this.S?(ze(P,"$req",w),ze(P,"SID","null"),j.U=!0,ch(j,P,null)):ch(j,P,w),this.I=2}}else this.I==3&&(f?wv(this,f):this.i.length==0||rv(this.h)||wv(this))};function wv(f,w){var P;w?P=w.l:P=f.V++;const R=Xr(f.J);ze(R,"SID",f.M),ze(R,"RID",P),ze(R,"AID",f.K),Ks(f,R),f.u&&f.o&&gh(R,f.u,f.o),P=new ai(f,f.j,P,f.D+1),f.u===null&&(P.J=f.o),w&&(f.i=w.G.concat(f.i)),w=_v(f,P,1e3),P.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),fh(f.h,P),ch(P,R,w)}function Ks(f,w){f.H&&z(f.H,function(P,R){ze(w,R,P)}),f.l&&z({},function(P,R){ze(w,R,P)})}function _v(f,w,P){P=Math.min(f.i.length,P);const R=f.l?u(f.l.Ka,f.l,f):null;e:{var j=f.i;let xe=-1;for(;;){const vt=["count="+P];xe==-1?P>0?(xe=j[0].g,vt.push("ofs="+xe)):xe=0:vt.push("ofs="+xe);let je=!0;for(let Ct=0;Ct<P;Ct++){var U=j[Ct].g;const Qr=j[Ct].map;if(U-=xe,U<0)xe=Math.max(0,j[Ct].g-100),je=!1;else try{U="req"+U+"_"||"";try{var J=Qr instanceof Map?Qr:Object.entries(Qr);for(const[Ui,ci]of J){let ui=ci;o(ci)&&(ui=$(ci)),vt.push(U+Ui+"="+encodeURIComponent(ui))}}catch(Ui){throw vt.push(U+"type="+encodeURIComponent("_badmap")),Ui}}catch{R&&R(Qr)}}if(je){J=vt.join("&");break e}}J=void 0}return f=f.i.splice(0,P),w.G=f,J}function Nv(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;k||T(),M||(k(),M=!0),_.add(w,f),f.A=0}}function yh(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ii(u(f.Da,f),Pv(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Ev(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ii(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Ol(this),Ev(this))};function bh(f){f.B!=null&&(s.clearTimeout(f.B),f.B=null)}function Ev(f){f.g=new ai(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=Xr(f.na);ze(w,"RID","rpc"),ze(w,"SID",f.M),ze(w,"AID",f.K),ze(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&ze(w,"TO",f.ia),ze(w,"TYPE","xmlhttp"),Ks(f,w),f.u&&f.o&&gh(w,f.u,f.o),f.O&&(f.g.H=f.O);var P=f.g;f=f.ba,P.M=1,P.A=Il(Xr(w)),P.u=null,P.R=!0,J0(P,f)}t.Va=function(){this.C!=null&&(this.C=null,Ol(this),yh(this),It(19))};function Ml(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function Av(f,w){var P=null;if(f.g==w){Ml(f),bh(f),f.g=null;var R=2}else if(hh(f.h,w))P=w.G,iv(f.h,w),R=1;else return;if(f.I!=0){if(w.o)if(R==1){P=w.u?w.u.length:0,w=Date.now()-w.F;var j=f.D;R=ur(),gt(R,new Ls(R,P)),Rl(f)}else Nv(f);else if(j=w.m,j==3||j==0&&w.X>0||!(R==1&&ZA(f,w)||R==2&&yh(f)))switch(P&&P.length>0&&(w=f.h,w.i=w.i.concat(P)),j){case 1:Fi(f,5);break;case 4:Fi(f,10);break;case 3:Fi(f,6);break;default:Fi(f,2)}}}function Pv(f,w){let P=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(P*=2),P*w}function Fi(f,w){if(f.j.info("Error code "+w),w==2){var P=u(f.bb,f),R=f.Ua;const j=!R;R=new si(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||$s(R,"https"),Il(R),j?KA(R.toString(),P):GA(R.toString(),P)}else It(2);f.I=0,f.l&&f.l.pa(w),Sv(f),xv(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Sv(f){if(f.I=0,f.ja=[],f.l){const w=av(f.h);(w.length!=0||f.i.length!=0)&&(b(f.ja,w),b(f.ja,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.oa()}}function Tv(f,w,P){var R=P instanceof si?Xr(P):new si(P);if(R.g!="")w&&(R.g=w+"."+R.g),Fs(R,R.u);else{var j=s.location;R=j.protocol,w=w?w+"."+j.hostname:j.hostname,j=+j.port;const U=new si(null);R&&$s(U,R),w&&(U.g=w),j&&Fs(U,j),P&&(U.h=P),R=U}return P=f.G,w=f.wa,P&&w&&ze(R,P,w),ze(R,"VER",f.ka),Ks(f,R),R}function Iv(f,w,P){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new it(new ph({ab:P})):new it(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cv(){}t=Cv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Dl(){}Dl.prototype.g=function(f,w){return new dr(f,w)};function dr(f,w){ct.call(this),this.g=new bv(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!O(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new ja(this)}h(dr,ct),dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){vh(this.g)},dr.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.v&&(P={},P.__data__=$(f),f=P);w.i.push(new $A(w.Ya++,f)),w.I==3&&Rl(w)},dr.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,dr.Z.N.call(this)};function kv(f){ue.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const P in w){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}h(kv,ue);function Ov(){de.call(this),this.status=1}h(Ov,de);function ja(f){this.g=f}h(ja,Cv),ja.prototype.ra=function(){gt(this.g,"a")},ja.prototype.qa=function(f){gt(this.g,new kv(f))},ja.prototype.pa=function(f){gt(this.g,new Ov)},ja.prototype.oa=function(){gt(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,Mw=function(){return new Dl},Rw=function(){return ur()},Ow=Oe,Cf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sl.NO_ERROR=0,Sl.TIMEOUT=8,Sl.HTTP_ERROR=6,uc=Sl,G0.COMPLETE="complete",kw=G0,se.EventType=W,W.OPEN="a",W.CLOSE="b",W.ERROR="c",W.MESSAGE="d",ct.prototype.listen=ct.prototype.J,co=se,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,Cw=it}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const Ey="@firebase/firestore",Ay="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Jm("@firebase/firestore");function Wa(){return da.logLevel}function re(t,...e){if(da.logLevel<=_e.DEBUG){const r=e.map(dp);da.debug(`Firestore (${xs}): ${t}`,...r)}}function Vn(t,...e){if(da.logLevel<=_e.ERROR){const r=e.map(dp);da.error(`Firestore (${xs}): ${t}`,...r)}}function is(t,...e){if(da.logLevel<=_e.WARN){const r=e.map(dp);da.warn(`Firestore (${xs}): ${t}`,...r)}}function dp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Dw(t,n,r)}function Dw(t,e,r){let n=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Vn(n),new Error(n)}function Ce(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Dw(e,i,n)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends bn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(qt.UNAUTHENTICATED))}shutdown(){}}class bC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class xC{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ce(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _i,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _i)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ce(typeof n.accessToken=="string",31837,{l:n}),new Lw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class wC{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _C{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new wC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ce(this.o===void 0,3512);const n=a=>{a.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,re("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ce(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Py(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=EC(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ne(t,e){return t<e?-1:t>e?1:0}function kf(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return Mh(i)===Mh(a)?Ne(i,a):Mh(i)?1:-1}return Ne(t.length,e.length)}const AC=55296,PC=57343;function Mh(t){const e=t.charCodeAt(0);return e>=AC&&e<=PC}function as(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="__name__";class tn{constructor(e,r,n){r===void 0?r=0:r>e.length&&me(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&me(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return tn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof tn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=tn.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ne(e.length,r.length)}static compareSegments(e,r){const n=tn.isNumericId(e),i=tn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?tn.extractNumericId(e).compare(tn.extractNumericId(r)):kf(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class Ze extends tn{construct(e,r,n){return new Ze(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ze(r)}static emptyPath(){return new Ze([])}}const SC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends tn{construct(e,r,n){return new Ft(e,r,n)}static isValidIdentifier(e){return SC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sy}static keyField(){return new Ft([Sy])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(r)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ze.fromString(e))}static fromName(e){return new fe(Ze.fromString(e).popFirst(5))}static empty(){return new fe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ze.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e,r){if(!r)throw new le(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IC(t,e,r,n){if(e===!0&&n===!0)throw new le(X.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Ty(t){if(!fe.isDocumentKey(t))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=fp(t);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const r={typeString:t};return e&&(r.value=e),r}function tl(t,e){if(!jw(t))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new le(X.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-62135596800,Cy=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Cy);return new He(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Iy)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cy}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tl(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:ht("string",He._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new He(0,0))}static max(){return new ve(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=-1;function CC(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(n===1e9?new He(r+1,0):new He(r,n));return new Ai(i,fe.empty(),e)}function kC(t){return new Ai(t.readTime,t.key,Io)}class Ai{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ai(ve.min(),fe.empty(),Io)}static max(){return new Ai(ve.max(),fe.empty(),Io)}}function OC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=fe.comparator(t.documentKey,e.documentKey),r!==0?r:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==RC)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new q((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof q?r:q.resolve(r)}catch(r){return q.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):q.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):q.reject(r)}static resolve(e){return new q((r,n)=>{r(e)})}static reject(e){return new q((r,n)=>{n(e)})}static waitFor(e){return new q((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=q.resolve(!1);for(const n of e)r=r.next(i=>i?q.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new q((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{s[u]=d,++o,o===a&&n(s)},d=>i(d))}})}static doWhile(e,r){return new q((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function DC(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function _s(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function Hu(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function LC(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="";function jC(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=ky(e)),e=VC(t.get(r),e);return ky(e)}function VC(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case Vw:r+="";break;default:r+=a}}return r}function ky(t){return t+Vw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ri(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function $w(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,r){this.comparator=e,this.root=r||$t.EMPTY}insert(e,r){return new tt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??$t.RED,this.left=i??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new $t(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return $t.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new $t(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(e){return new Ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Et(this.comparator);return r.data=e,r}}class Ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new vr([])}unionWith(e){let r=new Et(Ft.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new vr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return as(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Fw("Invalid base64 string: "+a):a}}(e);return new Ut(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ut(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const $C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const r=$C.exec(t);if(Ce(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="server_timestamp",zw="__type__",Bw="__previous_value__",Hw="__local_write_time__";function pp(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[zw])==null?void 0:n.stringValue)===Uw}function Wu(t){const e=t.mapValue.fields[Bw];return pp(e)?Wu(e):e}function Co(t){const e=Pi(t.mapValue.fields[Hw].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,r,n,i,a,s,o,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const kc="(default)";class ko{constructor(e,r){this.projectId=e,this.database=r||kc}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===kc}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__type__",qw="__max__",Fl={mapValue:{fields:{__type__:{stringValue:qw}}}},Kw="__vector__",Oc="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pp(t)?4:zC(t)?9007199254740991:UC(t)?10:11:me(28295,{value:t})}function fn(t,e){if(t===e)return!0;const r=Ti(t);if(r!==Ti(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Co(t).isEqual(Co(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Pi(i.timestampValue),o=Pi(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Si(i.bytesValue).isEqual(Si(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ot(i.geoPointValue.latitude)===ot(a.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ot(i.integerValue)===ot(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ot(i.doubleValue),o=ot(a.doubleValue);return s===o?Cc(s)===Cc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return as(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(Oy(s)!==Oy(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!fn(s[c],o[c])))return!1;return!0}(t,e);default:return me(52216,{left:t})}}function Oo(t,e){return(t.values||[]).find(r=>fn(r,e))!==void 0}function ss(t,e){if(t===e)return 0;const r=Ti(t),n=Ti(e);if(r!==n)return Ne(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=ot(a.integerValue||a.doubleValue),c=ot(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return My(t.timestampValue,e.timestampValue);case 4:return My(Co(t),Co(e));case 5:return kf(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Si(a),c=Si(s);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Ne(o[u],c[u]);if(d!==0)return d}return Ne(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Ne(ot(a.latitude),ot(s.latitude));return o!==0?o:Ne(ot(a.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dy(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,g,b,x;const o=a.fields||{},c=s.fields||{},u=(p=o[Oc])==null?void 0:p.arrayValue,d=(g=c[Oc])==null?void 0:g.arrayValue,h=Ne(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return h!==0?h:Dy(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Fl.mapValue&&s===Fl.mapValue)return 0;if(a===Fl.mapValue)return 1;if(s===Fl.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=kf(c[h],d[h]);if(p!==0)return p;const g=ss(o[c[h]],u[d[h]]);if(g!==0)return g}return Ne(c.length,d.length)}(t.mapValue,e.mapValue);default:throw me(23264,{he:r})}}function My(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const r=Pi(t),n=Pi(e),i=Ne(r.seconds,n.seconds);return i!==0?i:Ne(r.nanos,n.nanos)}function Dy(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ss(r[i],n[i]);if(a)return a}return Ne(r.length,n.length)}function os(t){return Of(t)}function Of(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Pi(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Si(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Of(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Of(r.fields[s])}`;return i+"}"}(t.mapValue):me(61005,{value:t})}function dc(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wu(t);return e?16+dc(e):16;case 5:return 2*t.stringValue.length;case 6:return Si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+dc(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Ri(n.fields,(a,s)=>{i+=a.length+dc(s)}),i}(t.mapValue);default:throw me(13486,{value:t})}}function Rf(t){return!!t&&"integerValue"in t}function gp(t){return!!t&&"arrayValue"in t}function Ly(t){return!!t&&"nullValue"in t}function jy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hc(t){return!!t&&"mapValue"in t}function UC(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Ww])==null?void 0:n.stringValue)===Kw}function xo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ri(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=xo(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=xo(t.arrayValue.values[r]);return e}return{...t}}function zC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!hc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=xo(r)}setAll(e){let r=Ft.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=xo(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());hc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ri(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new sr(xo(this.value))}}function Gw(t){const e=[];return Ri(t.fields,(r,n)=>{const i=new Ft([r]);if(hc(n)){const a=Gw(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Kt(e,0,ve.min(),ve.min(),ve.min(),sr.empty(),0)}static newFoundDocument(e,r,n,i){return new Kt(e,1,r,ve.min(),n,i,0)}static newNoDocument(e,r){return new Kt(e,2,r,ve.min(),ve.min(),sr.empty(),0)}static newUnknownDocument(e,r){return new Kt(e,3,r,ve.min(),ve.min(),sr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,r){this.position=e,this.inclusive=r}}function Vy(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=fe.comparator(fe.fromName(s.referenceValue),r.key):n=ss(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function $y(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!fn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r="asc"){this.field=e,this.dir=r}}function BC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{}class wt extends Yw{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new WC(e,r,n):r==="array-contains"?new GC(e,n):r==="in"?new YC(e,n):r==="not-in"?new XC(e,n):r==="array-contains-any"?new QC(e,n):new wt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new qC(e,n):new KC(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ss(r,this.value)):r!==null&&Ti(this.value)===Ti(r)&&this.matchesComparison(ss(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends Yw{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new mn(e,r)}matches(e){return Xw(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xw(t){return t.op==="and"}function Qw(t){return HC(t)&&Xw(t)}function HC(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function Mf(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+os(t.value);if(Qw(t))return t.filters.map(e=>Mf(e)).join(",");{const e=t.filters.map(r=>Mf(r)).join(",");return`${t.op}(${e})`}}function Jw(t,e){return t instanceof wt?function(n,i){return i instanceof wt&&n.op===i.op&&n.field.isEqual(i.field)&&fn(n.value,i.value)}(t,e):t instanceof mn?function(n,i){return i instanceof mn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&Jw(s,i.filters[o]),!0):!1}(t,e):void me(19439)}function Zw(t){return t instanceof wt?function(r){return`${r.field.canonicalString()} ${r.op} ${os(r.value)}`}(t):t instanceof mn?function(r){return r.op.toString()+" {"+r.getFilters().map(Zw).join(" ,")+"}"}(t):"Filter"}class WC extends wt{constructor(e,r,n){super(e,r,n),this.key=fe.fromName(n.referenceValue)}matches(e){const r=fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class qC extends wt{constructor(e,r){super(e,"in",r),this.keys=e4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class KC extends wt{constructor(e,r){super(e,"not-in",r),this.keys=e4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function e4(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>fe.fromName(n.referenceValue))}class GC extends wt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return gp(r)&&Oo(r.arrayValue,this.value)}}class YC extends wt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Oo(this.value.arrayValue,r)}}class XC extends wt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Oo(this.value.arrayValue,r)}}class QC extends wt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!gp(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Oo(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function Fy(t,e=null,r=[],n=[],i=null,a=null,s=null){return new JC(t,e,r,n,i,a,s)}function vp(t){const e=ye(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Mf(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Hu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>os(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>os(n)).join(",")),e.Te=r}return e.Te}function yp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!BC(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Jw(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$y(t.startAt,e.startAt)&&$y(t.endAt,e.endAt)}function Df(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZC(t,e,r,n,i,a,s,o){return new qu(t,e,r,n,i,a,s,o)}function bp(t){return new qu(t)}function Uy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ek(t){return t.collectionGroup!==null}function wo(t){const e=ye(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Et(Ft.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Mc(a,n))}),r.has(Ft.keyField().canonicalString())||e.Ie.push(new Mc(Ft.keyField(),n))}return e.Ie}function on(t){const e=ye(t);return e.Ee||(e.Ee=tk(e,wo(t))),e.Ee}function tk(t,e){if(t.limitType==="F")return Fy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Mc(i.field,a)});const r=t.endAt?new Rc(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Rc(t.startAt.position,t.startAt.inclusive):null;return Fy(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Lf(t,e,r){return new qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Ku(t,e){return yp(on(t),on(e))&&t.limitType===e.limitType}function t4(t){return`${vp(on(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Zw(i)).join(", ")}]`),Hu(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>os(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>os(i)).join(",")),`Target(${n})`}(on(t))}; limitType=${t.limitType})`}function Gu(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):fe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of wo(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,c){const u=Vy(s,o,c);return s.inclusive?u<=0:u<0}(n.startAt,wo(n),i)||n.endAt&&!function(s,o,c){const u=Vy(s,o,c);return s.inclusive?u>=0:u>0}(n.endAt,wo(n),i))}(t,e)}function rk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r4(t){return(e,r)=>{let n=!1;for(const i of wo(t)){const a=nk(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function nk(t,e,r){const n=t.field.isKeyField()?fe.comparator(e.key,r.key):function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?ss(c,u):me(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new tt(fe.comparator);function $n(){return ik}const n4=new tt(fe.comparator);function uo(...t){let e=n4;for(const r of t)e=e.insert(r.key,r);return e}function i4(t){let e=n4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Xi(){return _o()}function a4(){return _o()}function _o(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const ak=new tt(fe.comparator),sk=new Et(fe.comparator);function Ee(...t){let e=sk;for(const r of t)e=e.add(r);return e}const ok=new Et(Ne);function lk(){return ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function s4(t){return{integerValue:""+t}}function ck(t,e){return LC(e)?s4(e):xp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this._=void 0}}function uk(t,e,r){return t instanceof Dc?function(i,a){const s={fields:{[zw]:{stringValue:Uw},[Hw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&pp(a)&&(a=Wu(a)),a&&(s.fields[Bw]=a),{mapValue:s}}(r,e):t instanceof Ro?l4(t,e):t instanceof Mo?c4(t,e):function(i,a){const s=o4(i,a),o=zy(s)+zy(i.Ae);return Rf(s)&&Rf(i.Ae)?s4(o):xp(i.serializer,o)}(t,e)}function dk(t,e,r){return t instanceof Ro?l4(t,e):t instanceof Mo?c4(t,e):r}function o4(t,e){return t instanceof Lc?function(n){return Rf(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Dc extends Yu{}class Ro extends Yu{constructor(e){super(),this.elements=e}}function l4(t,e){const r=u4(e);for(const n of t.elements)r.some(i=>fn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Mo extends Yu{constructor(e){super(),this.elements=e}}function c4(t,e){let r=u4(e);for(const n of t.elements)r=r.filter(i=>!fn(i,n));return{arrayValue:{values:r}}}class Lc extends Yu{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function zy(t){return ot(t.integerValue||t.doubleValue)}function u4(t){return gp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hk(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Ro&&i instanceof Ro||n instanceof Mo&&i instanceof Mo?as(n.elements,i.elements,fn):n instanceof Lc&&i instanceof Lc?fn(n.Ae,i.Ae):n instanceof Dc&&i instanceof Dc}(t.transform,e.transform)}class fk{constructor(e,r){this.version=e,this.transformResults=r}}class ln{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xu{}function d4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f4(t.key,ln.none()):new rl(t.key,t.data,ln.none());{const r=t.data,n=sr.empty();let i=new Et(Ft.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Mi(t.key,n,new vr(i.toArray()),ln.none())}}function mk(t,e,r){t instanceof rl?function(i,a,s){const o=i.value.clone(),c=Hy(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Mi?function(i,a,s){if(!fc(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=Hy(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(h4(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function No(t,e,r,n){return t instanceof rl?function(a,s,o,c){if(!fc(a.precondition,s))return o;const u=a.value.clone(),d=Wy(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Mi?function(a,s,o,c){if(!fc(a.precondition,s))return o;const u=Wy(a.fieldTransforms,c,s),d=s.data;return d.setAll(h4(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,s,o){return fc(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function pk(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=o4(n.transform,i||null);a!=null&&(r===null&&(r=sr.empty()),r.set(n.field,a))}return r||null}function By(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&as(n,i,(a,s)=>hk(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rl extends Xu{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends Xu{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function h4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Hy(t,e,r){const n=new Map;Ce(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,dk(s,o,r[i]))}return n}function Wy(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,uk(a,s,e))}return n}class f4 extends Xu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gk extends Xu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&mk(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=No(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=No(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=a4();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=d4(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ee())}isEqual(e){return this.batchId===e.batchId&&as(this.mutations,e.mutations,(r,n)=>By(r,n))&&as(this.baseMutations,e.baseMutations,(r,n)=>By(r,n))}}class wp{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ce(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return ak}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new wp(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Se;function xk(t){switch(t){case X.OK:return me(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return me(15467,{code:t})}}function m4(t){if(t===void 0)return Vn("GRPC error has no .code"),X.UNKNOWN;switch(t){case ut.OK:return X.OK;case ut.CANCELLED:return X.CANCELLED;case ut.UNKNOWN:return X.UNKNOWN;case ut.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ut.INTERNAL:return X.INTERNAL;case ut.UNAVAILABLE:return X.UNAVAILABLE;case ut.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ut.NOT_FOUND:return X.NOT_FOUND;case ut.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ut.ABORTED:return X.ABORTED;case ut.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ut.DATA_LOSS:return X.DATA_LOSS;default:return me(39323,{code:t})}}(Se=ut||(ut={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new wi([4294967295,4294967295],0);function qy(t){const e=wk().encode(t),r=new Iw;return r.update(e),new Uint8Array(r.digest())}function Ky(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new wi([r,n],0),new wi([i,a],0)]}class _p{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ho(`Invalid padding: ${r}`);if(n<0)throw new ho(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ho(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=wi.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(wi.fromNumber(n)));return i.compare(_k)===1&&(i=new wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=qy(e),[n,i]=Ky(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new _p(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=qy(e),[n,i]=Ky(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Qu(ve.min(),i,new tt(Ne),$n(),Ee())}}class nl{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new nl(n,r,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class p4{constructor(e,r){this.targetId=e,this.Ce=r}}class g4{constructor(e,r,n=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Gy{constructor(){this.ve=0,this.Fe=Yy(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),r=Ee(),n=Ee();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:me(38017,{changeType:a})}}),new nl(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=Yy()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nk{constructor(e){this.Ge=e,this.ze=new Map,this.je=$n(),this.Je=Ul(),this.He=Ul(),this.Ye=new tt(Ne)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:me(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Df(a))if(n===0){const s=new fe(a.path);this.et(r,s,Kt.newNoDocument(s,ve.min()))}else Ce(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),c=o?this.ct(o,e,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Si(n).toUint8Array()}catch(c){if(c instanceof Fw)return is("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new _p(s,i,a)}catch(c){return is(c instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Df(o.target)){const c=new fe(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Kt.newNoDocument(c,e))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=Ee();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Qu(e,r,this.Ye,this.je,n);return this.je=$n(),this.Je=Ul(),this.He=Ul(),this.Ye=new tt(Ne),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Gy,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Et(Ne),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Et(Ne),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||re("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gy),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Ul(){return new tt(fe.comparator)}function Yy(){return new tt(fe.comparator)}const Ek=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ak=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Pk=(()=>({and:"AND",or:"OR"}))();class Sk{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function jf(t,e){return t.useProto3Json||Hu(e)?e:{value:e}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tk(t,e){return jc(t,e.toTimestamp())}function cn(t){return Ce(!!t,49232),ve.fromTimestamp(function(r){const n=Pi(r);return new He(n.seconds,n.nanos)}(t))}function Np(t,e){return Vf(t,e).canonicalString()}function Vf(t,e){const r=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function y4(t){const e=Ze.fromString(t);return Ce(N4(e),10190,{key:e.toString()}),e}function $f(t,e){return Np(t.databaseId,e.path)}function Dh(t,e){const r=y4(e);if(r.get(1)!==t.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new fe(x4(r))}function b4(t,e){return Np(t.databaseId,e)}function Ik(t){const e=y4(t);return e.length===4?Ze.emptyPath():x4(e)}function Ff(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x4(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xy(t,e,r){return{name:$f(t,e),fields:r.value.mapValue.fields}}function Ck(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Ce(d===void 0||typeof d=="string",58123),Ut.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ut.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?X.UNKNOWN:m4(u.code);return new le(d,u.message||"")}(s);r=new g4(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Dh(t,n.document.name),a=cn(n.document.updateTime),s=n.document.createTime?cn(n.document.createTime):ve.min(),o=new sr({mapValue:{fields:n.document.fields}}),c=Kt.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new mc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Dh(t,n.document),a=n.readTime?cn(n.readTime):ve.min(),s=Kt.newNoDocument(i,a),o=n.removedTargetIds||[];r=new mc([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Dh(t,n.document),a=n.removedTargetIds||[];r=new mc([],a,i,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new bk(i,a),o=n.targetId;r=new p4(o,s)}}return r}function kk(t,e){let r;if(e instanceof rl)r={update:Xy(t,e.key,e.value)};else if(e instanceof f4)r={delete:$f(t,e.key)};else if(e instanceof Mi)r={update:Xy(t,e.key,e.data),updateMask:Fk(e.fieldMask)};else{if(!(e instanceof gk))return me(16599,{Vt:e.type});r={verify:$f(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Lc)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw me(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Tk(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:me(27497)}(t,e.precondition)),r}function Ok(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?cn(i.updateTime):cn(a);return s.isEqual(ve.min())&&(s=cn(a)),new fk(s,i.transformResults||[])}(r,e))):[]}function Rk(t,e){return{documents:[b4(t,e.path)]}}function Mk(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=b4(t,i);const a=function(u){if(u.length!==0)return _4(mn.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ka(p.field),direction:jk(p.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=jf(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function Dk(t){let e=Ik(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ce(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const p=w4(h);return p instanceof mn&&Qw(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(h){return h.map(p=>function(b){return new Mc(Ga(b.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,Hu(p)?null:p}(r.limit));let c=null;r.startAt&&(c=function(h){const p=!!h.before,g=h.values||[];return new Rc(g,p)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Rc(g,p)}(r.endAt)),ZC(e,i,s,a,o,"F",c,u)}function Lk(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function w4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ga(r.unaryFilter.field);return wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ga(r.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ga(r.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ga(r.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}}(t):t.fieldFilter!==void 0?function(r){return wt.create(Ga(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return mn.create(r.compositeFilter.filters.map(n=>w4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me(1026)}}(r.compositeFilter.op))}(t):me(30097,{filter:t})}function jk(t){return Ek[t]}function Vk(t){return Ak[t]}function $k(t){return Pk[t]}function Ka(t){return{fieldPath:t.canonicalString()}}function Ga(t){return Ft.fromServerFormat(t.fieldPath)}function _4(t){return t instanceof wt?function(r){if(r.op==="=="){if(jy(r.value))return{unaryFilter:{field:Ka(r.field),op:"IS_NAN"}};if(Ly(r.value))return{unaryFilter:{field:Ka(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(jy(r.value))return{unaryFilter:{field:Ka(r.field),op:"IS_NOT_NAN"}};if(Ly(r.value))return{unaryFilter:{field:Ka(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(r.field),op:Vk(r.op),value:r.value}}}(t):t instanceof mn?function(r){const n=r.getFilters().map(i=>_4(i));return n.length===1?n[0]:{compositeFilter:{op:$k(r.op),filters:n}}}(t):me(54877,{filter:t})}function Fk(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function N4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,r,n,i,a=ve.min(),s=ve.min(),o=Ut.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.yt=e}}function zk(t){const e=Dk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.Cn=new Hk}addToCollectionParentIndex(e,r){return this.Cn.add(r),q.resolve()}getCollectionParents(e,r){return q.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return q.resolve()}deleteFieldIndex(e,r){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,r){return q.resolve()}getDocumentsMatchingTarget(e,r){return q.resolve(null)}getIndexType(e,r){return q.resolve(0)}getFieldIndexes(e,r){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,r){return q.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,r){return q.resolve(Ai.min())}updateCollectionGroup(e,r,n){return q.resolve()}updateIndexEntries(e,r){return q.resolve()}}class Hk{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Et(Ze.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Et(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E4=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(E4,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ls(0)}static cr(){return new ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",Wk=1048576;function Zy([t,e],[r,n]){const i=Ne(t,r);return i===0?Ne(e,n):i}class qk{constructor(e){this.Ir=e,this.buffer=new Et(Zy),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Zy(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Kk{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Jy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){_s(r)?re(Jy,"Ignoring IndexedDB error during garbage collection: ",r):await ws(r)}await this.Vr(3e5)})}}class Gk{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return q.resolve(Bu.ce);const n=new qk(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(Qy)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),Wa()<=_e.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function Yk(t,e){return new Gk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.changes=new Ea(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?q.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&No(n.mutation,i,vr.empty(),He.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ee()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ee()){const i=Xi();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=uo();return a.forEach((o,c)=>{s=s.insert(o,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Xi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ee()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=$n();const s=_o(),o=function(){return _o()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Mi)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),No(d.mutation,u,d.mutation.getFieldMask(),He.now())):s.set(u.key,vr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),r.forEach((u,d)=>o.set(u,new Qk(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,r){const n=_o();let i=new tt((s,o)=>s-o),a=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||vr.empty();d=o.applyToLocalView(u,d),n.set(c,d);const h=(i.get(o.batchId)||Ee()).add(c);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,h=a4();d.forEach(p=>{if(!a.has(p)){const g=d4(r.get(p),n.get(p));g!==null&&h.set(p,g),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return q.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ek(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):q.resolve(Xi());let o=Io,c=a;return s.next(u=>q.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Ee())).next(d=>({batchId:o,changes:i4(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new fe(r)).next(n=>{let i=uo();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=uo();return this.indexManager.getCollectionParents(e,a).next(o=>q.forEach(o,c=>{const u=function(h,p){return new qu(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Kt.newInvalidDocument(d)))});let o=uo();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&No(d.mutation,u,vr.empty(),He.now()),Gu(r,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return q.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:cn(i.createTime)}}(r)),q.resolve()}getNamedQuery(e,r){return q.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:zk(i.bundledQuery),readTime:cn(i.readTime)}}(r)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.overlays=new tt(fe.comparator),this.qr=new Map}getOverlay(e,r){return q.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Xi();return q.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),q.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),q.resolve()}getOverlaysForCollection(e,r,n){const i=Xi(),a=r.length+1,s=new fe(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new tt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Xi(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Xi(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return q.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new yk(r,n));let a=this.qr.get(r);a===void 0&&(a=Ee(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.Qr=new Et(kt.$r),this.Ur=new Et(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new kt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new kt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new fe(new Ze([])),n=new kt(r,e),i=new kt(r,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new fe(new Ze([])),n=new kt(r,e),i=new kt(r,e+1);let a=Ee();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new kt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return fe.comparator(e.key,r.key)||Ne(e.Yr,r.Yr)}static Kr(e,r){return Ne(e.Yr,r.Yr)||fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Et(kt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vk(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new kt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return q.resolve(s)}lookupMutationBatch(e,r){return q.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?mp:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kt(r,0),i=new kt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Et(Ne);return r.forEach(i=>{const a=new kt(i,0),s=new kt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),q.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;fe.isDocumentKey(a)||(a=a.child(""));const s=new kt(new fe(a),0);let o=new Et(Ne);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Yr)),!0)},s),q.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ce(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return q.forEach(r.mutations,i=>{const a=new kt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new kt(r,0),i=this.Zr.firstAfterOrEqual(n);return q.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.ri=e,this.docs=function(){return new tt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return q.resolve(n?n.document.mutableCopy():Kt.newInvalidDocument(r))}getEntries(e,r){let n=$n();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Kt.newInvalidDocument(i))}),q.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=$n();const s=r.path,o=new fe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||OC(kC(d),n)<=0||(i.has(d.key)||Gu(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(e,r,n,i){me(9500)}ii(e,r){return q.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new i8(this)}getSize(e){return q.resolve(this.size)}}class i8 extends Xk{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),q.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e){this.persistence=e,this.si=new Ea(r=>vp(r),yp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=ls.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),q.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new ls(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,q.resolve()}updateTargetData(e,r){return this.Pr(r),q.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),q.waitFor(a).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return q.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),q.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),q.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),q.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return q.resolve(n)}containsKey(e,r){return q.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,r){this.ui={},this.overlays={},this.ci=new Bu(0),this.li=!1,this.li=!0,this.hi=new t8,this.referenceDelegate=e(this),this.Pi=new a8(this),this.indexManager=new Bk,this.remoteDocumentCache=function(i){return new n8(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Uk(r),this.Ii=new Zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new e8,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new r8(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){re("MemoryPersistence","Starting transaction:",e);const i=new s8(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return q.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class s8 extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class Ap{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new Ap(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),q.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),q.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),q.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,n=>{const i=fe.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,ve.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return q.or([()=>q.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Vc{constructor(e,r){this.persistence=e,this.pi=new Ea(n=>jC(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Yk(this,r)}static mi(e,r){return new Vc(e,r)}Ei(){}di(e){return q.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return q.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?q.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,r).next(o=>{o||(n++,a.removeEntry(s,ve.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=dc(e.data.value)),r}br(e,r,n){return q.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return q.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ee(),i=Ee();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Pp(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return OP()?8:DC(Xt())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new o8;return this.Ss(e,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,r,s,o.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Wa()<=_e.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",qa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Wa()<=_e.DEBUG&&re("QueryEngine","Query:",qa(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Wa()<=_e.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",qa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(r))):q.resolve())}ys(e,r){if(Uy(r))return q.resolve(null);let n=on(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Lf(r,null,"F"),n=on(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=Ee(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,o);return this.Cs(r,u,s,c.readTime)?this.ys(e,Lf(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return Uy(r)||i.isEqual(ve.min())?q.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?q.resolve(null):(Wa()<=_e.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(r)),this.vs(e,s,r,CC(i,Io)).next(o=>o))})}Ds(e,r){let n=new Et(r4(e));return r.forEach((i,a)=>{Gu(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Wa()<=_e.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",qa(r)),this.ps.getDocumentsMatchingQuery(e,r,Ai.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="LocalStore",c8=3e8;class u8{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new tt(Ne),this.xs=new Ea(a=>vp(a),yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function d8(t,e,r,n){return new u8(t,e,r,n)}async function P4(t,e){const r=ye(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let c=Ee();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function h8(t,e){const r=ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const h=u.batch,p=h.keys();let g=q.resolve();return p.forEach(b=>{g=g.next(()=>d.getEntry(c,b)).next(x=>{const v=u.docVersions.get(b);Ce(v!==null,48541),x.version.compareTo(v)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(c,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=Ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function S4(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function f8(t,e){const r=ye(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Ut.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),i=i.insert(h,g),function(x,v,E){return x.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=c8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,d)&&o.push(r.Pi.updateTargetData(a,g))});let c=$n(),u=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(m8(a,s,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(ve.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(d)}return q.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function m8(t,e,r){let n=Ee(),i=Ee();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=$n();return r.forEach((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):re(Sp,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:s,qs:i}})}function p8(t,e){const r=ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=mp),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function g8(t,e){const r=ye(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,q.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new yi(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Uf(t,e,r){const n=ye(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!_s(s))throw s;re(Sp,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function e1(t,e,r){const n=ye(t);let i=ve.min(),a=Ee();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const h=ye(c),p=h.xs.get(d);return p!==void 0?q.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(n,s,on(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:ve.min(),r?a:Ee())).next(o=>(v8(n,rk(e),o),{documents:o,Qs:a})))}function v8(t,e,r){let n=t.Os.get(e)||ve.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class t1{constructor(){this.activeTargetIds=lk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y8{constructor(){this.Mo=new t1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new t1,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="ConnectivityMonitor";class n1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re(r1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re(r1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function zf(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="RestConnection",x8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===kc?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=zf(),o=this.zo(e,r.toUriEncodedString());re(Lh,`Sending RPC '${e}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(o),d=_a(u);return this.Jo(e,o,c,n,d).then(h=>(re(Lh,`Received RPC '${e}' ${s}: `,h),h),h=>{throw is(Lh,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",n),h})}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=x8[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class N8 extends w8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=zf();return new Promise((o,c)=>{const u=new Cw;u.setWithCredentials(!0),u.listenOnce(kw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uc.NO_ERROR:const h=u.getResponseJson();re(Ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case uc.TIMEOUT:re(Ht,`RPC '${e}' ${s} timed out`),c(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const p=u.getStatus();if(re(Ht,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const x=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(A)>=0?A:X.UNKNOWN}(b.status);c(new le(x,b.message))}else c(new le(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new le(X.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{re(Ht,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);re(Ht,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=zf(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mw(),o=Rw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");re(Ht,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=s.createWebChannel(d,c);this.I_(h);let p=!1,g=!1;const b=new _8({Yo:v=>{g?re(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(p||(re(Ht,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),re(Ht,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Zo:()=>h.close()}),x=(v,E,A)=>{v.listen(E,S=>{try{A(S)}catch(L){setTimeout(()=>{throw L},0)}})};return x(h,co.EventType.OPEN,()=>{g||(re(Ht,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),x(h,co.EventType.CLOSE,()=>{g||(g=!0,re(Ht,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(h))}),x(h,co.EventType.ERROR,v=>{g||(g=!0,is(Ht,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),b.a_(new le(X.UNAVAILABLE,"The operation could not be completed")))}),x(h,co.EventType.MESSAGE,v=>{var E;if(!g){const A=v.data[0];Ce(!!A,16349);const S=A,L=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(L){re(Ht,`RPC '${e}' stream ${i} received error:`,L);const k=L.status;let M=function(N){const C=ut[N];if(C!==void 0)return m4(C)}(k),_=L.message;M===void 0&&(M=X.INTERNAL,_="Unknown error status: "+k+" with message "+L.message),g=!0,b.a_(new le(M,_)),h.close()}else re(Ht,`RPC '${e}' stream ${i} received:`,A),b.u_(A)}}),x(o,Ow.STAT_EVENT,v=>{v.stat===Cf.PROXY?re(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Cf.NOPROXY&&re(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function jh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){return new Sk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="PersistentStream";class I4{constructor(e,r,n,i,a,s,o,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T4(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(Vn(r.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new le(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(i1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(re(i1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E8 extends I4{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Ck(this.serializer,e),n=function(a){if(!("targetChange"in a))return ve.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?cn(s.readTime):ve.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Ff(this.serializer),r.addTarget=function(a,s){let o;const c=s.target;if(o=Df(c)?{documents:Rk(a,c)}:{query:Mk(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=v4(a,s.resumeToken);const u=jf(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){o.readTime=jc(a,s.snapshotVersion.toTimestamp());const u=jf(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=Lk(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Ff(this.serializer),r.removeTarget=e,this.q_(r)}}class A8 extends I4{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Ok(e.writeResults,e.commitTime),n=cn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Ff(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>kk(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{}class S8 extends P8{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,Vf(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(X.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,Vf(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(X.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class T8{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vn(r),this.aa=!1):re("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class I8{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{Aa(this)&&(re(fa,"Restarting streams for network reachability change."),await async function(c){const u=ye(c);u.Ea.add(4),await il(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Zu(u)}(this))})}),this.Ra=new T8(n,i)}}async function Zu(t){if(Aa(t))for(const e of t.da)await e(!0)}async function il(t){for(const e of t.da)await e(!1)}function C4(t,e){const r=ye(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),kp(r)?Cp(r):Ns(r).O_()&&Ip(r,e))}function Tp(t,e){const r=ye(t),n=Ns(r);r.Ia.delete(e),n.O_()&&k4(r,e),r.Ia.size===0&&(n.O_()?n.L_():Aa(r)&&r.Ra.set("Unknown"))}function Ip(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ns(t).Y_(e)}function k4(t,e){t.Va.Ue(e),Ns(t).Z_(e)}function Cp(t){t.Va=new Nk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ns(t).start(),t.Ra.ua()}function kp(t){return Aa(t)&&!Ns(t).x_()&&t.Ia.size>0}function Aa(t){return ye(t).Ea.size===0}function O4(t){t.Va=void 0}async function C8(t){t.Ra.set("Online")}async function k8(t){t.Ia.forEach((e,r)=>{Ip(t,e)})}async function O8(t,e){O4(t),kp(t)?(t.Ra.ha(e),Cp(t)):t.Ra.set("Unknown")}async function R8(t,e,r){if(t.Ra.set("Online"),e instanceof g4&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){re(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await $c(t,n)}else if(e instanceof mc?t.Va.Ze(e):e instanceof p4?t.Va.st(e):t.Va.tt(e),!r.isEqual(ve.min()))try{const n=await S4(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Ut.EMPTY_BYTE_STRING,d.snapshotVersion)),k4(a,c);const h=new yi(d.target,c,u,d.sequenceNumber);Ip(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){re(fa,"Failed to raise snapshot:",n),await $c(t,n)}}async function $c(t,e,r){if(!_s(e))throw e;t.Ea.add(1),await il(t),t.Ra.set("Offline"),r||(r=()=>S4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(fa,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Zu(t)})}function R4(t,e){return e().catch(r=>$c(t,r,e))}async function ed(t){const e=ye(t),r=Ii(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mp;for(;M8(e);)try{const i=await p8(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,D8(e,i)}catch(i){await $c(e,i)}M4(e)&&D4(e)}function M8(t){return Aa(t)&&t.Ta.length<10}function D8(t,e){t.Ta.push(e);const r=Ii(t);r.O_()&&r.X_&&r.ea(e.mutations)}function M4(t){return Aa(t)&&!Ii(t).x_()&&t.Ta.length>0}function D4(t){Ii(t).start()}async function L8(t){Ii(t).ra()}async function j8(t){const e=Ii(t);for(const r of t.Ta)e.ea(r.mutations)}async function V8(t,e,r){const n=t.Ta.shift(),i=wp.from(n,e,r);await R4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ed(t)}async function $8(t,e){e&&Ii(t).X_&&await async function(n,i){if(function(s){return xk(s)&&s!==X.ABORTED}(i.code)){const a=n.Ta.shift();Ii(n).B_(),await R4(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ed(n)}}(t,e),M4(t)&&D4(t)}async function a1(t,e){const r=ye(t);r.asyncQueue.verifyOperationInProgress(),re(fa,"RemoteStore received new credentials");const n=Aa(r);r.Ea.add(3),await il(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Zu(r)}async function F8(t,e){const r=ye(t);e?(r.Ea.delete(2),await Zu(r)):e||(r.Ea.add(2),await il(r),r.Ra.set("Unknown"))}function Ns(t){return t.ma||(t.ma=function(r,n,i){const a=ye(r);return a.sa(),new E8(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:C8.bind(null,t),t_:k8.bind(null,t),r_:O8.bind(null,t),H_:R8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),kp(t)?Cp(t):t.Ra.set("Unknown")):(await t.ma.stop(),O4(t))})),t.ma}function Ii(t){return t.fa||(t.fa=function(r,n,i){const a=ye(r);return a.sa(),new A8(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:L8.bind(null,t),r_:$8.bind(null,t),ta:j8.bind(null,t),na:V8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ed(t)):(await t.fa.stop(),t.Ta.length>0&&(re(fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new Op(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),_s(t))return new le(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{static emptySet(e){return new es(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||fe.comparator(r.key,n.key):(r,n)=>fe.comparator(r.key,n.key),this.keyedMap=uo(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof es)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new es;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.ga=new tt(fe.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class cs{constructor(e,r,n,i,a,s,o,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new cs(e,r,es.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class z8{constructor(){this.queries=o1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ye(r),a=i.queries;i.queries=o1(),a.forEach((s,o)=>{for(const c of o.Sa)c.onError(n)})})(this,new le(X.ABORTED,"Firestore shutting down"))}}function o1(){return new Ea(t=>t4(t),Ku)}async function B8(t,e){const r=ye(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new U8,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=Rp(s,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Mp(r)}async function H8(t,e){const r=ye(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function W8(t,e){const r=ye(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&Mp(r)}function q8(t,e,r){const n=ye(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function Mp(t){t.Ca.forEach(e=>{e.next()})}var Bf,l1;(l1=Bf||(Bf={})).Ma="default",l1.Cache="cache";class K8{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new cs(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.key=e}}class j4{constructor(e){this.key=e}}class G8{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=r4(e),this.tu=new es(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new s1,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=Gu(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;p&&g?p.data.isEqual(g.data)?b!==x&&(n.track({type:3,doc:g}),v=!0):this.su(p,g)||(n.track({type:2,doc:g}),v=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(o=!0)):!p&&g?(n.track({type:0,doc:g}),v=!0):p&&!g&&(n.track({type:1,doc:p}),v=!0,(c||u)&&(o=!0)),v&&(g?(s=s.add(g),a=x?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,h)=>function(g,b){const x=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:v})}};return x(g)-x(b)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,s.length!==0||u?{snapshot:new cs(this.query,e.tu,a,s,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new j4(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new L4(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ee();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return cs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dp="SyncEngine";class Y8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class X8{constructor(e){this.key=e,this.hu=!1}}class Q8{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ea(o=>t4(o),Ku),this.Iu=new Map,this.Eu=new Set,this.du=new tt(fe.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=ls.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J8(t,e,r=!0){const n=B4(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await V4(n,e,r,!0),i}async function Z8(t,e){const r=B4(t);await V4(r,e,!0,!1)}async function V4(t,e,r,n){const i=await g8(t.localStore,on(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await e7(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&C4(t.remoteStore,i),o}async function e7(t,e,r,n,i){t.pu=(h,p,g)=>async function(x,v,E,A){let S=v.view.ru(E);S.Cs&&(S=await e1(x.localStore,v.query,!1).then(({documents:_})=>v.view.ru(_,S)));const L=A&&A.targetChanges.get(v.targetId),k=A&&A.targetMismatches.get(v.targetId)!=null,M=v.view.applyChanges(S,x.isPrimaryClient,L,k);return u1(x,v.targetId,M.au),M.snapshot}(t,h,p,g);const a=await e1(t.localStore,e,!0),s=new G8(e,a.Qs),o=s.ru(a.documents),c=nl.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,c);u1(t,r,u.au);const d=new Y8(e,r,s);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function t7(t,e,r){const n=ye(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!Ku(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Uf(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Tp(n.remoteStore,i.targetId),Hf(n,i.targetId)}).catch(ws)):(Hf(n,i.targetId),await Uf(n.localStore,i.targetId,!0))}async function r7(t,e){const r=ye(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Tp(r.remoteStore,n.targetId))}async function n7(t,e,r){const n=u7(t);try{const i=await function(s,o){const c=ye(s),u=He.now(),d=o.reduce((g,b)=>g.add(b.key),Ee());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=$n(),x=Ee();return c.Ns.getEntries(g,d).next(v=>{b=v,b.forEach((E,A)=>{A.isValidDocument()||(x=x.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(v=>{h=v;const E=[];for(const A of o){const S=pk(A,h.get(A.key).overlayedDocument);S!=null&&E.push(new Mi(A.key,S,Gw(S.value.mapValue),ln.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,E,o)}).next(v=>{p=v;const E=v.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(g,v.batchId,E)})}).then(()=>({batchId:p.batchId,changes:i4(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let u=s.Vu[s.currentUser.toKey()];u||(u=new tt(Ne)),u=u.insert(o,c),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await al(n,i.changes),await ed(n.remoteStore)}catch(i){const a=Rp(i,"Failed to persist write");r.reject(a)}}async function $4(t,e){const r=ye(t);try{const n=await f8(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ce(s.hu,14607):i.removedDocuments.size>0&&(Ce(s.hu,42227),s.hu=!1))}),await al(r,n,e)}catch(n){await ws(n)}}function c1(t,e,r){const n=ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const c=ye(s);c.onlineState=o;let u=!1;c.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(o)&&(u=!0)}),u&&Mp(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function i7(t,e,r){const n=ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new tt(fe.comparator);s=s.insert(a,Kt.newNoDocument(a,ve.min()));const o=Ee().add(a),c=new Qu(ve.min(),new Map,new tt(Ne),s,o);await $4(n,c),n.du=n.du.remove(a),n.Au.delete(e),Lp(n)}else await Uf(n.localStore,e,!1).then(()=>Hf(n,e,r)).catch(ws)}async function a7(t,e){const r=ye(t),n=e.batch.batchId;try{const i=await h8(r.localStore,e);U4(r,n,null),F4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await al(r,i)}catch(i){await ws(i)}}async function s7(t,e,r){const n=ye(t);try{const i=await function(s,o){const c=ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(h=>(Ce(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);U4(n,e,r),F4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await al(n,i)}catch(i){await ws(i)}}function F4(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function U4(t,e,r){const n=ye(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Hf(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||z4(t,n)})}function z4(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Tp(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Lp(t))}function u1(t,e,r){for(const n of r)n instanceof L4?(t.Ru.addReference(n.key,e),o7(t,n)):n instanceof j4?(re(Dp,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||z4(t,n.key)):me(19791,{wu:n})}function o7(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(re(Dp,"New document in limbo: "+r),t.Eu.add(n),Lp(t))}function Lp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new fe(Ze.fromString(e)),n=t.fu.next();t.Au.set(n,new X8(r)),t.du=t.du.insert(r,n),C4(t.remoteStore,new yi(on(bp(r.path)),n,"TargetPurposeLimboResolution",Bu.ce))}}async function al(t,e,r){const n=ye(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,c)=>{s.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Pp.As(c.targetId,u);a.push(h)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(c,u){const d=ye(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(u,p=>q.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>q.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!_s(h))throw h;re(Sp,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.Ms.get(p),b=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(p,x)}}}(n.localStore,a))}async function l7(t,e){const r=ye(t);if(!r.currentUser.isEqual(e)){re(Dp,"User change. New user:",e.toKey());const n=await P4(r.localStore,e);r.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(c=>{c.reject(new le(X.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await al(r,n.Ls)}}function c7(t,e){const r=ye(t),n=r.Au.get(e);if(n&&n.hu)return Ee().add(n.key);{let i=Ee();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function B4(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i7.bind(null,e),e.Pu.H_=W8.bind(null,e.eventManager),e.Pu.yu=q8.bind(null,e.eventManager),e}function u7(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s7.bind(null,e),e}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return d8(this.persistence,new l8,e.initialUser,this.serializer)}Cu(e){return new A4(Ap.mi,this.serializer)}Du(e){return new y8}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class d7 extends Fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ce(this.persistence.referenceDelegate instanceof Vc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Kk(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new A4(n=>Vc.mi(n,r),this.serializer)}}class Wf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>c1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=l7.bind(null,this.syncEngine),await F8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z8}()}createDatastore(e){const r=Ju(e.databaseInfo.databaseId),n=function(a){return new N8(a)}(e.databaseInfo);return function(a,s,o,c){return new S8(a,s,o,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new I8(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>c1(this.syncEngine,r,0),function(){return n1.v()?new n1:new b8}())}createSyncEngine(e,r){return function(i,a,s,o,c,u,d){const h=new Q8(i,a,s,o,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=ye(i);re(fa,"RemoteStore shutting down."),a.Ea.add(5),await il(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Wf.provider={build:()=>new Wf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class f7{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{re(Ci,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(re(Ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Rp(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Vh(t,e){t.asyncQueue.verifyOperationInProgress(),re(Ci,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await P4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function d1(t,e){t.asyncQueue.verifyOperationInProgress();const r=await m7(t);re(Ci,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>a1(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>a1(e.remoteStore,i)),t._onlineComponents=e}async function m7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Ci,"Using user provided OfflineComponentProvider");try{await Vh(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;is("Error using user provided cache. Falling back to memory cache: "+r),await Vh(t,new Fc)}}else re(Ci,"Using default OfflineComponentProvider"),await Vh(t,new d7(void 0));return t._offlineComponents}async function H4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Ci,"Using user provided OnlineComponentProvider"),await d1(t,t._uninitializedComponentsProvider._online)):(re(Ci,"Using default OnlineComponentProvider"),await d1(t,new Wf))),t._onlineComponents}function p7(t){return H4(t).then(e=>e.syncEngine)}async function g7(t){const e=await H4(t),r=e.eventManager;return r.onListen=J8.bind(null,e.syncEngine),r.onUnlisten=t7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Z8.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=r7.bind(null,e.syncEngine),r}function v7(t,e,r={}){const n=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new h7({next:p=>{d.Nu(),s.enqueueAndForget(()=>H8(a,h));const g=p.docs.has(o);!g&&p.fromCache?u.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new K8(bp(o.path),d,{includeMetadataChanges:!0,qa:!0});return B8(a,h)}(await g7(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="firestore.googleapis.com",f1=!0;class m1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q4,this.ssl=f1}else this.host=e.host,this.ssl=e.ssl??f1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wk)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W4(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jp{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new yC;switch(n.type){case"firstParty":return new _C(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=h1.get(r);n&&(re("ComponentProvider","Removing Datastore"),h1.delete(r),n.terminate())}(this),Promise.resolve()}}function y7(t,e,r,n={}){var u;t=ha(t,jp);const i=_a(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(Xm(`https://${o}`),Qm("Firestore",!0)),a.host!==q4&&a.host!==o&&is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:o,ssl:i,emulatorOptions:n};if(!sa(c,s)&&(t._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=qt.MOCK_USER;else{d=Ux(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qt(p)}t._authCredentials=new bC(new Lw(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vp(this.firestore,e,this._query)}}class _t{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(tl(r,_t._jsonSchema))return new _t(e,n||null,new fe(Ze.fromString(r.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:ht("string",_t._jsonSchemaVersion),referencePath:ht("string")};class Do extends Vp{constructor(e,r,n){super(e,r,bp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new fe(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function $h(t,e,...r){if(t=pt(t),arguments.length===1&&(e=hp.newId()),TC("doc","path",e),t instanceof jp){const n=Ze.fromString(e,...r);return Ty(n),new _t(t,null,new fe(n))}{if(!(t instanceof _t||t instanceof Do))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ze.fromString(e,...r));return Ty(n),new _t(t.firestore,t instanceof Do?t.converter:null,new fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="AsyncQueue";class g1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T4(this,"async_queue_retry"),this._c=()=>{const n=jh();n&&re(p1,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=jh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=jh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new _i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_s(e))throw e;re(p1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Vn("INTERNAL UNHANDLED ERROR: ",v1(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Op.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&me(47125,{Pc:v1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function v1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class td extends jp{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new g1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g1(e),this._firestoreClient=void 0,await e}}}function b7(t,e){const r=typeof t=="object"?t:ep(),n=typeof t=="string"?t:e||kc,i=$u(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Vx("firestore");a&&y7(i,...a)}return i}function K4(t){if(t._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x7(t),t._firestoreClient}function x7(t){var n,i,a;const e=t._freezeSettings(),r=function(o,c,u,d){return new FC(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,W4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new f7(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ir(Ut.fromBase64String(e))}catch(r){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ir(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tl(e,Ir._jsonSchema))return Ir.fromBase64String(e.bytes)}}Ir._jsonSchemaVersion="firestore/bytes/1.0",Ir._jsonSchema={type:ht("string",Ir._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:un._jsonSchemaVersion}}static fromJSON(e){if(tl(e,un._jsonSchema))return new un(e.latitude,e.longitude)}}un._jsonSchemaVersion="firestore/geoPoint/1.0",un._jsonSchema={type:ht("string",un._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:dn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tl(e,dn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new dn(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dn._jsonSchemaVersion="firestore/vectorValue/1.0",dn._jsonSchema={type:ht("string",dn._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=/^__.*__$/;class _7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,r,this.fieldTransforms):new rl(e,this.data,r,this.fieldTransforms)}}class G4{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Mi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Y4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:t})}}class Fp{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Y4(this.Ac)&&w7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Ju(e)}Cc(e,r,n,i=!1){return new Fp({Ac:e,methodName:r,Dc:n,path:Ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X4(t){const e=t._freezeSettings(),r=Ju(t._databaseId);return new N7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function E7(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);Up("Data must be an object, but it was:",s,n);const o=Q4(n,s);let c,u;if(a.merge)c=new vr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=qf(e,h,r);if(!s.contains(p))throw new le(X.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Z4(d,p)||d.push(p)}c=new vr(d),u=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=s.fieldTransforms;return new _7(new sr(o),c,u)}class nd extends $p{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nd}}function A7(t,e,r,n){const i=t.Cc(1,e,r);Up("Data must be an object, but it was:",i,n);const a=[],s=sr.empty();Ri(n,(c,u)=>{const d=zp(e,c,r);u=pt(u);const h=i.yc(d);if(u instanceof nd)a.push(d);else{const p=id(u,h);p!=null&&(a.push(d),s.set(d,p))}});const o=new vr(a);return new G4(s,o,i.fieldTransforms)}function P7(t,e,r,n,i,a){const s=t.Cc(1,e,r),o=[qf(e,n,r)],c=[i];if(a.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(qf(e,a[p])),c.push(a[p+1]);const u=[],d=sr.empty();for(let p=o.length-1;p>=0;--p)if(!Z4(u,o[p])){const g=o[p];let b=c[p];b=pt(b);const x=s.yc(g);if(b instanceof nd)u.push(g);else{const v=id(b,x);v!=null&&(u.push(g),d.set(g,v))}}const h=new vr(u);return new G4(d,h,s.fieldTransforms)}function id(t,e){if(J4(t=pt(t)))return Up("Unsupported field value:",e,t),Q4(t,e);if(t instanceof $p)return function(n,i){if(!Y4(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let c=id(o,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ck(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=He.fromDate(n);return{timestampValue:jc(i.serializer,a)}}if(n instanceof He){const a=new He(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jc(i.serializer,a)}}if(n instanceof un)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ir)return{bytesValue:v4(i.serializer,n._byteString)};if(n instanceof _t){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Np(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof dn)return function(s,o){return{mapValue:{fields:{[Ww]:{stringValue:Kw},[Oc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return xp(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${fp(n)}`)}(t,e)}function Q4(t,e){const r={};return $w(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(t,(n,i)=>{const a=id(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function J4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof un||t instanceof Ir||t instanceof _t||t instanceof $p||t instanceof dn)}function Up(t,e,r){if(!J4(r)||!jw(r)){const n=fp(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function qf(t,e,r){if((e=pt(e))instanceof rd)return e._internalPath;if(typeof e=="string")return zp(t,e);throw Uc("Field path arguments must be of type string or ",t,!1,void 0,r)}const S7=new RegExp("[~\\*/\\[\\]]");function zp(t,e,r){if(e.search(S7)>=0)throw Uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new rd(...e.split("."))._internalPath}catch{throw Uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Uc(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new le(X.INVALID_ARGUMENT,o+t+c)}function Z4(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(t6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class T7 extends e6{data(){return super.data()}}function t6(t,e){return typeof e=="string"?zp(t,e):e instanceof rd?e._internalPath:e._delegate._internalPath}class I7{convertValue(e,r="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ri(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Oc].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ot(s.doubleValue));return new dn(r)}convertGeoPoint(e){return new un(ot(e.latitude),ot(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Wu(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Co(e));default:return null}}convertTimestamp(e){const r=Pi(e);return new He(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ze.fromString(e);Ce(N4(n),9688,{name:e});const i=new ko(n.get(1),n.get(3)),a=new fe(n.popFirst(5));return i.isEqual(r)||Vn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class fo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends e6{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(t6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ta._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:ht("string",ta._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class pc extends ta{data(e={}){return super.data(e)}}class Eo{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new fo(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new pc(this._firestore,this._userDataWriter,n.key,n,new fo(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const c=new pc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new fo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const c=new pc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new fo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:k7(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(t){t=ha(t,_t);const e=ha(t.firestore,td);return v7(K4(e),t._key).then(r=>L7(e,t,r))}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:ht("string",Eo._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class R7 extends I7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,r)}}function M7(t,e,r){t=ha(t,_t);const n=ha(t.firestore,td),i=C7(t.converter,e,r);return r6(n,[E7(X4(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ln.none())])}function D7(t,e,r,...n){t=ha(t,_t);const i=ha(t.firestore,td),a=X4(i);let s;return s=typeof(e=pt(e))=="string"||e instanceof rd?P7(a,"updateDoc",t._key,e,r,n):A7(a,"updateDoc",t._key,e),r6(i,[s.toMutation(t._key,ln.exists(!0))])}function r6(t,e){return function(n,i){const a=new _i;return n.asyncQueue.enqueueAndForget(async()=>n7(await p7(n),i,a)),a.promise}(K4(t),e)}function L7(t,e,r){const n=r.docs.get(e._key),i=new R7(t);return new ta(t,i,e._key,n,new fo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){xs=i})(Na),oa(new Ei("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new td(new xC(n.getProvider("auth-internal")),new NC(s,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),an(Ey,Ay,e),an(Ey,Ay,"esm2020")})();var j7="firebase",V7="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an(j7,V7,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="firebasestorage.googleapis.com",$7="storageBucket",F7=2*60*1e3,U7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends bn{constructor(e,r,n=0){super(Fh(e),`Firebase Storage: ${r} (${Fh(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pn||(pn={}));function Fh(t){return"storage/"+t}function z7(){const t="An unknown error occurred, please check the error payload for server response.";return new xn(pn.UNKNOWN,t)}function B7(){return new xn(pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H7(){return new xn(pn.CANCELED,"User canceled the upload/download.")}function W7(t){return new xn(pn.INVALID_URL,"Invalid URL '"+t+"'.")}function q7(t){return new xn(pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y1(t){return new xn(pn.INVALID_ARGUMENT,t)}function i6(){return new xn(pn.APP_DELETED,"The Firebase app was deleted.")}function K7(t){return new xn(pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ur.makeFromUrl(e,r)}catch{return new Ur(e,"")}if(n.path==="")return n;throw q7(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),b={bucket:1,path:3},x=r===n6?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",E=new RegExp(`^https?://${x}/${i}/${v}`,"i"),S=[{regex:o,indices:c,postModify:a},{regex:g,indices:b,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<S.length;L++){const k=S[L],M=k.regex.exec(e);if(M){const _=M[k.indices.bucket];let T=M[k.indices.path];T||(T=""),n=new Ur(_,T),k.postModify(n);break}}if(n==null)throw W7(e);return n}}class G7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t,e,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(g,c())},v)}function p(){a&&clearTimeout(a)}function g(v,...E){if(u){p();return}if(v){p(),d.call(null,v,...E);return}if(c()||s){p(),d.call(null,v,...E);return}n<64&&(n*=2);let S;o===1?(o=2,S=0):S=(n+Math.random())*1e3,h(S)}let b=!1;function x(v){b||(b=!0,p(),!u&&(i!==null?(v||(o=2),clearTimeout(i),h(0)):v||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,x(!0)},r),x}function X7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){return t!==void 0}function b1(t,e,r,n){if(n<e)throw y1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw y1(`Invalid value for '${t}'. Expected ${r} or less.`)}function J7(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var zc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zc||(zc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,r,n,i,a,s,o,c,u,d,h,p=!0,g=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Bl(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===zc.NO_ERROR,c=a.getStatus();if(!o||Z7(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===zc.ABORT;n(!1,new Bl(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new Bl(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());Q7(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=z7();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?i6():H7();s(c)}else{const c=B7();s(c)}};this.canceled_?r(!1,new Bl(!1,null,!0)):this.backoffId_=Y7(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bl{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function tO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aO(t,e,r,n,i,a,s=!0,o=!1){const c=J7(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return nO(d,e),tO(d,r),rO(d,a),iO(d,n),new eO(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,r){this._service=e,r instanceof Ur?this._location=r:this._location=Ur.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Bc(e,r)}get root(){const e=new Ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oO(this._location.path)}get storage(){return this._service}get parent(){const e=sO(this._location.path);if(e===null)return null;const r=new Ur(this._location.bucket,e);return new Bc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw K7(e)}}function x1(t,e){const r=e==null?void 0:e[$7];return r==null?null:Ur.makeFromBucketSpec(r,t)}function lO(t,e,r,n={}){t.host=`${e}:${r}`;const i=_a(e);i&&(Xm(`https://${t.host}/b`),Qm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:Ux(a,t.app.options.projectId))}class cO{constructor(e,r,n,i,a,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=n6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F7,this._maxUploadRetryTime=U7,this._requests=new Set,i!=null?this._bucket=Ur.makeFromBucketSpec(i,this._host):this._bucket=x1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ur.makeFromBucketSpec(this._url,e):this._bucket=x1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bc(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new G7(i6());{const s=aO(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const w1="@firebase/storage",_1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="storage";function uO(t=ep(),e){t=pt(t);const n=$u(t,a6).getImmediate({identifier:e}),i=Vx("storage");return i&&dO(n,...i),n}function dO(t,e,r,n={}){lO(t,e,r,n)}function hO(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cO(r,n,i,e,Na)}function fO(){oa(new Ei(a6,hO,"PUBLIC").setMultipleInstances(!0)),an(w1,_1,""),an(w1,_1,"esm2020")}fO();const mO={apiKey:"AIzaSyCzV_dpqYNcTGyrhiiCy3ptkGpY9lspiJU",authDomain:"octopusrealestate-e6ce4.firebaseapp.com",projectId:"octopusrealestate-e6ce4",storageBucket:"octopusrealestate-e6ce4.firebasestorage.app",messagingSenderId:"702799852036",appId:"1:702799852036:web:63b081b81100ee03dcbb51"},Bp=Hx(mO),tr=Tw(Bp),Uh=b7(Bp);uO(Bp);class pO{constructor(){this.googleProvider=new Pn,this.facebookProvider=new An,this.googleProvider.setCustomParameters({prompt:"select_account"})}async registerWithEmail(e){try{const{email:r,password:n,firstName:i,lastName:a,phone:s}=e,c=(await JT(tr,r,n)).user;return await eI(c),await this.createUserProfile(c.uid,{email:r,firstName:i,lastName:a,phone:s,role:"user",emailVerified:!1,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()}),await hy(c,{displayName:`${i} ${a}`}),{success:!0,user:{uid:c.uid,email:c.email,displayName:`${i} ${a}`,emailVerified:c.emailVerified,role:"user"},needsVerification:!0}}catch(r){return this.handleAuthError(r)}}async loginWithEmail(e,r){try{const i=(await ZT(tr,e,r)).user;return await this.updateUserProfile(i.uid,{lastLoginAt:new Date().toISOString()}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async signInWithGoogle(){var e,r;try{const i=(await py(tr,this.googleProvider)).user;return await this.getUserProfile(i.uid)?await this.updateUserProfile(i.uid,{lastLoginAt:new Date().toISOString()}):await this.createUserProfile(i.uid,{email:i.email,firstName:((e=i.displayName)==null?void 0:e.split(" ")[0])||"",lastName:((r=i.displayName)==null?void 0:r.split(" ")[1])||"",role:"user",emailVerified:i.emailVerified,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),photoURL:i.photoURL}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async signInWithFacebook(){var e,r;try{const i=(await py(tr,this.facebookProvider)).user;return await this.getUserProfile(i.uid)||await this.createUserProfile(i.uid,{email:i.email,firstName:((e=i.displayName)==null?void 0:e.split(" ")[0])||"",lastName:((r=i.displayName)==null?void 0:r.split(" ")[1])||"",role:"user",emailVerified:i.emailVerified,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),photoURL:i.photoURL}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async logout(){try{return await oI(tr),{success:!0}}catch(e){return this.handleAuthError(e)}}async resetPassword(e){try{return await QT(tr,e),{success:!0}}catch(r){return this.handleAuthError(r)}}async updatePassword(e){try{const r=tr.currentUser;if(!r)throw new Error("No authenticated user");return await rI(r,e),{success:!0}}catch(r){return this.handleAuthError(r)}}async updateUserProfile(e){try{const r=tr.currentUser;if(!r)throw new Error("No authenticated user");return(e.displayName||e.photoURL)&&await hy(r,{displayName:e.displayName,photoURL:e.photoURL}),await this.updateUserProfile(r.uid,e),{success:!0,user:await this.getUserProfile(r.uid)}}catch(r){return this.handleAuthError(r)}}onAuthStateChange(e){return sI(tr,async r=>{if(r){const n=await this.getUserProfile(r.uid);e({user:n,isAuthenticated:!0})}else e({user:null,isAuthenticated:!1})})}getCurrentUser(){return tr.currentUser}isAuthenticated(){return!!tr.currentUser}async hasRole(e){const r=tr.currentUser;if(!r)return!1;const n=await this.getUserProfile(r.uid);return(n==null?void 0:n.role)===e}async isAdmin(){return this.hasRole("admin")}async createUserProfile(e,r){try{await M7($h(Uh,"users",e),r)}catch(n){throw console.error("Error creating user profile:",n),n}}async getUserProfile(e){try{const r=$h(Uh,"users",e),n=await O7(r);return n.exists()?{uid:e,...n.data()}:null}catch(r){return console.error("Error getting user profile:",r),null}}async updateUserProfile(e,r){try{await D7($h(Uh,"users",e),r)}catch(n){throw console.error("Error updating user profile:",n),n}}handleAuthError(e){return console.error("Auth error:",e),{success:!1,error:{"auth/invalid-email":"Invalid email address","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password should be at least 6 characters","auth/network-request-failed":"Network error. Please check your connection","auth/too-many-requests":"Too many attempts. Please try again later"}[e.code]||e.message}}}const hr=new pO,zi={HOUSE:"house",APARTMENT:"apartment",CONDO:"condo",VILLA:"villa",COMMERCIAL:"commercial",LAND:"land",OTHER:"other"},Xs={FOR_SALE:"forSale",FOR_RENT:"forRent",SOLD:"sold",RENTED:"rented",PENDING:"pending"},N1={DEFAULT:"USD",SYMBOL:"$",LOCALE:"en-US"},Hl={NETWORK_ERROR:"Network error. Please check your connection and try again.",SERVER_ERROR:"Server error. Please try again later.",UNAUTHORIZED:"Please log in to continue.",FORBIDDEN:"You do not have permission to perform this action.",NOT_FOUND:"The requested resource was not found.",VALIDATION_ERROR:"Please check your input and try again.",UPLOAD_ERROR:"Failed to upload file. Please try again.",DEFAULT:"An unexpected error occurred. Please try again."},zh={PROPERTY_CREATED:"Property listed successfully!",PROPERTY_UPDATED:"Property updated successfully!",PROPERTY_DELETED:"Property deleted successfully!",CONTACT_SENT:"Your message has been sent successfully!",APPOINTMENT_SCHEDULED:"Appointment scheduled successfully!",NEWSLETTER_SUBSCRIBED:"Successfully subscribed to newsletter!",PROFILE_UPDATED:"Profile updated successfully!",PASSWORD_CHANGED:"Password changed successfully!"},Tr={get:(t,e=null)=>{try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error("Error reading from localStorage:",r),e}},set:(t,e)=>{try{return localStorage.setItem(t,JSON.stringify(e)),!0}catch(r){return console.error("Error writing to localStorage:",r),!1}},remove:t=>{try{return localStorage.removeItem(t),!0}catch(e){return console.error("Error removing from localStorage:",e),!1}},clear:()=>{try{return localStorage.clear(),!0}catch(t){return console.error("Error clearing localStorage:",t),!1}}},gO=t=>typeof t=="string"?t:t!=null&&t.message?t.message:t!=null&&t.code?{"auth/invalid-email":"Please enter a valid email address","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password should be at least 6 characters","auth/network-request-failed":"Network error. Please check your connection","auth/too-many-requests":"Too many attempts. Please try again later","auth/requires-recent-login":"Please log in again to perform this action","auth/provider-already-linked":"This account is already linked with another provider","auth/invalid-credential":"Invalid login credentials","auth/account-exists-with-different-credential":"An account already exists with the same email"}[t.code]||t.message:"An unexpected error occurred",_n=(t,e="An unexpected error occurred")=>{var n,i;console.error("Application error:",t);const r=gO(t);return r!=="An unexpected error occurred"?r:(i=(n=t==null?void 0:t.response)==null?void 0:n.data)!=null&&i.message?t.response.data.message:t!=null&&t.message?t.message:e},ir={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",SET_USER:"SET_USER",CLEAR_USER:"CLEAR_USER",SET_INITIALIZED:"SET_INITIALIZED",UPDATE_PROFILE:"UPDATE_PROFILE"},vO={user:null,isAuthenticated:!1,isAdmin:!1,loading:!1,error:null,initialized:!1},hi=t=>{if(!t)return!1;const e=["admin@estatepro.com","admin@example.com","zephdmc@gmail.com"].map(i=>i.toLowerCase()),r=[/@estatepro\.com$/,/^admin\./,/\.admin@/],n=t.toLowerCase();return e.includes(n)||r.some(i=>i.test(n))},yO=(t,e)=>{switch(e.type){case ir.SET_LOADING:return{...t,loading:e.payload};case ir.SET_ERROR:return{...t,error:e.payload,loading:!1};case ir.CLEAR_ERROR:return{...t,error:null};case ir.SET_USER:const r=e.payload,n=r?hi(r.email):!1;return console.log(" Auth Reducer - User logged in:",r==null?void 0:r.email),console.log(" Auth Reducer - Is admin?:",n),{...t,user:r,isAuthenticated:!!r,isAdmin:n,loading:!1,error:null};case ir.CLEAR_USER:return{...t,user:null,isAuthenticated:!1,isAdmin:!1,loading:!1,error:null};case ir.SET_INITIALIZED:return{...t,initialized:e.payload};case ir.UPDATE_PROFILE:const i={...t.user,...e.payload};return{...t,user:i,isAdmin:hi(i.email)};default:return t}},s6=y.createContext(),bO=({children:t})=>{var d,h,p,g,b,x,v,E;const[e,r]=y.useReducer(yO,vO),n={setLoading:A=>r({type:ir.SET_LOADING,payload:A}),setError:A=>r({type:ir.SET_ERROR,payload:_n(A)}),clearError:()=>r({type:ir.CLEAR_ERROR}),setUser:A=>r({type:ir.SET_USER,payload:A}),clearUser:()=>r({type:ir.CLEAR_USER}),setInitialized:A=>r({type:ir.SET_INITIALIZED,payload:A}),updateProfile:A=>r({type:ir.UPDATE_PROFILE,payload:A}),checkAdminStatus:()=>{var A;return hi((A=e.user)==null?void 0:A.email)}},i={loginWithEmail:async(A,S)=>{try{n.setLoading(!0),n.clearError();const L=await hr.loginWithEmail(A,S);return L.success?(n.setUser(L.user),{success:!0,user:L.user,isAdmin:hi(L.user.email)}):(n.setError(L.error),{success:!1,error:L.error})}catch(L){return n.setError(L),{success:!1,error:_n(L)}}finally{n.setLoading(!1)}},registerWithEmail:async A=>{try{n.setLoading(!0),n.clearError();const S=await hr.registerWithEmail(A);return S.success?(n.setUser(S.user),{success:!0,user:S.user,needsVerification:S.needsVerification,isAdmin:hi(S.user.email)}):(n.setError(S.error),{success:!1,error:S.error})}catch(S){return n.setError(S),{success:!1,error:_n(S)}}finally{n.setLoading(!1)}},signInWithGoogle:async()=>{try{n.setLoading(!0),n.clearError();const A=await hr.signInWithGoogle();return A.success?(n.setUser(A.user),{success:!0,user:A.user,isAdmin:hi(A.user.email)}):(n.setError(A.error),{success:!1,error:A.error})}catch(A){return n.setError(A),{success:!1,error:_n(A)}}finally{n.setLoading(!1)}},signInWithFacebook:async()=>{try{n.setLoading(!0),n.clearError();const A=await hr.signInWithFacebook();return A.success?(n.setUser(A.user),{success:!0,user:A.user,isAdmin:hi(A.user.email)}):(n.setError(A.error),{success:!1,error:A.error})}catch(A){return n.setError(A),{success:!1,error:_n(A)}}finally{n.setLoading(!1)}},logout:async()=>{try{return n.setLoading(!0),await hr.logout(),n.clearUser(),{success:!0}}catch(A){return console.error("Logout error:",A),n.clearUser(),{success:!0}}finally{n.setLoading(!1)}},updateUserProfile:async A=>{try{n.setLoading(!0),n.clearError();const S=await hr.updateUserProfile(A);return S.success?(n.updateProfile(A),{success:!0,user:S.user,isAdmin:hi(S.user.email)}):(n.setError(S.error),{success:!1,error:S.error})}catch(S){return n.setError(S),{success:!1,error:_n(S)}}finally{n.setLoading(!1)}},changePassword:async A=>{try{n.setLoading(!0),n.clearError();const S=await hr.updatePassword(A);return S.success?{success:!0}:(n.setError(S.error),{success:!1,error:S.error})}catch(S){return n.setError(S),{success:!1,error:_n(S)}}finally{n.setLoading(!1)}},requestPasswordReset:async A=>{try{n.setLoading(!0),n.clearError();const S=await hr.resetPassword(A);return S.success?{success:!0}:(n.setError(S.error),{success:!1,error:S.error})}catch(S){return n.setError(S),{success:!1,error:_n(S)}}finally{n.setLoading(!1)}},resendEmailVerification:async()=>{try{const A=hr.getCurrentUser();return A&&!A.emailVerified?(await hr.sendEmailVerification(A),{success:!0}):{success:!1,error:"User not found or already verified"}}catch(A){return{success:!1,error:_n(A)}}},checkEmailVerified:async()=>{var A;try{await((A=hr.getCurrentUser())==null?void 0:A.reload());const S=hr.getCurrentUser();return S!=null&&S.emailVerified?(n.updateProfile({emailVerified:!0}),!0):!1}catch(S){return console.error("Error checking email verification:",S),!1}}},a=A=>{var S;return((S=e.user)==null?void 0:S.role)===A},s=()=>e.isAdmin||a("admin")||a("super_admin"),o=()=>s()||a("agent")||a("broker"),c=()=>s();y.useEffect(()=>(console.log(" AuthProvider: Setting up Firebase auth listener"),hr.onAuthStateChange(({user:S,isAuthenticated:L})=>{console.log(" Firebase auth state changed:",S?S.email:"No user"),S?n.setUser(S):n.clearUser(),n.setInitialized(!0)})),[]);const u={...e,...n,...i,hasRole:a,isAdmin:s,canManageProperties:o,canManageUsers:c,userId:(d=e.user)==null?void 0:d.uid,userEmail:(h=e.user)==null?void 0:h.email,userName:((p=e.user)==null?void 0:p.displayName)||((b=(g=e.user)==null?void 0:g.email)==null?void 0:b.split("@")[0])||"User",userAvatar:(x=e.user)==null?void 0:x.photoURL,userRole:(v=e.user)==null?void 0:v.role,isEmailVerified:(E=e.user)==null?void 0:E.emailVerified,currentUser:e.user,getIdToken:async()=>e.user?e.user.getIdToken():null};return console.log(" AuthProvider rendered:",{user:e.user?e.user.email:"No user",isAuthenticated:e.isAuthenticated,isAdmin:e.isAdmin,initialized:e.initialized}),l(s6.Provider,{value:u,children:t})},Pa=()=>{const t=y.useContext(s6);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},xO=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),i=Go(),{isAuthenticated:a,isAdmin:s}=Pa(),o=[{name:"Home",href:"/",current:i.pathname==="/"},{name:"Properties",href:"/properties",current:i.pathname==="/properties"},{name:"Services",href:"/services",current:i.pathname==="/services"},{name:"About",href:"/about",current:i.pathname==="/about"},{name:"Blog",href:"/blog",current:i.pathname==="/blog"},{name:"Contact",href:"/contact",current:i.pathname==="/contact"}],c=[{type:"phone",value:"+234 913 2080 059",href:"tel:+2349132080059",icon:l(ns,{className:"w-3 h-3"})},{type:"email",value:"info@Octopusrealestate.com",href:"mailto:info@Octopusrealestate.com",icon:l(Cx,{className:"w-3 h-3"})},{type:"website",value:"www.Octopusrealestate.com",href:"https://www.Octopusrealestate.com",icon:l(q5,{className:"w-3 h-3"})}],u=()=>{e(!t)};return y.useEffect(()=>{const d=()=>{window.scrollY>100?n(!0):n(!1)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),m("nav",{className:"bg-white sticky top-0 z-40 shadow-sm border-b border-gray-200",children:[m("div",{className:"container mx-auto px-4",children:[m("div",{className:"flex justify-between items-center py-3",children:[m("div",{className:"hidden md:flex space-x-8",children:[o.map(d=>l(we,{to:d.href,className:`px-3 py-2 text-sm font-medium transition-all duration-200 ${d.current?"text-blue-600 border-b-2 border-blue-600 font-semibold":"text-gray-700 hover:text-blue-600 hover:border-b-2 hover:border-blue-300"}`,onClick:()=>e(!1),children:d.name},d.name)),a&&s()&&m(we,{to:"/admin/dashboard",className:`px-3 py-2 text-sm font-medium transition-all duration-200 flex items-center space-x-1 ${i.pathname.startsWith("/admin")?"text-purple-600 border-b-2 border-purple-600 font-semibold":"text-purple-700 hover:text-purple-600 hover:border-b-2 hover:border-purple-300"}`,onClick:()=>e(!1),children:[l(Ph,{className:"w-4 h-4"}),l("span",{children:"Dashboard"})]})]}),m("div",{className:"md:hidden flex items-center justify-between w-full",children:[l("div",{className:"flex-1 overflow-hidden relative",children:m("div",{className:"flex animate-[marquee_25s_linear_infinite] whitespace-nowrap hover:animate-pause",children:[c.map((d,h)=>m("a",{href:d.href,className:"inline-flex items-center space-x-2 mx-4 text-gray-600 hover:text-blue-600 transition duration-200 flex-shrink-0 group",children:[l("div",{className:"bg-blue-100 p-1 rounded group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:d.icon})}),l("span",{className:"text-xs font-medium",children:d.value})]},d.type)),c.map((d,h)=>m("a",{href:d.href,className:"inline-flex items-center space-x-2 mx-4 text-gray-600 hover:text-blue-600 transition duration-200 flex-shrink-0 group",children:[l("div",{className:"bg-blue-100 p-1 rounded group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:d.icon})}),l("span",{className:"text-xs font-medium",children:d.value})]},`${d.type}-dup`))]})}),l("button",{onClick:u,className:"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600 transition duration-200 flex-shrink-0 ml-4",children:t?l(aP,{className:"h-6 w-6"}):l(M5,{className:"h-6 w-6"})})]}),m("div",{className:"hidden md:flex items-center space-x-4",children:[a&&s()&&m(we,{to:"/admin/dashboard",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center space-x-2",children:[l(Ph,{className:"w-4 h-4"}),l("span",{children:"Dashboard"})]}),m(we,{to:"/list-property",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center space-x-2",children:[l(Bv,{className:"w-4 h-4"}),l("span",{children:"List Your Property"})]})]})]}),t&&l("div",{className:"md:hidden py-4 border-t border-gray-200 bg-white",children:m("div",{className:"flex flex-col space-y-3",children:[o.map(d=>l(we,{to:d.href,className:`px-4 py-3 text-base font-medium transition-all duration-200 rounded-lg ${d.current?"text-blue-600 bg-blue-50 border-l-4 border-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-blue-50 hover:border-l-4 hover:border-blue-300"}`,onClick:()=>e(!1),children:d.name},d.name)),a&&s()&&m(we,{to:"/admin/dashboard",className:`px-4 py-3 text-base font-medium transition-all duration-200 rounded-lg flex items-center space-x-2 ${i.pathname.startsWith("/admin")?"text-purple-600 bg-purple-50 border-l-4 border-purple-600":"text-purple-700 hover:text-purple-600 hover:bg-purple-50 hover:border-l-4 hover:border-purple-300"}`,onClick:()=>e(!1),children:[l(Ph,{className:"w-4 h-4"}),l("span",{children:"Admin Dashboard"})]}),l("div",{className:"pt-4 border-t border-gray-200",children:l("div",{className:"space-y-3",children:c.map(d=>m("a",{href:d.href,className:"flex items-center space-x-3 px-4 py-2 text-gray-700 hover:text-blue-600 transition duration-200 group",onClick:()=>e(!1),children:[l("div",{className:"bg-blue-100 p-2 rounded-lg group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:d.icon})}),l("span",{className:"text-sm font-medium",children:d.value})]},d.type))})}),m(we,{to:"/list-property",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium text-center mt-4 flex items-center justify-center space-x-2 shadow-lg",onClick:()=>e(!1),children:[l(Bv,{className:"w-5 h-5"}),l("span",{children:"List Your Property"})]})]})})]}),l("style",{jsx:!0,children:`
        @keyframes marquee {
          0% {
            transform: translateX(0%);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        .hover\\:animate-pause:hover {
          animation-play-state: paused;
        }
      `})]})},wO=({onSearch:t,placeholder:e="Search properties...",className:r=""})=>{const[n,i]=y.useState(""),[a,s]=y.useState({type:"",priceRange:"",bedrooms:"",location:""}),[o,c]=y.useState(!1),[u,d]=y.useState(!1),h=["Any Type","House","Apartment","Condo","Villa","Commercial"],p=["Any Price","Under $100,000","$100,000 - $200,000","$200,000 - $300,000","$300,000 - $500,000","Over $500,000"],g=["Any","1","2","3","4","5+"],b=async S=>{S&&S.preventDefault(),d(!0),await t({term:n,...a}),c(!1),d(!1)},x=(S,L)=>{const k={...a,[S]:L};s(k),t({term:n,...k})},v=()=>{i(""),s({type:"",priceRange:"",bedrooms:"",location:""}),t({}),c(!1)},E=()=>l("button",{onClick:()=>c(!0),className:`fixed bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-200 z-40 ${o?"opacity-0 pointer-events-none":"opacity-100"}`,style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",bottom:"1.5rem",right:"1.5rem"},children:l("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),A=()=>o&&m("div",{className:"fixed inset-0 z-50",children:[l("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>c(!1)}),m("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[l("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl",children:m("div",{className:"flex items-center justify-between",children:[l("h3",{className:"text-lg font-semibold text-gray-900",children:"Search Properties"}),l("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition duration-200",children:l("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),m("div",{className:"p-6 space-y-4",children:[m("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l("input",{type:"text",value:n,onChange:S=>i(S.target.value),placeholder:e,className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",autoFocus:!0})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),l("select",{value:a.type,onChange:S=>x("type",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:h.map(S=>l("option",{value:S==="Any Type"?"":S,children:S},S))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),l("select",{value:a.priceRange,onChange:S=>x("priceRange",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:p.map(S=>l("option",{value:S==="Any Price"?"":S,children:S},S))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),l("select",{value:a.bedrooms,onChange:S=>x("bedrooms",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:g.map(S=>m("option",{value:S==="Any"?"":S,children:[S," Bed",S!=="Any"&&"room",S==="1"?"":"s"]},S))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),l("input",{type:"text",value:a.location,onChange:S=>x("location",S.target.value),placeholder:"Enter location",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200"})]}),m("div",{className:"flex space-x-3 pt-4 sticky bottom-0 bg-white pb-2",children:[l("button",{type:"button",onClick:v,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200 font-medium",children:"Clear All"}),l("button",{onClick:b,disabled:u,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:u?m(br,{children:[m("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):"Search"})]})]})]})]});return m(br,{children:[E(),A()]})},_O=({onSearch:t,user:e,onLogin:r,onLogout:n})=>{const i=()=>{const o=`https://wa.me/+2349132080059?text=${encodeURIComponent("Hello! I'm interested in your real estate services. Can you please provide more information?")}`;window.open(o,"_blank")};return l("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:m("div",{className:"container mx-auto px-4",children:[m("div",{className:"flex items-center justify-between py-4",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:l(ea,{className:"w-6 h-6"})}),m("div",{children:[l("h1",{className:"text-2xl font-bold text-gray-900",children:"Octopus Real Estate "}),l("p",{className:"text-xs text-gray-600",children:"Ventures LTD"})]})]}),m("div",{className:"hidden md:flex items-center space-x-6 text-sm",children:[m("div",{className:"flex items-center space-x-2",children:[l("div",{className:"bg-blue-100 p-2 rounded-lg",children:l(ns,{className:"w-4 h-4 text-blue-600"})}),m("div",{children:[l("span",{className:"text-gray-700 font-medium",children:"+ (234)913 2080059"}),l("p",{className:"text-xs text-gray-500",children:"Call us today"})]})]}),m("div",{className:"flex items-center space-x-2",children:[l("div",{className:"bg-blue-100 p-2 rounded-lg",children:l(Cx,{className:"w-4 h-4 text-blue-600"})}),m("div",{children:[l("span",{className:"text-gray-700 font-medium",children:"info@Octopusrealestate.com"}),l("p",{className:"text-xs text-gray-500",children:"Email us"})]})]})]}),l("div",{className:"flex items-center space-x-4",children:e?m("div",{className:"flex items-center space-x-3",children:[m("div",{className:"text-right hidden sm:block",children:[l("span",{className:"text-sm text-gray-700 font-medium block",children:"Welcome back"}),l("span",{className:"text-sm text-blue-600 font-semibold",children:e.name})]}),m("div",{className:"relative group",children:[l("button",{className:"bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:l(Wv,{className:"w-5 h-5"})}),m("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[m("div",{className:"p-4 border-b border-gray-100",children:[l("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),l("p",{className:"text-xs text-gray-500",children:e.email})]}),m("button",{onClick:n,className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition duration-200",children:[l(rP,{className:"w-4 h-4 text-gray-400"}),l("span",{children:"Sign Out"})]})]})]})]}):l("button",{onClick:r,className:"bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",title:"Login",children:l(Wv,{className:"w-5 h-5"})})})]}),m("div",{className:"border-t border-gray-200 relative",children:[l(xO,{}),m("div",{className:"py-4 relative",children:[l(wO,{onSearch:t}),m("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 flex items-center space-x-3",children:[m("button",{onClick:i,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 group",title:"Chat with us on WhatsApp",children:[l(so,{className:"w-5 h-5"}),l("span",{className:"hidden sm:block text-sm font-medium",children:"Chat on WhatsApp"})]}),m("button",{onClick:()=>window.open("tel:+2349132080059","_self"),className:"hidden md:flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 group",title:"Call us now",children:[l(ns,{className:"w-4 h-4"}),l("span",{className:"text-sm font-medium",children:"Call Now"})]})]})]})]})]})})},NO=()=>{const t=new Date().getFullYear(),e=[{name:"Home",href:"/"},{name:"Properties",href:"/properties"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}],r=["Buying","Selling","Rental","Consulting"],n=[{name:"Facebook",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),href:"#"},{name:"Twitter",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),href:"#"},{name:"Instagram",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M12.017 0C8.396 0 7.987.012 6.756.06 2.767.227.228 2.763.06 6.756.012 7.987 0 8.396 0 12.017c0 3.62.012 4.029.06 5.26.167 3.989 2.703 6.527 6.696 6.695 1.231.048 1.64.06 5.26.06 3.62 0 4.029-.012 5.26-.06 3.989-.167 6.527-2.703 6.695-6.696.048-1.231.06-1.64.06-5.26 0-3.62-.012-4.029-.06-5.26-.167-3.989-2.703-6.527-6.696-6.695C16.046.012 15.637 0 12.017 0zm0 2.16c3.203 0 3.585.012 4.804.06 3.252.15 4.771 1.691 4.92 4.92.048 1.219.06 1.6.06 4.804 0 3.204-.012 3.585-.06 4.804-.149 3.227-1.664 4.771-4.92 4.92-1.219.048-1.601.06-4.804.06-3.204 0-3.585-.012-4.804-.06-3.255-.149-4.771-1.664-4.92-4.92-.048-1.219-.06-1.6-.06-4.804 0-3.204.012-3.585.06-4.804.149-3.227 1.673-4.771 4.92-4.92 1.219-.048 1.6-.06 4.804-.06z"})}),href:"#"},{name:"LinkedIn",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),href:"#"}],i=[{icon:m("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),text:"123 Main Street, City, State 12345"},{icon:l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),text:"+234 913 208 0059"},{icon:l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),text:"info@octopusrealestate.com"}];return m("footer",{className:"relative bg-gray-900 text-white overflow-hidden",children:[l("div",{className:"absolute inset-0 bg-fixed bg-cover bg-center bg-no-repeat",style:{backgroundImage:`linear-gradient(
            rgba(15, 23, 42, 0.85),
            rgba(15, 23, 42, 0.92)
          ), url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2053&q=80')`,transform:"translateZ(0)",willChange:"transform"},children:l("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/20 via-gray-900/60 to-gray-900/90"})}),m("div",{className:"relative z-10",children:[l("div",{className:"max-w-7xl mx-auto px-6 py-16",children:m("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-12",children:[m("div",{className:"lg:col-span-1",children:[m("div",{className:"flex items-center space-x-3 mb-6",children:[l("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg backdrop-blur-sm",children:l("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),m("div",{children:[l("h3",{className:"text-2xl font-bold text-white bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Octopus Real Estate"}),l("p",{className:"text-blue-400 text-sm font-medium",children:"Luxury Living Experts"})]})]}),l("p",{className:"text-gray-300 text-sm mb-8 leading-relaxed backdrop-blur-sm bg-white/5 rounded-lg p-4 border border-white/10",children:"Finding your perfect home with expert guidance and professional service since 2008. Experience luxury redefined."}),l("div",{className:"flex space-x-3",children:n.map(a=>l("a",{href:a.href,className:"w-10 h-10 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center hover:bg-blue-600/80 transition-all duration-300 hover:shadow-lg hover:scale-110 border border-white/20",title:a.name,children:a.icon},a.name))})]}),m("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-blue-600/50 inline-block",children:"Quick Links"}),l("ul",{className:"space-y-3",children:e.map(a=>l("li",{children:m(we,{to:a.href,className:"text-gray-300 hover:text-white transition-all duration-300 text-sm flex items-center group hover:translate-x-1",children:[l("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:scale-125"}),a.name]})},a.name))})]}),m("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-blue-600/50 inline-block",children:"Our Services"}),l("ul",{className:"space-y-3",children:r.map(a=>l("li",{children:m("a",{href:"#",className:"text-gray-300 hover:text-white transition-all duration-300 text-sm flex items-center group hover:translate-x-1",children:[l("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:scale-125"}),a]})},a))})]}),m("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-blue-600/50 inline-block",children:"Contact Info"}),l("div",{className:"space-y-4",children:i.map((a,s)=>m("div",{className:"flex items-start space-x-3 text-gray-300 group hover:text-white transition-all duration-300 hover:translate-x-1",children:[l("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0 mt-0.5 text-blue-400 group-hover:scale-110 transition-transform duration-300",children:a.icon}),l("span",{className:"text-sm leading-relaxed",children:a.text})]},s))})]})]})}),l("div",{className:"border-t border-white/10 bg-black/30 backdrop-blur-sm",children:l("div",{className:"max-w-7xl mx-auto px-6 py-6",children:m("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[m("div",{className:"text-gray-300 text-sm",children:[" ",t," Octopus Real Estate. All rights reserved."]}),l("div",{className:"flex space-x-6 text-sm",children:["Privacy Policy","Terms of Service","Sitemap"].map(a=>l("a",{href:"#",className:"text-gray-300 hover:text-white transition-all duration-300 text-sm hover:underline",children:a},a))})]})})})]})]})},kr=({children:t,showHeader:e=!0,showFooter:r=!0,containerWidth:n="default",className:i=""})=>{const{user:a,loginWithEmail:s,signInWithGoogle:o,logout:c,isAuthenticated:u}=Pa(),[d,h]=y.useState(!1),[p,g]=y.useState(!1),[b,x]=y.useState({email:"",password:""}),v={default:"max-w-7xl",wide:"max-w-full",narrow:"max-w-4xl",tight:"max-w-2xl"},E=_=>{console.log("Search performed:",_)},A=()=>{g(!0)},S=async _=>{_.preventDefault();try{const T=await s(b.email,b.password);T.success?(console.log("Login successful:",T.user),g(!1),x({email:"",password:""})):(console.error("Login failed:",T.error),alert(`Login failed: ${T.error.message||T.error}`))}catch(T){console.error("Login error:",T),alert("Login error occurred")}},L=async()=>{try{const _=await o();_.success?(console.log("Google login successful:",_.user),g(!1)):(console.error("Google login failed:",_.error),alert(`Google login failed: ${_.error.message||_.error}`))}catch(_){console.error("Google login error:",_),alert("Google login error occurred")}},k=async()=>{try{await c(),console.log("Logout successful")}catch(_){console.error("Logout error:",_)}},M=()=>{h(!d)};return m("div",{className:`min-h-screen flex flex-col bg-gray-50 ${i}`,children:[e&&l(_O,{onSearch:E,user:a,onLogin:A,onLogout:k,onMenuToggle:M}),p&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m("div",{className:"bg-white rounded-lg p-6 w-96",children:[l("h2",{className:"text-xl font-bold mb-4",children:"Login to EstatePro"}),m("form",{onSubmit:S,className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l("input",{type:"email",value:b.email,onChange:_=>x(T=>({...T,email:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l("input",{type:"password",value:b.password,onChange:_=>x(T=>({...T,password:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0})]}),l("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition duration-200",children:"Login"})]}),m("div",{className:"my-4 flex items-center",children:[l("div",{className:"flex-1 border-t border-gray-300"}),l("span",{className:"px-3 text-gray-500 text-sm",children:"OR"}),l("div",{className:"flex-1 border-t border-gray-300"})]}),m("button",{onClick:L,className:"w-full flex items-center justify-center gap-2 border border-gray-300 py-2 rounded-md hover:bg-gray-50 transition duration-200",children:[m("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),l("button",{onClick:()=>g(!1),className:"w-full mt-4 text-gray-500 hover:text-gray-700",children:"Cancel"})]})}),l("main",{className:"flex-1",children:l("div",{className:`mx-auto px-4 sm:px-6 lg:px-8 ${v[n]}`,children:t})}),r&&l(NO,{})]})},sl=({children:t,maxWidth:e="default",padding:r="default",background:n="default",className:i="",...a})=>{const s={default:"max-w-7xl",wide:"max-w-full",narrow:"max-w-4xl",tight:"max-w-2xl",full:"max-w-none"},o={none:"px-0 py-0",tight:"px-4 py-4 sm:px-6",default:"px-4 py-8 sm:px-6 lg:px-8",relaxed:"px-4 py-12 sm:px-6 lg:px-8",loose:"px-4 py-16 sm:px-6 lg:px-8",section:"px-4 py-20 sm:px-6 lg:px-8"},c={default:"bg-white",gray:"bg-gray-50",slate:"bg-slate-50",blue:"bg-blue-50",gradient:"bg-gradient-to-br from-blue-50 to-indigo-100",transparent:"bg-transparent"},u=`
    mx-auto
    ${s[e]}
    ${o[r]}
    ${c[n]}
    ${i}
  `.trim().replace(/\s+/g," ");return l("div",{className:u,...a,children:t})},zr=t=>l(sl,{maxWidth:"wide",...t}),Ao=t=>l(sl,{maxWidth:"narrow",...t}),EO=t=>l(sl,{maxWidth:"narrow",padding:"section",background:"transparent",className:"text-center",...t}),o6=({cols:t=1,gap:e=8,children:r,...n})=>{const i={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},a={4:"gap-4",6:"gap-6",8:"gap-8",12:"gap-12"};return l(sl,{...n,children:l("div",{className:`grid ${i[t]} ${a[e]}`,children:r})})},l6=({reverse:t=!1,gap:e=16,leftContent:r,rightContent:n,leftWidth:i="1/2",rightWidth:a="1/2",verticalAlign:s="center",...o})=>{const c={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},u={"1/3":"lg:w-1/3","2/5":"lg:w-2/5","1/2":"lg:w-1/2","3/5":"lg:w-3/5","2/3":"lg:w-2/3"};return l(sl,{...o,children:m("div",{className:`flex flex-col ${t?"lg:flex-row-reverse":"lg:flex-row"} gap-${e} ${c[s]}`,children:[l("div",{className:`w-full ${u[i]}`,children:r}),l("div",{className:`w-full ${u[a]}`,children:n})]})})},ad=(t={})=>{const{initialValues:e={},validate:r,onSubmit:n,validateOnChange:i=!0,validateOnBlur:a=!0}=t,[s,o]=y.useState(e),[c,u]=y.useState({}),[d,h]=y.useState({}),[p,g]=y.useState(!1),[b,x]=y.useState(!1),v=y.useCallback((z=s)=>{if(!r)return u({}),x(!0),!0;const ee=r(z);u(ee||{});const ce=Object.keys(ee||{}).length===0;return x(ce),ce},[r,s]),E=y.useCallback(z=>{const{name:ee,value:ce,type:Pe,checked:ke,files:Ye}=z.target;let nt;if(Pe==="checkbox"?nt=ke:Pe==="file"?nt=Ye?Array.from(Ye):[]:Pe==="number"||Pe==="range"?nt=ce===""?"":Number(ce):nt=ce,ee.includes(".")){const[at,We]=ee.split(".");o(er=>({...er,[at]:{...er[at],[We]:nt}}))}else o(at=>({...at,[ee]:nt}));if(i){const at={...s,[ee]:nt};v(at)}},[i,v,s]),A=y.useCallback(z=>{const{name:ee}=z.target;h(ce=>({...ce,[ee]:!0})),a&&v()},[a,v]),S=y.useCallback((z,ee)=>{if(o(ce=>({...ce,[z]:ee})),i){const ce={...s,[z]:ee};v(ce)}},[i,v,s]),L=y.useCallback(z=>{if(o(ee=>({...ee,...z})),i){const ee={...s,...z};v(ee)}},[i,v,s]),k=y.useCallback((z,ee)=>{u(ce=>({...ce,[z]:ee}))},[]),M=y.useCallback(z=>{u(ee=>({...ee,...z}))},[]),_=y.useCallback(z=>{u(ee=>{const ce={...ee};return delete ce[z],ce})},[]),T=y.useCallback(()=>{u({})},[]),N=y.useCallback((z,ee=!0)=>{h(ce=>({...ce,[z]:ee}))},[]),C=y.useCallback(z=>{h(ee=>({...ee,...z}))},[]),I=y.useCallback((z=null)=>{const ee=z||e;o(ee),u({}),h({}),g(!1),v(ee)},[e,v]),D=y.useCallback(async z=>{z&&(z.preventDefault(),z.persist());const ee=Object.keys(s).reduce((Pe,ke)=>(Pe[ke]=!0,Pe),{});if(h(ee),!v()){const Pe=Object.keys(c)[0];if(Pe){const ke=document.querySelector(`[name="${Pe}"]`);ke&&ke.focus()}return}if(n){g(!0);try{await n(s)}catch(Pe){console.error("Form submission error:",Pe),Pe.errors&&u(Pe.errors)}finally{g(!1)}}},[s,c,n,v]),O=y.useCallback(z=>({name:z,value:s[z]||"",onChange:E,onBlur:A,error:c[z],touched:d[z]}),[s,c,d,E,A]),B=y.useCallback(z=>!!(c[z]&&d[z]),[c,d]),H=y.useCallback(()=>Object.keys(c).length>0,[c]),K=y.useCallback(()=>Object.keys(d).length>0,[d]),te=y.useCallback(()=>JSON.stringify(s)===JSON.stringify(e),[s,e]),pe=y.useCallback(()=>!te(),[te]);return{values:s,errors:c,touched:d,isSubmitting:p,isValid:b,handleChange:E,handleBlur:A,handleSubmit:D,setValue:S,setValues:L,setError:k,setErrors:M,clearError:_,clearErrors:T,setTouched:N,setTouchedMultiple:C,resetForm:I,getFieldProps:O,hasError:B,hasErrors:H,isTouched:K,isPristine:te,isDirty:pe,canSubmit:b&&!p&&K(),isModified:pe()}},c6=({size:t="medium",variant:e="default",className:r="",onSubmit:n})=>{const[i,a]=y.useState(!1),[s,o]=y.useState(null),{values:c,errors:u,handleChange:d,handleSubmit:h,resetForm:p}=ad({initialValues:{email:"",firstName:"",preferences:{newListings:!0,priceUpdates:!0,marketNews:!1,buyingTips:!1,sellingTips:!1}},validate:A=>{const S={};return A.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)||(S.email="Please enter a valid email address"):S.email="Email is required",S},onSubmit:async A=>{a(!0),o(null);try{n?await n(A):await g(A),o({type:"success",message:"Thank you for subscribing! Please check your email to confirm your subscription."}),p()}catch{o({type:"error",message:"Sorry, there was an error with your subscription. Please try again."})}finally{a(!1)}}}),g=async A=>new Promise(S=>{setTimeout(()=>{console.log("Newsletter subscription:",A),S()},1e3)}),b={small:"text-sm",medium:"text-base",large:"text-lg"},x={default:"bg-white border border-gray-300",dark:"bg-gray-800 border-gray-700",minimal:"bg-transparent border-0"},v={default:"text-gray-900",dark:"text-white",minimal:"text-gray-900"},E=e==="default"&&t==="large";return e==="minimal"?m("div",{className:`${r}`,children:[m("form",{onSubmit:h,className:"flex flex-col sm:flex-row gap-2",children:[m("div",{className:"flex-1",children:[l("input",{type:"email",name:"email",value:c.email,onChange:d,placeholder:"Enter your email",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${b[t]}`}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),l("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold whitespace-nowrap",children:i?"Subscribing...":"Subscribe"})]}),s&&l("div",{className:`mt-2 p-2 rounded text-sm ${s.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.message})]}):m("div",{className:`rounded-2xl p-6 ${x[e]} ${r}`,children:[m("div",{className:`mb-4 ${v[e]}`,children:[l("h3",{className:`font-bold mb-2 ${t==="large"?"text-2xl":"text-xl"}`,children:"Stay Updated"}),l("p",{className:`opacity-90 ${b[t]}`,children:"Get the latest property listings, market insights, and real estate news delivered to your inbox."})]}),s&&l("div",{className:`p-3 rounded-lg mb-4 ${s.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.message}),m("form",{onSubmit:h,className:"space-y-4",children:[E&&m("div",{children:[l("label",{htmlFor:"firstName",className:`block font-medium mb-2 ${v[e]}`,children:"First Name (Optional)"}),l("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your first name"})]}),m("div",{children:[l("label",{htmlFor:"email",className:`block font-medium mb-2 ${v[e]}`,children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:c.email,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-500":e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your email address"}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),E&&m("div",{children:[l("label",{className:`block font-medium mb-3 ${v[e]}`,children:"Email Preferences"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.preferences).map(([A,S])=>m("label",{className:`flex items-center space-x-3 ${v[e]}`,children:[l("input",{type:"checkbox",name:`preferences.${A}`,checked:S,onChange:L=>d({target:{name:`preferences.${A}`,value:L.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm capitalize",children:A.replace(/([A-Z])/g," $1").trim()})]},A))})]}),l("button",{type:"submit",disabled:i,className:`w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center justify-center space-x-2 ${t==="large"?"text-lg":""}`,children:i?m(br,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Subscribing..."})]}):l("span",{children:"Subscribe to Newsletter"})}),l("p",{className:`text-xs opacity-75 text-center ${v[e]}`,children:"By subscribing, you agree to our Privacy Policy and consent to receive updates from our company."})]}),E&&m("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:`font-semibold mb-3 ${v[e]}`,children:"What You'll Receive"}),m("ul",{className:`space-y-2 text-sm ${v[e]} opacity-90`,children:[m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"New property listings matching your criteria"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Exclusive price updates and market trends"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Expert real estate advice and tips"})]})]})]})]})},AO=({property:t,className:e=""})=>{var C;const[r,n]=y.useState(!1),[i,a]=y.useState(!1),{id:s,title:o,price:c,type:u,status:d,location:h,bedrooms:p,bathrooms:g,area:b,images:x,primaryImage:v,featured:E,createdAt:A,currency:S="USD"}=t,L=v||((C=x==null?void 0:x[0])==null?void 0:C.url)||"/images/placeholder-property.jpg";console.log(" PropertyCard - Image URL:",L);const k=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:S,maximumFractionDigits:0}).format(I),M=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),_=I=>({"for-sale":"bg-green-100 text-green-800","for-rent":"bg-blue-100 text-blue-800",sold:"bg-gray-100 text-gray-800",rented:"bg-purple-100 text-purple-800",sale:"bg-green-100 text-green-800",rent:"bg-blue-100 text-blue-800"})[I]||"bg-gray-100 text-gray-800",T=I=>({"for-sale":"For Sale","for-rent":"For Rent",sale:"For Sale",rent:"For Rent",sold:"Sold",rented:"Rented"})[I]||I,N=I=>({house:"bg-orange-100 text-orange-800",apartment:"bg-indigo-100 text-indigo-800",condo:"bg-pink-100 text-pink-800",villa:"bg-red-100 text-red-800",commercial:"bg-teal-100 text-teal-800"})[I]||"bg-gray-100 text-gray-800";return m("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 ${e}`,children:[m("div",{className:"relative overflow-hidden",children:[l(we,{to:`/properties/${s}`,children:l("div",{className:"aspect-w-16 aspect-h-12 bg-gray-200",children:i?l("div",{className:"w-full h-64 bg-gray-200 flex items-center justify-center",children:l("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):m(br,{children:[!r&&l("div",{className:"absolute inset-0 flex items-center justify-center",children:l("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),l("img",{src:L,alt:o,className:`w-full h-64 object-cover transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0),onError:()=>{console.error(" Image failed to load:",L),a(!0)}})]})})}),m("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[E&&l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"}),l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_(d)}`,children:T(d)})]}),l("div",{className:"absolute top-4 right-4",children:l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${N(u)}`,children:(u==null?void 0:u.charAt(0).toUpperCase())+(u==null?void 0:u.slice(1))})}),l("button",{className:"absolute bottom-4 right-4 bg-white p-2 rounded-full shadow-md hover:bg-gray-50 transition-colors duration-200",children:l("svg",{className:"w-5 h-5 text-gray-400 hover:text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),m("div",{className:"p-6",children:[m("div",{className:"mb-3",children:[l("h3",{className:"text-2xl font-bold text-gray-900",children:k(c)}),(d==="for-rent"||d==="rent")&&l("span",{className:"text-gray-600 text-sm",children:"/month"})]}),l(we,{to:`/properties/${s}`,children:l("h4",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors duration-200 mb-2 line-clamp-2",children:o})}),m("div",{className:"flex items-center text-gray-600 mb-4",children:[m("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{className:"text-sm",children:(h==null?void 0:h.address)||(h==null?void 0:h.formattedAddress)||"Address not available"})]}),m("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[m("div",{className:"flex items-center space-x-1",children:[l("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),m("span",{className:"text-sm text-gray-600",children:[p||0," Bed"]})]}),m("div",{className:"flex items-center space-x-1",children:[l("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),m("span",{className:"text-sm text-gray-600",children:[g||0," Bath"]})]}),m("div",{className:"flex items-center space-x-1",children:[l("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}),m("span",{className:"text-sm text-gray-600",children:[b||0," sq ft"]})]})]}),m("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[m("span",{className:"text-xs text-gray-500",children:["Listed ",M(A)]}),l(we,{to:`/properties/${s}`,className:"text-blue-600 hover:text-blue-700 text-sm font-semibold transition-colors duration-200",children:"View Details "})]})]})]})},ol=({size:t="medium",color:e="blue",text:r="Loading...",fullScreen:n=!1})=>{const i={small:"w-6 h-6",medium:"w-12 h-12",large:"w-16 h-16",xlarge:"w-24 h-24"},a={blue:"text-blue-600",white:"text-white",gray:"text-gray-600"},s=m("div",{className:"flex flex-col items-center justify-center space-y-3",children:[l("div",{className:`animate-spin rounded-full border-4 border-solid border-current border-r-transparent ${i[t]} ${a[e]}`}),r&&l("span",{className:"text-gray-600 text-sm font-medium",children:r})]});return n?l("div",{className:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50",children:s}):s},u6=({currentPage:t,totalPages:e,onPageChange:r,itemsPerPage:n,totalItems:i,onItemsPerPageChange:a,className:s=""})=>{const o=[];let u=Math.max(1,t-Math.floor(2.5)),d=Math.min(e,u+5-1);d-u+1<5&&(u=Math.max(1,d-5+1));for(let p=u;p<=d;p++)o.push(p);const h=[10,25,50,100];return e<=1?null:m("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${s}`,children:[a&&m("div",{className:"flex items-center space-x-2",children:[l("span",{className:"text-sm text-gray-700",children:"Show:"}),l("select",{value:n,onChange:p=>a(Number(p.target.value)),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(p=>l("option",{value:p,children:p},p))}),m("span",{className:"text-sm text-gray-700",children:["of ",i," items"]})]}),m("div",{className:"flex items-center space-x-1",children:[l("button",{onClick:()=>r(1),disabled:t===1,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),l("button",{onClick:()=>r(t-1),disabled:t===1,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u>1&&m(br,{children:[l("button",{onClick:()=>r(1),className:"px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition duration-200",children:"1"}),u>2&&l("span",{className:"px-2 text-gray-400",children:"..."})]}),o.map(p=>l("button",{onClick:()=>r(p),className:`px-3 py-2 rounded-lg transition duration-200 ${t===p?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:p},p)),d<e&&m(br,{children:[d<e-1&&l("span",{className:"px-2 text-gray-400",children:"..."}),l("button",{onClick:()=>r(e),className:"px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition duration-200",children:e})]}),l("button",{onClick:()=>r(t+1),disabled:t===e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),l("button",{onClick:()=>r(e),disabled:t===e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),m("div",{className:"text-sm text-gray-600",children:["Page ",t," of ",e]})]})},d6=({properties:t,loading:e=!1,error:r=null,currentPage:n=1,totalPages:i=1,totalItems:a=0,itemsPerPage:s=12,onPageChange:o,onItemsPerPageChange:c,className:u="",emptyMessage:d="No properties found matching your criteria."})=>e?l("div",{className:"flex justify-center items-center py-12",children:l(ol,{size:"large",text:"Loading properties..."})}):r?l("div",{className:"text-center py-12",children:m("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 max-w-md mx-auto",children:[l("svg",{className:"w-12 h-12 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Properties"}),l("p",{className:"text-red-600",children:r}),l("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Try Again"})]})}):!t||t.length===0?l("div",{className:"text-center py-12",children:m("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 max-w-md mx-auto",children:[l("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Properties Found"}),l("p",{className:"text-gray-600 mb-4",children:d}),l("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"Adjust Filters"})]})}):m("div",{className:u,children:[m("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-2 sm:space-y-0",children:[m("div",{children:[m("h2",{className:"text-2xl font-bold text-gray-900",children:["Properties ",a>0&&`(${a})`]}),l("p",{className:"text-gray-600 mt-1",children:a>0?`Showing ${(n-1)*s+1}-${Math.min(n*s,a)} of ${a} properties`:"No properties found"})]}),m("div",{className:"flex items-center space-x-4",children:[m("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l("option",{children:"Sort by: Newest"}),l("option",{children:"Sort by: Price: Low to High"}),l("option",{children:"Sort by: Price: High to Low"}),l("option",{children:"Sort by: Area"})]}),m("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[l("button",{className:"p-2 bg-white border-r border-gray-300 hover:bg-gray-50",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l("button",{className:"p-2 bg-gray-100 border-l border-gray-300",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:t.map(h=>l(AO,{property:h},h._id||h.id))}),i>1&&l(u6,{currentPage:n,totalPages:i,totalItems:a,itemsPerPage:s,onPageChange:o,onItemsPerPageChange:c})]}),sd=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(null),i=y.useRef(new Map),a=y.useCallback(async()=>{try{const E=tr.currentUser;if(!E)return console.warn(" No authenticated Firebase user found"),null;const A=await E.getIdToken();return console.log(" Firebase token obtained"),A}catch(E){return console.error(" Failed to get Firebase token:",E),null}},[]),s=y.useCallback(async(E,A={})=>{const S=new AbortController,L=E+JSON.stringify(A);i.current.set(L,S);try{e(!0),n(null);const k=await a(),M={headers:{"Content-Type":"application/json",...k&&{Authorization:`Bearer ${k}`},...A.headers},signal:S.signal},_=E.startsWith("http")?E:`https://realestateoctopus.onrender.com/api${E}`;console.log(" API Request:",{url:_,method:A.method,hasToken:!!k});const T=await fetch(_,{...M,...A,headers:{...M.headers,...A.headers}});if(i.current.delete(L),T.status===401){console.log(" 401 Unauthorized - token might be expired, refreshing...");const C=tr.currentUser;if(C){const I=await C.getIdToken(!0);console.log(" Retrying with refreshed token");const D=await fetch(_,{...M,...A,headers:{...M.headers,Authorization:`Bearer ${I}`,...A.headers}});if(!D.ok){const B=await D.text();throw console.error(" API Error Response after token refresh:",{status:D.status,statusText:D.statusText,data:B}),new Error(`HTTP error! status: ${D.status}`)}const O=await D.json();return console.log(" API Success Response after token refresh:",O),{success:!0,data:O,status:D.status,headers:D.headers}}}if(T.status===429){const C=T.headers.get("Retry-After")||2;console.warn(` Rate limited, retrying after ${C} seconds...`),await new Promise(O=>setTimeout(O,C*1e3));const I=await fetch(_,{...M,...A,headers:{...M.headers,...A.headers}});if(!I.ok){const O=await I.text();throw console.error(" API Error Response after retry:",{status:I.status,statusText:I.statusText,data:O}),new Error(`HTTP error! status: ${I.status}`)}const D=await I.json();return console.log(" API Success Response after retry:",D),{success:!0,data:D,status:I.status,headers:I.headers}}if(!T.ok){let C,I;try{C=await T.text(),console.log(" Raw error response text:",C);try{I=JSON.parse(C),console.log(" Parsed error JSON:",I)}catch{console.log(" JSON parsing failed, using raw text"),I={error:C,raw:C,message:C}}}catch{console.log(" Unable to read error response"),C="Unable to read error response",I={error:C,message:C}}console.error(" API Error Response:",{status:T.status,statusText:T.statusText,data:I,fullError:C});const D=I.error||I.message||`HTTP error! status: ${T.status}`,O=new Error(D);throw O.status=T.status,O.details=I.details||I,O.fullResponse=I,O.rawResponse=C,O}const N=await T.json();return console.log(" API Success Response:",N),{success:!0,data:N,status:T.status,headers:T.headers}}catch(k){if(i.current.delete(L),k.name==="AbortError")return console.log("Request was aborted"),{success:!1,aborted:!0};let M=k.message||"An error occurred";return k.details&&(typeof k.details=="object"?M+=` - Details: ${JSON.stringify(k.details)}`:M+=` - Details: ${k.details}`),console.error(" API Request Failed:",{message:k.message,status:k.status,details:k.details,fullResponse:k.fullResponse,rawResponse:k.rawResponse,fullError:k}),n(M),{success:!1,error:M,status:k.status,details:k.details,fullResponse:k.fullResponse,rawResponse:k.rawResponse}}finally{e(!1)}},[a]),o=y.useCallback(async(E,A={})=>s(E,{method:"GET",...A}),[s]),c=y.useCallback(async(E,A,S={})=>(console.log(" POST data being sent:",A),s(E,{method:"POST",body:JSON.stringify(A),...S})),[s]),u=y.useCallback(async(E,A,S={})=>(console.log(" PUT data being sent:",A),s(E,{method:"PUT",body:JSON.stringify(A),...S})),[s]),d=y.useCallback(async(E,A,S={})=>(console.log(" PATCH data being sent:",A),s(E,{method:"PATCH",body:JSON.stringify(A),...S})),[s]),h=y.useCallback(async(E,A={})=>s(E,{method:"DELETE",...A}),[s]),p=y.useCallback(async(E,A,S={})=>{const L=new FormData;return L.append("file",A),s(E,{method:"POST",body:L,headers:{...S.headers||{}},...S})},[s]),g=y.useCallback(async(E,A,S={})=>{const L=new FormData;return A.forEach(k=>{L.append("files",k)}),s(E,{method:"POST",body:L,headers:{...S.headers||{}},...S})},[s]),b=y.useCallback((E,A={})=>{const S=E+JSON.stringify(A),L=i.current.get(S);L&&(L.abort(),i.current.delete(S))},[]),x=y.useCallback(()=>{i.current.forEach(E=>{E.abort()}),i.current.clear()},[]),v=y.useCallback(()=>{n(null)},[]);return{loading:t,errors:r,request:s,get:o,post:c,put:u,patch:d,delete:h,upload:p,uploadMultiple:g,abortRequest:b,abortAllRequests:x,clearErrors:v,hasErrors:!!r}},h6=(t={})=>{const[e,r]=y.useState([]),[n,i]=y.useState(!0),[a,s]=y.useState(null),[o,c]=y.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:12}),{get:u,post:d,put:h,del:p}=sd(),g=y.useRef(t),b=y.useRef(!0);y.useEffect(()=>{JSON.stringify(t)!==JSON.stringify(g.current)&&(g.current={...t})},[t]);const x=y.useCallback(async(M=null)=>{var _;try{i(!0),s(null);const T=M||g.current,N=new URLSearchParams;N.append("page",T.page||"1"),N.append("limit",T.limit||"12"),Object.entries(T).forEach(([I,D])=>{D!=null&&D!==""&&!["page","limit"].includes(I)&&N.append(I,D.toString())}),console.log(" Fetching properties with filters:",T);const C=await u(`/properties?${N.toString()}`);if(console.log(" Properties API Response:",C),C&&C.success!==!1){let I=[],D={};C.data?Array.isArray(C.data.data)?I=C.data.data:Array.isArray(C.data)&&(I=C.data):C.properties!==void 0?I=Array.isArray(C.properties)?C.properties:[]:Array.isArray(C)&&(I=C),C.pagination?D=C.pagination:(_=C.data)!=null&&_.pagination?D=C.data.pagination:D={page:C.page||C.currentPage||1,pages:C.pages||C.totalPages||1,total:C.total||C.count||I.length,limit:C.limit||C.itemsPerPage||12},console.log(" Processed properties:",I),console.log(" Processed pagination:",D),r(I),c({currentPage:D.page||1,totalPages:D.pages||1,totalItems:D.total||I.length,itemsPerPage:D.limit||12})}else throw new Error((C==null?void 0:C.error)||(C==null?void 0:C.message)||"Failed to fetch properties")}catch(T){console.error(" Error fetching properties:",T),s(T.message||"An error occurred while fetching properties"),r([])}finally{i(!1)}},[u]);y.useEffect(()=>{b.current&&(b.current=!1,x())},[]),y.useEffect(()=>{b.current||JSON.stringify(t)!==JSON.stringify(g.current)&&(g.current={...t},x(t))},[t,x]);const v=y.useCallback(async M=>{try{i(!0),s(null);const _=await u(`/properties/${M}`);if(console.log(" Single Property API Response:",_),_&&_.success!==!1){let T=_;return _.data&&(_.data.data&&(_.data.data.title||_.data.data.price)?T=_.data.data:(_.data.title||_.data.price)&&(T=_.data)),T}else throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to fetch property")}catch(_){return console.error(" Error fetching property:",_),s(_.message||"An error occurred while fetching the property"),null}finally{i(!1)}},[u]),E=y.useCallback(async M=>{try{i(!0),s(null);const _=await d("/properties",M);if(console.log(" Create Property API Response:",_),_&&_.success!==!1){let T=_;return _.data&&(_.data.data&&(_.data.data.title||_.data.data.price)?T=_.data.data:(_.data.title||_.data.price)&&(T=_.data)),r(N=>[T,...N]),T}else throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to create property")}catch(_){throw console.error(" Error creating property:",_),s(_.message||"An error occurred while creating the property"),_}finally{i(!1)}},[d]),A=y.useCallback(async(M,_)=>{try{i(!0),s(null);const T=await h(`/properties/${M}`,_);if(console.log(" Update Property API Response:",T),T&&T.success!==!1){let N=T;return T.data&&(T.data.data&&(T.data.data.title||T.data.data.price)?N=T.data.data:(T.data.title||T.data.price)&&(N=T.data)),r(C=>C.map(I=>I._id===M||I.id===M?N:I)),N}else throw new Error((T==null?void 0:T.error)||(T==null?void 0:T.message)||"Failed to update property")}catch(T){throw console.error(" Error updating property:",T),s(T.message||"An error occurred while updating the property"),T}finally{i(!1)}},[h]),S=y.useCallback(async M=>{try{i(!0),s(null);const _=await p(`/properties/${M}`);if(console.log(" Delete Property API Response:",_),_&&_.success!==!1)return r(T=>T.filter(N=>N._id!==M&&N.id!==M)),!0;throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to delete property")}catch(_){throw console.error(" Error deleting property:",_),s(_.message||"An error occurred while deleting the property"),_}finally{i(!1)}},[p]),L=y.useCallback(async(M=6)=>{try{i(!0),s(null),console.log(" Fetching featured properties...");const _=await u(`/properties/featured?limit=${M}`);if(console.log(" Featured Properties API Response:",_),_&&_.success!==!1){let T=[];return _.data?Array.isArray(_.data.data)?T=_.data.data:Array.isArray(_.data)&&(T=_.data):_.properties!==void 0?T=Array.isArray(_.properties)?_.properties:[]:Array.isArray(_)&&(T=_),console.log(" Featured properties extracted:",T),r(T),T}else throw new Error((_==null?void 0:_.error)||(_==null?void 0:_.message)||"Failed to fetch featured properties")}catch(_){return console.error(" Error fetching featured properties:",_),s(_.message||"Failed to fetch featured properties"),[]}finally{i(!1)}},[u]),k=y.useCallback(()=>{x()},[x]);return{properties:e,loading:n,error:a,pagination:o,fetchProperties:x,fetchProperty:v,createProperty:E,updateProperty:A,deleteProperty:S,getFeaturedProperties:L,refetch:k,currentPage:o.currentPage,totalPages:o.totalPages,totalItems:o.totalItems,itemsPerPage:o.itemsPerPage,hasProperties:e.length>0,isEmpty:!n&&e.length===0}},PO=t=>{const[e,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(null),{get:o}=sd(),c=y.useCallback(async d=>{var h,p;try{i(!0),s(null);const g=await o(`/properties/${d}`);if(console.log(" Single Property API Response:",g),g&&g.success!==!1){let b=g;console.log(" response.data:",g.data),console.log(" response.data?.data:",(h=g.data)==null?void 0:h.data),(p=g.data)!=null&&p.data&&(g.data.data.title||g.data.data.price)?(b=g.data.data,console.log(" Extracted from response.data.data")):g.data&&(g.data.title||g.data.price)?(b=g.data,console.log(" Extracted from response.data")):(g.title||g.price)&&(b=g,console.log(" Using response directly")),console.log(" Final property data:",b),r(b)}else throw new Error((g==null?void 0:g.error)||(g==null?void 0:g.message)||"Failed to fetch property")}catch(g){console.error(" Error fetching property:",g),s(g.message||"An error occurred while fetching the property")}finally{i(!1)}},[o]);y.useEffect(()=>{t&&c(t)},[t,c]);const u=y.useCallback(()=>{t&&c(t)},[t,c]);return{property:e,loading:n,error:a,refetch:u,exists:!!e&&!n}},SO=({title:t="Featured Properties",subtitle:e="Discover our handpicked selection of premium properties",className:r="",limit:n=20})=>{const{properties:i,loading:a,error:s,currentPage:o,totalPages:c,totalItems:u,refetch:d}=h6({page:1,limit:n,sort:"newest"});y.useEffect(()=>{console.log(" FeaturedProperties Hook State:",{loading:a,error:s,propertiesCount:(i==null?void 0:i.length)||0,totalItems:u,limit:n})},[i,a,s,u,n]);const h=()=>{d()};return s?l("section",{className:`py-2 md:py-16 bg-gray-50 ${r}`,children:l(zr,{children:l("div",{className:"text-center",children:m("div",{className:"bg-white rounded-2xl shadow-lg p-12 max-w-2xl mx-auto",children:[l("div",{className:"text-6xl mb-4",children:""}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Temporary Issue"}),l("p",{className:"text-gray-600 mb-6",children:"We're having trouble loading featured properties. Please try again."}),l("button",{onClick:h,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold",children:"Try Again"})]})})})}):l("section",{className:`py-2 md:py-16 bg-gray-50 ${r}`,children:m(zr,{children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:t}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e})]}),l(d6,{properties:i,loading:a,error:s,currentPage:1,totalPages:1,totalItems:(i==null?void 0:i.length)||0,onPageChange:()=>{},onSortChange:()=>{},sortBy:"newest",view:"grid",showPagination:!1}),!a&&i&&i.length>0&&l("div",{className:"text-center mt-12",children:m("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl shadow-xl p-12 text-white",children:[l("h3",{className:"text-3xl font-bold mb-4",children:"Ready to Find Your Dream Property?"}),l("p",{className:"text-blue-100 text-xl mb-8 max-w-2xl mx-auto leading-relaxed",children:"Browse our complete collection of properties or speak with one of our expert agents."}),m("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[l("a",{href:"/properties",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"View All Properties"}),l("a",{href:"/contact",className:"bg-transparent text-white px-8 py-4 rounded-lg border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Contact an Agent"})]})]})})]})})},TO=()=>m(kr,{children:[m("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden",children:[l("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:`linear-gradient(
              rgba(37, 99, 235, 0.85),
              rgba(29, 78, 216, 0.90)
            ), url('https://images.unsplash.com/photo-1613490493576-7fde63acd811?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80')`},children:m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"}),l("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-blue-300/20 rounded-full blur-lg animate-bounce"}),l("div",{className:"absolute top-1/2 right-1/4 w-3 h-3 bg-white/50 rounded-full animate-ping"})]})}),l(EO,{children:m("div",{className:"text-center space-y-4 md:space-y-8 relative z-10",children:[m("div",{className:"space-y-6",children:[m("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold leading-tight",children:["Find Your",l("span",{className:"block text-blue-200 bg-gradient-to-r from-blue-200 to-white bg-clip-text text-transparent",children:"Dream Home"})]}),l("p",{className:"text-xl md:text-2xl text-blue-100 max-w-3xl mx-auto leading-relaxed font-light",children:"Discover exclusive properties with premium amenities. Expert agents ready to guide you home."})]}),l("div",{className:"max-w-4xl mx-auto transform transition-all duration-500 hover:scale-[1.02]",children:l("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-1 border border-white/20 shadow-2xl",children:l(c6,{onSearch:r=>{console.log("Home search:",r)},variant:"hero"})})})]})}),l("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:l("div",{className:"w-6 h-10 border-2 border-white/60 rounded-full flex justify-center",children:l("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2"})})})]}),m("section",{className:"py-2 py-16 bg-gradient-to-br from-blue-50 via-white to-blue-50 relative overflow-hidden",children:[m("div",{className:"absolute inset-0 opacity-5",children:[l("div",{className:"absolute top-0 left-0 w-32 h-32 bg-blue-200 rounded-full blur-3xl"}),l("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-blue-300 rounded-full blur-3xl"})]}),m(zr,{children:[l("div",{className:"text-center mb-2 md:mb-8 relative z-10",children:l("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Featured Properties"})}),l(SO,{title:"",subtitle:"",limit:6})]})]}),m("section",{className:"py-16 bg-white relative overflow-hidden",children:[l("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-50 rounded-full -translate-y-32 translate-x-32"}),l("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-blue-100 rounded-full translate-y-24 -translate-x-24"}),m(zr,{children:[m("div",{className:"text-center mb-16 relative z-10",children:[l("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Our Services"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Comprehensive real estate services tailored to meet all your property needs"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10",children:[{icon:l(ea,{className:"w-10 h-10"}),title:"Buying Properties",description:"Find your dream home with our extensive property listings and expert guidance."},{icon:l(Ym,{className:"w-10 h-10"}),title:"Selling Properties",description:"Get the best value for your property with our marketing expertise and negotiation skills."},{icon:l(vo,{className:"w-10 h-10"}),title:"Property Rental",description:"Discover perfect rental properties for your needs with our comprehensive rental services."},{icon:l(Gm,{className:"w-10 h-10"}),title:"Property Management",description:"Professional management services to maximize your property investment returns."}].map((r,n)=>m("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-blue-100 hover:border-blue-200 hover:-translate-y-2",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-white rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),m("div",{className:"relative z-10",children:[l("div",{className:"inline-flex items-center justify-center p-4 rounded-2xl bg-blue-600 text-white mb-6 group-hover:bg-blue-700 group-hover:scale-110 transition-all duration-300 shadow-lg",children:r.icon}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-4 group-hover:text-blue-800 transition-colors duration-300",children:r.title}),l("p",{className:"text-gray-700 leading-relaxed text-sm relative",children:r.description})]})]},n))})]})]}),m("section",{className:"relative py-16 md:py-20 bg-gradient-to-br from-blue-600 to-blue-700 text-white overflow-hidden",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-blue-400/20 rounded-full blur-3xl animate-bounce delay-1000"}),l("div",{className:"absolute top-1/2 left-1/4 w-3 h-3 bg-white/60 rounded-full animate-ping"}),l("div",{className:"absolute bottom-1/3 right-1/3 w-2 h-2 bg-white/40 rounded-full animate-pulse delay-500"})]}),l("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_1px_1px,_white_1px,_transparent_0)] bg-[length:20px_20px]"}),l(zr,{children:m("section",{className:"relative py-16 md:py-20 bg-gradient-to-br from-blue-600 to-blue-700 text-white overflow-hidden",children:[m("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`linear-gradient(
        rgba(37, 99, 235, 0.85),
        rgba(29, 78, 216, 0.92)
      ), url('https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2075&q=80')`},children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-blue-400/20 rounded-full blur-3xl animate-bounce delay-1000"}),l("div",{className:"absolute top-1/2 left-1/4 w-3 h-3 bg-white/60 rounded-full animate-ping"}),l("div",{className:"absolute bottom-1/3 right-1/3 w-2 h-2 bg-white/40 rounded-full animate-pulse delay-500"})]}),l("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_1px_1px,_white_1px,_transparent_0)] bg-[length:20px_20px]"})]}),l(zr,{children:m("div",{className:"relative z-10 text-center max-w-3xl mx-auto px-4",children:[l("h2",{className:"text-3xl md:text-4xl font-bold mb-6 bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Ready to Find Your Dream Property?"}),l("p",{className:"text-blue-100 text-lg md:text-xl mb-8 leading-relaxed font-light",children:"Join thousands of satisfied clients who found their perfect home with our expert guidance."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l(we,{to:"/properties",className:"bg-white text-blue-600 px-8 py-4 rounded-xl hover:bg-blue-50 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl hover:scale-105 min-w-[200px] text-center",children:"Browse Properties"}),l(we,{to:"/contact",className:"border-2 border-white text-white px-8 py-4 rounded-xl hover:bg-white hover:text-blue-600 transition-all duration-300 font-semibold hover:shadow-xl hover:scale-105 min-w-[200px] text-center",children:"Contact Agent"})]}),l("div",{className:"mt-8 text-blue-200 text-sm",children:"Trusted by 5,000+ happy homeowners"})]})})]})})]})]});function IO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Bh(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function CO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function kO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function OO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function RO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function E1(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(t)}function MO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function DO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(t)}function LO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"},child:[]}]})(t)}function A1(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11h-4zM7 19H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm4 4H9v-2h2v2zm0-4H9V9h2v2zm0-4H9V5h2v2zm4 8h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm4 12h-2v-2h2v2zm0-4h-2v-2h2v2z"},child:[]}]})(t)}function Hh(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 10v2H8v-2h2zm6 2v-2h-2v2h2zm5 2v8H3v-8h1v-4c0-4.42 3.58-8 8-8s8 3.58 8 8v4h1zM7 16H5v4h2v-4zm4 0H9v4h2v-4zm0-11.92C8.16 4.56 6 7.03 6 10v4h5V4.08zM13 14h5v-4c0-2.97-2.16-5.44-5-5.92V14zm2 2h-2v4h2v-4zm4 0h-2v4h2v-4z"},child:[]}]})(t)}function jO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM8.5 6a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm2.5 8h-1v4H7v-4H6v-2.5c0-1.1.9-2 2-2h1c1.1 0 2 .9 2 2V14zm4.5 3L13 13h5l-2.5 4zM13 11l2.5-4 2.5 4h-5z"},child:[]}]})(t)}function VO(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.01 2.01 0 0 0 18.06 7h-.12a2 2 0 0 0-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8h3zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7h4zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4h3z"},child:[]}]})(t)}function $O(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"},child:[]}]})(t)}function P1(t){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 21h18"},child:[]},{tag:"path",attr:{d:"M19 21v-4"},child:[]},{tag:"path",attr:{d:"M19 17a2 2 0 0 0 2 -2v-2a2 2 0 1 0 -4 0v2a2 2 0 0 0 2 2z"},child:[]},{tag:"path",attr:{d:"M14 21v-14a3 3 0 0 0 -3 -3h-4a3 3 0 0 0 -3 3v14"},child:[]},{tag:"path",attr:{d:"M9 17v4"},child:[]},{tag:"path",attr:{d:"M8 13h2"},child:[]},{tag:"path",attr:{d:"M8 9h2"},child:[]}]})(t)}const FO=({filters:t,onFiltersChange:e,onReset:r,className:n=""})=>{const[i,a]=y.useState(t||{}),s=[{value:"",label:"Any Type"},{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"commercial",label:"Commercial"}],o=[{value:"",label:"Any Status"},{value:"forSale",label:"For Sale"},{value:"forRent",label:"For Rent"}],c=[{value:"",label:"Any Price"},{value:"0-100000",label:"Under $100,000"},{value:"100000-200000",label:"$100,000 - $200,000"},{value:"200000-300000",label:"$200,000 - $300,000"},{value:"300000-500000",label:"$300,000 - $500,000"},{value:"500000-1000000",label:"$500,000 - $1,000,000"},{value:"1000000-",label:"Over $1,000,000"}],u=[{value:"",label:"Any Bedrooms"},{value:"1",label:"1 Bedroom"},{value:"2",label:"2 Bedrooms"},{value:"3",label:"3 Bedrooms"},{value:"4",label:"4 Bedrooms"},{value:"5",label:"5+ Bedrooms"}],d=[{value:"",label:"Any Bathrooms"},{value:"1",label:"1 Bathroom"},{value:"2",label:"2 Bathrooms"},{value:"3",label:"3 Bathrooms"},{value:"4",label:"4+ Bathrooms"}],h=(x,v)=>{const E={...i,[x]:v};a(E),e(E)},p=x=>{let v,E;x&&([v,E]=x.split("-").map(S=>S===""?void 0:parseInt(S)));const A={...i,minPrice:v,maxPrice:E,priceRange:x};a(A),e(A)},g=()=>{a({}),r()},b=Object.values(i).some(x=>x!==void 0&&x!==""&&x!==null);return m("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${n}`,children:[m("div",{className:"flex items-center justify-between mb-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),b&&l("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All"})]}),m("div",{className:"space-y-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:s.map(x=>l("button",{onClick:()=>h("type",x.value),className:`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${i.type===x.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:x.label},x.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l("div",{className:"grid grid-cols-2 gap-2",children:o.map(x=>l("button",{onClick:()=>h("status",x.value),className:`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${i.status===x.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:x.label},x.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),l("select",{value:i.priceRange||"",onChange:x=>p(x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:c.map(x=>l("option",{value:x.value,children:x.label},x.value))})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),l("select",{value:i.bedrooms||"",onChange:x=>h("bedrooms",x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:u.map(x=>l("option",{value:x.value,children:x.label},x.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms"}),l("select",{value:i.bathrooms||"",onChange:x=>h("bathrooms",x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:d.map(x=>l("option",{value:x.value,children:x.label},x.value))})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Area (sq ft)"}),l("input",{type:"number",value:i.minArea||"",onChange:x=>h("minArea",x.target.value),placeholder:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Area (sq ft)"}),l("input",{type:"number",value:i.maxArea||"",onChange:x=>h("maxArea",x.target.value),placeholder:"Any",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["parking","garden","pool","furnished","petFriendly","balcony"].map(x=>m("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:i[x]||!1,onChange:v=>h(x,v.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm text-gray-700 capitalize",children:x.replace(/([A-Z])/g," $1").trim()})]},x))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),l("input",{type:"text",value:i.location||"",onChange:x=>h("location",x.target.value),placeholder:"Enter city, neighborhood, or ZIP code",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),b&&m("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Active Filters"}),l("div",{className:"flex flex-wrap gap-2",children:Object.entries(i).map(([x,v])=>{if(!v||v==="")return null;let E=v;if(x==="priceRange"){const A=c.find(S=>S.value===v);E=A==null?void 0:A.label}else if(x==="type"){const A=s.find(S=>S.value===v);E=A==null?void 0:A.label}else if(x==="status"){const A=o.find(S=>S.value===v);E=A==null?void 0:A.label}else typeof v=="boolean"&&(E=x.replace(/([A-Z])/g," $1").trim());return m("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[E,l("button",{onClick:()=>h(x,""),className:"ml-2 hover:text-blue-900",children:""})]},x)})})]})]})},UO=()=>{const[t,e]=_x(),[r,n]=y.useState({}),[i,a]=y.useState("grid"),[s,o]=y.useState("newest"),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[p,g]=y.useState("");y.useEffect(()=>{const B=()=>{h(window.innerWidth<768)};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const b=yr.useMemo(()=>{const{id:B,...H}=r;return{page:parseInt(t.get("page"))||1,limit:12,...H,sort:s}},[r,t,s]),{properties:x,loading:v,error:E,currentPage:A,totalPages:S,totalItems:L,refetch:k}=h6(b);y.useEffect(()=>{var B;x.length>0&&console.log(" Properties Page - First property images:",{title:x[0].title,primaryImage:x[0].primaryImage,images:x[0].images,featuredImage:x[0].featuredImage,hasPrimaryImage:!!x[0].primaryImage,hasImages:!!((B=x[0].images)!=null&&B.length)})},[x]),y.useEffect(()=>{const B=new URLSearchParams;Object.entries(r).forEach(([H,K])=>{K&&H!=="id"&&B.set(H,K.toString())}),A>1&&B.set("page",A.toString()),e(B)},[r,A,e]);const M=B=>{const{id:H,...K}=B;n(te=>({...te,...K,page:1}))},_=B=>{const{id:H,...K}=B;n(K),d&&u(!1)},T=B=>{n(H=>({...H,page:B}))},N=B=>{o(B)},C=[{label:"All Properties",value:"",icon:kO,count:L},{label:"For Sale",value:"sale",icon:Bh,count:"1.2k"},{label:"For Rent",value:"rent",icon:DO,count:"856"},{label:"Featured",value:"featured",icon:$O,count:"43"},{label:"Luxury",value:"luxury",icon:P1,count:"127"},{label:"New",value:"new",icon:A1,count:"89"}],I=B=>{g(B),n(B===""?{page:1}:H=>({...H,status:B,page:1}))},D=[{label:"Newest First",value:"newest",icon:LO},{label:"Price: Low to High",value:"price_asc",icon:Bh},{label:"Price: High to Low",value:"price_desc",icon:Bh},{label:"Most Popular",value:"popular",icon:RO},{label:"Largest First",value:"area_desc",icon:A1}],O=Object.keys(r).filter(B=>B!=="page"&&r[B]&&r[B]!=="").length;return l(kr,{children:m(zr,{children:[m("div",{className:"relative py-12 md:py-16 mb-8 md:mb-12 overflow-hidden bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-50 rounded-3xl border border-blue-100 animate-fade-in px-4 sm:px-0",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-blue-200/50 to-transparent animate-pulse"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-sky-200/40 to-transparent animate-pulse delay-75"}),l("div",{className:"absolute top-0 left-2/3 w-0.5 h-full bg-gradient-to-b from-transparent via-cyan-200/30 to-transparent animate-pulse delay-150"}),l("div",{className:"absolute top-1/4 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-blue-300/40 to-transparent animate-pulse"})}),l("div",{className:"absolute bottom-1/3 right-0 w-2/3",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-sky-300/30 to-transparent animate-pulse delay-100"})}),l("div",{className:"absolute top-16 left-20 w-6 h-6 border-2 border-blue-300/60 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-20 right-24 w-8 h-8 border-2 border-sky-300/50 rounded-full animate-float delay-300"}),l("div",{className:"absolute top-28 right-32 w-4 h-4 bg-blue-400/30 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute bottom-28 left-32 w-5 h-5 border border-cyan-300/40 rounded-full animate-bounce delay-200"}),l("div",{className:"absolute top-1/2 left-1/3 w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-1/3 right-1/4 w-1.5 h-1.5 bg-sky-500 rounded-full animate-pulse delay-150"}),l("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-cyan-500 rounded-full animate-ping delay-300"}),l("div",{className:"absolute -top-12 -left-12 w-40 h-40 bg-gradient-to-r from-blue-200 to-sky-200 rounded-full blur-3xl opacity-50"}),l("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-gradient-to-r from-cyan-200 to-blue-200 rounded-full blur-3xl opacity-40"}),l("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-r from-sky-200 to-cyan-200 rounded-full blur-2xl opacity-30"}),l("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-blue-300/60 rounded-tl-lg"}),l("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-cyan-300/60 rounded-br-lg"})]}),m("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[m("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2.5 rounded-full border border-blue-200 shadow-sm mb-4 md:mb-6 hover:scale-105 transition-transform duration-200",children:[l(P1,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-600"}),l("span",{className:"text-sm md:text-base font-semibold text-blue-700 tracking-wide",children:"Octopus Real Estate"})]}),m("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 md:mb-6 font-serif tracking-tight leading-tight",children:["Discover Your ",l("span",{className:"bg-gradient-to-r from-blue-600 via-sky-600 to-cyan-600 bg-clip-text text-transparent",children:"Perfect"})," Property"]}),m("div",{className:"relative inline-block max-w-2xl",children:[l("div",{className:"absolute -inset-4 bg-white/40 rounded-2xl transform rotate-1 blur-sm"}),l("p",{className:"relative text-lg sm:text-xl md:text-2xl text-gray-700 leading-relaxed bg-white/70 backdrop-blur-sm p-6 md:p-8 rounded-xl border border-white/30 shadow-sm",children:"Explore luxury homes, modern apartments, and premium commercial spaces worldwide."})]}),m("div",{className:"flex justify-center items-center space-x-2 mt-6 md:mt-8",children:[l("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-ping"}),l("div",{className:"w-1.5 h-1.5 bg-sky-500 rounded-full animate-pulse delay-75"}),l("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-ping delay-150"}),l("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-200"}),l("div",{className:"w-2 h-2 bg-sky-400 rounded-full animate-ping delay-300"})]})]})]}),l("div",{className:"mb-8 md:mb-12 animate-slide-in px-4 sm:px-0",children:l("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-medium md:shadow-large p-4 md:p-6 border border-secondary-100",children:l(c6,{onSearch:M,initialValues:r,showAdvancedFilters:!1})})}),!d&&l("div",{className:"mb-8 md:mb-10",children:l("div",{className:"flex flex-wrap gap-2 md:gap-3 mb-6 justify-center",children:C.map(B=>{const H=B.icon,K=p===B.value;return m("button",{onClick:()=>I(B.value),className:`group relative flex items-center gap-2 md:gap-3 px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-xl transition-all duration-300 transform hover:scale-105 border-2 ${K?"border-primary-500 bg-primary-50 text-primary-700 shadow-medium":"border-secondary-200 bg-white text-secondary-700 hover:border-primary-300 hover:shadow-soft"}`,children:[l(H,{className:`w-4 h-4 md:w-5 md:h-5 transition-colors ${K?"text-primary-600":"text-secondary-500 group-hover:text-primary-500"}`}),m("div",{className:"text-left",children:[l("div",{className:"font-semibold text-sm md:text-base",children:B.label}),m("div",{className:`text-xs md:text-sm ${K?"text-primary-600":"text-secondary-500"}`,children:[B.count," properties"]})]})]},B.value)})})}),m("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4 md:gap-6 mb-6 md:mb-8 p-4 md:p-6 bg-secondary-50 rounded-xl md:rounded-2xl border border-secondary-200 mx-4 sm:mx-0",children:[m("div",{className:"flex items-center gap-3 md:gap-4 w-full justify-between md:justify-start",children:[m("div",{className:"text-secondary-700",children:[m("p",{className:"text-base md:text-lg font-semibold whitespace-nowrap",children:[m("span",{className:"text-primary-600",children:[L,"+"]})," properties"]}),l("p",{className:"text-xs md:text-sm text-secondary-500",children:O>0&&`${O} filter${O>1?"s":""} applied`})]}),d&&m("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-all duration-300 shadow-lg shadow-primary-200 relative",children:[l(E1,{className:"w-4 h-4"}),O>0&&l("span",{className:"absolute -top-1 -right-1 bg-accent-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center animate-bounce-in",children:O})]})]}),!d&&m("div",{className:"flex items-center gap-3 md:gap-4",children:[m("div",{className:"flex bg-white rounded-lg md:rounded-xl shadow-soft border border-secondary-200 p-1",children:[m("button",{onClick:()=>a("grid"),className:`flex items-center gap-2 px-3 py-2 md:px-4 md:py-2 rounded-md md:rounded-lg transition-all duration-200 ${i==="grid"?"bg-primary-500 text-white shadow-md":"text-secondary-500 hover:text-secondary-700 hover:bg-secondary-100"}`,children:[l(CO,{className:"w-3 h-3 md:w-4 md:h-4"}),l("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"Grid"})]}),m("button",{onClick:()=>a("list"),className:`flex items-center gap-2 px-3 py-2 md:px-4 md:py-2 rounded-md md:rounded-lg transition-all duration-200 ${i==="list"?"bg-primary-500 text-white shadow-md":"text-secondary-500 hover:text-secondary-700 hover:bg-secondary-100"}`,children:[l(OO,{className:"w-3 h-3 md:w-4 md:h-4"}),l("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"List"})]})]}),m("div",{className:"relative",children:[l("select",{value:s,onChange:B=>N(B.target.value),className:"appearance-none bg-white border border-secondary-200 rounded-lg md:rounded-xl px-3 py-2 md:px-4 md:py-3 pr-8 md:pr-10 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 shadow-soft hover:shadow-medium text-sm md:text-base min-w-32 md:min-w-48",children:D.map(B=>l("option",{value:B.value,children:B.label},B.value))}),l(IO,{className:"absolute right-2 md:right-3 top-1/2 transform -translate-y-1/2 text-secondary-400 pointer-events-none w-3 h-3 md:w-4 md:h-4"})]}),m("button",{onClick:()=>u(!0),className:"flex items-center gap-2 md:gap-3 bg-primary-600 text-white px-4 py-2 md:px-6 md:py-3 rounded-lg md:rounded-xl hover:bg-primary-700 transition-all duration-300 transform hover:scale-105 shadow-lg shadow-primary-200 hover:shadow-xl hover:shadow-primary-300 relative",children:[l(E1,{className:"w-4 h-4"}),l("span",{className:"font-semibold text-sm md:text-base",children:"Filters"}),O>0&&l("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-accent-500 text-white text-xs rounded-full w-4 h-4 md:w-6 md:h-6 flex items-center justify-center animate-bounce-in text-xs",children:O})]})]})]}),m("div",{className:"relative px-4 sm:px-0",children:[c&&m("div",{className:"fixed inset-0 z-90 animate-fade-in",children:[l("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>u(!1)}),l("div",{className:"absolute inset-0 md:right-0 md:top-0 md:h-full md:w-full md:max-w-md bg-white shadow-2xl transform animate-slide-in overflow-y-auto",children:m("div",{className:"p-4 md:p-6 h-full flex flex-col",children:[m("div",{className:"flex items-center justify-between mb-4 md:mb-6 pb-3 md:pb-4 border-b border-secondary-200",children:[m("div",{children:[l("h2",{className:"text-xl md:text-2xl font-bold text-secondary-900 font-serif",children:"Filters"}),l("p",{className:"text-secondary-500 text-xs md:text-sm mt-1",children:"Refine your property search"})]}),l("button",{onClick:()=>u(!1),className:"p-2 md:p-3 hover:bg-secondary-100 rounded-lg md:rounded-xl transition-all duration-200 hover:scale-110",children:l(MO,{className:"w-5 h-5 md:w-6 md:h-6 text-secondary-500"})})]}),l("div",{className:"flex-1",children:l(FO,{filters:r,onFiltersChange:_,onReset:()=>{n({page:1}),g(""),u(!1)},compact:!0})}),m("div",{className:"flex gap-2 md:gap-3 pt-4 md:pt-6 mt-4 md:mt-6 border-t border-secondary-200",children:[l("button",{onClick:()=>{n({page:1}),g(""),u(!1)},className:"flex-1 px-4 py-2 md:px-6 md:py-3 border border-secondary-300 text-secondary-700 rounded-lg md:rounded-xl hover:bg-secondary-50 transition-colors duration-200 font-medium text-sm md:text-base",children:"Reset All"}),l("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 md:px-6 md:py-3 bg-primary-600 text-white rounded-lg md:rounded-xl hover:bg-primary-700 transition-all duration-200 transform hover:scale-105 font-medium shadow-md text-sm md:text-base",children:"Apply Filters"})]})]})})]}),!1,l("div",{className:"animate-fade-in",children:l(d6,{properties:x,loading:v,error:E,currentPage:A,totalPages:S,totalItems:L,onPageChange:T,onSortChange:N,sortBy:s,view:i})})]}),v&&m("div",{className:"flex flex-col justify-center items-center py-12 md:py-16 space-y-3 md:space-y-4",children:[l("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-b-2 border-primary-600"}),l("p",{className:"text-secondary-600 font-medium text-sm md:text-base",children:"Loading premium properties..."})]})]})})};function zO(t){return Z({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.3 80H307.8c-7.5 0-13.7 6.1-13.7 13.7v.2c0 7.5 6.1 13.7 13.7 13.7h76.5L107.6 384.3v-76.5c0-7.5-6.1-13.7-13.7-13.7h-.2c-7.5 0-13.7 6.1-13.7 13.7v110.5c0 7.5 6.1 13.7 13.7 13.7h110.5c7.5 0 13.7-6.1 13.7-13.7v-.2c0-7.5-6.1-13.7-13.7-13.7h-76.5l276.7-276.7v76.5c0 7.5 6.1 13.7 13.7 13.7h.2c7.5 0 13.7-6.1 13.7-13.7V93.7c0-7.6-6.1-13.7-13.7-13.7z"},child:[]}]})(t)}const BO=({isOpen:t,onClose:e,title:r,children:n,size:i="medium",closeOnOverlayClick:a=!0})=>(y.useEffect(()=>{const c=u=>{u.keyCode===27&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),t?l("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:c=>{c.target===c.currentTarget&&a&&e()},children:m("div",{className:`bg-white rounded-2xl shadow-2xl w-full ${{small:"max-w-md",medium:"max-w-2xl",large:"max-w-4xl",xlarge:"max-w-6xl",full:"max-w-full mx-4"}[i]} max-h-[90vh] overflow-hidden animate-modal-in`,children:[(r||e)&&m("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r&&l("h2",{className:"text-xl font-semibold text-gray-900",children:r}),l("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition duration-200 p-2 hover:bg-gray-100 rounded-lg",children:l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:n})]})}):null),HO=({images:t,title:e,className:r=""})=>{const[n,i]=y.useState(0),[a,s]=y.useState(!1),o=v=>typeof v=="string"?v:v&&v.url?v.url:v&&v.path?v.path:null,c=(v,E)=>typeof v=="string"?`${e} - Image ${E+1}`:v&&v.originalName?v.originalName:v&&v.filename?v.filename:`${e} - Image ${E+1}`,u=yr.useMemo(()=>!t||!Array.isArray(t)?[]:t.map(v=>o(v)).filter(v=>v&&v!==""),[t]);if(!u||u.length===0)return l("div",{className:`bg-gray-200 rounded-2xl flex items-center justify-center h-64 ${r}`,children:l("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})});const d=u[n],h=u.slice(0,5),p=()=>{i(v=>v===u.length-1?0:v+1)},g=()=>{i(v=>v===0?u.length-1:v-1)},b=(v=0)=>{i(v),s(!0)},x=()=>{s(!1)};return m(br,{children:[m("div",{className:`${r}`,children:[m("div",{className:"relative rounded-2xl overflow-hidden bg-gray-200",children:[l("img",{src:d,alt:c(t==null?void 0:t[n],n),className:"w-full h-96 object-cover cursor-pointer",onClick:()=>b(n),onError:v=>{console.error(" Image failed to load:",d),v.target.src="/images/placeholder-property.jpg"}}),u.length>1&&m(br,{children:[l("button",{onClick:g,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l("button",{onClick:p,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),m("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-full text-sm font-medium",children:[n+1," / ",u.length]}),l("button",{onClick:()=>b(n),className:"absolute bottom-4 left-4 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})]}),u.length>1&&l("div",{className:"grid grid-cols-5 gap-2 mt-3",children:h.map((v,E)=>m("button",{onClick:()=>i(E),className:`relative rounded-lg overflow-hidden border-2 transition-all duration-200 ${n===E?"border-blue-600 ring-2 ring-blue-600 ring-opacity-30 shadow-md":"border-transparent hover:border-gray-300 hover:shadow-sm"}`,children:[l("img",{src:v,alt:c(t==null?void 0:t[E],E),className:"w-full h-16 object-cover",onError:A=>{console.error(" Thumbnail failed to load:",v),A.target.src="/images/placeholder-property.jpg"}}),E===4&&u.length>5&&l("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:m("span",{className:"text-white text-sm font-semibold",children:["+",u.length-5]})})]},E))})]}),l(BO,{isOpen:a,onClose:x,size:"full",closeOnOverlayClick:!0,children:m("div",{className:"relative h-full flex items-center justify-center bg-black",children:[l("button",{onClick:x,className:"absolute top-6 right-6 z-10 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l("img",{src:u[n],alt:c(t==null?void 0:t[n],n),className:"max-w-full max-h-full object-contain",onError:v=>{console.error(" Fullscreen image failed to load:",u[n]),v.target.src="/images/placeholder-property.jpg"}}),u.length>1&&m(br,{children:[l("button",{onClick:g,className:"absolute left-6 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l("button",{onClick:p,className:"absolute right-6 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),m("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-60 text-white px-4 py-2 rounded-full font-medium",children:[n+1," / ",u.length]}),u.length>1&&l("div",{className:"absolute bottom-6 left-6 right-6 flex justify-center space-x-2",children:u.map((v,E)=>l("button",{onClick:()=>i(E),className:`w-12 h-12 rounded border-2 transition-all duration-200 ${n===E?"border-white ring-2 ring-white ring-opacity-50":"border-transparent hover:border-white hover:border-opacity-50"}`,children:l("img",{src:v,alt:c(t==null?void 0:t[E],E),className:"w-full h-full object-cover rounded",onError:A=>{console.error(" Modal thumbnail failed to load:",v),A.target.src="/images/placeholder-property.jpg"}})},E))})]})})]})},WO=({property:t,height:e="400px",className:r="",showMarker:n=!0,interactive:i=!0})=>{var p,g,b,x,v,E,A;const[a,s]=y.useState(!1),[o,c]=y.useState(!1),u={lat:((p=t==null?void 0:t.location)==null?void 0:p.lat)||40.7128,lng:((g=t==null?void 0:t.location)==null?void 0:g.lng)||-74.006},d=`https://maps.googleapis.com/maps/api/staticmap?
    center=${u.lat},${u.lng}
    &zoom=15
    &size=600x400
    &markers=color:red%7C${u.lat},${u.lng}
    &key=YOUR_GOOGLE_MAPS_API_KEY`,h=`https://www.google.com/maps/search/?api=1&query=${u.lat},${u.lng}`;return y.useEffect(()=>{const S=setTimeout(()=>{s(!0)},1e3);return()=>clearTimeout(S)},[]),a?o?l("div",{className:`bg-gray-100 rounded-2xl flex items-center justify-center ${r}`,style:{height:e},children:m("div",{className:"text-center p-6",children:[l("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),l("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Map Unavailable"}),l("p",{className:"text-gray-600 mb-4",children:"We couldn't load the map for this property."}),m("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:[m("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"View on Google Maps"]})]})}):m("div",{className:`${r}`,children:[m("div",{className:"bg-gray-200 rounded-2xl overflow-hidden relative",style:{height:e},children:[l("img",{src:d,alt:`Location of ${t==null?void 0:t.title}`,className:"w-full h-full object-cover",onError:()=>c(!0)}),i&&m("div",{className:"absolute inset-0 bg-transparent cursor-pointer",onClick:()=>window.open(h,"_blank"),children:[l("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:m("div",{className:"flex items-center space-x-2 text-sm",children:[m("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{className:"text-gray-700",children:"View larger map"})]})}),n&&l("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:m("div",{className:"relative",children:[l("div",{className:"w-6 h-6 bg-red-600 rounded-full border-2 border-white shadow-lg animate-pulse"}),l("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-white px-2 py-1 rounded-lg shadow-lg text-xs font-semibold whitespace-nowrap",children:t==null?void 0:t.title})]})})]})]}),m("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl",children:[l("h4",{className:"font-semibold text-gray-900 mb-2",children:"Location Details"}),m("div",{className:"space-y-2 text-sm text-gray-600",children:[((b=t==null?void 0:t.location)==null?void 0:b.address)&&m("div",{className:"flex items-start space-x-2",children:[m("svg",{className:"w-4 h-4 mt-0.5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{children:t.location.address})]}),((x=t==null?void 0:t.location)==null?void 0:x.neighborhood)&&m("div",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("span",{children:t.location.neighborhood})]}),(((v=t==null?void 0:t.location)==null?void 0:v.city)||((E=t==null?void 0:t.location)==null?void 0:E.state)||((A=t==null?void 0:t.location)==null?void 0:A.zipCode))&&m("div",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),l("span",{children:[t.location.city,t.location.state,t.location.zipCode].filter(Boolean).join(", ")})]})]}),m("div",{className:"flex space-x-3 mt-4",children:[l("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white text-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 text-sm font-medium",children:"Open in Maps"}),l("button",{className:"flex-1 bg-white text-gray-700 text-center py-2 px-4 rounded-lg border border-gray-300 hover:bg-gray-50 transition duration-200 text-sm font-medium",children:"Get Directions"})]})]})]}):l("div",{className:`bg-gray-200 rounded-2xl flex items-center justify-center ${r}`,style:{height:e},children:m("div",{className:"text-center",children:[l("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),l("p",{className:"text-gray-600 text-sm",children:"Loading map..."})]})})},qO="modulepreload",KO=function(t,e){return new URL(t,e).href},S1={},f6=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=KO(a,n),a in S1)return;S1[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===a&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":qO,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},GO=({propertyId:t=null,propertyTitle:e=null,agentId:r=null,className:n="",onSubmit:i})=>{const[a,s]=y.useState(!1),[o,c]=y.useState(null),{values:u,errors:d,handleChange:h,handleSubmit:p,resetForm:g}=ad({initialValues:{name:"",email:"",phone:"",subject:e?`Inquiry about ${e}`:"",message:"",propertyId:t||"",agentId:r||"",type:"general"},validate:v=>{const E={};return v.name.trim()||(E.name="Name is required"),v.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)||(E.email="Please enter a valid email address"):E.email="Email is required",v.message.trim()||(E.message="Message is required"),v.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(v.phone.replace(/[\s\-\(\)]/g,""))&&(E.phone="Please enter a valid phone number"),E},onSubmit:async v=>{s(!0),c(null);try{i?await i(v):await b(v),c({type:"success",message:"Thank you! Your message has been sent successfully. We will get back to you soon."}),g()}catch(E){c({type:"error",message:E.message||"Sorry, there was an error sending your message. Please try again."})}finally{s(!1)}}}),b=async v=>{const E=await f6(()=>import("./index-0ca98fd1.js"),[],import.meta.url),A={from_name:v.name,from_email:v.email,phone:v.phone||"Not provided",subject:v.subject,message:v.message,inquiry_type:v.type,property_id:v.propertyId||"N/A",agent_id:v.agentId||"N/A",submitted_at:new Date().toLocaleString(),to_email:{}.REACT_APP_ADMIN_EMAIL||"admin@yourdomain.com"};try{await E.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_TEMPLATE_ID,A,{}.REACT_APP_EMAILJS_PUBLIC_KEY)}catch(S){throw console.error("EmailJS error:",S),new Error("Failed to send message. Please try again.")}},x=[{value:"general",label:"General Inquiry"},{value:"viewing",label:"Schedule a Viewing"},{value:"valuation",label:"Property Valuation"},{value:"mortgage",label:"Mortgage Information"}];return m("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${n}`,children:[m("div",{className:"mb-6",children:[l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e?`Contact About ${e}`:"Contact Us"}),l("p",{className:"text-gray-600",children:e?"Interested in this property? Send us a message and we'll get back to you soon.":"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),o&&l("div",{className:`p-4 rounded-lg mb-6 ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.message}),m("form",{onSubmit:p,className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),l("input",{type:"text",id:"name",name:"name",value:u.name,onChange:h,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.name?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your full name"}),d.name&&l("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),m("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:u.email,onChange:h,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.email?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your email address"}),d.email&&l("p",{className:"mt-1 text-sm text-red-600",children:d.email})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:h,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.phone?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your phone number"}),d.phone&&l("p",{className:"mt-1 text-sm text-red-600",children:d.phone})]}),m("div",{children:[l("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Inquiry Type"}),l("select",{id:"type",name:"type",value:u.type,onChange:h,disabled:a,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${a?"bg-gray-50 opacity-50":""}`,children:x.map(v=>l("option",{value:v.value,children:v.label},v.value))})]})]}),m("div",{children:[l("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),l("input",{type:"text",id:"subject",name:"subject",value:u.subject,onChange:h,disabled:a,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter the subject of your message"})]}),m("div",{children:[l("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),l("textarea",{id:"message",name:"message",value:u.message,onChange:h,rows:6,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.message?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your message..."}),d.message&&l("p",{className:"mt-1 text-sm text-red-600",children:d.message})]}),t&&l("input",{type:"hidden",name:"propertyId",value:t}),r&&l("input",{type:"hidden",name:"agentId",value:r}),m("div",{className:"flex items-center justify-between pt-4",children:[l("p",{className:"text-sm text-gray-600",children:"* Required fields"}),l("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center space-x-2",children:a?m(br,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Sending..."})]}):l("span",{children:"Send Message"})})]})]}),m("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[l("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Other Ways to Reach Us"}),m("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Call Us"}),l("p",{className:"text-gray-600",children:"+234 913 208 0059"})]})]}),m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Email Us"}),l("p",{className:"text-gray-600",children:"info@Octopusrealestate.com"})]})]}),m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Office Hours"}),l("p",{className:"text-gray-600",children:"Mon-Fri: 9AM-6PM"})]})]})]})]})]})},YO=({propertyId:t,propertyTitle:e,agentId:r,agentName:n,className:i="",onSubmit:a})=>{const[s,o]=y.useState(!1),[c,u]=y.useState(null),{values:d,errors:h,handleChange:p,handleSubmit:g,resetForm:b}=ad({initialValues:{name:"",email:"",phone:"",propertyId:t||"",propertyTitle:e||"",agentId:r||"",agentName:n||"",preferredDate:"",preferredTime:"",message:"",contactMethod:"phone",urgency:"normal"},validate:k=>{const M={};return k.name.trim()||(M.name="Name is required"),k.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)||(M.email="Please enter a valid email address"):M.email="Email is required",k.phone.trim()||(M.phone="Phone number is required"),k.preferredDate||(M.preferredDate="Preferred date is required"),k.preferredTime||(M.preferredTime="Preferred time is required"),M},onSubmit:async k=>{o(!0),u(null);try{a?await a(k):await x(k),u({type:"success",message:"Thank you! Your appointment request has been submitted. We will contact you to confirm the details."}),b()}catch(M){u({type:"error",message:M.message||"Sorry, there was an error submitting your appointment request. Please try again."})}finally{o(!1)}}}),x=async k=>{const M=await f6(()=>import("./index-0ca98fd1.js"),[],import.meta.url),_={from_name:k.name,from_email:k.email,phone:k.phone,preferred_date:k.preferredDate?new Date(k.preferredDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Not specified",preferred_time:k.preferredTime||"Not specified",contact_method:k.contactMethod,urgency:k.urgency,message:k.message||"No additional notes",property_title:k.propertyTitle||"Not specified",property_id:k.propertyId||"N/A",agent_name:k.agentName||"Not assigned",agent_id:k.agentId||"N/A",submitted_at:new Date().toLocaleString(),to_email:{}.REACT_APP_ADMIN_EMAIL||"admin@yourdomain.com"};try{await M.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_APPOINTMENT_TEMPLATE_ID||{}.REACT_APP_EMAILJS_TEMPLATE_IDA,_,{}.REACT_APP_EMAILJS_PUBLIC_KEY)}catch(T){throw console.error("EmailJS error:",T),new Error("Failed to submit appointment request. Please try again.")}},v=[];for(let k=9;k<=17;k++)for(let M=0;M<60;M+=30){const _=`${k.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`;v.push(_)}const E=[],A=new Date;for(let k=1;k<=14;k++){const M=new Date(A);M.setDate(A.getDate()+k),M.getDay()!==0&&M.getDay()!==6&&E.push({value:M.toISOString().split("T")[0],label:M.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}const S=[{value:"phone",label:"Phone Call"},{value:"email",label:"Email"},{value:"text",label:"Text Message"}],L=[{value:"low",label:"Low - Flexible timing"},{value:"normal",label:"Normal - Within a week"},{value:"high",label:"High - As soon as possible"}];return m("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${i}`,children:[m("div",{className:"mb-6",children:[l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Schedule a Viewing"}),l("p",{className:"text-gray-600",children:e?`Interested in viewing "${e}"? Schedule an appointment and we'll arrange a viewing at your convenience.`:"Schedule a property viewing with one of our expert agents."}),n&&l("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:m("p",{className:"text-sm text-blue-800",children:[l("strong",{children:"Assigned Agent:"})," ",n]})})]}),c&&l("div",{className:`p-4 rounded-lg mb-6 ${c.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:c.message}),m("form",{onSubmit:g,className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),l("input",{type:"text",id:"name",name:"name",value:d.name,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.name?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your full name"}),h.name&&l("p",{className:"mt-1 text-sm text-red-600",children:h.name})]}),m("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:d.email,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.email?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your email address"}),h.email&&l("p",{className:"mt-1 text-sm text-red-600",children:h.email})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.phone?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your phone number"}),h.phone&&l("p",{className:"mt-1 text-sm text-red-600",children:h.phone})]}),m("div",{children:[l("label",{htmlFor:"contactMethod",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Contact Method"}),l("select",{id:"contactMethod",name:"contactMethod",value:d.contactMethod,onChange:p,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,children:S.map(k=>l("option",{value:k.value,children:k.label},k.value))})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"preferredDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date *"}),m("select",{id:"preferredDate",name:"preferredDate",value:d.preferredDate,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.preferredDate?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,children:[l("option",{value:"",children:"Select a date"}),E.map(k=>l("option",{value:k.value,children:k.label},k.value))]}),h.preferredDate&&l("p",{className:"mt-1 text-sm text-red-600",children:h.preferredDate})]}),m("div",{children:[l("label",{htmlFor:"preferredTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time *"}),m("select",{id:"preferredTime",name:"preferredTime",value:d.preferredTime,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.preferredTime?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,children:[l("option",{value:"",children:"Select a time"}),v.map(k=>l("option",{value:k,children:k},k))]}),h.preferredTime&&l("p",{className:"mt-1 text-sm text-red-600",children:h.preferredTime})]})]}),m("div",{children:[l("label",{htmlFor:"urgency",className:"block text-sm font-medium text-gray-700 mb-2",children:"How soon would you like to view the property?"}),l("select",{id:"urgency",name:"urgency",value:d.urgency,onChange:p,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,children:L.map(k=>l("option",{value:k.value,children:k.label},k.value))})]}),m("div",{children:[l("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes or Special Requests"}),l("textarea",{id:"message",name:"message",value:d.message,onChange:p,rows:4,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Any special requirements or questions you'd like to share..."})]}),t&&l("input",{type:"hidden",name:"propertyId",value:t}),r&&l("input",{type:"hidden",name:"agentId",value:r}),m("div",{className:"flex items-center justify-between pt-4",children:[l("p",{className:"text-sm text-gray-600",children:"* Required fields. We typically respond within 2 hours during business hours."}),l("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center space-x-2",children:s?m(br,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Scheduling..."})]}):l("span",{children:"Schedule Viewing"})})]})]}),l("div",{className:"mt-8 pt-6 border-t border-gray-200",children:m("div",{className:"bg-gray-50 rounded-lg p-4",children:[l("h4",{className:"font-semibold text-gray-900 mb-2",children:"What to Expect"}),m("ul",{className:"text-sm text-gray-600 space-y-1",children:[l("li",{children:" We'll contact you to confirm your appointment details"}),l("li",{children:" A confirmation email with property details will be sent"}),l("li",{children:" Our agent will meet you at the property at the scheduled time"}),l("li",{children:" Please bring a valid ID for security purposes"})]})]})})]})},XO=()=>{var O,B,H,K,te,pe;const{id:t}=Nx(),{property:e,loading:r,error:n}=PO(t),[i,a]=y.useState("overview"),[s,o]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[p,g]=y.useState(!1),[b,x]=y.useState(0);if(y.useEffect(()=>{const z=()=>{g(window.scrollY>400)};return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[]),r)return l(kr,{children:l("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:m("div",{className:"text-center",children:[l(ol,{size:"large",text:"Loading luxury property details..."}),m("div",{className:"mt-8 space-y-2",children:[l("div",{className:"w-64 h-2 bg-gray-200 rounded-full mx-auto",children:l("div",{className:"h-2 bg-blue-600 rounded-full animate-pulse w-3/4"})}),l("p",{className:"text-gray-500 text-sm",children:"Preparing your exclusive viewing experience"})]})]})})});if(n||!e)return l(kr,{children:l("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center px-4",children:l(Ao,{children:m("div",{className:"text-center py-16 max-w-2xl mx-auto",children:[l("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full flex items-center justify-center mx-auto mb-8",children:l(ea,{className:"w-16 h-16 text-blue-600"})}),l("h1",{className:"text-4xl font-bold text-gray-900 mb-6 font-serif",children:"Property Not Available"}),l("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"This exclusive property is no longer available or has been moved to our private collection."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l(we,{to:"/properties",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Browse Luxury Properties"}),l(we,{to:"/contact",className:"border-2 border-blue-600 text-blue-600 px-8 py-4 rounded-2xl hover:bg-blue-50 transition-all duration-300 font-semibold",children:"Contact Concierge"})]})]})})})});const v=e.specifications||{},E=e.location||{},A=e.amenities||[],S=e.agent||e.agentInfo||{},L=e.primaryImage||((B=(O=e.images)==null?void 0:O[0])==null?void 0:B.url)||((H=e.featuredImage)==null?void 0:H.url)||"/images/luxury-property-placeholder.jpg",k=[{icon:L5,label:"Bedrooms",value:v.bedrooms||e.bedrooms||"N/A",description:"Luxury suites"},{icon:D5,label:"Bathrooms",value:v.bathrooms||e.bathrooms||"N/A",description:"Spa-like bathrooms"},{icon:zO,label:"Living Area",value:`${v.area||e.area||"N/A"} ${v.areaUnit||"sq ft"}`,description:"Total living space"},{icon:dP,label:"Lot Size",value:v.lotSize?`${v.lotSize} ${v.lotSizeUnit||"acres"}`:"N/A",description:"Private estate"},{icon:Ix,label:"Year Built",value:v.yearBuilt||e.yearBuilt||"N/A",description:"Construction year"},{icon:vo,label:"Stories",value:v.stories||v.floors||"N/A",description:"Architectural floors"},{icon:Vv,label:"Garage",value:v.garage?`${v.garageSpaces||2}+ cars`:"Private",description:"Secure parking"},{icon:zv,label:"Parking",value:v.parking||"Valet",description:"Guest parking"}],M=[{icon:Ym,label:"Price per Sq Ft",value:e.price&&v.area?`$${(e.price/v.area).toFixed(2)}`:"Premium",trend:"+5.2%"},{icon:Fv,label:"Market Presence",value:"2 weeks",badge:"Exclusive"},{icon:Uv,label:"Elite Views",value:"2.4K",trend:"+42%"},{icon:Va,label:"Luxury Rating",value:"4.9/5",reviews:"18 reviews"}],_={"swimming-pool":Ah,"infinity-pool":Ah,garden:Hv,"landscaped-gardens":Hv,balcony:Hh,terrace:Hh,"rooftop-terrace":Hh,"air-conditioning":nP,"smart-home":Eh,"security-system":Eh,"gated-community":Eh,"pet-friendly":X5,furnished:$v,"designer-furnished":$v,wifi:mP,"home-theater":sP,"chef-kitchen":uP,"wine-cellar":qv,gym:B5,spa:oP,elevator:jO,concierge:VO,valet:Vv,parking:zv},T=z=>new Intl.NumberFormat("en-US",{style:"currency",currency:e.currency||"USD",maximumFractionDigits:0}).format(z),N=z=>{switch(z){case"for-rent":case"forRent":case"rent":return"bg-blue-500/20 text-blue-700 border-blue-300 backdrop-blur-sm";case"for-sale":case"forSale":case"sale":return"bg-emerald-500/20 text-emerald-700 border-emerald-300 backdrop-blur-sm";case"sold":return"bg-rose-500/20 text-rose-700 border-rose-300 backdrop-blur-sm";case"exclusive":return"bg-purple-500/20 text-purple-700 border-purple-300 backdrop-blur-sm";default:return"bg-gray-500/20 text-gray-700 border-gray-300 backdrop-blur-sm"}},C=z=>{switch(z){case"for-rent":case"forRent":case"rent":return"Premium Rental";case"for-sale":case"forSale":case"sale":return"Exclusive Listing";case"sold":return"Property Sold";case"exclusive":return"Private Collection";default:return"Available"}},I=()=>{const z="+2349132080059",ee=`Hello! I'm interested in the property: ${e.title} (${e._id||e.id}). Please provide more information.`,ce=`https://wa.me/${z}?text=${encodeURIComponent(ee)}`;window.open(ce,"_blank")},D=[{icon:J5,label:"International Schools",distance:"0.3 mi",type:"education"},{icon:tP,label:"Luxury Boutiques",distance:"0.2 mi",type:"shopping"},{icon:K5,label:"Medical Center",distance:"0.8 mi",type:"healthcare"},{icon:iP,label:"Metro Station",distance:"0.1 mi",type:"transport"},{icon:fP,label:"Central Park",distance:"0.4 mi",type:"recreation"},{icon:qv,label:"Fine Dining",distance:"0.2 mi",type:"dining"}];return m(kr,{children:[m("div",{className:"bg-white",children:[m("div",{className:"relative min-h-[90vh] flex items-center justify-center text-white bg-cover bg-center bg-fixed bg-no-repeat overflow-hidden",style:{backgroundImage:L?`linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.6)), url(${L})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-white/10 rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-1/3 right-1/3 w-24 h-24 bg-blue-400/20 rounded-full blur-2xl animate-bounce delay-1000"}),l("div",{className:"absolute top-1/2 right-1/4 w-4 h-4 bg-white/60 rounded-full animate-ping"})]}),l(Ao,{children:m("div",{className:"relative z-10 py-16 lg:py-24",children:[m("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between mb-12 lg:mb-16 gap-6",children:[m(we,{to:"/properties",className:"flex items-center space-x-3 bg-white/20 backdrop-blur-lg px-6 py-4 rounded-2xl text-white/90 hover:text-white hover:bg-white/30 transition-all duration-500 border border-white/30 hover:scale-105 shadow-2xl",children:[l($5,{className:"text-lg"}),l("span",{className:"font-semibold text-lg",children:"Back to Collection"})]}),m("div",{className:"flex items-center space-x-3 flex-wrap gap-3",children:[l("button",{onClick:()=>h(!d),className:`p-4 rounded-2xl backdrop-blur-lg transition-all duration-500 border shadow-2xl ${d?"bg-rose-500 text-white border-rose-400 hover:bg-rose-600":"bg-white/20 text-white border-white/30 hover:bg-white/30 hover:scale-110"}`,children:l(kx,{className:`text-xl ${d?"fill-current animate-heartbeat":""}`})}),l("button",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-lg text-white border border-white/30 hover:bg-white/30 hover:scale-110 transition-all duration-500 shadow-2xl",children:l(eP,{className:"text-xl"})}),l("button",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-lg text-white border border-white/30 hover:bg-white/30 hover:scale-110 transition-all duration-500 shadow-2xl",children:l(Q5,{className:"text-xl"})}),l("button",{className:"p-4 rounded-2xl bg-white/20 backdrop-blur-lg text-white border border-white/30 hover:bg-white/30 hover:scale-110 transition-all duration-500 shadow-2xl",children:l(z5,{className:"text-xl"})})]})]}),m("div",{className:"grid lg:grid-cols-2 gap-12 xl:gap-16 items-start",children:[m("div",{className:"space-y-8 lg:space-y-12",children:[m("div",{className:"flex flex-wrap items-center gap-3",children:[l("span",{className:`px-6 py-3 rounded-2xl text-base font-bold border-2 backdrop-blur-lg ${N(e.status)} shadow-2xl`,children:C(e.status)}),e.featured&&m("span",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-yellow-400 to-amber-500 text-yellow-900 text-base font-bold border-2 border-yellow-300 backdrop-blur-lg flex items-center gap-3 shadow-2xl",children:[l(Va,{className:"fill-current"}),"Featured Property"]}),v.isNewConstruction&&l("span",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-emerald-400 to-green-500 text-emerald-900 text-base font-bold border-2 border-emerald-300 backdrop-blur-lg shadow-2xl",children:"New Construction"})]}),m("div",{className:"space-y-6",children:[l("h1",{className:"text-4xl lg:text-6xl xl:text-7xl font-bold leading-tight font-serif tracking-tight",children:e.title}),m("div",{className:"flex items-center space-x-4 text-white/90 text-xl",children:[l(Nh,{className:"text-2xl flex-shrink-0"}),l("span",{className:"font-semibold text-2xl leading-relaxed",children:E.address||e.formattedAddress||"Prime Luxury Location"})]})]}),l("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:k.slice(0,4).map((z,ee)=>{const ce=z.icon;return m("div",{className:"text-center p-4 lg:p-6 bg-white/10 backdrop-blur-lg rounded-3xl border-2 border-white/20 hover:border-white/40 transition-all duration-500 hover:scale-105 shadow-2xl group",children:[l(ce,{className:"text-2xl lg:text-3xl mx-auto mb-3 text-white/90 group-hover:scale-110 transition-transform duration-500"}),l("div",{className:"text-xl lg:text-2xl font-bold text-white",children:z.value}),l("div",{className:"text-sm lg:text-base text-white/80",children:z.label})]},ee)})})]}),m("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 border-2 border-white/30 shadow-2xl lg:sticky lg:top-8",children:[m("div",{className:"text-center mb-8",children:[l("div",{className:"text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-3 font-serif",children:T(e.price)}),l("div",{className:"text-lg lg:text-xl text-white/80",children:e.status==="for-rent"||e.status==="forRent"||e.status==="rent"?"per month":"Exclusive Price"}),v.area&&m("div",{className:"text-white/70 text-sm lg:text-base mt-3",children:[T(e.price/v.area)," per sq ft"]})]}),m("div",{className:"space-y-4",children:[m("button",{onClick:()=>o(!0),className:"w-full bg-gradient-to-r from-white to-blue-50 text-blue-600 py-5 rounded-2xl hover:from-blue-50 hover:to-blue-100 transition-all duration-500 font-bold flex items-center justify-center space-x-4 text-lg shadow-2xl hover:shadow-3xl transform hover:-translate-y-1 hover:scale-105",children:[l(ns,{className:"text-xl"}),l("span",{children:"Contact Concierge"})]}),m("button",{onClick:()=>u(!0),className:"w-full border-2 border-white text-white py-5 rounded-2xl hover:bg-white/10 transition-all duration-500 font-bold flex items-center justify-center space-x-4 text-lg backdrop-blur-sm hover:scale-105 shadow-2xl",children:[l(_h,{className:"text-xl"}),l("span",{children:"Private Viewing"})]}),m("button",{onClick:I,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-5 rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-500 font-bold flex items-center justify-center space-x-4 text-lg shadow-2xl hover:shadow-3xl transform hover:-translate-y-1 hover:scale-105",children:[l(so,{className:"text-xl"}),l("span",{children:"WhatsApp Now"})]}),m("button",{className:"w-full border border-white/40 text-white/90 py-4 rounded-2xl hover:bg-white/5 transition-all duration-500 font-semibold flex items-center justify-center space-x-3 text-base backdrop-blur-sm hover:scale-105",children:[l(hP,{className:"text-lg"}),l("span",{children:"Virtual Tour"})]})]}),l("div",{className:"mt-8 pt-6 border-t border-white/30",children:m("div",{className:"grid grid-cols-2 gap-6 text-center text-white/80 text-sm",children:[m("div",{children:[l("div",{className:"font-bold text-white mb-1",children:"Property ID"}),l("div",{className:"font-mono text-white",children:((K=e._id)==null?void 0:K.slice(-8))||((te=e.id)==null?void 0:te.slice(-8))})]}),m("div",{children:[l("div",{className:"font-bold text-white mb-1",children:"Last Updated"}),l("div",{children:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"Today"})]})]})})]})]})]})}),l("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:m("div",{className:"flex flex-col items-center space-y-2",children:[l("span",{className:"text-white/80 text-sm font-medium",children:"Explore More"}),l(V5,{className:"text-white text-2xl"})]})})]}),p&&l("div",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-b border-gray-200 z-40 transform animate-slide-down shadow-2xl",children:l("div",{className:"max-w-7xl mx-auto px-4",children:m("div",{className:"flex items-center justify-between py-4",children:[m("div",{className:"flex items-center space-x-4",children:[l("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:l(ea,{className:"w-6 h-6 text-white"})}),m("div",{children:[l("h3",{className:"font-bold text-gray-900 text-lg truncate max-w-xs lg:max-w-md",children:e.title}),m("p",{className:"text-gray-600 text-sm flex items-center space-x-1",children:[l(Nh,{className:"text-blue-500"}),l("span",{children:((pe=E.address)==null?void 0:pe.split(",")[0])||"Prime Location"})]})]})]}),m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"text-right hidden lg:block",children:l("div",{className:"text-2xl font-bold text-gray-900 font-serif",children:T(e.price)})}),m("div",{className:"flex items-center space-x-2",children:[l("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-300 font-semibold text-sm shadow-lg hover:shadow-xl",children:"Contact"}),m("button",{onClick:I,className:"bg-green-500 text-white px-6 py-3 rounded-xl hover:bg-green-600 transition-all duration-300 font-semibold text-sm shadow-lg hover:shadow-xl flex items-center space-x-2",children:[l(so,{className:"text-lg"}),l("span",{children:"WhatsApp"})]})]})]})]})})}),m(Ao,{children:[l("div",{className:"py-12 lg:py-16 -mt-20 relative z-20",children:l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:M.map((z,ee)=>l("div",{className:"bg-white rounded-3xl p-6 lg:p-8 shadow-2xl border border-gray-100 hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-2 group",children:m("div",{className:"flex items-center space-x-4 lg:space-x-6",children:[l("div",{className:"p-3 lg:p-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl text-white group-hover:scale-110 transition-transform duration-500 shadow-lg",children:l(z.icon,{className:"text-xl lg:text-2xl"})}),m("div",{className:"flex-1",children:[l("div",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:z.value}),l("div",{className:"text-sm lg:text-base text-gray-600",children:z.label}),m("div",{className:"flex items-center space-x-2 mt-2",children:[z.badge&&l("span",{className:"inline-block px-3 py-1 bg-emerald-100 text-emerald-800 text-xs rounded-full font-bold",children:z.badge}),z.trend&&l("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-bold",children:z.trend})]})]})]})},ee))})}),l("div",{className:"py-12 lg:py-16",children:l(HO,{images:e.images||[],title:e.title,className:"rounded-3xl overflow-hidden shadow-3xl",onImageChange:x})}),m(l6,{gap:8,className:"lg:gap-12",children:[m("div",{className:"space-y-8 lg:space-y-12",children:[l("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-2 lg:p-4",children:l("nav",{className:"flex flex-wrap gap-2 lg:gap-1",children:[{id:"overview",label:"Overview",icon:ea},{id:"features",label:"Luxury Features",icon:Va},{id:"location",label:"Location",icon:Nh},{id:"details",label:"Details",icon:vo},{id:"amenities",label:"Amenities",icon:Ah}].map(z=>{const ee=z.icon;return m("button",{onClick:()=>a(z.id),className:`flex items-center space-x-2 lg:space-x-3 py-3 lg:py-4 px-4 lg:px-6 rounded-2xl font-semibold text-sm lg:text-base transition-all duration-500 flex-1 lg:flex-none min-w-0 ${i===z.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg scale-105":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-105"}`,children:[l(ee,{className:"text-lg lg:text-xl flex-shrink-0"}),l("span",{className:"truncate",children:z.label})]},z.id)})})}),m("div",{className:"space-y-8 lg:space-y-12",children:[i==="overview"&&m("div",{className:"space-y-8 lg:space-y-12",children:[m("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-6 lg:p-8",children:[l("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-900 mb-6 lg:mb-8 font-serif",children:"Property Description"}),l("p",{className:"text-gray-700 leading-relaxed text-base lg:text-lg",children:e.description||"This exceptional property represents the pinnacle of luxury living, meticulously crafted with unparalleled attention to detail. Featuring exquisite finishes, state-of-the-art amenities, and breathtaking views, this residence offers an extraordinary lifestyle experience in one of the world's most prestigious locations."})]}),m("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-6 lg:p-8",children:[l("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-900 mb-6 lg:mb-8 font-serif",children:"Property Features"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6",children:k.map((z,ee)=>{const ce=z.icon;return m("div",{className:"flex items-center space-x-4 p-4 lg:p-6 bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-100 hover:border-blue-200 transition-all duration-500 group hover:shadow-lg",children:[l("div",{className:"p-3 bg-blue-100 rounded-2xl text-blue-600 group-hover:scale-110 transition-transform duration-500 shadow-lg",children:l(ce,{className:"text-xl lg:text-2xl"})}),m("div",{className:"flex-1 min-w-0",children:[m("div",{className:"flex justify-between items-center mb-1",children:[l("span",{className:"text-sm lg:text-base text-gray-600 font-semibold truncate",children:z.label}),l("span",{className:"text-lg lg:text-xl font-bold text-gray-900 ml-2",children:z.value})]}),l("p",{className:"text-xs lg:text-sm text-gray-500 truncate",children:z.description})]})]},ee)})})]})]}),i==="features"&&m("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-6 lg:p-8",children:[l("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-900 mb-6 lg:mb-8 font-serif",children:"Luxury Features"}),l("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:A.map((z,ee)=>{const ce=z.toLowerCase().replace(/\s+/g,"-"),Pe=_[ce]||Va;return m("div",{className:"flex items-center space-x-4 p-4 lg:p-6 bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-100 hover:border-emerald-200 transition-all duration-500 group hover:shadow-lg",children:[l("div",{className:"p-3 bg-emerald-100 rounded-2xl text-emerald-600 group-hover:scale-110 transition-transform duration-500 shadow-lg",children:l(Pe,{className:"text-lg lg:text-xl"})}),l("span",{className:"text-gray-700 font-semibold text-sm lg:text-base flex-1",children:z})]},ee)})})]}),i==="location"&&l("div",{className:"space-y-8 lg:space-y-12",children:m("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-6 lg:p-8",children:[l("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-900 mb-6 lg:mb-8 font-serif",children:"Location & Neighborhood"}),m("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 mb-8",children:[m("div",{className:"space-y-6",children:[m("div",{children:[l("h4",{className:"font-bold text-gray-900 mb-4 text-xl lg:text-2xl",children:"Prime Address"}),m("div",{className:"space-y-3 text-gray-700 text-base lg:text-lg",children:[l("p",{className:"font-semibold text-xl",children:E.address||e.formattedAddress}),E.city&&m("p",{children:[E.city,", ",E.state," ",E.zipCode]}),E.country&&l("p",{children:E.country})]})]}),m("div",{children:[l("h4",{className:"font-bold text-gray-900 mb-4 text-xl lg:text-2xl",children:"Neighborhood"}),m("p",{className:"text-gray-700 leading-relaxed text-base lg:text-lg",children:["Nestled in the prestigious ",E.neighborhood||E.city||"this exclusive"," enclave, this property offers unparalleled access to world-class amenities, Michelin-starred restaurants, luxury boutiques, and cultural landmarks. The neighborhood boasts exceptional security, privacy, and convenience."]})]})]}),m("div",{className:"space-y-6",children:[m("div",{children:[l("h4",{className:"font-bold text-gray-900 mb-4 text-xl lg:text-2xl",children:"Walk Score"}),m("div",{className:"flex items-center space-x-6",children:[l("div",{className:"text-4xl lg:text-5xl font-bold text-emerald-600",children:"96"}),m("div",{className:"text-sm lg:text-base text-gray-600",children:[l("div",{className:"font-semibold text-lg",children:"Walker's Paradise"}),l("div",{children:"Exceptional public transportation"}),l("div",{children:"Bike score: 88"})]})]})]}),m("div",{children:[l("h4",{className:"font-bold text-gray-900 mb-4 text-xl lg:text-2xl",children:"Nearby Luxury Amenities"}),l("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm lg:text-base text-gray-700",children:D.map((z,ee)=>{const ce=z.icon;return m("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl",children:[l(ce,{className:"text-blue-600 text-lg flex-shrink-0"}),m("div",{className:"flex-1 min-w-0",children:[l("div",{className:"font-semibold text-gray-900 truncate",children:z.label}),l("div",{className:"text-gray-600 text-sm",children:z.distance})]})]},ee)})})]})]})]}),l(WO,{property:e,height:"400px",interactive:!0,className:"rounded-2xl overflow-hidden shadow-lg"})]})}),i==="details"&&m("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-6 lg:p-8",children:[l("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-900 mb-6 lg:mb-8 font-serif",children:"Property Details"}),m("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12",children:[l("div",{className:"space-y-6",children:m("div",{children:[l("h4",{className:"font-bold text-gray-900 mb-4 text-xl lg:text-2xl",children:"Basic Information"}),l("div",{className:"space-y-4",children:[{label:"Property Type",value:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"Luxury Residential"},{label:"Property Status",value:C(e.status)},{label:"Year Built",value:v.yearBuilt||"N/A"},{label:"Lot Size",value:v.lotSize?`${v.lotSize} ${v.lotSizeUnit||"acres"}`:"N/A"},{label:"Architectural Style",value:v.architecturalStyle||"Contemporary Luxury"},{label:"Construction",value:v.constructionType||"Premium Materials"}].map((z,ee)=>m("div",{className:"flex justify-between items-center py-3 lg:py-4 border-b border-gray-100",children:[l("span",{className:"text-gray-600 font-semibold text-base lg:text-lg",children:z.label}),l("span",{className:"font-bold text-gray-900 text-base lg:text-lg",children:z.value})]},ee))})]})}),l("div",{className:"space-y-6",children:m("div",{children:[l("h4",{className:"font-bold text-gray-900 mb-4 text-xl lg:text-2xl",children:"Additional Information"}),l("div",{className:"space-y-4",children:[{label:"Currency",value:e.currency||"USD"},{label:"Listed Date",value:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"},{label:"Last Updated",value:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"},{label:"Property ID",value:e._id||e.id},{label:"MLS Number",value:v.mlsNumber||"N/A"},{label:"Annual Taxes",value:v.annualTaxes?T(v.annualTaxes):"N/A"}].map((z,ee)=>m("div",{className:"flex justify-between items-center py-3 lg:py-4 border-b border-gray-100",children:[l("span",{className:"text-gray-600 font-semibold text-base lg:text-lg",children:z.label}),l("span",{className:"font-bold text-gray-900 text-base lg:text-lg",children:z.value})]},ee))})]})})]})]}),i==="amenities"&&m("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-6 lg:p-8",children:[l("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-900 mb-6 lg:mb-8 font-serif",children:"Luxury Amenities"}),l("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:A.map((z,ee)=>{const ce=z.toLowerCase().replace(/\s+/g,"-"),Pe=_[ce]||Va;return m("div",{className:"flex items-center space-x-4 p-4 lg:p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-100 hover:border-blue-200 transition-all duration-500 group hover:shadow-lg",children:[l("div",{className:"p-3 bg-blue-600 rounded-2xl text-white group-hover:scale-110 transition-transform duration-500 shadow-lg",children:l(Pe,{className:"text-lg lg:text-xl"})}),l("span",{className:"text-gray-800 font-semibold text-sm lg:text-base flex-1",children:z})]},ee)})})]})]})]}),m("div",{className:"space-y-8 lg:space-y-12",children:[m("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 p-6 lg:p-8 sticky top-8",children:[l("h4",{className:"font-bold text-gray-900 mb-6 text-2xl lg:text-3xl font-serif",children:"Luxury Concierge"}),m("div",{className:"flex items-center space-x-4 lg:space-x-6 mb-6 lg:mb-8",children:[l("img",{src:S.avatar||S.photoURL||"/images/luxury-agent-placeholder.jpg",alt:S.name,className:"w-16 h-16 lg:w-20 lg:h-20 rounded-2xl border-4 border-blue-200 shadow-lg object-cover"}),m("div",{className:"flex-1 min-w-0",children:[l("p",{className:"font-bold text-gray-900 text-xl lg:text-2xl truncate",children:S.name||"Elite Agent"}),l("p",{className:"text-gray-600 mb-2 lg:mb-3 text-sm lg:text-base",children:"Senior Luxury Property Specialist"}),m("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(z=>l(Va,{className:"text-yellow-400 text-sm lg:text-base fill-current"},z)),l("span",{className:"text-sm lg:text-base text-gray-500 ml-2",children:"4.9 (247 reviews)"})]})]})]}),m("div",{className:"space-y-3 lg:space-y-4 mb-6 lg:mb-8",children:[m("div",{className:"flex items-center justify-between text-sm lg:text-base text-gray-600",children:[l("span",{children:"Luxury Properties Sold"}),l("span",{className:"font-bold text-gray-900",children:"512"})]}),m("div",{className:"flex items-center justify-between text-sm lg:text-base text-gray-600",children:[l("span",{children:"Experience"}),l("span",{className:"font-bold text-gray-900",children:"12+ years"})]}),m("div",{className:"flex items-center justify-between text-sm lg:text-base text-gray-600",children:[l("span",{children:"Response Time"}),l("span",{className:"font-bold text-emerald-600",children:"~10 mins"})]})]}),m("div",{className:"space-y-3 lg:space-y-4",children:[m("button",{onClick:()=>o(!0),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 lg:py-5 rounded-2xl hover:from-blue-700 hover:to-purple-700 transition-all duration-500 font-bold flex items-center justify-center space-x-3 lg:space-x-4 text-lg shadow-2xl hover:shadow-3xl transform hover:-translate-y-1 hover:scale-105",children:[l(ns,{className:"text-xl"}),l("span",{children:"Contact Concierge"})]}),m("button",{onClick:()=>u(!0),className:"w-full border-2 border-blue-600 text-blue-600 py-4 lg:py-5 rounded-2xl hover:bg-blue-50 transition-all duration-500 font-bold flex items-center justify-center space-x-3 lg:space-x-4 text-lg hover:scale-105 shadow-lg",children:[l(_h,{className:"text-xl"}),l("span",{children:"Private Viewing"})]}),m("button",{onClick:I,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 lg:py-5 rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-500 font-bold flex items-center justify-center space-x-3 lg:space-x-4 text-lg shadow-2xl hover:shadow-3xl transform hover:-translate-y-1 hover:scale-105",children:[l(so,{className:"text-xl"}),l("span",{children:"WhatsApp Direct"})]})]})]}),m("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-6 lg:p-8 border border-blue-200 shadow-2xl",children:[l("h4",{className:"font-bold text-gray-900 mb-6 text-xl lg:text-2xl",children:"Property Insights"}),l("div",{className:"space-y-4 lg:space-y-5",children:[{label:"Property ID",value:e._id||e.id,icon:vo},{label:"Total Views",value:"2,458",icon:Uv},{label:"Days on Market",value:"14 days",icon:Fv},{label:"Last Price Update",value:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"Today",icon:_h}].map((z,ee)=>{const ce=z.icon;return m("div",{className:"flex items-center justify-between py-2 lg:py-3",children:[m("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[l(ce,{className:"text-blue-600 text-lg lg:text-xl"}),l("span",{className:"text-gray-600 font-semibold text-sm lg:text-base",children:z.label})]}),l("span",{className:"font-bold text-gray-900 text-sm lg:text-base",children:z.value})]},ee)})})]}),m("div",{className:"bg-gradient-to-br from-emerald-50 to-green-100 rounded-3xl p-6 lg:p-8 border border-emerald-200 shadow-2xl",children:[l("h4",{className:"font-bold text-gray-900 mb-4 lg:mb-6 text-xl lg:text-2xl",children:"Financing Estimate"}),m("div",{className:"space-y-3 lg:space-y-4 text-sm lg:text-base",children:[m("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Monthly Payment"}),m("span",{className:"font-bold text-gray-900",children:["~",T(e.price*.004)]})]}),m("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Interest Rate"}),l("span",{className:"font-bold text-gray-900",children:"3.8%"})]}),m("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Down Payment"}),l("span",{className:"font-bold text-gray-900",children:"20%"})]}),l("button",{className:"w-full mt-4 lg:mt-6 bg-gradient-to-r from-emerald-500 to-green-600 text-white py-3 lg:py-4 rounded-2xl hover:from-emerald-600 hover:to-green-700 transition-all duration-500 font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Custom Financing"})]})]})]})]})]})]}),s&&l("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-xl flex items-center justify-center p-4 z-50 animate-fade-in",children:m("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-3xl transform animate-scale-in",children:[l(GO,{propertyId:e._id||e.id,propertyTitle:e.title,agentId:e.agentId,onClose:()=>o(!1)}),l("button",{onClick:()=>o(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 p-3 rounded-2xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-110 shadow-lg",children:""})]})}),c&&l("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-xl flex items-center justify-center p-4 z-50 animate-fade-in",children:m("div",{className:"bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-3xl transform animate-scale-in",children:[l(YO,{propertyId:e._id||e.id,propertyTitle:e.title,agentId:e.agentId,agentName:S.name,onClose:()=>u(!1)}),l("button",{onClick:()=>u(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600 p-3 rounded-2xl hover:bg-gray-100 transition-all duration-300 transform hover:scale-110 shadow-lg",children:""})]})}),l("div",{className:"fixed bottom-6 right-6 z-40",children:l("button",{onClick:I,className:"bg-green-500 hover:bg-green-600 text-white p-5 rounded-2xl shadow-3xl hover:shadow-4xl transition-all duration-500 transform hover:scale-110 animate-bounce",title:"Chat with us on WhatsApp",children:l(so,{className:"w-7 h-7"})})})]})},Hc=({post:t,variant:e="default",className:r=""})=>{var _,T;const{_id:n,id:i=n,title:a,excerpt:s,featuredImage:o,authorName:c,authorAvatar:u,author:d={name:c,avatar:u},createdAt:h,publishDate:p=h,readTime:g,categories:b,tags:x,featured:v=!1,views:E=0}=t,A=()=>o?typeof o=="object"&&o.url?o.url:typeof o=="string"?o:"/images/blog-placeholder.jpg":"/images/blog-placeholder.jpg",S=N=>{if(!N)return"Unknown date";try{return new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid date"}},L=N=>({"market-news":"bg-blue-100 text-blue-800 border border-blue-200","home-improvement":"bg-green-100 text-green-800 border border-green-200",investment:"bg-purple-100 text-purple-800 border border-purple-200",neighborhood:"bg-orange-100 text-orange-800 border border-orange-200","design-tips":"bg-indigo-100 text-indigo-800 border border-indigo-200",mortgage:"bg-pink-100 text-pink-800 border border-pink-200",legal:"bg-red-100 text-red-800 border border-red-200",lifestyle:"bg-yellow-100 text-yellow-800 border border-yellow-200"})[N]||"bg-gray-100 text-gray-800 border border-gray-200",k=N=>N.split("-").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),M=()=>`/blog/${t.slug||i||n}`;return e==="minimal"?m("article",{className:`flex space-x-4 group ${r}`,children:[l("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-gray-200",children:l("img",{src:A(),alt:a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:N=>{N.target.src="/images/blog-placeholder.jpg"}})}),m("div",{className:"flex-1 min-w-0",children:[l("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2 mb-1",children:l(we,{to:M(),children:a||"Untitled Post"})}),m("p",{className:"text-sm text-gray-500",children:[S(p),"  ",g||5," min read"]})]})]}):e==="featured"?l("article",{className:`group relative bg-white rounded-2xl shadow-lg overflow-hidden ${r}`,children:m(we,{to:M(),className:"block",children:[m("div",{className:"relative h-64 bg-gray-200 overflow-hidden",children:[l("img",{src:A(),alt:(o==null?void 0:o.alt)||a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:N=>{N.target.src="/images/blog-placeholder.jpg"}}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),v&&l("div",{className:"absolute top-4 left-4",children:l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"})})]}),m("div",{className:"p-6",children:[b&&b.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-3",children:b.slice(0,2).map(N=>l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L(N)}`,children:k(N)},N))}),l("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 mb-3 line-clamp-2",children:a||"Untitled Post"}),l("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s||"No excerpt available..."}),m("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[m("div",{className:"flex items-center space-x-4",children:[m("div",{className:"flex items-center space-x-1",children:[l("img",{src:(d==null?void 0:d.avatar)||u||"/images/avatar-placeholder.jpg",alt:(d==null?void 0:d.name)||c||"Author",className:"w-6 h-6 rounded-full",onError:N=>{N.target.src="/images/avatar-placeholder.jpg"}}),l("span",{children:(d==null?void 0:d.name)||c||"Unknown Author"})]}),l("span",{children:S(p)})]}),m("span",{children:[g||5," min read"]})]})]})]})}):l("article",{className:`bg-white rounded-2xl shadow-lg overflow-hidden group hover:shadow-xl transition-all duration-300 ${r}`,children:m(we,{to:M(),className:"block",children:[m("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[l("img",{src:A(),alt:(o==null?void 0:o.alt)||a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:N=>{N.target.src="/images/blog-placeholder.jpg"}}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),v&&l("div",{className:"absolute top-4 left-4",children:l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"})})]}),m("div",{className:"p-6",children:[b&&b.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-3",children:b.slice(0,2).map(N=>l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L(N)}`,children:k(N)},N))}),l("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 mb-3 line-clamp-2",children:a||"Untitled Post"}),l("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s||"No excerpt available..."}),m("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[m("div",{className:"flex items-center space-x-3",children:[m("div",{className:"flex items-center space-x-2",children:[l("img",{src:(d==null?void 0:d.avatar)||u||"/images/avatar-placeholder.jpg",alt:(d==null?void 0:d.name)||c||"Author",className:"w-6 h-6 rounded-full",onError:N=>{N.target.src="/images/avatar-placeholder.jpg"}}),l("span",{children:(d==null?void 0:d.name)||c||"Unknown Author"})]}),l("span",{children:""}),l("span",{children:S(p)})]}),m("span",{children:[g||5," min read"]})]}),l("div",{className:"mt-3 pt-3 border-t border-gray-100",children:m("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[m("span",{children:[" ",E||0," views"]}),m("span",{children:[" ",((_=t.comments)==null?void 0:_.length)||0," comments"]}),m("span",{children:[" ",((T=t.likes)==null?void 0:T.length)||0," likes"]})]})})]})]})})},QO=({posts:t,loading:e=!1,error:r=null,currentPage:n=1,totalPages:i=1,totalItems:a=0,itemsPerPage:s=9,onPageChange:o,onItemsPerPageChange:c,className:u="",emptyMessage:d="No blog posts found.",showFeatured:h=!0})=>{if(e)return l("div",{className:"flex justify-center items-center py-12",children:l(ol,{size:"large",text:"Loading blog posts..."})});if(r)return l("div",{className:"text-center py-12",children:m("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 max-w-md mx-auto",children:[l("svg",{className:"w-12 h-12 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Blog Posts"}),l("p",{className:"text-red-600",children:r}),l("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Try Again"})]})});if(!t||t.length===0)return l("div",{className:"text-center py-12",children:m("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 max-w-md mx-auto",children:[l("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Posts Found"}),l("p",{className:"text-gray-600 mb-4",children:d}),l("a",{href:"/blog",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"View All Posts"})]})});const p=h?t.find(b=>b.featured):null,g=h?t.filter(b=>!b.featured):t;return m("div",{className:u,children:[m("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-2 sm:space-y-0",children:[m("div",{children:[m("h2",{className:"text-2xl font-bold text-gray-900",children:["Blog Posts ",a>0&&`(${a})`]}),l("p",{className:"text-gray-600 mt-1",children:a>0?`Showing ${(n-1)*s+1}-${Math.min(n*s,a)} of ${a} posts`:"No posts found"})]}),m("div",{className:"flex items-center space-x-4",children:[m("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l("option",{children:"Sort by: Newest"}),l("option",{children:"Sort by: Oldest"}),l("option",{children:"Sort by: Most Popular"}),l("option",{children:"Sort by: Title A-Z"})]}),m("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[l("button",{className:"p-2 bg-white border-r border-gray-300 hover:bg-gray-50",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l("button",{className:"p-2 bg-gray-100 border-l border-gray-300",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),p&&m("div",{className:"mb-12",children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Featured Post"}),l(Hc,{post:p,variant:"featured"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8",children:g.map(b=>l(Hc,{post:b},b.id))}),i>1&&l(u6,{currentPage:n,totalPages:i,totalItems:a,itemsPerPage:s,onPageChange:o,onItemsPerPageChange:c})]})},JO=({size:t="medium",variant:e="default",className:r="",onSubmit:n})=>{const[i,a]=y.useState(!1),[s,o]=y.useState(null),{values:c,errors:u,handleChange:d,handleSubmit:h,resetForm:p}=ad({initialValues:{email:"",firstName:"",preferences:{newListings:!0,priceUpdates:!0,marketNews:!1,buyingTips:!1,sellingTips:!1}},validate:A=>{const S={};return A.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A.email)||(S.email="Please enter a valid email address"):S.email="Email is required",S},onSubmit:async A=>{a(!0),o(null);try{n?await n(A):await g(A),o({type:"success",message:"Thank you for subscribing! Please check your email to confirm your subscription."}),p()}catch(S){o({type:"error",message:S.message||"Sorry, there was an error with your subscription. Please try again."})}finally{a(!1)}}}),g=async A=>{const S={}.REACT_APP_MAILERLITE_API_KEY,L={}.REACT_APP_MAILERLITE_GROUP_ID;if(!S||!L)throw new Error("Newsletter service is not properly configured.");const k={email:A.email,name:A.firstName||"",fields:{new_listings:A.preferences.newListings,price_updates:A.preferences.priceUpdates,market_news:A.preferences.marketNews,buying_tips:A.preferences.buyingTips,selling_tips:A.preferences.sellingTips,subscribed_at:new Date().toISOString(),source:"website_newsletter"}},M=await fetch("https://api.mailerlite.com/api/v2/subscribers",{method:"POST",headers:{"Content-Type":"application/json","X-MailerLite-ApiKey":S},body:JSON.stringify(k)}),_=await M.json();if(!M.ok)throw _.error&&_.error.code===104?new Error("This email is already subscribed to our newsletter."):_.error?new Error(_.error.message||"Subscription failed. Please try again."):new Error("Subscription failed. Please try again.");return _},b={small:"text-sm",medium:"text-base",large:"text-lg"},x={default:"bg-white border border-gray-300",dark:"bg-gray-800 border-gray-700",minimal:"bg-transparent border-0"},v={default:"text-gray-900",dark:"text-white",minimal:"text-gray-900"},E=e==="default"&&t==="large";return e==="minimal"?m("div",{className:`${r}`,children:[m("form",{onSubmit:h,className:"flex flex-col sm:flex-row gap-2",children:[m("div",{className:"flex-1",children:[l("input",{type:"email",name:"email",value:c.email,onChange:d,placeholder:"Enter your email",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${b[t]}`,disabled:i}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),l("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold whitespace-nowrap",children:i?"Subscribing...":"Subscribe"})]}),s&&l("div",{className:`mt-2 p-2 rounded text-sm ${s.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.message})]}):m("div",{className:`rounded-2xl p-6 ${x[e]} ${r}`,children:[m("div",{className:`mb-4 ${v[e]}`,children:[l("h3",{className:`font-bold mb-2 ${t==="large"?"text-2xl":"text-xl"}`,children:"Stay Updated"}),l("p",{className:`opacity-90 ${b[t]}`,children:"Get the latest property listings, market insights, and real estate news delivered to your inbox."})]}),s&&l("div",{className:`p-3 rounded-lg mb-4 ${s.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.message}),m("form",{onSubmit:h,className:"space-y-4",children:[E&&m("div",{children:[l("label",{htmlFor:"firstName",className:`block font-medium mb-2 ${v[e]}`,children:"First Name (Optional)"}),l("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:d,disabled:i,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} disabled:opacity-50`,placeholder:"Enter your first name"})]}),m("div",{children:[l("label",{htmlFor:"email",className:`block font-medium mb-2 ${v[e]}`,children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:c.email,onChange:d,disabled:i,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-500":e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} disabled:opacity-50`,placeholder:"Enter your email address"}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),E&&m("div",{children:[l("label",{className:`block font-medium mb-3 ${v[e]}`,children:"Email Preferences"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.preferences).map(([A,S])=>m("label",{className:`flex items-center space-x-3 ${v[e]} ${i?"opacity-50":""}`,children:[l("input",{type:"checkbox",name:`preferences.${A}`,checked:S,onChange:L=>d({target:{name:`preferences.${A}`,value:L.target.checked}}),disabled:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),l("span",{className:"text-sm capitalize",children:A.replace(/([A-Z])/g," $1").trim()})]},A))})]}),l("button",{type:"submit",disabled:i,className:`w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center justify-center space-x-2 ${t==="large"?"text-lg":""}`,children:i?m(br,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Subscribing..."})]}):l("span",{children:"Subscribe to Newsletter"})}),l("p",{className:`text-xs opacity-75 text-center ${v[e]} ${i?"opacity-50":""}`,children:"By subscribing, you agree to our Privacy Policy and consent to receive updates from our company."})]}),E&&m("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:`font-semibold mb-3 ${v[e]}`,children:"What You'll Receive"}),m("ul",{className:`space-y-2 text-sm ${v[e]} opacity-90`,children:[m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"New property listings matching your criteria"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Exclusive price updates and market trends"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Expert real estate advice and tips"})]})]})]})]})},Kf=({recentPosts:t=[],categories:e=[],tags:r=[],popularPosts:n=[],className:i=""})=>{const[a,s]=y.useState(""),o=d=>{d.preventDefault(),a.trim()&&(window.location.href=`/blog/search?q=${encodeURIComponent(a)}`)},c=e.slice(0,5),u=r.slice(0,10);return m("aside",{className:`space-y-8 ${i}`,children:[m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search Blog"}),l("form",{onSubmit:o,className:"space-y-3",children:m("div",{className:"relative",children:[l("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Search articles...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12"}),l("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]}),m("div",{className:"bg-blue-50 rounded-2xl p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About Our Blog"}),l("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:"Welcome to our real estate blog! We share expert insights, market trends, buying and selling tips, and industry news to help you make informed decisions in your real estate journey."}),m(we,{to:"/about",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm flex items-center space-x-1",children:[l("span",{children:"Learn more about us"}),l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),l("ul",{className:"space-y-2",children:c.map(d=>l("li",{children:m(we,{to:`/blog/category/${d.slug}`,className:"flex items-center justify-between text-gray-600 hover:text-blue-600 transition-colors duration-200 py-2 group",children:[l("span",{className:"capitalize",children:d.name}),l("span",{className:"bg-gray-100 text-gray-500 text-xs px-2 py-1 rounded-full group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors duration-200",children:d.count})]})},d.slug))}),e.length>5&&l(we,{to:"/blog/categories",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm mt-3 inline-block",children:"View all categories"})]}),t.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Posts"}),l("div",{className:"space-y-4",children:t.slice(0,3).map(d=>l(Hc,{post:d,variant:"minimal"},d.id))}),l(we,{to:"/blog",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm mt-4 inline-block",children:"View all posts"})]}),n.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Posts"}),l("div",{className:"space-y-4",children:n.slice(0,3).map((d,h)=>m("div",{className:"flex items-start space-x-3 group",children:[l("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full text-xs flex items-center justify-center font-semibold mt-1",children:h+1}),m("div",{className:"flex-1 min-w-0",children:[l(we,{to:`/blog/${d.id}`,className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2 mb-1",children:d.title}),l("p",{className:"text-xs text-gray-500",children:new Date(d.publishDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},d.id))})]}),r.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Tags"}),l("div",{className:"flex flex-wrap gap-2",children:u.map(d=>m(we,{to:`/blog/tag/${d.slug}`,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-blue-100 hover:text-blue-700 transition-colors duration-200",children:["#",d.name]},d.slug))})]}),m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stay Updated"}),l("p",{className:"text-gray-600 text-sm mb-4",children:"Get the latest real estate insights and market updates delivered to your inbox."}),l(JO,{variant:"minimal",size:"small"})]}),m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),l("div",{className:"flex space-x-4",children:[{name:"facebook",color:"hover:text-blue-600",icon:""},{name:"twitter",color:"hover:text-blue-400",icon:""},{name:"instagram",color:"hover:text-pink-600",icon:""},{name:"linkedin",color:"hover:text-blue-700",icon:""}].map(d=>l("a",{href:"#",className:`w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 ${d.color} transition-colors duration-200`,"aria-label":`Follow us on ${d.name}`,children:l("span",{className:"text-lg",children:d.icon})},d.name))})]}),m("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-6 text-white",children:[l("h3",{className:"text-lg font-semibold mb-3",children:"Need Real Estate Help?"}),l("p",{className:"text-blue-100 text-sm mb-4",children:"Our expert agents are ready to assist you with buying, selling, or investing in properties."}),l(we,{to:"/contact",className:"block w-full bg-white text-blue-600 text-center py-3 rounded-lg font-semibold hover:bg-blue-50 transition duration-200",children:"Contact an Agent"})]})]})},Hp=(t={},e=!0)=>{const[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(null),[c,u]=y.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:9}),{get:d,post:h,put:p,del:g}=sd(),b=y.useCallback(async(N={})=>{var C,I,D,O;try{a(!0),o(null);const B=new URLSearchParams;Object.entries(N).forEach(([K,te])=>{te!=null&&te!==""&&B.append(K,te.toString())});const H=await d(`/blog?${B.toString()}`);if(H.success){console.log(" Received posts response:",H.data);const K=H.data.data||H.data.posts||H.data||[];n(K),u({currentPage:((C=H.data.pagination)==null?void 0:C.page)||H.data.currentPage||1,totalPages:((I=H.data.pagination)==null?void 0:I.pages)||H.data.totalPages||1,totalItems:((D=H.data.pagination)==null?void 0:D.total)||H.data.total||H.data.totalItems||0,itemsPerPage:((O=H.data.pagination)==null?void 0:O.limit)||H.data.itemsPerPage||9})}else throw new Error(H.message||"Failed to fetch blog posts")}catch(B){o(B.message||"An error occurred while fetching blog posts"),console.error("Error fetching blog posts:",B)}finally{a(!1)}},[d]),x=y.useCallback(async N=>{try{a(!0),o(null);const C=await d(`/blog/${N}`);if(C.success)return C.data.data||C.data;throw new Error(C.message||"Failed to fetch blog post")}catch(C){return o(C.message||"An error occurred while fetching the blog post"),console.error("Error fetching blog post:",C),null}finally{a(!1)}},[d]),v=y.useCallback(async N=>{try{a(!0),o(null);const C=await h("/blog",N);if(C.success){const I=C.data.data||C.data;return n(D=>[I,...D]),I}else throw new Error(C.message||"Failed to create blog post")}catch(C){throw o(C.message||"An error occurred while creating the blog post"),console.error("Error creating blog post:",C),C}finally{a(!1)}},[h]),E=y.useCallback(async(N,C)=>{try{a(!0),o(null),console.log(" updatePost called:",{postId:N,updates:C});const I=await p(`/blog/${N}`,C);if(console.log(" Full API Response:",I),console.log(" Response success:",I.success),console.log(" Response data:",I.data),I.success){const D=I.data.data||I.data;return console.log(" Post updated successfully:",D),console.log(" Checking title match:",{sentTitle:C.title,returnedTitle:D.title,match:C.title===D.title}),n(O=>O.map(B=>(console.log(" Comparing IDs:",{postId:N,post_id:B._id,match:B._id===N}),B._id===N?D:B))),D}else throw console.log(" API returned success: false"),new Error(I.message||"Failed to update blog post")}catch(I){throw o(I.message||"An error occurred while updating the blog post"),console.error("Error updating blog post:",I),I}finally{a(!1)}},[p]),A=y.useCallback(async N=>{try{a(!0),o(null),console.log(" Deleting post:",N);const C=await g(`/blog/${N}`);if(C.success)return n(I=>I.filter(D=>D._id!==N)),!0;throw new Error(C.message||"Failed to delete blog post")}catch(C){throw o(C.message||"An error occurred while deleting the blog post"),console.error("Error deleting blog post:",C),C}finally{a(!1)}},[g]),S=y.useCallback(async(N,C)=>{try{if(console.log(" updateStatus called:",{postId:N,status:C}),!N)throw new Error("Post ID is required for status update");return await E(N,{status:C})}catch(I){throw o(I.message||"An error occurred while updating post status"),console.error("Error in updateStatus:",I),I}},[E]),L=y.useCallback(async(N,C)=>{try{return await E(N,{featured:C})}catch(I){throw o(I.message||"An error occurred while updating featured status"),I}},[E]),k=y.useCallback(async(N,C={})=>{try{a(!0),o(null),await b({...C,search:N})}catch(I){throw o(I.message||"An error occurred while searching blog posts"),console.error("Error searching blog posts:",I),I}},[b]),M=y.useCallback(async(N,C=10)=>{try{const I=await d(`/blog?category=${N}&limit=${C}`);if(I.success)return I.data.data||I.data.posts||[];throw new Error(I.message||"Failed to fetch posts by category")}catch(I){return console.error("Error fetching posts by category:",I),[]}},[d]),_=y.useCallback(async(N,C=10)=>{try{const I=await d(`/blog?tag=${N}&limit=${C}`);if(I.success)return I.data.data||I.data.posts||[];throw new Error(I.message||"Failed to fetch posts by tag")}catch(I){return console.error("Error fetching posts by tag:",I),[]}},[d]);y.useCallback(async()=>(console.warn("getFeaturedPosts not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getRecentPosts not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getRelatedPosts not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getCategories not implemented in backend"),[]),[]),y.useCallback(async()=>(console.warn("getTags not implemented in backend"),[]),[]);const T=y.useCallback(()=>{b(t)},[b,t]);return y.useEffect(()=>{e&&b(t)},[b,t,e]),{posts:r,loading:i,error:s,pagination:c,fetchPosts:b,fetchPost:x,createPost:v,deletePost:A,toggleFeatured:L,updateStatus:S,refetch:T,updatePost:E,searchPosts:k,getPostsByCategory:M,getPostsByTag:_,currentPage:c.currentPage,totalPages:c.totalPages,totalItems:c.totalItems,itemsPerPage:c.itemsPerPage,hasPosts:r.length>0,isEmpty:!i&&r.length===0}},ZO=t=>{const[e,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(null),{get:o}=sd(),c=y.useCallback(async d=>{try{i(!0),s(null),console.log(" useBlogPost - Fetching post:",d);const h=await o(`/blog/${d}`);if(console.log(" useBlogPost - API Response:",h),h.success){const p=h.data.data||h.data;console.log(" useBlogPost - Post data received:",p),r(p)}else throw console.log(" useBlogPost - API returned error:",h.message),new Error(h.message||"Failed to fetch blog post")}catch(h){console.error(" useBlogPost - Error:",h),s(h.message||"An error occurred while fetching the blog post")}finally{i(!1),console.log(" useBlogPost - Loading complete")}},[o]);y.useEffect(()=>{console.log(" useBlogPost - useEffect triggered with identifier:",t),t?c(t):(console.log(" useBlogPost - No identifier provided"),i(!1))},[t,c]);const u=y.useCallback(()=>{t&&c(t)},[t,c]);return{post:e,loading:n,error:a,refetch:u,exists:!!e&&!n}},e9=()=>{const[t,e]=_x(),r=y.useMemo(()=>({page:parseInt(t.get("page"))||1,limit:9,category:t.get("category")||"",tag:t.get("tag")||"",search:t.get("search")||""}),[t.get("page"),t.get("category"),t.get("tag"),t.get("search")]),{posts:n,loading:i,error:a,currentPage:s,totalPages:o,totalItems:c,pagination:u}=Hp(r),d=y.useMemo(()=>[{name:"Market News",slug:"market-news",count:24},{name:"Buying Guide",slug:"buying-guide",count:18},{name:"Selling Tips",slug:"selling-tips",count:15},{name:"Home Improvement",slug:"home-improvement",count:12},{name:"Investment",slug:"investment",count:8}],[]),h=y.useMemo(()=>[{name:"real estate",slug:"real-estate",count:45},{name:"market trends",slug:"market-trends",count:32},{name:"home buying",slug:"home-buying",count:28},{name:"investment",slug:"investment",count:25},{name:"mortgage",slug:"mortgage",count:22},{name:"interior design",slug:"interior-design",count:18}],[]),p=y.useMemo(()=>i?[]:(n==null?void 0:n.slice(0,3))||[],[n,i]),g=y.useMemo(()=>i?[]:(n==null?void 0:n.slice(3,6))||[],[n,i]),b=y.useCallback(S=>{e(L=>{const k=new URLSearchParams(L);return k.set("page",S.toString()),k}),window.scrollTo({top:0,behavior:"smooth"})},[e]),x=y.useCallback(S=>{e(L=>{const k=new URLSearchParams;return S.page||k.set("page","1"),Object.entries(S).forEach(([M,_])=>{_&&_.toString().trim()!==""&&k.set(M,_.toString())}),k})},[e]),v=y.useCallback(()=>{e(new URLSearchParams({page:"1"}))},[e]),E=y.useMemo(()=>r.category||r.tag||r.search,[r]),A=y.useMemo(()=>{var L,k;const S=[];return r.category&&S.push({type:"category",label:`Category: ${((L=d.find(M=>M.slug===r.category))==null?void 0:L.name)||r.category}`,bgColor:"bg-blue-100 text-blue-800"}),r.tag&&S.push({type:"tag",label:`Tag: ${((k=h.find(M=>M.slug===r.tag))==null?void 0:k.name)||r.tag}`,bgColor:"bg-green-100 text-green-800"}),r.search&&S.push({type:"search",label:`Search: "${r.search}"`,bgColor:"bg-yellow-100 text-yellow-800"}),S},[r,d,h]);return y.useEffect(()=>{console.log(" Blog Component State:",{postsCount:n==null?void 0:n.length,loading:i,error:a,filters:r,currentPage:s,totalPages:o})},[n,i,a,r,s,o]),l(kr,{children:m(zr,{children:[m("div",{className:"relative py-16 mb-12 overflow-hidden bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 rounded-3xl border border-orange-100",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-orange-200/40 to-transparent animate-pulse"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-amber-200/30 to-transparent animate-pulse delay-75"}),l("div",{className:"absolute top-1/3 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-orange-300/30 to-transparent animate-pulse"})}),l("div",{className:"absolute bottom-1/4 right-0 w-2/3",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-amber-300/40 to-transparent animate-pulse delay-150"})}),l("div",{className:"absolute top-20 left-16 w-6 h-6 border-2 border-orange-300/50 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-24 right-20 w-8 h-8 border-2 border-amber-300/40 rounded-full animate-float delay-200"}),l("div",{className:"absolute top-32 right-1/4 w-4 h-4 bg-orange-400/20 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute top-1/2 left-1/3 w-2 h-2 bg-orange-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-1/3 right-1/4 w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"}),l("div",{className:"absolute top-6 left-6 w-12 h-12 border-t-2 border-l-2 border-orange-300/50 rounded-tl-lg"}),l("div",{className:"absolute bottom-6 right-6 w-12 h-12 border-b-2 border-r-2 border-amber-300/50 rounded-br-lg"}),l("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-gradient-to-r from-orange-200 to-amber-200 rounded-full blur-2xl opacity-40"}),l("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 bg-gradient-to-r from-amber-200 to-orange-200 rounded-full blur-2xl opacity-30"})]}),m("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[m("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full border border-orange-200 shadow-sm mb-6",children:[l("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),l("span",{className:"text-sm font-semibold text-orange-700 uppercase tracking-wide",children:"Latest Insights"})]}),m("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:["Real Estate ",l("span",{className:"bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Blog"})]}),m("div",{className:"relative inline-block max-w-2xl mb-6",children:[l("div",{className:"absolute -inset-3 bg-white/30 rounded-2xl transform rotate-1 blur-sm"}),l("p",{className:"relative text-xl text-gray-700 leading-relaxed bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/30 shadow-sm",children:"Expert insights, market trends, and tips for buyers, sellers, and investors in the real estate market."})]}),E&&m("div",{className:"relative mt-8 flex flex-wrap gap-3 justify-center",children:[l("div",{className:"absolute -inset-4 bg-white/40 rounded-2xl blur-sm"}),m("div",{className:"relative flex flex-wrap gap-3 justify-center bg-white/60 backdrop-blur-sm p-4 rounded-2xl border border-orange-100 shadow-sm",children:[A.map((S,L)=>l("span",{className:`${S.bgColor} px-4 py-2 rounded-full text-sm font-medium border border-white/50 shadow-sm hover:scale-105 transition-transform duration-200`,children:S.label},`${S.type}-${L}`)),m("button",{onClick:v,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium border border-gray-200 hover:bg-gray-200 hover:scale-105 transition-all duration-200 flex items-center gap-1",children:["Clear All ",l("span",{className:"text-lg",children:""})]})]})]}),m("div",{className:"flex justify-center items-center space-x-3 mt-8",children:[l("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-ping"}),l("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse delay-75"}),l("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-ping delay-150"})]})]})]}),m(o6,{cols:2,gap:8,children:[l("div",{className:"lg:col-span-3",children:l(QO,{posts:n||[],loading:i,error:a,currentPage:s||r.page,totalPages:o||(u==null?void 0:u.totalPages)||1,totalItems:c||(u==null?void 0:u.totalItems)||0,onPageChange:b,showFeatured:!0,filters:r,onFilterChange:x})}),l("div",{className:"lg:col-span-1",children:l("div",{className:"sticky top-24",children:l(Kf,{recentPosts:p,categories:d,tags:h,popularPosts:g,activeFilters:r,onFilterChange:x,onClearFilters:v})})})]})]})})},t9=({post:t,className:e=""})=>{const{_id:r,id:n=r,title:i,content:a,excerpt:s,featuredImage:o,authorName:c,authorEmail:u,authorAvatar:d,author:h={name:c,email:u,avatar:d,role:"Author"},createdAt:p,updatedAt:g,publishDate:b=p,updatedDate:x=g,readTime:v,categories:E,tags:A,featured:S=!1,views:L=0,likes:k=[],comments:M=[],slug:_,relatedPosts:T=[]}=t,N=()=>o?typeof o=="object"&&o.url?o.url:typeof o=="string"?o:"/images/blog-placeholder.jpg":"/images/blog-placeholder.jpg",C=H=>{if(!H)return"Unknown date";try{return new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid date"}},I=H=>({"market-news":"bg-blue-100 text-blue-800 border border-blue-200","home-improvement":"bg-green-100 text-green-800 border border-green-200",investment:"bg-purple-100 text-purple-800 border border-purple-200",neighborhood:"bg-orange-100 text-orange-800 border border-orange-200","design-tips":"bg-indigo-100 text-indigo-800 border border-indigo-200",mortgage:"bg-pink-100 text-pink-800 border border-pink-200",legal:"bg-red-100 text-red-800 border border-red-200",lifestyle:"bg-yellow-100 text-yellow-800 border border-yellow-200"})[H]||"bg-gray-100 text-gray-800 border border-gray-200",D=H=>H.split("-").map(K=>K.charAt(0).toUpperCase()+K.slice(1)).join(" "),O=({content:H})=>m("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),l("nav",{children:l("ul",{className:"space-y-2",children:[{id:"introduction",title:"Introduction",level:2},{id:"key-points",title:"Key Points",level:2},{id:"conclusion",title:"Conclusion",level:2}].map(te=>l("li",{children:m("a",{href:`#${te.id}`,className:"text-gray-600 hover:text-blue-600 transition-colors duration-200 flex items-center space-x-2",style:{marginLeft:`${(te.level-2)*1}rem`},children:[l("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),l("span",{children:te.title})]})},te.id))})})]}),B=H=>H?/<[a-z][\s\S]*>/i.test(H):!1;return m("article",{className:`max-w-4xl mx-auto ${e}`,children:[m("header",{className:"mb-8",children:[E&&E.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-4",children:E.map(H=>l(we,{to:`/blog/category/${H}`,className:`px-3 py-1 rounded-full text-sm font-semibold hover:opacity-80 transition-opacity duration-200 ${I(H)}`,children:D(H)},H))}),l("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:i||"Untitled Post"}),m("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[m("div",{className:"flex items-center space-x-4",children:[m("div",{className:"flex items-center space-x-3",children:[l("img",{src:(h==null?void 0:h.avatar)||d||"/images/avatar-placeholder.jpg",alt:(h==null?void 0:h.name)||c||"Author",className:"w-12 h-12 rounded-full",onError:H=>{H.target.src="/images/avatar-placeholder.jpg"}}),m("div",{children:[l("p",{className:"font-semibold text-gray-900",children:(h==null?void 0:h.name)||c||"Unknown Author"}),l("p",{className:"text-sm text-gray-600",children:(h==null?void 0:h.role)||"Author"})]})]}),m("div",{className:"text-sm text-gray-600",children:[m("p",{children:["Published ",C(b)]}),x&&b!==x&&m("p",{children:["Updated ",C(x)]})]})]}),m("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[m("span",{children:[v||5," min read"]}),S&&l("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Featured"})]})]}),m("div",{className:"flex items-center space-x-6 mt-4 text-sm text-gray-500",children:[m("span",{children:[" ",L||0," views"]}),m("span",{children:[" ",(M==null?void 0:M.length)||0," comments"]}),m("span",{children:[" ",(k==null?void 0:k.length)||0," likes"]})]})]}),m("div",{className:"mb-8 rounded-2xl overflow-hidden",children:[l("img",{src:N(),alt:(o==null?void 0:o.alt)||i||"Blog post",className:"w-full h-auto max-h-96 object-cover",onError:H=>{H.target.src="/images/blog-placeholder.jpg"}}),(o==null?void 0:o.alt)&&l("p",{className:"text-sm text-gray-500 mt-2 text-center",children:o.alt})]}),s&&l("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6 mb-8",children:m("p",{className:"text-lg font-medium text-blue-900 italic",children:['"',s,'"']})}),l(O,{content:a}),l("div",{className:"prose prose-lg max-w-none mb-12",children:B(a)?l("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:a}}):l("div",{className:"space-y-6 text-gray-700 leading-relaxed",children:a?a.split(`
`).map((H,K)=>H.trim()?l("p",{children:H},K):l("br",{},K)):m("div",{className:"space-y-6",children:[l("p",{children:"This is a sample blog post content. In a real application, this would be populated with the actual blog content from your CMS or database."}),l("h2",{id:"introduction",children:"Introduction"}),l("p",{children:"The real estate market continues to evolve, with new trends and opportunities emerging regularly. Understanding these changes is crucial for both buyers and sellers."}),l("h2",{id:"key-points",children:"Key Points"}),l("p",{children:"Market analysis shows steady growth in suburban areas while urban centers experience shifting demand patterns. Technology continues to transform how properties are bought and sold."}),l("h2",{id:"conclusion",children:"Conclusion"}),l("p",{children:"Staying informed about market trends and working with experienced professionals can help you make the most of your real estate investments."})]})})}),A&&A.length>0&&m("div",{className:"mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),l("div",{className:"flex flex-wrap gap-2",children:A.map(H=>m(we,{to:`/blog/tag/${H}`,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors duration-200",children:["#",H]},H))})]}),l("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:m("div",{className:"flex items-start space-x-4",children:[l("img",{src:(h==null?void 0:h.avatar)||d||"/images/avatar-placeholder.jpg",alt:(h==null?void 0:h.name)||c||"Author",className:"w-16 h-16 rounded-full flex-shrink-0",onError:H=>{H.target.src="/images/avatar-placeholder.jpg"}}),m("div",{className:"flex-1",children:[m("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["About ",(h==null?void 0:h.name)||c||"the Author"]}),l("p",{className:"text-gray-600 mb-3",children:(h==null?void 0:h.bio)||`${(h==null?void 0:h.name)||c||"This author"} is an experienced real estate professional with deep knowledge of market trends and property investment strategies.`}),m("div",{className:"flex space-x-4",children:[(h==null?void 0:h.email)&&m("a",{href:`mailto:${h.email}`,className:"text-gray-400 hover:text-blue-600 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"Email"}),m("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[l("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),l("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})]}),m("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"Twitter"}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),m("a",{href:"#",className:"text-gray-400 hover:text-blue-700 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"LinkedIn"}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]})]})}),m("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share this article"}),l("div",{className:"flex space-x-4",children:[{name:"twitter",color:"hover:bg-blue-400 hover:text-white"},{name:"facebook",color:"hover:bg-blue-600 hover:text-white"},{name:"linkedin",color:"hover:bg-blue-700 hover:text-white"},{name:"email",color:"hover:bg-gray-600 hover:text-white"}].map(H=>m("button",{className:`p-3 bg-gray-100 rounded-lg transition-all duration-200 text-gray-600 ${H.color}`,title:`Share on ${H.name}`,children:[m("span",{className:"sr-only",children:["Share on ",H.name]}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})})]},H.name))})]}),m("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:[m("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Comments (",(M==null?void 0:M.length)||0,")"]}),M&&M.length>0?l("div",{className:"space-y-6",children:M.map((H,K)=>l("div",{className:"border-b border-gray-100 pb-6 last:border-b-0",children:m("div",{className:"flex items-start space-x-3",children:[l("img",{src:H.userAvatar||"/images/avatar-placeholder.jpg",alt:H.userName,className:"w-10 h-10 rounded-full",onError:te=>{te.target.src="/images/avatar-placeholder.jpg"}}),m("div",{className:"flex-1",children:[m("div",{className:"flex items-center space-x-2 mb-2",children:[l("h4",{className:"font-semibold text-gray-900",children:H.userName}),l("span",{className:"text-sm text-gray-500",children:C(H.createdAt)})]}),l("p",{className:"text-gray-700",children:H.content})]})]})},K))}):l("p",{className:"text-gray-500 text-center py-8",children:"No comments yet. Be the first to share your thoughts!"})]})]})},r9=({posts:t,currentPostId:e,title:r="Related Articles",subtitle:n="You might also be interested in these posts",className:i="",maxPosts:a=3})=>{const s=t.filter(o=>o.id!==e).slice(0,a);return s.length===0?null:m("section",{className:`py-8 ${i}`,children:[m("div",{className:"mb-8 text-center",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:r}),l("p",{className:"text-gray-600 text-lg",children:n})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(o=>l(Hc,{post:o},o.id))}),l("div",{className:"text-center mt-12",children:m("a",{href:"/blog",className:"inline-flex items-center bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold text-lg",children:[l("span",{children:"View All Blog Posts"}),l("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})},n9=()=>{const{id:t}=Nx();console.log(" BlogPost - ID from URL:",t);const{post:e,loading:r,error:n}=ZO(t),{posts:i,fetchPosts:a,loading:s}=Hp({limit:10},!1);yr.useEffect(()=>{a({limit:10})},[a]);const o=yr.useMemo(()=>(i==null?void 0:i.filter(d=>d._id!==t).slice(0,3))||[],[i,t]),c=[{name:"Market News",slug:"market-news",count:24},{name:"Buying Guide",slug:"buying-guide",count:18},{name:"Selling Tips",slug:"selling-tips",count:15}],u=[{name:"real estate",slug:"real-estate",count:45},{name:"market trends",slug:"market-trends",count:32},{name:"home buying",slug:"home-buying",count:28}];return r?l(kr,{children:l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m("div",{className:"text-center",children:[l(ol,{size:"large",text:"Loading blog post..."}),l("p",{className:"mt-4 text-gray-600",children:"Please wait while we load the content"})]})})}):n||!e?l(kr,{children:l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:l(Ao,{children:m("div",{className:"text-center max-w-2xl mx-auto",children:[l("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l("span",{className:"text-2xl",children:""})}),l("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Post Not Found"}),l("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:n?`We encountered an error: ${n}`:"The blog post you're looking for doesn't exist or may have been removed."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l(we,{to:"/blog",className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium shadow-sm",children:"Back to Blog"}),l(we,{to:"/",className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition duration-200 font-medium shadow-sm",children:"Go Home"})]})]})})})}):l(kr,{children:m("div",{className:"min-h-screen bg-gray-50",children:[l("div",{className:"container mx-auto px-4 py-8",children:m("div",{className:"flex flex-col lg:flex-row gap-8",children:[l("div",{className:"flex-1",children:m(Ao,{children:[l("nav",{className:"mb-8",children:m("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l(we,{to:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),l("span",{children:""}),l(we,{to:"/blog",className:"hover:text-blue-600 transition-colors",children:"Blog"}),l("span",{children:""}),l("span",{className:"text-gray-900 font-medium truncate",children:e.title})]})}),l("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l(t9,{post:e})}),l("div",{className:"mt-12",children:l(r9,{posts:o,currentPostId:e._id,title:"Related Articles",subtitle:"Continue reading with these related posts"})})]})}),l("div",{className:"lg:w-80 flex-shrink-0",children:l("div",{className:"sticky top-24",children:l(Kf,{recentPosts:(i==null?void 0:i.slice(0,3))||[],categories:c,tags:u})})})]})}),l("div",{className:"lg:hidden bg-white border-t border-gray-200",children:l("div",{className:"container mx-auto px-4 py-6",children:l(Kf,{recentPosts:(i==null?void 0:i.slice(0,3))||[],categories:c,tags:u,mobileLayout:!0})})})]})})},i9=()=>{const t=[{city:"New York",address:"123 Broadway,Port Harcourt",phone:"+ (234)913 2080059",email:"ny@estatepro.com",hours:"Mon-Fri: 9AM-6PM, Sat: 10AM-4PM"}];return l(kr,{children:m(zr,{children:[m("div",{className:"relative text-center mb-16 py-12 overflow-hidden",children:[m("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-10 left-10 w-2 h-20 bg-blue-400/30 animate-pulse rounded-full"}),l("div",{className:"absolute bottom-10 right-20 w-1 h-16 bg-blue-500/40 animate-bounce rounded-full"}),l("div",{className:"absolute top-1/2 left-1/4 w-3 h-3 bg-blue-300 rounded-full animate-ping"})]}),m("div",{className:"relative z-10",children:[l("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Contact Us"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Get in touch with our expert real estate agents. We're here to help you with all your property needs."})]})]}),m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[m("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-100",children:[l("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Send us a Message"}),l("p",{className:"text-gray-500 mb-6",children:"We'll get back to you within 2 hours"}),l(()=>m("form",{className:"space-y-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),l("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Your name"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"your.email@example.com"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),l("textarea",{rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"How can we help you?"})]}),l("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Send Message"})]}),{})]}),m("div",{className:"space-y-8",children:[m("div",{children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Get in Touch"}),l("div",{className:"grid grid-cols-1 gap-4",children:[{icon:"",title:"Call Us",description:"Speak directly with our agents",details:"+ (234)913 2080059",action:"tel:+2349132080059"},{icon:"",title:"Email Us",description:"Send us a message anytime",details:"nfo@Octopusrealestate.com",action:"mailto:nfo@Octopusrealestate.com"}].map((n,i)=>l(we,{href:n.action,className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-300 hover:border-blue-200",children:m("div",{className:"flex items-start space-x-4",children:[l("div",{className:"text-2xl",children:n.icon}),m("div",{children:[l("h4",{className:"font-semibold text-gray-900",children:n.title}),l("p",{className:"text-sm text-gray-600 mt-1",children:n.description}),l("p",{className:"text-blue-600 font-semibold mt-2",children:n.details})]})]})},i))})]}),m("div",{children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Our Offices"}),l("div",{className:"space-y-4",children:t.map((n,i)=>m("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[m("h4",{className:"font-semibold text-gray-900 text-lg mb-3",children:[n.city," Office"]}),m("div",{className:"space-y-2 text-sm text-gray-600",children:[m("p",{children:[" ",n.address]}),m("p",{children:[" ",n.phone]}),m("p",{children:[" ",n.email]}),m("p",{children:[" ",n.hours]})]})]},i))})]})]})]})]})})},a9=()=>{const t=[{name:"Sarah Johnson",role:"CEO & Founder",experience:"15+ years",specialty:"Luxury Properties",image:"/images/team/sarah.jpg",bio:"Sarah founded Octopus Real Estate with a vision to revolutionize real estate services through technology and personalized care."},{name:"Michael Chen",role:"Head of Sales",experience:"12+ years",specialty:"Commercial Real Estate",image:"/images/team/michael.jpg",bio:"Michael leads our sales team with expertise in commercial properties and investment opportunities."},{name:"Emily Rodriguez",role:"Senior Agent",experience:"8+ years",specialty:"First-time Buyers",image:"/images/team/emily.jpg",bio:"Emily specializes in helping first-time home buyers navigate the complex process of purchasing their dream home."},{name:"David Thompson",role:"Property Manager",experience:"10+ years",specialty:"Rental Properties",image:"/images/team/david.jpg",bio:"David manages our extensive portfolio of rental properties, ensuring optimal returns for investors."}],e=[{year:"2008",event:"Company Founded",description:"Started with a single office in Port Harcourt"},{year:"2012",event:"1000+ Properties",description:"Reached milestone of 1000 properties sold"},{year:"2015",event:"National Expansion",description:"Expanded to major cities across the US"},{year:"2018",event:"Tech Platform Launch",description:"Launched our proprietary real estate platform"},{year:"2022",event:"5000+ Clients",description:"Helped over 5000 clients find their perfect homes"},{year:"2024",event:"Award Winning",description:"Recognized as top real estate agency nationally"}],r=[{icon:l(wf,{className:"w-10 h-10"}),title:"Trust & Integrity",description:"We build relationships based on honesty and transparency in every transaction."},{icon:l(Gm,{className:"w-10 h-10"}),title:"Expert Guidance",description:"Our experienced agents provide expert advice tailored to your unique needs."},{icon:l(Y5,{className:"w-10 h-10"}),title:"Innovation",description:"We leverage cutting-edge technology to simplify the real estate process."},{icon:l(kx,{className:"w-10 h-10"}),title:"Client First",description:"Your goals and satisfaction are at the center of everything we do."}];return l(kr,{children:m(zr,{children:[m("section",{className:"relative py-8 overflow-hidden",children:[m("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-1/4 left-10 w-1 h-32 bg-blue-500/30 animate-pulse"}),l("div",{className:"absolute bottom-1/3 right-20 w-1 h-24 bg-blue-400/40 animate-bounce"}),l("div",{className:"absolute top-1/2 left-1/4 w-1 h-16 bg-blue-300/50 animate-ping"}),l("div",{className:"absolute top-10 right-1/4 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-20 left-1/3 w-2 h-2 bg-blue-300 rounded-full animate-pulse delay-75"}),l("div",{className:"absolute top-40 right-40 w-4 h-4 bg-blue-500/60 rounded-full animate-ping delay-150"}),l("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-gradient-to-r from-blue-100 to-cyan-100 rounded-full blur-xl opacity-60"}),l("div",{className:"absolute -bottom-16 -right-16 w-32 h-32 bg-gradient-to-r from-cyan-100 to-blue-100 rounded-full blur-xl opacity-40"})]}),m("div",{className:"relative z-10 text-center mb-16 max-w-4xl mx-auto px-4",children:[l("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 animate-fade-in",children:"About Octopus Real Estate"}),m("div",{className:"relative inline-block mb-8",children:[l("div",{className:"absolute -inset-4 bg-blue-50 rounded-lg transform rotate-3 animate-pulse"}),l("p",{className:"relative text-xl text-gray-600 leading-relaxed bg-white/80 backdrop-blur-sm p-6 rounded-lg border border-blue-100 shadow-sm",children:"For over 15 years, Octopus Real Estate has been transforming the real estate experience through innovation, expertise, and unwavering commitment to our clients' success."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12",children:[{icon:"",label:"Residential"},{icon:"",label:"Commercial"},{icon:"",label:"Urban"},{icon:"",label:"Luxury"}].map((n,i)=>m("div",{className:"flex flex-col items-center p-4 bg-white/70 backdrop-blur-sm rounded-lg border border-blue-100 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[l("span",{className:"text-2xl mb-2",children:n.icon}),l("span",{className:"text-sm font-medium text-gray-700",children:n.label})]},i))})]})]}),l("section",{className:"mb-8",children:m(l6,{children:[m("div",{children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),m("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[l("p",{children:"Founded in 2008, Octopus Real Estate began as a small real estate agency with a big vision: to make property buying and selling simpler, smarter, and more transparent."}),l("p",{children:"What started as a single office in New York has grown into a nationwide network of expert agents, serving thousands of clients across the United States."}),l("p",{children:"Today, we combine deep market knowledge with cutting-edge technology to deliver exceptional results for buyers, sellers, and investors alike."})]})]}),l("div",{children:l("img",{src:"/images/about-story.jpg",alt:"Our office team",className:"rounded-2xl shadow-lg w-full h-auto"})})]})}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Values"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((n,i)=>m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 text-center group",children:[l("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-white border border-blue-200 mb-4 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300 mx-auto",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Experienced professionals dedicated to your real estate success"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((n,i)=>m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-blue-100 group",children:[l("img",{src:n.image,alt:n.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),m("div",{className:"p-6",children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:n.name}),l("p",{className:"text-blue-600 font-medium mb-2",children:n.role}),m("div",{className:"text-sm text-gray-600 space-y-1 mb-3",children:[m("div",{className:"flex items-center space-x-2",children:[l(Ix,{className:"w-4 h-4 text-blue-500"}),m("span",{children:["Experience: ",n.experience]})]}),m("div",{className:"flex items-center space-x-2",children:[l(ea,{className:"w-4 h-4 text-blue-500"}),m("span",{children:["Specialty: ",n.specialty]})]})]}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.bio})]})]},i))})]}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Journey"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Milestones that mark our growth and success"})]}),m("div",{className:"relative",children:[l("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 bg-gradient-to-b from-blue-200 to-blue-300 h-full"}),l("div",{className:"space-y-12",children:e.map((n,i)=>m("div",{className:`relative flex items-center ${i%2===0?"flex-row":"flex-row-reverse"}`,children:[l("div",{className:`w-1/2 ${i%2===0?"pr-8 text-right":"pl-8"}`,children:m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg p-6 border border-blue-100 hover:shadow-xl transition-all duration-300",children:[m("div",{className:"text-blue-600 font-bold text-lg mb-2 flex items-center space-x-2 justify-end",children:[l(R5,{className:"w-5 h-5"}),l("span",{children:n.year})]}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.event}),l("p",{className:"text-gray-700",children:n.description})]})}),l("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-6 h-6 bg-blue-600 rounded-full border-4 border-white shadow-lg z-10"}),l("div",{className:"w-1/2"})]},i))})]})]}),l("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl p-12 text-center text-white shadow-xl",children:m("div",{className:"max-w-4xl mx-auto",children:[l("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-10 rounded-2xl mb-6",children:l(cP,{className:"w-10 h-10 text-white"})}),l("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Work With Us?"}),l("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Join thousands of satisfied clients who have found their perfect property with Octopus Real Estate."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m(we,{to:"/contact",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(Ox,{className:"w-5 h-5"}),l("span",{children:"Get in Touch"})]}),m(we,{to:"/properties",className:"border-2 border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(Rx,{className:"w-5 h-5"}),l("span",{children:"Browse Properties"})]})]})]})})]})})},s9=()=>{const t=[{icon:l(ea,{className:"w-12 h-12"}),title:"Property Buying",description:"Find and purchase your dream home with expert guidance through every step of the process.",features:["Personalized property search","Market analysis and pricing","Negotiation and offer management","Mortgage assistance","Closing coordination"],cta:"Start Your Search"},{icon:l(Ym,{className:"w-12 h-12"}),title:"Property Selling",description:"Maximize your property value and sell quickly with our comprehensive marketing strategy.",features:["Professional valuation","Staging and photography","Multi-channel marketing","Buyer screening and showings","Contract negotiation"],cta:"Get Free Valuation"},{icon:l(vo,{className:"w-12 h-12"}),title:"Property Rental",description:"Find perfect rental properties or manage your rental investments efficiently.",features:["Tenant screening","Lease management","Rent collection","Maintenance coordination","Property inspections"],cta:"Browse Rentals"}],e=[{icon:l(Gm,{className:"w-10 h-10"}),title:"Property Management",description:"Professional management services for rental properties and investment portfolios."},{icon:l(F5,{className:"w-10 h-10"}),title:"Commercial Real Estate",description:"Expert services for commercial property transactions and investments."},{icon:l(U5,{className:"w-10 h-10"}),title:"Real Estate Consulting",description:"Strategic advice for property investors and portfolio optimization."},{icon:l(Z5,{className:"w-10 h-10"}),title:"Property Valuation",description:"Accurate market valuations for sales, purchases, and investment analysis."},{icon:l(H5,{className:"w-10 h-10"}),title:"Legal Support",description:"Assistance with contracts, disclosures, and legal documentation."},{icon:l(wf,{className:"w-10 h-10"}),title:"Mortgage Services",description:"Connections with trusted lenders and mortgage assistance."}],r=[{step:"01",title:"Consultation",description:"We discuss your needs, preferences, and budget to understand your requirements.",icon:l(lP,{className:"w-6 h-6"})},{step:"02",title:"Property Search",description:"Our agents search for properties that match your criteria and schedule viewings.",icon:l(Rx,{className:"w-6 h-6"})},{step:"03",title:"Analysis & Offer",description:"We provide market analysis and help you make competitive offers.",icon:l(j5,{className:"w-6 h-6"})},{step:"04",title:"Negotiation",description:"Our experts negotiate the best terms and price on your behalf.",icon:l(wf,{className:"w-6 h-6"})},{step:"05",title:"Closing",description:"We coordinate all paperwork and ensure a smooth closing process.",icon:l(W5,{className:"w-6 h-6"})}];return l(kr,{children:m(zr,{children:[m("div",{className:"relative py-20 mb-16 overflow-hidden bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-1/4 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-blue-300/40 to-transparent animate-pulse"})}),l("div",{className:"absolute top-2/3 right-0 w-1/2",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-cyan-300/40 to-transparent animate-pulse delay-75"})}),l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-blue-200/30 to-transparent animate-bounce"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-cyan-200/30 to-transparent animate-bounce delay-150"}),l("div",{className:"absolute top-20 left-10 w-6 h-6 border-2 border-blue-300/50 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-20 right-16 w-8 h-8 border-2 border-cyan-300/40 rounded-full animate-float delay-200"}),l("div",{className:"absolute top-40 right-20 w-4 h-4 bg-blue-400/20 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute top-1/3 left-1/2 w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),l("div",{className:"absolute bottom-1/4 right-1/4 w-1.5 h-1.5 bg-cyan-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-10 left-0 w-full opacity-10",children:m("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-20",children:[l("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",className:"fill-blue-300"}),l("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",className:"fill-cyan-300"}),l("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",className:"fill-blue-400"})]})})]}),m("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[m("div",{className:"inline-block mb-4",children:[l("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full mb-2 mx-auto"}),l("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider",children:"What We Offer"})]}),m("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Our ",l("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Services"})]}),m("div",{className:"relative inline-block max-w-3xl",children:[l("div",{className:"absolute -inset-4 bg-white/50 rounded-2xl transform rotate-2 blur-sm"}),l("p",{className:"relative text-xl md:text-2xl text-gray-700 leading-relaxed bg-white/80 backdrop-blur-sm p-8 rounded-xl border border-white/20 shadow-lg",children:"Comprehensive real estate solutions tailored to meet your unique needs. From buying your first home to managing investment properties, we've got you covered."})]}),m("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[l("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-ping"}),l("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),l("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-ping delay-150"})]})]})]}),l("section",{className:"mb-16",children:l("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:t.map((n,i)=>l("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group border border-blue-100",children:m("div",{className:"p-8",children:[l("div",{className:"inline-flex items-center justify-center p-4 rounded-2xl bg-white border border-blue-200 mb-6 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.title}),l("p",{className:"text-gray-700 mb-6 leading-relaxed",children:n.description}),l("ul",{className:"space-y-3 mb-8",children:n.features.map((a,s)=>m("li",{className:"flex items-center space-x-3 text-gray-700",children:[l("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),l("span",{className:"text-sm",children:a})]},s))}),l("a",{href:"/contact",className:"block w-full bg-blue-600 text-white text-center py-3 rounded-lg hover:bg-blue-700 transition-all duration-200 font-semibold hover:shadow-lg transform hover:-translate-y-0.5",children:n.cta})]})},i))})}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Additional Services"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Specialized services to support all your real estate needs"})]}),l(o6,{cols:3,gap:6,children:e.map((n,i)=>m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-blue-100 group hover:border-blue-200",children:[l("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-white border border-blue-200 mb-4 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Process"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"A streamlined approach to ensure your real estate journey is smooth and successful"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:r.map((n,i)=>m("div",{className:"text-center group",children:[m("div",{className:"relative",children:[m("div",{className:"relative w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl flex flex-col items-center justify-center mx-auto mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:[l("div",{className:"text-xs font-semibold opacity-90",children:n.step}),l("div",{className:"text-white",children:n.icon})]}),i<r.length-1&&l("div",{className:"hidden lg:block absolute top-10 left-full w-full h-0.5 bg-gradient-to-r from-blue-100 to-blue-50 -translate-y-10"})]}),l("h3",{className:"text-lg font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors duration-200",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),l("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl p-12 text-center text-white shadow-xl",children:m("div",{className:"max-w-4xl mx-auto",children:[l("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-10 rounded-2xl mb-6",children:l(G5,{className:"w-10 h-10 text-white"})}),l("h2",{className:"text-3xl font-bold mb-4",children:"Start Your Real Estate Journey Today"}),l("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Let our expert team guide you through every step of your property transaction. Experience the difference of professional real estate services."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m("a",{href:"/contact",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(Ox,{className:"w-5 h-5"}),l("span",{children:"Get Started"})]}),m("a",{href:"tel:+2349132080059",className:"border-2 border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(ns,{className:"w-5 h-5"}),l("span",{children:"Call Now: + (234)913 2080059"})]})]})]})})]})})};function m6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=m6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=m6(t))&&(n&&(n+=" "),n+=e);return n}var o9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Wp(t){if(typeof t!="string")return!1;var e=o9;return e.includes(t)}var l9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function p6(t){if(typeof t!="string")return!1;var e=l9;return e.includes(t)}function g6(t){return typeof t=="string"&&t.startsWith("data-")}function Hr(t){var e=Object.entries(t).filter(r=>{var[n]=r;return p6(n)||g6(n)});return Object.fromEntries(e)}function Lo(t){if(t==null)return null;if(y.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Hr(e)}return typeof t=="object"&&!Array.isArray(t)?Hr(t):null}function Rr(t){var e=Object.entries(t).filter(r=>{var[n]=r;return p6(n)||g6(n)||Wp(n)});return Object.fromEntries(e)}var c9=["children","width","height","viewBox","className","style","title","desc"];function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(null,arguments)}function u9(t,e){if(t==null)return{};var r,n,i=d9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function d9(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qp=y.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=t,d=u9(t,c9),h=a||{width:n,height:i,x:0,y:0},p=De("recharts-surface",s);return y.createElement("svg",Gf({},Rr(d),{className:p,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),h9=["children","className"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yf.apply(null,arguments)}function f9(t,e){if(t==null)return{};var r,n,i=m9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function m9(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Zt=y.forwardRef((t,e)=>{var{children:r,className:n}=t,i=f9(t,h9),a=De("recharts-layer",n);return y.createElement("g",Yf({className:a},Rr(i),{ref:e}),r)}),v6=y.createContext(null),p9=()=>y.useContext(v6);function Fe(t){return function(){return t}}const y6=Math.cos,Wc=Math.sin,Kr=Math.sqrt,qc=Math.PI,od=2*qc,Xf=Math.PI,Qf=2*Xf,Wi=1e-6,g9=Qf-Wi;function b6(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function v9(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return b6;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class y9{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?b6:v9(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-e,u=i-r,d=s-e,h=o-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Wi)if(!(Math.abs(h*c-u*d)>Wi)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,b=i-o,x=c*c+u*u,v=g*g+b*b,E=Math.sqrt(x),A=Math.sqrt(p),S=a*Math.tan((Xf-Math.acos((x+p-v)/(2*E*A)))/2),L=S/A,k=S/E;Math.abs(L-1)>Wi&&this._append`L${e+L*d},${r+L*h}`,this._append`A${a},${a},0,0,${+(h*g>d*b)},${this._x1=e+k*c},${this._y1=r+k*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=e+o,d=r+c,h=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Wi||Math.abs(this._y1-d)>Wi)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%Qf+Qf),p>g9?this._append`A${n},${n},0,1,${h},${e-o},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:p>Wi&&this._append`A${n},${n},0,${+(p>=Xf)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Kp(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new y9(e)}function Gp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x6(t){this._context=t}x6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ld(t){return new x6(t)}function w6(t){return t[0]}function _6(t){return t[1]}function N6(t,e){var r=Fe(!0),n=null,i=ld,a=null,s=Kp(o);t=typeof t=="function"?t:t===void 0?w6:Fe(t),e=typeof e=="function"?e:e===void 0?_6:Fe(e);function o(c){var u,d=(c=Gp(c)).length,h,p=!1,g;for(n==null&&(a=i(g=s())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,u,c),+e(h,u,c));if(g)return a=null,g+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Fe(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Fe(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Fe(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Wl(t,e,r){var n=null,i=Fe(!0),a=null,s=ld,o=null,c=Kp(u);t=typeof t=="function"?t:t===void 0?w6:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?_6:Fe(+r);function u(h){var p,g,b,x=(h=Gp(h)).length,v,E=!1,A,S=new Array(x),L=new Array(x);for(a==null&&(o=s(A=c())),p=0;p<=x;++p){if(!(p<x&&i(v=h[p],p,h))===E)if(E=!E)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=p-1;b>=g;--b)o.point(S[b],L[b]);o.lineEnd(),o.areaEnd()}E&&(S[p]=+t(v,p,h),L[p]=+e(v,p,h),o.point(n?+n(v,p,h):S[p],r?+r(v,p,h):L[p]))}if(A)return o=null,A+""||null}function d(){return N6().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Fe(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Fe(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Fe(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Fe(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Fe(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Fe(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Fe(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class E6{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function b9(t){return new E6(t,!0)}function x9(t){return new E6(t,!1)}const Yp={draw(t,e){const r=Kr(e/qc);t.moveTo(r,0),t.arc(0,0,r,0,od)}},w9={draw(t,e){const r=Kr(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},A6=Kr(1/3),_9=A6*2,N9={draw(t,e){const r=Kr(e/_9),n=r*A6;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},E9={draw(t,e){const r=Kr(e),n=-r/2;t.rect(n,n,r,r)}},A9=.8908130915292852,P6=Wc(qc/10)/Wc(7*qc/10),P9=Wc(od/10)*P6,S9=-y6(od/10)*P6,T9={draw(t,e){const r=Kr(e*A9),n=P9*r,i=S9*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=od*a/5,o=y6(s),c=Wc(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},Wh=Kr(3),I9={draw(t,e){const r=-Kr(e/(Wh*3));t.moveTo(0,r*2),t.lineTo(-Wh*r,-r),t.lineTo(Wh*r,-r),t.closePath()}},Er=-.5,Ar=Kr(3)/2,Jf=1/Kr(12),C9=(Jf/2+1)*3,k9={draw(t,e){const r=Kr(e/C9),n=r/2,i=r*Jf,a=n,s=r*Jf+r,o=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(Er*n-Ar*i,Ar*n+Er*i),t.lineTo(Er*a-Ar*s,Ar*a+Er*s),t.lineTo(Er*o-Ar*c,Ar*o+Er*c),t.lineTo(Er*n+Ar*i,Er*i-Ar*n),t.lineTo(Er*a+Ar*s,Er*s-Ar*a),t.lineTo(Er*o+Ar*c,Er*c-Ar*o),t.closePath()}};function O9(t,e){let r=null,n=Kp(i);t=typeof t=="function"?t:Fe(t||Yp),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fe(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Kc(){}function Gc(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function S6(t){this._context=t}S6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R9(t){return new S6(t)}function T6(t){this._context=t}T6.prototype={areaStart:Kc,areaEnd:Kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M9(t){return new T6(t)}function I6(t){this._context=t}I6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D9(t){return new I6(t)}function C6(t){this._context=t}C6.prototype={areaStart:Kc,areaEnd:Kc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function L9(t){return new C6(t)}function T1(t){return t<0?-1:1}function I1(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(T1(a)+T1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function C1(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function qh(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Yc(t){this._context=t}Yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qh(this,this._t0,C1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qh(this,C1(this,r=I1(this,t,e)),r);break;default:qh(this,this._t0,r=I1(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function k6(t){this._context=new O6(t)}(k6.prototype=Object.create(Yc.prototype)).point=function(t,e){Yc.prototype.point.call(this,e,t)};function O6(t){this._context=t}O6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function j9(t){return new Yc(t)}function V9(t){return new k6(t)}function R6(t){this._context=t}R6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=k1(t),i=k1(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function k1(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function $9(t){return new R6(t)}function cd(t,e){this._context=t,this._t=e}cd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function F9(t){return new cd(t,.5)}function U9(t){return new cd(t,0)}function z9(t){return new cd(t,1)}function us(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Zf(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function B9(t,e){return t[e]}function H9(t){const e=[];return e.key=t,e}function W9(){var t=Fe([]),e=Zf,r=us,n=B9;function i(a){var s=Array.from(t.apply(this,arguments),H9),o,c=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,d=Gp(e(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Fe(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Zf:typeof a=="function"?a:Fe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??us,i):r},i}function q9(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}us(t,e)}}function K9(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}us(t,e)}}function G9(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=t[e[o]],h=d[n][1]||0,p=d[n-1][1]||0,g=(h-p)/2,b=0;b<o;++b){var x=t[e[b]],v=x[n][1]||0,E=x[n-1][1]||0;g+=v-E}c+=h,u+=g*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,us(t,e)}}var ud={},M6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(M6);var Xp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Xp);var dd={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(dd);var hd={},D6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(D6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D6,r=dd;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,c+=i[o]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(c),c=""):c+=h:h==="["?(d=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,o++}return c&&a.push(c),a}t.toPath=n})(hd);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M6,r=Xp,n=dd,i=hd;function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let h=0;h<c.length;h++){if(d==null||e.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}t.get=a})(ud);var Y9=ud.get;const ma=Oi(Y9);var Rt=t=>t===0?0:t>0?1:-1,Wr=t=>typeof t=="number"&&t!=+t,Fn=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,oe=t=>(typeof t=="number"||t instanceof Number)&&!Wr(t),gn=t=>oe(t)||typeof t=="string",X9=0,jo=t=>{var e=++X9;return"".concat(t||"").concat(e)},Yt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&typeof e!="string")return n;var a;if(Fn(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Wr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},L6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function yt(t,e,r){return oe(t)&&oe(e)?t+r*(e-t):e}function Q9(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ma(n,e))===r)}var Mt=t=>t===null||typeof t>"u",ll=t=>Mt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function J9(t){return t!=null}function Sa(){}var Z9=["type","size","sizeType"];function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},em.apply(null,arguments)}function O1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(r),!0).forEach(function(n){eR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eR(t,e,r){return(e=tR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tR(t){var e=rR(t,"string");return typeof e=="symbol"?e:e+""}function rR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nR(t,e){if(t==null)return{};var r,n,i=iR(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function iR(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var j6={symbolCircle:Yp,symbolCross:w9,symbolDiamond:N9,symbolSquare:E9,symbolStar:T9,symbolTriangle:I9,symbolWye:k9},aR=Math.PI/180,sR=t=>{var e="symbol".concat(ll(t));return j6[e]||Yp},oR=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*aR;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lR=(t,e)=>{j6["symbol".concat(ll(t))]=e},Qp=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=nR(t,Z9),a=R1(R1({},i),{},{type:e,size:r,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var p=sR(s),g=O9().type(p).size(oR(r,n,s)),b=g();if(b!==null)return b},{className:c,cx:u,cy:d}=a,h=Rr(a);return oe(u)&&oe(d)&&oe(r)?y.createElement("path",em({},h,{className:De("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Qp.registerSymbol=lR;var V6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,cR=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(y.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Wp(i)&&(n[i]=e||(a=>r[i](r,a)))}),n},uR=(t,e,r)=>n=>(t(e,r,n),null),cl=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];Wp(i)&&typeof a=="function"&&(n||(n={}),n[i]=uR(a,e,r))}),n};function M1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(r),!0).forEach(function(n){hR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hR(t,e,r){return(e=fR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fR(t){var e=mR(t,"string");return typeof e=="symbol"?e:e+""}function mR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dt(t,e){var r=dR({},t),n=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xc.apply(null,arguments)}function D1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(r),!0).forEach(function(n){gR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gR(t,e,r){return(e=vR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vR(t){var e=yR(t,"string");return typeof e=="symbol"?e:e+""}function yR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sr=32,bR={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function xR(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Sr/2,a=Sr/6,s=Sr/3,o=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline"){var u;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Sr,y2:i,className:"recharts-legend-icon"})}if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Sr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Sr/8,"h").concat(Sr,"v").concat(Sr*3/4,"h").concat(-Sr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(e.legendIcon)){var d=pR({},e);return delete d.legendIcon,y.cloneElement(e.legendIcon,d)}return y.createElement(Qp,{fill:o,cx:i,cy:i,size:Sr,sizeType:"diameter",type:c})}function wR(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Sr,height:Sr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,h)=>{var p=d.formatter||i,g=De({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?a:d.color,x=p?p(d.value,d,h):d.value;return y.createElement("li",Xc({className:g,style:c,key:"legend-item-".concat(h)},cl(t,d,h)),y.createElement(qp,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(x," legend icon")},y.createElement(xR,{data:d,iconType:s,inactiveColor:a})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x))})}var _R=t=>{var e=Dt(t,bR),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:a},y.createElement(wR,Xc({},e,{payload:r})))},$6={},F6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(F6);var Jp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Jp);var U6={},fd={},z6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(z6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z6;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(fd);var B6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(B6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fd,r=B6;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(U6);var H6={},W6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ud;function r(n){return function(i){return e.get(i,n)}}t.property=r})(W6);var q6={},Zp={},K6={},eg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(eg);var tg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(tg);var rg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(rg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eg,r=tg,n=rg;function i(d,h,p){return typeof p!="function"?i(d,h,()=>{}):a(d,h,function g(b,x,v,E,A,S){const L=p(b,x,v,E,A,S);return L!==void 0?!!L:a(b,x,g,S)},new Map)}function a(d,h,p,g){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,p,g);case"function":return Object.keys(h).length>0?a(d,{...h},p,g):n.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:n.eq(d,h)}}function s(d,h,p,g){if(h==null)return!0;if(Array.isArray(h))return c(d,h,p,g);if(h instanceof Map)return o(d,h,p,g);if(h instanceof Set)return u(d,h,p,g);const b=Object.keys(h);if(d==null)return b.length===0;if(b.length===0)return!0;if(g!=null&&g.has(h))return g.get(h)===d;g==null||g.set(h,d);try{for(let x=0;x<b.length;x++){const v=b[x];if(!r.isPrimitive(d)&&!(v in d)||h[v]===void 0&&d[v]!==void 0||h[v]===null&&d[v]!==null||!p(d[v],h[v],v,d,h,g))return!1}return!0}finally{g==null||g.delete(h)}}function o(d,h,p,g){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[b,x]of h.entries()){const v=d.get(b);if(p(v,x,b,d,h,g)===!1)return!1}return!0}function c(d,h,p,g){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const b=new Set;for(let x=0;x<h.length;x++){const v=h[x];let E=!1;for(let A=0;A<d.length;A++){if(b.has(A))continue;const S=d[A];let L=!1;if(p(S,v,x,d,h,g)&&(L=!0),L){b.add(A),E=!0;break}}if(!E)return!1}return!0}function u(d,h,p,g){return h.size===0?!0:d instanceof Set?c([...d],[...h],p,g):!1}t.isMatchWith=i,t.isSetMatch=u})(K6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K6;function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(Zp);var G6={},ng={},Y6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Y6);var ig={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(ig);var ag={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",p="[object ArrayBuffer]",g="[object Object]",b="[object Error]",x="[object DataView]",v="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",S="[object Uint32Array]",L="[object BigUint64Array]",k="[object Int8Array]",M="[object Int16Array]",_="[object Int32Array]",T="[object BigInt64Array]",N="[object Float32Array]",C="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=p,t.arrayTag=d,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=x,t.dateTag=o,t.errorTag=b,t.float32ArrayTag=N,t.float64ArrayTag=C,t.functionTag=h,t.int16ArrayTag=M,t.int32ArrayTag=_,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=A,t.uint32ArrayTag=S,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=E})(ag);var X6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(X6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y6,r=ig,n=ag,i=tg,a=X6;function s(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,p,g=new Map,b=void 0){const x=b==null?void 0:b(d,h,p,g);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(g.has(d))return g.get(d);if(Array.isArray(d)){const v=new Array(d.length);g.set(d,v);for(let E=0;E<d.length;E++)v[E]=o(d[E],E,p,g,b);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;g.set(d,v);for(const[E,A]of d)v.set(E,o(A,E,p,g,b));return v}if(d instanceof Set){const v=new Set;g.set(d,v);for(const E of d)v.add(o(E,void 0,p,g,b));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);g.set(d,v);for(let E=0;E<d.length;E++)v[E]=o(d[E],E,p,g,b);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return g.set(d,v),c(v,d,p,g,b),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return g.set(d,v),c(v,d,p,g,b),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return g.set(d,v),c(v,d,p,g,b),v}if(d instanceof Error){const v=new d.constructor;return g.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,p,g,b),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return g.set(d,v),c(v,d,p,g,b),v}if(d instanceof Number){const v=new Number(d.valueOf());return g.set(d,v),c(v,d,p,g,b),v}if(d instanceof String){const v=new String(d.valueOf());return g.set(d,v),c(v,d,p,g,b),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return g.set(d,v),c(v,d,p,g,b),v}return d}function c(d,h,p=d,g,b){const x=[...Object.keys(h),...e.getSymbols(h)];for(let v=0;v<x.length;v++){const E=x[v],A=Object.getOwnPropertyDescriptor(d,E);(A==null||A.writable)&&(d[E]=o(h[E],E,p,g,b))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=c})(ng);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ng;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(G6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zp,r=G6;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(q6);var Q6={},J6={},Z6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ng,r=ag;function n(i,a){return e.cloneDeepWith(i,(s,o,c,u)=>{const d=a==null?void 0:a(s,o,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case r.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=n})(Z6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z6;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(J6);var e_={},sg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(sg);var t_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ig;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(t_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xp,r=sg,n=t_,i=hd;function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=a})(e_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zp,r=dd,n=J6,i=ud,a=e_;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=s})(Q6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jp,r=W6,n=q6,i=Q6;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(H6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F6,r=Jp,n=U6,i=H6;function a(s,o=r.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})($6);var NR=$6.uniqBy;const L1=Oi(NR);function r_(t,e,r){return e===!0?L1(t,r):typeof e=="function"?L1(t,e):t}var n_={exports:{}},i_={},a_={exports:{}},s_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=y;function ER(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AR=typeof Object.is=="function"?Object.is:ER,PR=ds.useState,SR=ds.useEffect,TR=ds.useLayoutEffect,IR=ds.useDebugValue;function CR(t,e){var r=e(),n=PR({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return TR(function(){i.value=r,i.getSnapshot=e,Kh(i)&&a({inst:i})},[t,r,e]),SR(function(){return Kh(i)&&a({inst:i}),t(function(){Kh(i)&&a({inst:i})})},[t]),IR(r),r}function Kh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!AR(t,r)}catch{return!0}}function kR(t,e){return e()}var OR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kR:CR;s_.useSyncExternalStore=ds.useSyncExternalStore!==void 0?ds.useSyncExternalStore:OR;a_.exports=s_;var RR=a_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=y,MR=RR;function DR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LR=typeof Object.is=="function"?Object.is:DR,jR=MR.useSyncExternalStore,VR=md.useRef,$R=md.useEffect,FR=md.useMemo,UR=md.useDebugValue;i_.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=VR(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=FR(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),i!==void 0&&s.hasValue){var b=s.value;if(i(b,g))return h=b}return h=g}if(b=h,LR(d,g))return b;var x=n(g);return i!==void 0&&i(b,x)?(d=g,b):(d=g,h=x)}var u=!1,d,h,p=r===void 0?null:r;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,r,n,i]);var o=jR(t,a[0],a[1]);return $R(function(){s.hasValue=!0,s.value=o},[o]),UR(o),o};n_.exports=i_;var zR=n_.exports,og=y.createContext(null),BR=t=>t,Ue=()=>{var t=y.useContext(og);return t?t.store.dispatch:BR},gc=()=>{},HR=()=>gc,WR=(t,e)=>t===e;function ae(t){var e=y.useContext(og);return zR.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:HR,e?e.store.getState:gc,e?e.store.getState:gc,e?t:gc,WR)}function qR(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function KR(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function GR(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var j1=t=>Array.isArray(t)?t:[t];function YR(t){const e=Array.isArray(t[0])?t[0]:t;return GR(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function XR(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var QR=class{constructor(t){this.value=t}deref(){return this.value}},JR=typeof WeakRef<"u"?WeakRef:QR,ZR=0,V1=1;function ql(){return{s:ZR,v:void 0,o:null,p:null}}function o_(t,e={}){let r=ql();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var h;let o=r;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const v=x.get(b);v===void 0?(o=ql(),x.set(b,o)):o=v}else{let x=o.p;x===null&&(o.p=x=new Map);const v=x.get(b);v===void 0?(o=ql(),x.set(b,o)):o=v}}const u=o;let d;if(o.s===V1)d=o.v;else if(d=t.apply(null,arguments),a++,n){const p=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new JR(d):d}return u.s=V1,u.v=d,d}return s.clearCache=()=>{r=ql(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function eM(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),qR(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:p=[],argsMemoize:g=o_,argsMemoizeOptions:b=[],devModeChecks:x={}}=d,v=j1(p),E=j1(b),A=YR(i),S=h(function(){return a++,u.apply(null,arguments)},...v),L=g(function(){s++;const M=XR(A,arguments);return o=S.apply(null,M),o},...E);return Object.assign(L,{resultFunc:u,memoizedResultFunc:S,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var F=eM(o_),tM=Object.assign((t,e=F)=>{KR(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>tM}),l_={},c_={},u_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),o=e(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=r})(u_);var d_={},lg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(lg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lg,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(d_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u_,r=d_,n=hd;function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const u=(g,b)=>{let x=g;for(let v=0;v<b.length&&x!=null;++v)x=x[b[v]];return x},d=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:u(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?u(b,g):typeof b=="object"?b[g]:b,h=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return a.map(g=>({original:g,criteria:h.map(b=>d(b,g))})).slice().sort((g,b)=>{for(let x=0;x<h.length;x++){const v=e.compareValues(g.criteria[x],b.criteria[x],o[x]);if(v!==0)return v}return 0}).map(g=>g.original)}t.orderBy=i})(c_);var h_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}t.flatten=e})(h_);var cg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sg,r=fd,n=eg,i=rg;function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],s):!1}t.isIterateeCall=a})(cg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c_,r=h_,n=cg;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(l_);var rM=l_.sortBy;const pd=Oi(rM);var f_=t=>t.legend.settings,nM=t=>t.legend.size,iM=t=>t.legend.payload,aM=F([iM,f_],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?pd(n,r):n});function sM(){return ae(aM)}var Kl=1;function m_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Kl||Math.abs(s.left-e.left)>Kl||Math.abs(s.top-e.top)>Kl||Math.abs(s.width-e.width)>Kl)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Vt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var oM=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),$1=oM,Gh=()=>Math.random().toString(36).substring(7).split("").join("."),lM={INIT:`@@redux/INIT${Gh()}`,REPLACE:`@@redux/REPLACE${Gh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gh()}`},Qc=lM;function ug(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function p_(t,e,r){if(typeof t!="function")throw new Error(Vt(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Vt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Vt(1));return r(p_)(t,e)}let n=t,i=e,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((v,E)=>{s.set(E,v)}))}function d(){if(c)throw new Error(Vt(3));return i}function h(v){if(typeof v!="function")throw new Error(Vt(4));if(c)throw new Error(Vt(5));let E=!0;u();const A=o++;return s.set(A,v),function(){if(E){if(c)throw new Error(Vt(6));E=!1,u(),s.delete(A),a=null}}}function p(v){if(!ug(v))throw new Error(Vt(7));if(typeof v.type>"u")throw new Error(Vt(8));if(typeof v.type!="string")throw new Error(Vt(17));if(c)throw new Error(Vt(9));try{c=!0,i=n(i,v)}finally{c=!1}return(a=s).forEach(A=>{A()}),v}function g(v){if(typeof v!="function")throw new Error(Vt(10));n=v,p({type:Qc.REPLACE})}function b(){const v=h;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Vt(11));function A(){const L=E;L.next&&L.next(d())}return A(),{unsubscribe:v(A)}},[$1](){return this}}}return p({type:Qc.INIT}),{dispatch:p,subscribe:h,getState:d,replaceReducer:g,[$1]:b}}function cM(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Qc.INIT})>"u")throw new Error(Vt(12));if(typeof r(void 0,{type:Qc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vt(13))})}function g_(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{cM(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],p=r[h],g=s[h],b=p(g,o);if(typeof b>"u")throw o&&o.type,new Error(Vt(14));u[h]=b,c=c||b!==g}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Jc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function uM(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Vt(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=t.map(c=>c(s));return a=Jc(...o)(i.dispatch),{...i,dispatch:a}}}function v_(t){return ug(t)&&"type"in t&&typeof t.type=="string"}var y_=Symbol.for("immer-nothing"),F1=Symbol.for("immer-draftable"),wr=Symbol.for("immer-state");function Vr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Vo=Object.getPrototypeOf;function pa(t){return!!t&&!!t[wr]}function Un(t){var e;return t?b_(t)||Array.isArray(t)||!!t[F1]||!!((e=t.constructor)!=null&&e[F1])||ul(t)||vd(t):!1}var dM=Object.prototype.constructor.toString(),U1=new WeakMap;function b_(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=U1.get(r);return n===void 0&&(n=Function.toString.call(r),U1.set(r,n)),n===dM}function Zc(t,e,r=!0){gd(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function gd(t){const e=t[wr];return e?e.type_:Array.isArray(t)?1:ul(t)?2:vd(t)?3:0}function tm(t,e){return gd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function x_(t,e,r){const n=gd(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function hM(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ul(t){return t instanceof Map}function vd(t){return t instanceof Set}function qi(t){return t.copy_||t.base_}function rm(t,e){if(ul(t))return new Map(t);if(vd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=b_(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[wr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Vo(t),n)}else{const n=Vo(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function dg(t,e=!1){return yd(t)||pa(t)||!Un(t)||(gd(t)>1&&Object.defineProperties(t,{set:Gl,add:Gl,clear:Gl,delete:Gl}),Object.freeze(t),e&&Object.values(t).forEach(r=>dg(r,!0))),t}function fM(){Vr(2)}var Gl={value:fM};function yd(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var mM={};function ga(t){const e=mM[t];return e||Vr(0,t),e}var $o;function w_(){return $o}function pM(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function z1(t,e){e&&(ga("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nm(t){im(t),t.drafts_.forEach(gM),t.drafts_=null}function im(t){t===$o&&($o=t.parent_)}function B1(t){return $o=pM($o,t)}function gM(t){const e=t[wr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function H1(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[wr].modified_&&(nm(e),Vr(4)),Un(t)&&(t=eu(e,t),e.parent_||tu(e,t)),e.patches_&&ga("Patches").generateReplacementPatches_(r[wr].base_,t,e.patches_,e.inversePatches_)):t=eu(e,r,[]),nm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==y_?t:void 0}function eu(t,e,r){if(yd(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[wr];if(!i)return Zc(e,(a,s)=>W1(t,i,e,a,s,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return tu(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Zc(s,(c,u)=>W1(t,i,a,c,u,r,o),n),tu(t,a,!1),r&&t.patches_&&ga("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function W1(t,e,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=yd(i);if(!(o&&!s)){if(pa(i)){const c=a&&e&&e.type_!==3&&!tm(e.assigned_,n)?a.concat(n):void 0,u=eu(t,i,c);if(x_(r,n,u),pa(u))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Un(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;eu(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(ul(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&tu(t,i)}}}function tu(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dg(e,r)}function vM(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:w_(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=hg;r&&(i=[n],a=Fo);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var hg={get(t,e){if(e===wr)return t;const r=qi(t);if(!tm(r,e))return yM(t,r,e);const n=r[e];return t.finalized_||!Un(n)?n:n===Yh(t.base_,e)?(Xh(t),t.copy_[e]=sm(n,t)):n},has(t,e){return e in qi(t)},ownKeys(t){return Reflect.ownKeys(qi(t))},set(t,e,r){const n=__(qi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Yh(qi(t),e),a=i==null?void 0:i[wr];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(hM(r,i)&&(r!==void 0||tm(t.base_,e)))return!0;Xh(t),am(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Yh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Xh(t),am(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=qi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Vr(11)},getPrototypeOf(t){return Vo(t.base_)},setPrototypeOf(){Vr(12)}},Fo={};Zc(hg,(t,e)=>{Fo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Fo.deleteProperty=function(t,e){return Fo.set.call(this,t,e,void 0)};Fo.set=function(t,e,r){return hg.set.call(this,t[0],e,r,t[0])};function Yh(t,e){const r=t[wr];return(r?qi(r):t)[e]}function yM(t,e,r){var i;const n=__(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function __(t,e){if(!(e in t))return;let r=Vo(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Vo(r)}}function am(t){t.modified_||(t.modified_=!0,t.parent_&&am(t.parent_))}function Xh(t){t.copy_||(t.copy_=rm(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bM=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let i;if(Un(e)){const a=B1(this),s=sm(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?nm(a):im(a)}return z1(a,n),H1(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===y_&&(i=void 0),this.autoFreeze_&&dg(i,!0),n){const a=[],s=[];ga("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else Vr(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,c=>e(c,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Un(t)||Vr(8),pa(t)&&(t=Mn(t));const e=B1(this),r=sm(t,void 0);return r[wr].isManual_=!0,im(e),r}finishDraft(t,e){const r=t&&t[wr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return z1(n,e),H1(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=ga("Patches").applyPatches_;return pa(t)?n(t,e):this.produce(t,i=>n(i,e))}};function sm(t,e){const r=ul(t)?ga("MapSet").proxyMap_(t,e):vd(t)?ga("MapSet").proxySet_(t,e):vM(t,e);return(e?e.scope_:w_()).drafts_.push(r),r}function Mn(t){return pa(t)||Vr(10,t),N_(t)}function N_(t){if(!Un(t)||yd(t))return t;const e=t[wr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=rm(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=rm(t,!0);return Zc(r,(i,a)=>{x_(r,i,N_(a))},n),e&&(e.finalized_=!1),r}var om=new bM,E_=om.produce,xM=om.setUseStrictIteration.bind(om);function A_(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var wM=A_(),_M=A_,NM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jc:Jc.apply(null,arguments)};function Mr(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(xr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>v_(n)&&n.type===t,r}var P_=class mo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,mo.prototype)}static get[Symbol.species](){return mo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new mo(...e[0].concat(this)):new mo(...e.concat(this))}};function q1(t){return Un(t)?E_(t,()=>{}):t}function Yl(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function EM(t){return typeof t=="boolean"}var AM=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new P_;return r&&(EM(r)?s.push(wM):s.push(_M(r.extraArgument))),s},S_="RTK_autoBatch",xt=()=>t=>({payload:t,meta:{[S_]:!0}}),K1=t=>e=>{setTimeout(e,t)},T_=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:K1(10):t.type==="callback"?t.queueNotification:K1(t.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),p=n.subscribe(h);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[S_]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},PM=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new P_(t);return n&&i.push(T_(typeof n=="object"?n:void 0)),i};function SM(t){const e=AM(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(ug(r))c=g_(r);else throw new Error(xr(1));let u;typeof n=="function"?u=n(e):u=e();let d=Jc;i&&(d=NM({trace:!1,...typeof i=="object"&&i}));const h=uM(...u),p=PM(h);let g=typeof o=="function"?o(p):p();const b=d(...g);return p_(c,s,b)}function I_(t){const e={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(xr(28));if(o in e)throw new Error(xr(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}xM(!1);function TM(t){return typeof t=="function"}function IM(t,e){let[r,n,i]=I_(e),a;if(TM(t))a=()=>q1(t());else{const o=q1(t);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(pa(d)){const g=h(d,c);return g===void 0?d:g}else{if(Un(d))return E_(d,p=>h(p,c));{const p=h(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return s.getInitialState=a,s}var CM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kM=(t=21)=>{let e="",r=t;for(;r--;)e+=CM[Math.random()*64|0];return e},OM=Symbol.for("rtk-slice-createasyncthunk");function RM(t,e){return`${t}/${e}`}function MM({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[OM];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(xr(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(LM()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(L,k){const M=typeof L=="string"?L:L.type;if(!M)throw new Error(xr(12));if(M in u.sliceCaseReducersByType)throw new Error(xr(13));return u.sliceCaseReducersByType[M]=k,d},addMatcher(L,k){return u.sliceMatchers.push({matcher:L,reducer:k}),d},exposeAction(L,k){return u.actionCreators[L]=k,d},exposeCaseReducer(L,k){return u.sliceCaseReducersByName[L]=k,d}};c.forEach(L=>{const k=o[L],M={reducerName:L,type:RM(a,L),createNotation:typeof i.reducers=="function"};VM(k)?FM(M,k,d,e):jM(M,k,d)});function h(){const[L={},k=[],M=void 0]=typeof i.extraReducers=="function"?I_(i.extraReducers):[i.extraReducers],_={...L,...u.sliceCaseReducersByType};return IM(i.initialState,T=>{for(let N in _)T.addCase(N,_[N]);for(let N of u.sliceMatchers)T.addMatcher(N.matcher,N.reducer);for(let N of k)T.addMatcher(N.matcher,N.reducer);M&&T.addDefaultCase(M)})}const p=L=>L,g=new Map,b=new WeakMap;let x;function v(L,k){return x||(x=h()),x(L,k)}function E(){return x||(x=h()),x.getInitialState()}function A(L,k=!1){function M(T){let N=T[L];return typeof N>"u"&&k&&(N=Yl(b,M,E)),N}function _(T=p){const N=Yl(g,k,()=>new WeakMap);return Yl(N,T,()=>{const C={};for(const[I,D]of Object.entries(i.selectors??{}))C[I]=DM(D,T,()=>Yl(b,T,E),k);return C})}return{reducerPath:L,getSelectors:_,get selectors(){return _(M)},selectSlice:M}}const S={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...A(s),injectInto(L,{reducerPath:k,...M}={}){const _=k??s;return L.inject({reducerPath:_,reducer:v},M),{...S,...A(_,!0)}}};return S}}function DM(t,e,r,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return i.unwrapped=t,i}var lr=MM();function LM(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function jM({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!$M(n))throw new Error(xr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Mr(t,s):Mr(t))}function VM(t){return t._reducerDefinitionType==="asyncThunk"}function $M(t){return t._reducerDefinitionType==="reducerWithPrepare"}function FM({type:t,reducerName:e},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,h=i(t,a,d);n.exposeAction(e,h),s&&n.addCase(h.fulfilled,s),o&&n.addCase(h.pending,o),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:s||Xl,pending:o||Xl,rejected:c||Xl,settled:u||Xl})}function Xl(){}var UM="task",C_="listener",k_="completed",fg="cancelled",zM=`task-${fg}`,BM=`task-${k_}`,lm=`${C_}-${fg}`,HM=`${C_}-${k_}`,bd=class{constructor(t){Gs(this,"name","TaskAbortError");Gs(this,"message");this.code=t,this.message=`${UM} ${fg} (reason: ${t})`}},mg=(t,e)=>{if(typeof t!="function")throw new TypeError(xr(32))},ru=()=>{},O_=(t,e=ru)=>(t.catch(e),t),R_=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ra=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},na=t=>{if(t.aborted){const{reason:e}=t;throw new bd(e)}};function M_(t,e){let r=ru;return new Promise((n,i)=>{const a=()=>i(new bd(t.reason));if(t.aborted){a();return}r=R_(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=ru})}var WM=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof bd?"cancelled":"rejected",error:r}}finally{e==null||e()}},nu=t=>e=>O_(M_(t,e).then(r=>(na(t),r))),D_=t=>{const e=nu(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:ts}=Object,G1={},xd="listenerMiddleware",qM=(t,e)=>{const r=n=>R_(t,()=>ra(n,t.reason));return(n,i)=>{mg(n);const a=new AbortController;r(a);const s=WM(async()=>{na(t),na(a.signal);const o=await n({pause:nu(a.signal),delay:D_(a.signal),signal:a.signal});return na(a.signal),o},()=>ra(a,BM));return i!=null&&i.autoJoin&&e.push(s.catch(ru)),{result:nu(t)(s),cancel(){ra(a,zM)}}}},KM=(t,e)=>{const r=async(n,i)=>{na(e);let a=()=>{};const o=[new Promise((c,u)=>{let d=t({predicate:n,effect:(h,p)=>{p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await M_(e,Promise.race(o));return na(e),c}finally{a()}};return(n,i)=>O_(r(n,i))},L_=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Mr(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return mg(a),{predicate:i,type:e,effect:a}},j_=ts(t=>{const{type:e,predicate:r,effect:n}=L_(t);return{id:kM(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>j_}),Y1=(t,e)=>{const{type:r,effect:n,predicate:i}=L_(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},cm=t=>{t.pending.forEach(e=>{ra(e,lm)})},GM=(t,e)=>()=>{for(const r of e.keys())cm(r);t.clear()},X1=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},V_=ts(Mr(`${xd}/add`),{withTypes:()=>V_}),YM=Mr(`${xd}/removeAll`),$_=ts(Mr(`${xd}/remove`),{withTypes:()=>$_}),XM=(...t)=>{console.error(`${xd}/error`,...t)},dl=(t={})=>{const e=new Map,r=new Map,n=g=>{const b=r.get(g)??0;r.set(g,b+1)},i=g=>{const b=r.get(g)??1;b===1?r.delete(g):r.set(g,b-1)},{extra:a,onError:s=XM}=t;mg(s);const o=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),b=>{g.unsubscribe(),b!=null&&b.cancelActive&&cm(g)}),c=g=>{const b=Y1(e,g)??j_(g);return o(b)};ts(c,{withTypes:()=>c});const u=g=>{const b=Y1(e,g);return b&&(b.unsubscribe(),g.cancelActive&&cm(b)),!!b};ts(u,{withTypes:()=>u});const d=async(g,b,x,v)=>{const E=new AbortController,A=KM(c,E.signal),S=[];try{g.pending.add(E),n(g),await Promise.resolve(g.effect(b,ts({},x,{getOriginalState:v,condition:(L,k)=>A(L,k).then(Boolean),take:A,delay:D_(E.signal),pause:nu(E.signal),extra:a,signal:E.signal,fork:qM(E.signal,S),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((L,k,M)=>{L!==E&&(ra(L,lm),M.delete(L))})},cancel:()=>{ra(E,lm),g.pending.delete(E)},throwIfCancelled:()=>{na(E.signal)}})))}catch(L){L instanceof bd||X1(s,L,{raisedBy:"effect"})}finally{await Promise.all(S),ra(E,HM),i(g),g.pending.delete(E)}},h=GM(e,r);return{middleware:g=>b=>x=>{if(!v_(x))return b(x);if(V_.match(x))return c(x.payload);if(YM.match(x)){h();return}if($_.match(x))return u(x.payload);let v=g.getState();const E=()=>{if(v===G1)throw new Error(xr(23));return v};let A;try{if(A=b(x),e.size>0){const S=g.getState(),L=Array.from(e.values());for(const k of L){let M=!1;try{M=k.predicate(x,S,v)}catch(_){M=!1,X1(s,_,{raisedBy:"predicate"})}M&&d(k,x,g,E)}}}finally{v=G1}return A},startListening:c,stopListening:u,clearListeners:h}};function xr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QM={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},F_=lr({name:"chartLayout",initialState:QM,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:JM,setLayout:ZM,setChartSize:eD,setScale:tD}=F_.actions,rD=F_.reducer;function U_(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Q1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q1(Object(r),!0).forEach(function(n){nD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nD(t,e,r){return(e=iD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iD(t){var e=aD(t,"string");return typeof e=="symbol"?e:e+""}function aD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function et(t,e,r){return Mt(t)||Mt(e)?r:gn(e)?ma(t,e,r):typeof e=="function"?e(t):r}var sD=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&oe(t[a]))return Ya(Ya({},t),{},{[a]:t[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&oe(t[s]))return Ya(Ya({},t),{},{[s]:t[s]+(i||0)})}return t},Ta=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",z_=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(r),s},B_=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:p,axisType:g}=t;if(!s)return null;var b=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=(e||r)&&i==="category"&&s.bandwidth?s.bandwidth()/b:0;if(x=g==="angleAxis"&&a&&a.length>=2?Rt(a[0]-a[1])*2*x:x,e&&(h||p)){var v=(h||p||[]).map((E,A)=>{var S=n?n.indexOf(E):E;return{coordinate:s(S)+x,value:E,offset:x,index:A}});return v.filter(E=>!Wr(E.coordinate))}return c&&u?u.map((E,A)=>({coordinate:s(E)+x,value:E,index:A,offset:x})):s.ticks&&!r&&d!=null?s.ticks(d).map((E,A)=>({coordinate:s(E)+x,value:E,offset:x,index:A})):s.domain().map((E,A)=>({coordinate:s(E)+x,value:n?n[E]:E,index:A,offset:x}))},J1=1e-4,oD=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-J1,a=Math.max(n[0],n[1])+J1,s=t(e[0]),o=t(e[r-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[r-1]])}},lD=(t,e)=>{if(!e||e.length!==2||!oe(e[0])||!oe(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!oe(t[0])||t[0]<r)&&(i[0]=r),(!oe(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},cD=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,s=0;s<e;++s){var o=Wr(t[s][r][1])?t[s][r][0]:t[s][r][1];o>=0?(t[s][r][0]=i,t[s][r][1]=i+o,i=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+o,a=t[s][r][1])}},uD=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var s=Wr(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=i,t[a][r][1]=i+s,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},dD={sign:cD,expand:q9,none:us,silhouette:K9,wiggle:G9,positive:uD},hD=(t,e,r)=>{var n=dD[r],i=W9().keys(e).value((a,s)=>Number(et(a,s,0))).order(Zf).offset(n);return i(t)};function fD(t){return t==null?void 0:String(t)}var Z1=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return r[s]?r[s].coordinate+n:null;var o=et(a,e.dataKey,e.scale.domain()[s]);return Mt(o)?null:e.scale(o)-i/2+n},mD=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},pD=t=>{var e=t.flat(2).filter(oe);return[Math.min(...e),Math.max(...e)]},gD=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],vD=(t,e,r)=>{if(t!=null)return gD(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((c,u)=>{var d=U_(u,e,r),h=pD(d);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},eb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iu=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=pd(e,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function rb(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Ya(Ya({},e),{},{dataKey:r,payload:n,value:i,name:a})}function wd(t,e){if(t)return String(t);if(typeof e=="string")return e}var yD=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},bD=(t,e)=>e==="centric"?t.angle:t.radius,Yn=t=>t.layout.width,Xn=t=>t.layout.height,xD=t=>t.layout.scale,H_=t=>t.layout.margin,_d=F(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Nd=F(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),W_="data-recharts-item-index",q_="data-recharts-item-data-key",hl=60;function nb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ql(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(r),!0).forEach(function(n){wD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wD(t,e,r){return(e=_D(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _D(t){var e=ND(t,"string");return typeof e=="symbol"?e:e+""}function ND(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ED=t=>t.brush.height;function AD(t){var e=Nd(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hl;return r+i}return r},0)}function PD(t){var e=Nd(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:hl;return r+i}return r},0)}function SD(t){var e=_d(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function TD(t){var e=_d(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var At=F([Yn,Xn,H_,ED,AD,PD,SD,TD,f_,nM],(t,e,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},h={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=Ql(Ql({},h),d),g=p.bottom;p.bottom+=n,p=sD(p,c,u);var b=t-p.left-p.right,x=e-p.top-p.bottom;return Ql(Ql({brushBottom:g},p),{},{width:Math.max(b,0),height:Math.max(x,0)})}),ID=F(At,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),pg=F(Yn,Xn,(t,e)=>({x:0,y:0,width:t,height:e})),CD=y.createContext(null),cr=()=>y.useContext(CD)!=null,Ed=t=>t.brush,Ad=F([Ed,At,H_],(t,e,r)=>({height:t.height,x:oe(t.x)?t.x:e.left,y:oe(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:oe(t.width)?t.width:e.width})),K_={},G_={},Y_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},h=()=>{u&&d(),x()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},b=()=>{p!==null&&(clearTimeout(p),p=null)},x=()=>{b(),s=void 0,o=null},v=()=>{d()},E=function(...A){if(i!=null&&i.aborted)return;s=this,o=A;const S=p==null;g(),c&&S&&d()};return E.schedule=g,E.cancel=x,E.flush=v,i==null||i.addEventListener("abort",x,{once:!0}),E}t.debounce=e})(Y_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y_;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const p=e.debounce(function(...x){d=n.apply(this,x),h=null},i,{edges:u}),g=function(...x){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=n.apply(this,x),h=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,x),d)},b=()=>(p.flush(),d);return g.cancel=p.cancel,g.flush=b,g}t.debounce=r})(G_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G_;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:o})}t.throttle=r})(K_);var kD=K_.throttle;const OD=Oi(kD);var au=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},X_=(t,e,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=Fn(n)?t:Number(n),c=Fn(i)?e:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},RD={width:0,height:0,overflow:"visible"},MD={width:0,overflowX:"visible"},DD={height:0,overflowY:"visible"},LD={},jD=t=>{var{width:e,height:r}=t,n=Fn(e),i=Fn(r);return n&&i?RD:n?MD:i?DD:LD};function VD(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function lt(t){return Number.isFinite(t)}function vn(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(null,arguments)}function ib(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ab(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(r),!0).forEach(function(n){$D(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $D(t,e,r){return(e=FD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FD(t){var e=UD(t,"string");return typeof e=="symbol"?e:e+""}function UD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q_=y.createContext({width:-1,height:-1});function zD(t){return vn(t.width)&&vn(t.height)}function J_(t){var{children:e,width:r,height:n}=t,i=y.useMemo(()=>({width:r,height:n}),[r,n]);return zD(i)?y.createElement(Q_.Provider,{value:i},e):null}var gg=()=>y.useContext(Q_),BD=y.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:h,className:p,onResize:g,style:b={}}=t,x=y.useRef(null),v=y.useRef();v.current=g,y.useImperativeHandle(e,()=>x.current);var[E,A]=y.useState({containerWidth:n.width,containerHeight:n.height}),S=y.useCallback((T,N)=>{A(C=>{var I=Math.round(T),D=Math.round(N);return C.containerWidth===I&&C.containerHeight===D?C:{containerWidth:I,containerHeight:D}})},[]);y.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Sa;var T=D=>{var O,{width:B,height:H}=D[0].contentRect;S(B,H),(O=v.current)===null||O===void 0||O.call(v,B,H)};d>0&&(T=OD(T,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(T),{width:C,height:I}=x.current.getBoundingClientRect();return S(C,I),N.observe(x.current),()=>{N.disconnect()}},[S,d]);var{containerWidth:L,containerHeight:k}=E;au(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:M,calculatedHeight:_}=X_(L,k,{width:i,height:a,aspect:r,maxHeight:c});return au(M!=null&&M>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,_,i,a,s,o,r),y.createElement("div",{id:h?"".concat(h):void 0,className:De("recharts-responsive-container",p),style:ab(ab({},b),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:x},y.createElement("div",{style:jD({width:i,height:a})},y.createElement(J_,{width:M,height:_},u)))}),sb=y.forwardRef((t,e)=>{var r=gg();if(vn(r.width)&&vn(r.height))return t.children;var{width:n,height:i}=VD({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=X_(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return oe(a)&&oe(s)?y.createElement(J_,{width:a,height:s},t.children):y.createElement(BD,um({},t,{width:n,height:i,ref:e}))});function Z_(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Pd=()=>{var t,e=cr(),r=ae(ID),n=ae(Ad),i=(t=ae(Ed))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},HD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},e3=()=>{var t;return(t=ae(At))!==null&&t!==void 0?t:HD},vg=()=>ae(Yn),yg=()=>ae(Xn),WD=()=>ae(t=>t.layout.margin),Ie=t=>t.layout.layoutType,Sd=()=>ae(Ie),qD=()=>{var t=Sd();return t!==void 0},Td=t=>{var e=Ue(),r=cr(),{width:n,height:i}=t,a=gg(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),y.useEffect(()=>{!r&&vn(s)&&vn(o)&&e(eD({width:s,height:o}))},[e,r,s,o]),null},KD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},t3=lr({name:"legend",initialState:KD,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:xt()},removeLegendPayload:{reducer(t,e){var r=Mn(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:xt()}}}),{setLegendSize:ob,setLegendSettings:GD,addLegendPayload:r3,removeLegendPayload:n3}=t3.actions,YD=t3.reducer,XD=["contextPayload"];function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(null,arguments)}function lb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(r),!0).forEach(function(n){QD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QD(t,e,r){return(e=JD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JD(t){var e=ZD(t,"string");return typeof e=="symbol"?e:e+""}function ZD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eL(t,e){if(t==null)return{};var r,n,i=tL(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tL(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function rL(t){return t.value}function nL(t){var{contextPayload:e}=t,r=eL(t,XD),n=r_(e,t.payloadUniqBy,rL),i=hs(hs({},r),{},{payload:n});return y.isValidElement(t.content)?y.cloneElement(t.content,i):typeof t.content=="function"?y.createElement(t.content,i):y.createElement(_R,i)}function iL(t,e,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),hs(hs({},u),d)}function aL(t){var e=Ue();return y.useEffect(()=>{e(GD(t))},[e,t]),null}function sL(t){var e=Ue();return y.useEffect(()=>(e(ob(t)),()=>{e(ob({width:0,height:0}))}),[e,t]),null}function oL(t,e,r,n){return t==="vertical"&&oe(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var lL={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function i3(t){var e=Dt(t,lL),r=sM(),n=p9(),i=WD(),{width:a,height:s,wrapperStyle:o,portal:c}=e,[u,d]=m_([r]),h=vg(),p=yg();if(h==null||p==null)return null;var g=h-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),b=oL(e.layout,s,a,g),x=c?o:hs(hs({position:"absolute",width:(b==null?void 0:b.width)||a||"auto",height:(b==null?void 0:b.height)||s||"auto"},iL(o,e,i,h,p,u)),o),v=c??n;if(v==null||r==null)return null;var E=y.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},y.createElement(aL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(sL,{width:u.width,height:u.height}),y.createElement(nL,dm({},e,b,{margin:i,chartWidth:h,chartHeight:p,contextPayload:r})));return Lu.createPortal(E,v)}i3.displayName="Legend";function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hm.apply(null,arguments)}function cb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(r),!0).forEach(function(n){cL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cL(t,e,r){return(e=uL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uL(t){var e=dL(t,"string");return typeof e=="symbol"?e:e+""}function dL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hL(t){return Array.isArray(t)&&gn(t[0])&&gn(t[1])?t.join(" ~ "):t}var fL=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:p=!1}=t,g=()=>{if(a&&a.length){var k={padding:0,margin:0},M=(o?pd(a,o):a).map((_,T)=>{if(_.type==="none")return null;var N=_.formatter||s||hL,{value:C,name:I}=_,D=C,O=I;if(N){var B=N(C,I,_,T,a);if(Array.isArray(B))[D,O]=B;else if(B!=null)D=B;else return null}var H=Qh({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:H},gn(O)?y.createElement("span",{className:"recharts-tooltip-item-name"},O):null,gn(O)?y.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,y.createElement("span",{className:"recharts-tooltip-item-value"},D),y.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:k},M)}return null},b=Qh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Qh({margin:0},i),v=!Mt(d),E=v?d:"",A=De("recharts-default-tooltip",c),S=De("recharts-tooltip-label",u);v&&h&&a!==void 0&&a!==null&&(E=h(d,a));var L=p?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",hm({className:A,style:b},L),y.createElement("p",{className:S,style:x},y.isValidElement(E)?E:"".concat(E)),g())},Qs="recharts-tooltip-wrapper",mL={visibility:"hidden"};function pL(t){var{coordinate:e,translateX:r,translateY:n}=t;return De(Qs,{["".concat(Qs,"-right")]:oe(r)&&e&&oe(e.x)&&r>=e.x,["".concat(Qs,"-left")]:oe(r)&&e&&oe(e.x)&&r<e.x,["".concat(Qs,"-bottom")]:oe(n)&&e&&oe(e.y)&&n>=e.y,["".concat(Qs,"-top")]:oe(n)&&e&&oe(e.y)&&n<e.y})}function ub(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=t;if(a&&oe(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),h=r[n]+i;if(e[n])return s[n]?d:h;var p=c[n];if(p==null)return 0;if(s[n]){var g=d,b=p;return g<b?Math.max(h,p):Math.max(d,p)}if(u==null)return 0;var x=h+o,v=p+u;return x>v?Math.max(d,p):Math.max(h,p)}function gL(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function vL(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=t,u,d,h;return s.height>0&&s.width>0&&r?(d=ub({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=ub({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=gL({translateX:d,translateY:h,useTranslate3d:o})):u=mL,{cssProperties:u,cssClasses:pL({translateX:d,translateY:h,coordinate:r})}}function db(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?db(Object(r),!0).forEach(function(n){fm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fm(t,e,r){return(e=yL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yL(t){var e=bL(t,"string");return typeof e=="symbol"?e:e+""}function bL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xL extends y.PureComponent{constructor(){super(...arguments),fm(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fm(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:p,viewBox:g,wrapperStyle:b,lastBoundingBox:x,innerRef:v,hasPortalFromProps:E}=this.props,{cssClasses:A,cssProperties:S}=vL({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:x.height,width:x.width},useTranslate3d:p,viewBox:g}),L=E?{}:Jl(Jl({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=Jl(Jl({},L),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:k,ref:v},a)}}var wL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ia={devToolsEnabled:!1,isSsr:wL()},a3=()=>{var t;return(t=ae(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(null,arguments)}function hb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(r),!0).forEach(function(n){_L(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _L(t,e,r){return(e=NL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=EL(t,"string");return typeof e=="symbol"?e:e+""}function EL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mb={curveBasisClosed:M9,curveBasisOpen:D9,curveBasis:R9,curveBumpX:b9,curveBumpY:x9,curveLinearClosed:L9,curveLinear:ld,curveMonotoneX:j9,curveMonotoneY:V9,curveNatural:$9,curveStep:F9,curveStepAfter:z9,curveStepBefore:U9},su=t=>lt(t.x)&&lt(t.y),pb=t=>t.base!=null&&su(t.base)&&su(t),Js=t=>t.x,Zs=t=>t.y,AL=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(ll(t));return(r==="curveMonotone"||r==="curveBump")&&e?mb["".concat(r).concat(e==="vertical"?"Y":"X")]:mb[r]||ld},PL=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,s=AL(e,i),o=a?r.filter(su):r,c;if(Array.isArray(n)){var u=r.map((g,b)=>fb(fb({},g),{},{base:n[b]}));i==="vertical"?c=Wl().y(Zs).x1(Js).x0(g=>g.base.x):c=Wl().x(Js).y1(Zs).y0(g=>g.base.y);var d=c.defined(pb).curve(s),h=a?u.filter(pb):u;return d(h)}i==="vertical"&&oe(n)?c=Wl().y(Zs).x1(Js).x0(n):oe(n)?c=Wl().x(Js).y1(Zs).y0(n):c=N6().x(Js).y(Zs);var p=c.defined(su).curve(s);return p(o)},bg=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?PL(t):n;return y.createElement("path",mm({},Hr(t),cR(t),{className:De("recharts-curve",e),d:a===null?void 0:a,ref:i}))},SL=["x","y","top","left","width","height","className"];function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pm.apply(null,arguments)}function gb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(r),!0).forEach(function(n){IL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IL(t,e,r){return(e=CL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CL(t){var e=kL(t,"string");return typeof e=="symbol"?e:e+""}function kL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OL(t,e){if(t==null)return{};var r,n,i=RL(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function RL(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ML=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),DL=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=t,c=OL(t,SL),u=TL({x:e,y:r,top:n,left:i,width:a,height:s},c);return!oe(e)||!oe(r)||!oe(a)||!oe(s)||!oe(n)||!oe(i)?null:y.createElement("path",pm({},Rr(u),{className:De("recharts-cross",o),d:ML(e,r,a,s,n,i)}))};function LL(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function vb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vb(Object(r),!0).forEach(function(n){jL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jL(t,e,r){return(e=VL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=$L(t,"string");return typeof e=="symbol"?e:e+""}function $L(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FL=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),s3=(t,e,r)=>t.map(n=>"".concat(FL(n)," ").concat(e,"ms ").concat(r)).join(","),UL=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Uo=(t,e)=>Object.keys(e).reduce((r,n)=>yb(yb({},r),{},{[n]:t(n,e[n])}),{});function bb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(r),!0).forEach(function(n){zL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zL(t,e,r){return(e=BL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BL(t){var e=HL(t,"string");return typeof e=="symbol"?e:e+""}function HL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ou=(t,e,r)=>t+(e-t)*r,gm=t=>{var{from:e,to:r}=t;return e!==r},o3=(t,e,r)=>{var n=Uo((i,a)=>{if(gm(a)){var[s,o]=t(a.from,a.to,a.velocity);return bt(bt({},a),{},{from:s,velocity:o})}return a},e);return r<1?Uo((i,a)=>gm(a)?bt(bt({},a),{},{velocity:ou(a.velocity,n[i].velocity,r),from:ou(a.from,n[i].from,r)}):a,e):o3(t,n,r-1)};function WL(t,e,r,n,i,a){var s,o=n.reduce((p,g)=>bt(bt({},p),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),c=()=>Uo((p,g)=>g.from,o),u=()=>!Object.values(o).filter(gm).length,d=null,h=p=>{s||(s=p);var g=p-s,b=g/r.dt;o=o3(r,o,b),i(bt(bt(bt({},t),e),c())),s=p,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var p;(p=d)===null||p===void 0||p()})}function qL(t,e,r,n,i,a,s){var o=null,c=i.reduce((h,p)=>bt(bt({},h),{},{[p]:[t[p],e[p]]}),{}),u,d=h=>{u||(u=h);var p=(h-u)/n,g=Uo((x,v)=>ou(...v,r(p)),c);if(a(bt(bt(bt({},t),e),g)),p<1)o=s.setTimeout(d);else{var b=Uo((x,v)=>ou(...v,r(1)),c);a(bt(bt(bt({},t),e),b))}};return()=>(o=s.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const KL=(t,e,r,n,i,a)=>{var s=UL(t,e);return r==null?()=>(i(bt(bt({},t),e)),()=>{}):r.isStepper===!0?WL(t,e,r,s,i,a):qL(t,e,r,n,s,i,a)};var lu=1e-4,l3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],c3=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),xb=(t,e)=>r=>{var n=l3(t,e);return c3(n,r)},GL=(t,e)=>r=>{var n=l3(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return c3(i,r)},YL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},XL=(t,e,r,n)=>{var i=xb(t,r),a=xb(e,n),s=GL(t,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,p=0;p<8;++p){var g=i(h)-d,b=s(h);if(Math.abs(g-d)<lu||b<lu)return a(h);h=o(h-g/b)}return a(h)};return c.isStepper=!1,c},wb=function(){return XL(...YL(...arguments))},QL=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,h=c+(u-d)*i/1e3,p=c*i/1e3+s;return Math.abs(p-o)<lu&&Math.abs(h)<lu?[o,0]:[p,h]};return a.isStepper=!0,a.dt=i,a},JL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wb(t);case"spring":return QL();default:if(t.split("(")[0]==="cubic-bezier")return wb(t)}return typeof t=="function"?t:null};function ZL(t){var e,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=t.setTimeout(a.bind(null,u),c);return}a(c),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}class ej{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function tj(){return ZL(new ej)}var rj=y.createContext(tj);function nj(t,e){var r=y.useContext(rj);return y.useMemo(()=>e??r(t),[t,e,r])}var ij={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_b={t:0},Jh={t:1};function Id(t){var e=Dt(t,ij),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=e,d=nj(e.animationId,e.animationManager),[h,p]=y.useState(r?_b:Jh),g=y.useRef(null);return y.useEffect(()=>{r||p(Jh)},[r]),y.useEffect(()=>{if(!r||!n)return Sa;var b=KL(_b,Jh,JL(a),i,p,d.getTimeoutController()),x=()=>{g.current=b()};return d.start([c,s,x,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[r,n,i,a,s,c,o,d]),u(h.t)}function Cd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(jo(e)),n=y.useRef(t);return n.current!==t&&(r.current=jo(e),n.current=t),r.current}var aj=["radius"],sj=["radius"];function Nb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(r),!0).forEach(function(n){oj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oj(t,e,r){return(e=lj(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lj(t){var e=cj(t,"string");return typeof e=="symbol"?e:e+""}function cj(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(null,arguments)}function Ab(t,e){if(t==null)return{};var r,n,i=uj(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uj(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Pb=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>a?a:i[h];u="M".concat(t,",").concat(e+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+o*d[0],",").concat(e)),u+="L ".concat(t+r-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+s*d[1])),u+="L ".concat(t+r,",").concat(e+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-o*d[2],",").concat(e+n)),u+="L ".concat(t+o*d[3],",").concat(e+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);u="M ".concat(t,",").concat(e+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r,",").concat(e+s*g,`
            L `).concat(t+r,",").concat(e+n-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(e+n-s*g," Z")}else u="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Sb={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u3=t=>{var e=Dt(t,Sb),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=e,{animationEasing:h,animationDuration:p,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:x}=e,v=y.useRef(o),E=y.useRef(c),A=y.useRef(a),S=y.useRef(s),L=y.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),k=Cd(L,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var M=De("recharts-rectangle",d);if(!x){var _=Rr(e),T=Ab(_,aj);return y.createElement("path",cu({},T,{radius:typeof u=="number"?u:void 0,className:M,d:Pb(a,s,o,c,u)}))}var N=v.current,C=E.current,I=A.current,D=S.current,O="0px ".concat(n===-1?1:n,"px"),B="".concat(n,"px 0px"),H=s3(["strokeDasharray"],p,typeof h=="string"?h:Sb.animationEasing);return y.createElement(Id,{animationId:k,key:k,canBegin:n>0,duration:p,easing:h,isActive:x,begin:g},K=>{var te=yt(N,o,K),pe=yt(C,c,K),z=yt(I,a,K),ee=yt(D,s,K);r.current&&(v.current=te,E.current=pe,A.current=z,S.current=ee);var ce;b?K>0?ce={transition:H,strokeDasharray:B}:ce={strokeDasharray:O}:ce={strokeDasharray:B};var Pe=Rr(e),ke=Ab(Pe,sj);return y.createElement("path",cu({},ke,{radius:typeof u=="number"?u:void 0,className:M,d:Pb(z,ee,te,pe,u),ref:r,style:Eb(Eb({},ce),e.style)}))})};function Tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ib(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(r),!0).forEach(function(n){dj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dj(t,e,r){return(e=hj(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hj(t){var e=fj(t,"string");return typeof e=="symbol"?e:e+""}function fj(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uu=Math.PI/180,mj=t=>t*180/Math.PI,ft=(t,e,r,n)=>({x:t+Math.cos(-uu*n)*r,y:e+Math.sin(-uu*n)*r}),d3=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},pj=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},gj=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=pj({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:mj(c),angleInRadian:c}},vj=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},yj=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},bj=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=gj({x:r,y:n},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=vj(e),d=a,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?Ib(Ib({},e),{},{radius:i,angle:yj(d,e)}):null};function h3(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=ft(e,r,n,i),o=ft(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vm.apply(null,arguments)}var xj=(t,e)=>{var r=Rt(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Zl=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=t,u=o*(s?1:-1)+n,d=Math.asin(o/u)/uu,h=c?i:i+a*d,p=ft(e,r,u,h),g=ft(e,r,n,h),b=c?i-a*d:i,x=ft(e,r,u*Math.cos(d*uu),b);return{center:p,circleTangency:g,lineTangency:x,theta:d}},f3=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,o=xj(a,s),c=a+o,u=ft(e,r,i,a),d=ft(e,r,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=ft(e,r,n,a),g=ft(e,r,n,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(e,",").concat(r," Z");return h},wj=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=t,d=Rt(u-c),{circleTangency:h,lineTangency:p,theta:g}=Zl({cx:e,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:b,lineTangency:x,theta:v}=Zl({cx:e,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-g-v;if(E<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):f3({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var A="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:S,lineTangency:L,theta:k}=Zl({cx:e,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:M,lineTangency:_,theta:T}=Zl({cx:e,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),N=o?Math.abs(c-u):Math.abs(c-u)-k-T;if(N<0&&a===0)return"".concat(A,"L").concat(e,",").concat(r,"Z");A+="L".concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else A+="L".concat(e,",").concat(r,"Z");return A},_j={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},m3=t=>{var e=Dt(t,_j),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=e;if(a<i||u===d)return null;var p=De("recharts-sector",h),g=a-i,b=Yt(s,g,0,!0),x;return b>0&&Math.abs(u-d)<360?x=wj({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,g/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):x=f3({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),y.createElement("path",vm({},Rr(e),{className:p,d:x}))};function Nj(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(V6(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,c=ft(n,i,a,o),u=ft(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return h3(e)}}var p3={},g3={},v3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lg;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(v3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v3;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(g3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cg,r=g3;function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}t.range=n})(p3);var Ej=p3.range;const y3=Oi(Ej);function Ni(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Aj(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xg(t){let e,r,n;t.length!==2?(e=Ni,r=(o,c)=>Ni(t(o),c),n=(o,c)=>t(o)-c):(e=t===Ni||t===Aj?t:Pj,r=t,n=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,c,u=0,d=o.length){const h=i(o,c,u,d-1);return h>u&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:i,center:s,right:a}}function Pj(){return 0}function b3(t){return t===null?NaN:+t}function*Sj(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const Tj=xg(Ni),Ij=Tj.right;xg(b3).center;const fl=Ij;class Cb extends Map{constructor(e,r=Oj){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(kb(this,e))}has(e){return super.has(kb(this,e))}set(e,r){return super.set(Cj(this,e),r)}delete(e){return super.delete(kj(this,e))}}function kb({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Cj({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function kj({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Oj(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rj(t=Ni){if(t===Ni)return x3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function x3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mj=Math.sqrt(50),Dj=Math.sqrt(10),Lj=Math.sqrt(2);function du(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Mj?10:a>=Dj?5:a>=Lj?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?du(t,e,r*2):[o,c,u]}function ym(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?du(e,t,r):du(t,e,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function bm(t,e,r){return e=+e,t=+t,r=+r,du(t,e,r)[2]}function xm(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?bm(e,t,r):bm(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Ob(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Rb(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function w3(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?x3:Rj(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(e-u*h/c+p)),b=Math.min(n,Math.floor(e+(c-u)*h/c+p));w3(t,e,g,b,i)}const a=t[e];let s=r,o=n;for(eo(t,r,e),i(t[n],a)>0&&eo(t,r,n);s<o;){for(eo(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?eo(t,r,o):(++o,eo(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function eo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function jj(t,e,r){if(t=Float64Array.from(Sj(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Rb(t);if(e>=1)return Ob(t);var n,i=(n-1)*e,a=Math.floor(i),s=Ob(w3(t,a).subarray(0,a+1)),o=Rb(t.subarray(a+1));return s+(o-s)*(i-a)}}function Vj(t,e,r=b3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function $j(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Lr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wm=Symbol("implicit");function wg(){var t=new Cb,e=[],r=[],n=wm;function i(a){let s=t.get(a);if(s===void 0){if(n!==wm)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Cb;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return wg(e,r).unknown(n)},Lr.apply(i,arguments),i}function _g(){var t=wg().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var p=e().length,g=i<n,b=g?i:n,x=g?n:i;a=(x-b)/Math.max(1,p-c+u*2),o&&(a=Math.floor(a)),b+=(x-b-a*(p-c))*d,s=a*(1-c),o&&(b=Math.round(b),s=Math.round(s));var v=$j(p).map(function(E){return b+a*E});return r(g?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,h()):o},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),h()):d},t.copy=function(){return _g(e(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Lr.apply(h(),arguments)}function _3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _3(e())},t}function Fj(){return _3(_g.apply(null,arguments).paddingInner(1))}function Ng(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function N3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ml(){}var zo=.7,hu=1/zo,rs="\\s*([+-]?\\d+)\\s*",Bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uj=/^#([0-9a-f]{3,8})$/,zj=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),Bj=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),Hj=new RegExp(`^rgba\\(${rs},${rs},${rs},${Bo}\\)$`),Wj=new RegExp(`^rgba\\(${hn},${hn},${hn},${Bo}\\)$`),qj=new RegExp(`^hsl\\(${Bo},${hn},${hn}\\)$`),Kj=new RegExp(`^hsla\\(${Bo},${hn},${hn},${Bo}\\)$`),Mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ng(ml,Ho,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Db,formatHex:Db,formatHex8:Gj,formatHsl:Yj,formatRgb:Lb,toString:Lb});function Db(){return this.rgb().formatHex()}function Gj(){return this.rgb().formatHex8()}function Yj(){return E3(this).formatHsl()}function Lb(){return this.rgb().formatRgb()}function Ho(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Uj.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?jb(e):r===3?new or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ec(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ec(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zj.exec(t))?new or(e[1],e[2],e[3],1):(e=Bj.exec(t))?new or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hj.exec(t))?ec(e[1],e[2],e[3],e[4]):(e=Wj.exec(t))?ec(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qj.exec(t))?Fb(e[1],e[2]/100,e[3]/100,1):(e=Kj.exec(t))?Fb(e[1],e[2]/100,e[3]/100,e[4]):Mb.hasOwnProperty(t)?jb(Mb[t]):t==="transparent"?new or(NaN,NaN,NaN,0):null}function jb(t){return new or(t>>16&255,t>>8&255,t&255,1)}function ec(t,e,r,n){return n<=0&&(t=e=r=NaN),new or(t,e,r,n)}function Xj(t){return t instanceof ml||(t=Ho(t)),t?(t=t.rgb(),new or(t.r,t.g,t.b,t.opacity)):new or}function _m(t,e,r,n){return arguments.length===1?Xj(t):new or(t,e,r,n??1)}function or(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ng(or,_m,N3(ml,{brighter(t){return t=t==null?hu:Math.pow(hu,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zo:Math.pow(zo,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new or(ia(this.r),ia(this.g),ia(this.b),fu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vb,formatHex:Vb,formatHex8:Qj,formatRgb:$b,toString:$b}));function Vb(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function Qj(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function $b(){const t=fu(this.opacity);return`${t===1?"rgb(":"rgba("}${ia(this.r)}, ${ia(this.g)}, ${ia(this.b)}${t===1?")":`, ${t})`}`}function fu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qi(t){return t=ia(t),(t<16?"0":"")+t.toString(16)}function Fb(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new $r(t,e,r,n)}function E3(t){if(t instanceof $r)return new $r(t.h,t.s,t.l,t.opacity);if(t instanceof ml||(t=Ho(t)),!t)return new $r;if(t instanceof $r)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new $r(s,o,c,t.opacity)}function Jj(t,e,r,n){return arguments.length===1?E3(t):new $r(t,e,r,n??1)}function $r(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ng($r,Jj,N3(ml,{brighter(t){return t=t==null?hu:Math.pow(hu,t),new $r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zo:Math.pow(zo,t),new $r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new or(Zh(t>=240?t-240:t+120,i,n),Zh(t,i,n),Zh(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new $r(Ub(this.h),tc(this.s),tc(this.l),fu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fu(this.opacity);return`${t===1?"hsl(":"hsla("}${Ub(this.h)}, ${tc(this.s)*100}%, ${tc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ub(t){return t=(t||0)%360,t<0?t+360:t}function tc(t){return Math.max(0,Math.min(1,t||0))}function Zh(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Eg=t=>()=>t;function Zj(t,e){return function(r){return t+r*e}}function eV(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function tV(t){return(t=+t)==1?A3:function(e,r){return r-e?eV(e,r,t):Eg(isNaN(e)?r:e)}}function A3(t,e){var r=e-t;return r?Zj(t,r):Eg(isNaN(t)?e:t)}const zb=function t(e){var r=tV(e);function n(i,a){var s=r((i=_m(i)).r,(a=_m(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=A3(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function rV(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function nV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iV(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Es(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function aV(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function mu(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function sV(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Es(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Nm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ef=new RegExp(Nm.source,"g");function oV(t){return function(){return t}}function lV(t){return function(e){return t(e)+""}}function cV(t,e){var r=Nm.lastIndex=ef.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=Nm.exec(t))&&(i=ef.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:mu(n,i)})),r=ef.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?lV(c[0].x):oV(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)o[(h=c[d]).i]=h.x(u);return o.join("")})}function Es(t,e){var r=typeof e,n;return e==null||r==="boolean"?Eg(e):(r==="number"?mu:r==="string"?(n=Ho(e))?(e=n,zb):cV:e instanceof Ho?zb:e instanceof Date?aV:nV(e)?rV:Array.isArray(e)?iV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sV:mu)(t,e)}function Ag(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function uV(t,e){e===void 0&&(e=t,t=Es);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function dV(t){return function(){return t}}function pu(t){return+t}var Bb=[0,1];function Jt(t){return t}function Em(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:dV(isNaN(e)?NaN:.5)}function hV(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function fV(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Em(i,n),a=r(s,a)):(n=Em(n,i),a=r(a,s)),function(o){return a(n(o))}}function mV(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Em(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var c=fl(t,o,1,n)-1;return a[c](i[c](o))}}function pl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kd(){var t=Bb,e=Bb,r=Es,n,i,a,s=Jt,o,c,u;function d(){var p=Math.min(t.length,e.length);return s!==Jt&&(s=hV(t[0],t[p-1])),o=p>2?mV:fV,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(c||(c=o(t.map(n),e,r)))(n(s(p)))}return h.invert=function(p){return s(i((u||(u=o(e,t.map(n),mu)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,pu),d()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=Ag,d()},h.clamp=function(p){return arguments.length?(s=p?!0:Jt,d()):s!==Jt},h.interpolate=function(p){return arguments.length?(r=p,d()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,g){return n=p,i=g,d()}}function Pg(){return kd()(Jt,Jt)}function pV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gu(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function fs(t){return t=gu(Math.abs(t)),t?t[1]:NaN}function gV(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function vV(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var yV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wo(t){if(!(e=yV.exec(t)))throw new Error("invalid format: "+t);var e;return new Sg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wo.prototype=Sg.prototype;function Sg(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Sg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bV(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var P3;function xV(t,e){var r=gu(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(P3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+gu(t,Math.max(0,e+a-1))[0]}function Hb(t,e){var r=gu(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Wb={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Hb(t*100,e),r:Hb,s:xV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function qb(t){return t}var Kb=Array.prototype.map,Gb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wV(t){var e=t.grouping===void 0||t.thousands===void 0?qb:gV(Kb.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?qb:vV(Kb.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Wo(h);var p=h.fill,g=h.align,b=h.sign,x=h.symbol,v=h.zero,E=h.width,A=h.comma,S=h.precision,L=h.trim,k=h.type;k==="n"?(A=!0,k="g"):Wb[k]||(S===void 0&&(S=12),L=!0,k="g"),(v||p==="0"&&g==="=")&&(v=!0,p="0",g="=");var M=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",_=x==="$"?n:/[%p]/.test(k)?s:"",T=Wb[k],N=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function C(I){var D=M,O=_,B,H,K;if(k==="c")O=T(I)+O,I="";else{I=+I;var te=I<0||1/I<0;if(I=isNaN(I)?c:T(Math.abs(I),S),L&&(I=bV(I)),te&&+I==0&&b!=="+"&&(te=!1),D=(te?b==="("?b:o:b==="-"||b==="("?"":b)+D,O=(k==="s"?Gb[8+P3/3]:"")+O+(te&&b==="("?")":""),N){for(B=-1,H=I.length;++B<H;)if(K=I.charCodeAt(B),48>K||K>57){O=(K===46?i+I.slice(B+1):I.slice(B))+O,I=I.slice(0,B);break}}}A&&!v&&(I=e(I,1/0));var pe=D.length+I.length+O.length,z=pe<E?new Array(E-pe+1).join(p):"";switch(A&&v&&(I=e(z+I,z.length?E-O.length:1/0),z=""),g){case"<":I=D+I+O+z;break;case"=":I=D+z+I+O;break;case"^":I=z.slice(0,pe=z.length>>1)+D+I+O+z.slice(pe);break;default:I=z+D+I+O;break}return a(I)}return C.toString=function(){return h+""},C}function d(h,p){var g=u((h=Wo(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(fs(p)/3)))*3,x=Math.pow(10,-b),v=Gb[8+b/3];return function(E){return g(x*E)+v}}return{format:u,formatPrefix:d}}var rc,Tg,S3;_V({thousands:",",grouping:[3],currency:["$",""]});function _V(t){return rc=wV(t),Tg=rc.format,S3=rc.formatPrefix,rc}function NV(t){return Math.max(0,-fs(Math.abs(t)))}function EV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fs(e)/3)))*3-fs(Math.abs(t)))}function AV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fs(e)-fs(t))+1}function T3(t,e,r,n){var i=xm(t,e,r),a;switch(n=Wo(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=EV(i,s))&&(n.precision=a),S3(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=AV(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=NV(i))&&(n.precision=a-(n.type==="%")*2);break}}return Tg(n)}function Di(t){var e=t.domain;return t.ticks=function(r){var n=e();return ym(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return T3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=bm(s,o,r),u===c)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function I3(){var t=Pg();return t.copy=function(){return pl(t,I3())},Lr.apply(t,arguments),Di(t)}function C3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,pu),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return C3(t).unknown(e)},t=arguments.length?Array.from(t,pu):[0,1],Di(r)}function k3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Yb(t){return Math.log(t)}function Xb(t){return Math.exp(t)}function PV(t){return-Math.log(-t)}function SV(t){return-Math.exp(-t)}function TV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function IV(t){return t===10?TV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function CV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qb(t){return(e,r)=>-t(-e,r)}function Ig(t){const e=t(Yb,Xb),r=e.domain;let n=10,i,a;function s(){return i=CV(n),a=IV(n),r()[0]<0?(i=Qb(i),a=Qb(a),t(PV,SV)):t(Yb,Xb),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let p=i(u),g=i(d),b,x;const v=o==null?10:+o;let E=[];if(!(n%1)&&g-p<v){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(b=1;b<n;++b)if(x=p<0?b/a(-p):b*a(p),!(x<u)){if(x>d)break;E.push(x)}}else for(;p<=g;++p)for(b=n-1;b>=1;--b)if(x=p>0?b/a(-p):b*a(p),!(x<u)){if(x>d)break;E.push(x)}E.length*2<v&&(E=ym(u,d,v))}else E=ym(p,g,Math.min(g-p,v)).map(a);return h?E.reverse():E},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Wo(c)).precision==null&&(c.trim=!0),c=Tg(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(k3(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function O3(){const t=Ig(kd()).domain([1,10]);return t.copy=()=>pl(t,O3()).base(t.base()),Lr.apply(t,arguments),t}function Jb(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Zb(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Cg(t){var e=1,r=t(Jb(e),Zb(e));return r.constant=function(n){return arguments.length?t(Jb(e=+n),Zb(e)):e},Di(r)}function R3(){var t=Cg(kd());return t.copy=function(){return pl(t,R3()).constant(t.constant())},Lr.apply(t,arguments)}function e2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function OV(t){return t<0?-t*t:t*t}function kg(t){var e=t(Jt,Jt),r=1;function n(){return r===1?t(Jt,Jt):r===.5?t(kV,OV):t(e2(r),e2(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Di(e)}function Og(){var t=kg(kd());return t.copy=function(){return pl(t,Og()).exponent(t.exponent())},Lr.apply(t,arguments),t}function RV(){return Og.apply(null,arguments).exponent(.5)}function t2(t){return Math.sign(t)*t*t}function MV(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function M3(){var t=Pg(),e=[0,1],r=!1,n;function i(a){var s=MV(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(t2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,pu)).map(t2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return M3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Lr.apply(i,arguments),Di(i)}function D3(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Vj(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[fl(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ni),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return D3().domain(t).range(e).unknown(n)},Lr.apply(a,arguments)}function L3(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[fl(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return L3().domain([t,e]).range(i).unknown(a)},Lr.apply(Di(s),arguments)}function j3(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[fl(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return j3().domain(t).range(e).unknown(r)},Lr.apply(i,arguments)}const tf=new Date,rf=new Date;function Pt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return c},i.filter=a=>Pt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(tf.setTime(+a),rf.setTime(+s),t(tf),t(rf),Math.floor(r(tf,rf))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const vu=Pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):vu);vu.range;const kn=1e3,Cr=kn*60,On=Cr*60,zn=On*24,Rg=zn*7,r2=zn*30,nf=zn*365,Ji=Pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getUTCSeconds());Ji.range;const Mg=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn)},(t,e)=>{t.setTime(+t+e*Cr)},(t,e)=>(e-t)/Cr,t=>t.getMinutes());Mg.range;const Dg=Pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Cr)},(t,e)=>(e-t)/Cr,t=>t.getUTCMinutes());Dg.range;const Lg=Pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn-t.getMinutes()*Cr)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getHours());Lg.range;const jg=Pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCHours());jg.range;const gl=Pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cr)/zn,t=>t.getDate()-1);gl.range;const Od=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zn,t=>t.getUTCDate()-1);Od.range;const V3=Pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zn,t=>Math.floor(t/zn));V3.range;function Ca(t){return Pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Cr)/Rg)}const Rd=Ca(0),yu=Ca(1),DV=Ca(2),LV=Ca(3),ms=Ca(4),jV=Ca(5),VV=Ca(6);Rd.range;yu.range;DV.range;LV.range;ms.range;jV.range;VV.range;function ka(t){return Pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Rg)}const Md=ka(0),bu=ka(1),$V=ka(2),FV=ka(3),ps=ka(4),UV=ka(5),zV=ka(6);Md.range;bu.range;$V.range;FV.range;ps.range;UV.range;zV.range;const Vg=Pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Vg.range;const $g=Pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$g.range;const Bn=Pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Bn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Bn.range;const Hn=Pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Hn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Hn.range;function $3(t,e,r,n,i,a){const s=[[Ji,1,kn],[Ji,5,5*kn],[Ji,15,15*kn],[Ji,30,30*kn],[a,1,Cr],[a,5,5*Cr],[a,15,15*Cr],[a,30,30*Cr],[i,1,On],[i,3,3*On],[i,6,6*On],[i,12,12*On],[n,1,zn],[n,2,2*zn],[r,1,Rg],[e,1,r2],[e,3,3*r2],[t,1,nf]];function o(u,d,h){const p=d<u;p&&([u,d]=[d,u]);const g=h&&typeof h.range=="function"?h:c(u,d,h),b=g?g.range(u,+d+1):[];return p?b.reverse():b}function c(u,d,h){const p=Math.abs(d-u)/h,g=xg(([,,v])=>v).right(s,p);if(g===s.length)return t.every(xm(u/nf,d/nf,h));if(g===0)return vu.every(Math.max(xm(u,d,h),1));const[b,x]=s[p/s[g-1][2]<s[g][2]/p?g-1:g];return b.every(x)}return[o,c]}const[BV,HV]=$3(Hn,$g,Md,V3,jg,Dg),[WV,qV]=$3(Bn,Vg,Rd,gl,Lg,Mg);function af(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function to(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function KV(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=ro(i),d=no(i),h=ro(a),p=no(a),g=ro(s),b=no(s),x=ro(o),v=no(o),E=ro(c),A=no(c),S={a:te,A:pe,b:z,B:ee,c:null,d:l2,e:l2,f:g$,g:P$,G:T$,H:f$,I:m$,j:p$,L:F3,m:v$,M:y$,p:ce,q:Pe,Q:d2,s:h2,S:b$,u:x$,U:w$,V:_$,w:N$,W:E$,x:null,X:null,y:A$,Y:S$,Z:I$,"%":u2},L={a:ke,A:Ye,b:nt,B:at,c:null,d:c2,e:c2,f:R$,g:B$,G:W$,H:C$,I:k$,j:O$,L:z3,m:M$,M:D$,p:We,q:er,Q:d2,s:h2,S:L$,u:j$,U:V$,V:$$,w:F$,W:U$,x:null,X:null,y:z$,Y:H$,Z:q$,"%":u2},k={a:C,A:I,b:D,B:O,c:B,d:s2,e:s2,f:c$,g:a2,G:i2,H:o2,I:o2,j:a$,L:l$,m:i$,M:s$,p:N,q:n$,Q:d$,s:h$,S:o$,u:JV,U:ZV,V:e$,w:QV,W:t$,x:H,X:K,y:a2,Y:i2,Z:r$,"%":u$};S.x=M(r,S),S.X=M(n,S),S.c=M(e,S),L.x=M(r,L),L.X=M(n,L),L.c=M(e,L);function M(G,ge){return function(be){var Y=[],Xe=-1,Ae=0,Qe=G.length,Je,zt,Yr;for(be instanceof Date||(be=new Date(+be));++Xe<Qe;)G.charCodeAt(Xe)===37&&(Y.push(G.slice(Ae,Xe)),(zt=n2[Je=G.charAt(++Xe)])!=null?Je=G.charAt(++Xe):zt=Je==="e"?" ":"0",(Yr=ge[Je])&&(Je=Yr(be,zt)),Y.push(Je),Ae=Xe+1);return Y.push(G.slice(Ae,Xe)),Y.join("")}}function _(G,ge){return function(be){var Y=to(1900,void 0,1),Xe=T(Y,G,be+="",0),Ae,Qe;if(Xe!=be.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ge&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ae=sf(to(Y.y,0,1)),Qe=Ae.getUTCDay(),Ae=Qe>4||Qe===0?bu.ceil(Ae):bu(Ae),Ae=Od.offset(Ae,(Y.V-1)*7),Y.y=Ae.getUTCFullYear(),Y.m=Ae.getUTCMonth(),Y.d=Ae.getUTCDate()+(Y.w+6)%7):(Ae=af(to(Y.y,0,1)),Qe=Ae.getDay(),Ae=Qe>4||Qe===0?yu.ceil(Ae):yu(Ae),Ae=gl.offset(Ae,(Y.V-1)*7),Y.y=Ae.getFullYear(),Y.m=Ae.getMonth(),Y.d=Ae.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Qe="Z"in Y?sf(to(Y.y,0,1)).getUTCDay():af(to(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Qe+5)%7:Y.w+Y.U*7-(Qe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,sf(Y)):af(Y)}}function T(G,ge,be,Y){for(var Xe=0,Ae=ge.length,Qe=be.length,Je,zt;Xe<Ae;){if(Y>=Qe)return-1;if(Je=ge.charCodeAt(Xe++),Je===37){if(Je=ge.charAt(Xe++),zt=k[Je in n2?ge.charAt(Xe++):Je],!zt||(Y=zt(G,be,Y))<0)return-1}else if(Je!=be.charCodeAt(Y++))return-1}return Y}function N(G,ge,be){var Y=u.exec(ge.slice(be));return Y?(G.p=d.get(Y[0].toLowerCase()),be+Y[0].length):-1}function C(G,ge,be){var Y=g.exec(ge.slice(be));return Y?(G.w=b.get(Y[0].toLowerCase()),be+Y[0].length):-1}function I(G,ge,be){var Y=h.exec(ge.slice(be));return Y?(G.w=p.get(Y[0].toLowerCase()),be+Y[0].length):-1}function D(G,ge,be){var Y=E.exec(ge.slice(be));return Y?(G.m=A.get(Y[0].toLowerCase()),be+Y[0].length):-1}function O(G,ge,be){var Y=x.exec(ge.slice(be));return Y?(G.m=v.get(Y[0].toLowerCase()),be+Y[0].length):-1}function B(G,ge,be){return T(G,e,ge,be)}function H(G,ge,be){return T(G,r,ge,be)}function K(G,ge,be){return T(G,n,ge,be)}function te(G){return s[G.getDay()]}function pe(G){return a[G.getDay()]}function z(G){return c[G.getMonth()]}function ee(G){return o[G.getMonth()]}function ce(G){return i[+(G.getHours()>=12)]}function Pe(G){return 1+~~(G.getMonth()/3)}function ke(G){return s[G.getUTCDay()]}function Ye(G){return a[G.getUTCDay()]}function nt(G){return c[G.getUTCMonth()]}function at(G){return o[G.getUTCMonth()]}function We(G){return i[+(G.getUTCHours()>=12)]}function er(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ge=M(G+="",S);return ge.toString=function(){return G},ge},parse:function(G){var ge=_(G+="",!1);return ge.toString=function(){return G},ge},utcFormat:function(G){var ge=M(G+="",L);return ge.toString=function(){return G},ge},utcParse:function(G){var ge=_(G+="",!0);return ge.toString=function(){return G},ge}}}var n2={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,GV=/^%/,YV=/[\\^$*+?|[\]().{}]/g;function Te(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function XV(t){return t.replace(YV,"\\$&")}function ro(t){return new RegExp("^(?:"+t.map(XV).join("|")+")","i")}function no(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function QV(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function JV(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ZV(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function e$(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function t$(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function i2(t,e,r){var n=Lt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function a2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function r$(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function n$(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function i$(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function s2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function a$(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function o2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function s$(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function o$(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function l$(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function c$(t,e,r){var n=Lt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function u$(t,e,r){var n=GV.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function d$(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function h$(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function l2(t,e){return Te(t.getDate(),e,2)}function f$(t,e){return Te(t.getHours(),e,2)}function m$(t,e){return Te(t.getHours()%12||12,e,2)}function p$(t,e){return Te(1+gl.count(Bn(t),t),e,3)}function F3(t,e){return Te(t.getMilliseconds(),e,3)}function g$(t,e){return F3(t,e)+"000"}function v$(t,e){return Te(t.getMonth()+1,e,2)}function y$(t,e){return Te(t.getMinutes(),e,2)}function b$(t,e){return Te(t.getSeconds(),e,2)}function x$(t){var e=t.getDay();return e===0?7:e}function w$(t,e){return Te(Rd.count(Bn(t)-1,t),e,2)}function U3(t){var e=t.getDay();return e>=4||e===0?ms(t):ms.ceil(t)}function _$(t,e){return t=U3(t),Te(ms.count(Bn(t),t)+(Bn(t).getDay()===4),e,2)}function N$(t){return t.getDay()}function E$(t,e){return Te(yu.count(Bn(t)-1,t),e,2)}function A$(t,e){return Te(t.getFullYear()%100,e,2)}function P$(t,e){return t=U3(t),Te(t.getFullYear()%100,e,2)}function S$(t,e){return Te(t.getFullYear()%1e4,e,4)}function T$(t,e){var r=t.getDay();return t=r>=4||r===0?ms(t):ms.ceil(t),Te(t.getFullYear()%1e4,e,4)}function I$(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Te(e/60|0,"0",2)+Te(e%60,"0",2)}function c2(t,e){return Te(t.getUTCDate(),e,2)}function C$(t,e){return Te(t.getUTCHours(),e,2)}function k$(t,e){return Te(t.getUTCHours()%12||12,e,2)}function O$(t,e){return Te(1+Od.count(Hn(t),t),e,3)}function z3(t,e){return Te(t.getUTCMilliseconds(),e,3)}function R$(t,e){return z3(t,e)+"000"}function M$(t,e){return Te(t.getUTCMonth()+1,e,2)}function D$(t,e){return Te(t.getUTCMinutes(),e,2)}function L$(t,e){return Te(t.getUTCSeconds(),e,2)}function j$(t){var e=t.getUTCDay();return e===0?7:e}function V$(t,e){return Te(Md.count(Hn(t)-1,t),e,2)}function B3(t){var e=t.getUTCDay();return e>=4||e===0?ps(t):ps.ceil(t)}function $$(t,e){return t=B3(t),Te(ps.count(Hn(t),t)+(Hn(t).getUTCDay()===4),e,2)}function F$(t){return t.getUTCDay()}function U$(t,e){return Te(bu.count(Hn(t)-1,t),e,2)}function z$(t,e){return Te(t.getUTCFullYear()%100,e,2)}function B$(t,e){return t=B3(t),Te(t.getUTCFullYear()%100,e,2)}function H$(t,e){return Te(t.getUTCFullYear()%1e4,e,4)}function W$(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ps(t):ps.ceil(t),Te(t.getUTCFullYear()%1e4,e,4)}function q$(){return"+0000"}function u2(){return"%"}function d2(t){return+t}function h2(t){return Math.floor(+t/1e3)}var $a,H3,W3;K$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K$(t){return $a=KV(t),H3=$a.format,$a.parse,W3=$a.utcFormat,$a.utcParse,$a}function G$(t){return new Date(t)}function Y$(t){return t instanceof Date?+t:+new Date(+t)}function Fg(t,e,r,n,i,a,s,o,c,u){var d=Pg(),h=d.invert,p=d.domain,g=u(".%L"),b=u(":%S"),x=u("%I:%M"),v=u("%I %p"),E=u("%a %d"),A=u("%b %d"),S=u("%B"),L=u("%Y");function k(M){return(c(M)<M?g:o(M)<M?b:s(M)<M?x:a(M)<M?v:n(M)<M?i(M)<M?E:A:r(M)<M?S:L)(M)}return d.invert=function(M){return new Date(h(M))},d.domain=function(M){return arguments.length?p(Array.from(M,Y$)):p().map(G$)},d.ticks=function(M){var _=p();return t(_[0],_[_.length-1],M??10)},d.tickFormat=function(M,_){return _==null?k:u(_)},d.nice=function(M){var _=p();return(!M||typeof M.range!="function")&&(M=e(_[0],_[_.length-1],M??10)),M?p(k3(_,M)):d},d.copy=function(){return pl(d,Fg(t,e,r,n,i,a,s,o,c,u))},d}function X$(){return Lr.apply(Fg(WV,qV,Bn,Vg,Rd,gl,Lg,Mg,Ji,H3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q$(){return Lr.apply(Fg(BV,HV,Hn,$g,Md,Od,jg,Dg,Ji,W3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dd(){var t=0,e=1,r,n,i,a,s=Jt,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(p){var g,b;return arguments.length?([g,b]=p,s=h(g,b),u):[s(0),s(1)]}}return u.range=d(Es),u.rangeRound=d(Ag),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Li(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function q3(){var t=Di(Dd()(Jt));return t.copy=function(){return Li(t,q3())},Qn.apply(t,arguments)}function K3(){var t=Ig(Dd()).domain([1,10]);return t.copy=function(){return Li(t,K3()).base(t.base())},Qn.apply(t,arguments)}function G3(){var t=Cg(Dd());return t.copy=function(){return Li(t,G3()).constant(t.constant())},Qn.apply(t,arguments)}function Ug(){var t=kg(Dd());return t.copy=function(){return Li(t,Ug()).exponent(t.exponent())},Qn.apply(t,arguments)}function J$(){return Ug.apply(null,arguments).exponent(.5)}function Y3(){var t=[],e=Jt;function r(n){if(n!=null&&!isNaN(n=+n))return e((fl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ni),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>jj(t,a/n))},r.copy=function(){return Y3(e).domain(t)},Qn.apply(r,arguments)}function Ld(){var t=0,e=.5,r=1,n=1,i,a,s,o,c,u=Jt,d,h=!1,p;function g(x){return isNaN(x=+x)?p:(x=.5+((x=+d(x))-a)*(n*x<n*a?o:c),u(h?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(x){return arguments.length?(h=!!x,g):h},g.interpolator=function(x){return arguments.length?(u=x,g):u};function b(x){return function(v){var E,A,S;return arguments.length?([E,A,S]=v,u=uV(x,[E,A,S]),g):[u(0),u(.5),u(1)]}}return g.range=b(Es),g.rangeRound=b(Ag),g.unknown=function(x){return arguments.length?(p=x,g):p},function(x){return d=x,i=x(t),a=x(e),s=x(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g}}function X3(){var t=Di(Ld()(Jt));return t.copy=function(){return Li(t,X3())},Qn.apply(t,arguments)}function Q3(){var t=Ig(Ld()).domain([.1,1,10]);return t.copy=function(){return Li(t,Q3()).base(t.base())},Qn.apply(t,arguments)}function J3(){var t=Cg(Ld());return t.copy=function(){return Li(t,J3()).constant(t.constant())},Qn.apply(t,arguments)}function zg(){var t=kg(Ld());return t.copy=function(){return Li(t,zg()).exponent(t.exponent())},Qn.apply(t,arguments)}function Z$(){return zg.apply(null,arguments).exponent(.5)}const po=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_g,scaleDiverging:X3,scaleDivergingLog:Q3,scaleDivergingPow:zg,scaleDivergingSqrt:Z$,scaleDivergingSymlog:J3,scaleIdentity:C3,scaleImplicit:wm,scaleLinear:I3,scaleLog:O3,scaleOrdinal:wg,scalePoint:Fj,scalePow:Og,scaleQuantile:D3,scaleQuantize:L3,scaleRadial:M3,scaleSequential:q3,scaleSequentialLog:K3,scaleSequentialPow:Ug,scaleSequentialQuantile:Y3,scaleSequentialSqrt:J$,scaleSequentialSymlog:G3,scaleSqrt:RV,scaleSymlog:R3,scaleThreshold:j3,scaleTime:X$,scaleUtc:Q$,tickFormat:T3},Symbol.toStringTag,{value:"Module"}));var ji=t=>t.chartData,Bg=F([ji],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Hg=(t,e,r,n)=>n?Bg(t):ji(t);function va(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(lt(e)&&lt(r))return!0}return!1}function f2(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Z3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(lt(r))i=r;else if(typeof r=="function")return;if(lt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(va(s))return s}}function eF(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(va(n))return f2(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(oe(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&eb.test(i)){var c=eb.exec(i);if(c==null||e==null)s=void 0;else{var u=+c[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(oe(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&tb.test(a)){var d=tb.exec(a);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var p=[s,o];if(va(p))return e==null?p:f2(p,e,r)}}}var As=1e9,tF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qg,Ke=!0,Dr="[DecimalError] ",aa=Dr+"Invalid argument: ",Wg=Dr+"Exponent out of range: ",Ps=Math.floor,Ki=Math.pow,rF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr,Ot=1e7,Be=7,eN=9007199254740991,xu=Ps(eN/Be),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Be;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(t){return Dn(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,r=e.constructor;return Ve(Dn(e,new r(t),0,1),r.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return mt(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(gr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(gr)?new n(0):(Ke=!1,e=Dn(qo(r,a),qo(t,a),a),Ke=!0,Ve(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nN(e,t):tN(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Dr+"NaN");return r.s?(Ke=!1,e=Dn(r,t,0,1).times(t),Ke=!0,r.minus(e)):Ve(new n(r),i)};ne.naturalExponential=ne.exp=function(){return rN(this)};ne.naturalLogarithm=ne.ln=function(){return qo(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tN(e,t):nN(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(aa+t);if(e=mt(i)+1,n=i.d.length-1,r=n*Be+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ne.squareRoot=ne.sqrt=function(){var t,e,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Dr+"NaN")}for(t=mt(o),Ke=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=nn(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ps((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Dn(o,a,s+2)).times(.5),nn(a.d).slice(0,s)===(e=nn(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ve(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Ke=!0,Ve(n,r)};ne.times=ne.mul=function(t){var e,r,n,i,a,s,o,c,u,d=this,h=d.constructor,p=d.d,g=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=g.length,c<u&&(a=p,p=g,g=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)o=a[i]+g[n]*p[i-n-1]+e,a[i--]=o%Ot|0,e=o/Ot|0;a[i]=(a[i]+e)%Ot|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ke?Ve(t,h.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(yn(t,0,As),e===void 0?e=n.rounding:yn(e,0,8),Ve(r,t+mt(r)+1,e))};ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ya(n,!0):(yn(t,0,As),e===void 0?e=i.rounding:yn(e,0,8),n=Ve(new i(n),t+1,e),r=ya(n,!0,t+1)),r};ne.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?ya(i):(yn(t,0,As),e===void 0?e=a.rounding:yn(e,0,8),n=Ve(new a(i),t+mt(i)+1,e),r=ya(n.abs(),!1,t+mt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Ve(new e(t),mt(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(gr);if(o=new c(o),!o.s){if(t.s<1)throw Error(Dr+"Infinity");return o}if(o.eq(gr))return o;if(n=c.precision,t.eq(gr))return Ve(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=eN){for(i=new c(gr),e=Math.ceil(n/Be+4),Ke=!1;r%2&&(i=i.times(o),p2(i.d,e)),r=Ps(r/2),r!==0;)o=o.times(o),p2(o.d,e);return Ke=!0,t.s<0?new c(gr).div(i):Ve(i,n)}}else if(a<0)throw Error(Dr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Ke=!1,i=t.times(qo(o,n+u)),Ke=!0,i=rN(i),i.s=a,i};ne.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=mt(i),n=ya(i,r<=a.toExpNeg||r>=a.toExpPos)):(yn(t,1,As),e===void 0?e=a.rounding:yn(e,0,8),i=Ve(new a(i),t,e),r=mt(i),n=ya(i,t<=r||r<=a.toExpNeg,t)),n};ne.toSignificantDigits=ne.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(yn(t,1,As),e===void 0?e=n.rounding:yn(e,0,8)),Ve(new n(r),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mt(t),r=t.constructor;return ya(t,e<=r.toExpNeg||e>=r.toExpPos)};function tN(t,e){var r,n,i,a,s,o,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ke?Ve(e,h):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(h/Be),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ot|0,c[a]%=Ot;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,Ke?Ve(e,h):e}function yn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(aa+t)}function nn(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Be-n.length,r&&(a+=fi(r)),a+=n;s=t[e],n=s+"",r=Be-n.length,r&&(a+=fi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Dn=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ot|0,s=a/Ot|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ot+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,h,p,g,b,x,v,E,A,S,L,k,M,_,T,N=n.constructor,C=n.s==i.s?1:-1,I=n.d,D=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Dr+"Division by zero");for(c=n.e-i.e,_=D.length,k=I.length,g=new N(C),b=g.d=[],u=0;D[u]==(I[u]||0);)++u;if(D[u]>(I[u]||0)&&--c,a==null?A=a=N.precision:s?A=a+(mt(n)-mt(i))+1:A=a,A<0)return new N(0);if(A=A/Be+2|0,u=0,_==1)for(d=0,D=D[0],A++;(u<k||d)&&A--;u++)S=d*Ot+(I[u]||0),b[u]=S/D|0,d=S%D|0;else{for(d=Ot/(D[0]+1)|0,d>1&&(D=t(D,d),I=t(I,d),_=D.length,k=I.length),L=_,x=I.slice(0,_),v=x.length;v<_;)x[v++]=0;T=D.slice(),T.unshift(0),M=D[0],D[1]>=Ot/2&&++M;do d=0,o=e(D,x,_,v),o<0?(E=x[0],_!=v&&(E=E*Ot+(x[1]||0)),d=E/M|0,d>1?(d>=Ot&&(d=Ot-1),h=t(D,d),p=h.length,v=x.length,o=e(h,x,p,v),o==1&&(d--,r(h,_<p?T:D,p))):(d==0&&(o=d=1),h=D.slice()),p=h.length,p<v&&h.unshift(0),r(x,h,v),o==-1&&(v=x.length,o=e(D,x,_,v),o<1&&(d++,r(x,_<v?T:D,v))),v=x.length):o===0&&(d++,x=[0]),b[u++]=d,o&&x[0]?x[v++]=I[L]||0:(x=[I[L]],v=1);while((L++<k||x[0]!==void 0)&&A--)}return b[0]||b.shift(),g.e=c,Ve(g,s?a+mt(g)+1:a)}}();function rN(t,e){var r,n,i,a,s,o,c=0,u=0,d=t.constructor,h=d.precision;if(mt(t)>16)throw Error(Wg+mt(t));if(!t.s)return new d(gr);for(e==null?(Ke=!1,o=h):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Ki(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(gr),d.precision=o;;){if(i=Ve(i.times(t),o),r=r.times(++c),s=a.plus(Dn(i,r,o)),nn(s.d).slice(0,o)===nn(a.d).slice(0,o)){for(;u--;)a=Ve(a.times(a),o);return d.precision=h,e==null?(Ke=!0,Ve(a,h)):a}a=s}}function mt(t){for(var e=t.e*Be,r=t.d[0];r>=10;r/=10)e++;return e}function of(t,e,r){if(e>t.LN10.sd())throw Ke=!0,r&&(t.precision=r),Error(Dr+"LN10 precision limit exceeded");return Ve(new t(t.LN10),e)}function fi(t){for(var e="";t--;)e+="0";return e}function qo(t,e){var r,n,i,a,s,o,c,u,d,h=1,p=10,g=t,b=g.d,x=g.constructor,v=x.precision;if(g.s<1)throw Error(Dr+(g.s?"NaN":"-Infinity"));if(g.eq(gr))return new x(0);if(e==null?(Ke=!1,u=v):u=e,g.eq(10))return e==null&&(Ke=!0),of(x,u);if(u+=p,x.precision=u,r=nn(b),n=r.charAt(0),a=mt(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=nn(g.d),n=r.charAt(0),h++;a=mt(g),n>1?(g=new x("0."+r),a++):g=new x(n+"."+r.slice(1))}else return c=of(x,u+2,v).times(a+""),g=qo(new x(n+"."+r.slice(1)),u-p).plus(c),x.precision=v,e==null?(Ke=!0,Ve(g,v)):g;for(o=s=g=Dn(g.minus(gr),g.plus(gr),u),d=Ve(g.times(g),u),i=3;;){if(s=Ve(s.times(d),u),c=o.plus(Dn(s,new x(i),u)),nn(c.d).slice(0,u)===nn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(of(x,u+2,v).times(a+""))),o=Dn(o,new x(h),u),x.precision=v,e==null?(Ke=!0,Ve(o,v)):o;o=c,i+=2}}function m2(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ps(r/Be),t.d=[],n=(r+1)%Be,r<0&&(n+=Be),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Be;n<i;)t.d.push(+e.slice(n,n+=Be));e=e.slice(n),n=Be-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ke&&(t.e>xu||t.e<-xu))throw Error(Wg+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ve(t,e,r){var n,i,a,s,o,c,u,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Be,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Be),a=h.length,d>=a)return t;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=Be,i=n-Be+s}if(r!==void 0&&(a=Ki(10,s-i-1),o=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Ki(10,s-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=mt(t),h.length=1,e=e-a-1,h[0]=Ki(10,(Be-e%Be)%Be),t.e=Ps(-e/Be)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=Ki(10,Be-n),h[d]=i>0?(u/Ki(10,s-i)%Ki(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==Ot&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Ot)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Ke&&(t.e>xu||t.e<-xu))throw Error(Wg+mt(t));return t}function nN(t,e){var r,n,i,a,s,o,c,u,d,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Ke?Ve(e,g):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=h.length):(r=h,n=u,o=c.length),i=Math.max(Math.ceil(g/Be),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),o=c.length,i=h.length-o;i>0;--i)c[o++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=Ot-1;--c[a],c[i]+=Ot}c[i]-=h[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ke?Ve(e,g):e):new p(0)}function ya(t,e,r){var n,i=mt(t),a=nn(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+fi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+fi(-i-1)+a,r&&(n=r-s)>0&&(a+=fi(n))):i>=s?(a+=fi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+fi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=fi(n))),t.s<0?"-"+a:a}function p2(t,e){if(t.length>e)return t.length=e,!0}function iN(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(aa+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return m2(s,a.toString())}else if(typeof a!="string")throw Error(aa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rF.test(a))m2(s,a);else throw Error(aa+a)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iN,i.config=i.set=nF,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function nF(t){if(!t||typeof t!="object")throw Error(Dr+"Object expected");var e,r,n,i=["precision",1,As,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ps(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(aa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(aa+r+": "+n);return this}var qg=iN(tF);gr=new qg(1);const Me=qg;var iF=t=>t,aN={"@@functional/placeholder":!0},sN=t=>t===aN,g2=t=>function e(){return arguments.length===0||arguments.length===1&&sN(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},oN=(t,e)=>t===1?e:g2(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==aN).length;return a>=t?e(...n):oN(t-a,g2(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>sN(d)?o.shift():d);return e(...u,...o)}))}),jd=t=>oN(t.length,t),Am=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},aF=jd((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),sF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return iF;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}},Pm=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),lN=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[o])})||(e=i,r=t(...i)),r}};function cN(t){var e;return t===0?e=1:e=Math.floor(new Me(t).abs().log(10).toNumber())+1,e}function uN(t,e,r){for(var n=new Me(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}jd((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});jd((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});jd((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var dN=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},hN=(t,e,r)=>{if(t.lte(0))return new Me(0);var n=cN(t.toNumber()),i=new Me(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Me(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return e?new Me(c.toNumber()):new Me(Math.ceil(c.toNumber()))},oF=(t,e,r)=>{var n=new Me(1),i=new Me(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Me(10).pow(cN(t)-1),i=new Me(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Me(Math.floor(t)))}else t===0?i=new Me(Math.floor((e-1)/2)):r||(i=new Me(Math.floor(t)));var s=Math.floor((e-1)/2),o=sF(aF(c=>i.add(new Me(c-s).mul(n)).toNumber()),Am);return o(0,e)},fN=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var s=hN(new Me(r).sub(e).div(n-1),i,a),o;e<=0&&r>=0?o=new Me(0):(o=new Me(e).add(r).div(2),o=o.sub(new Me(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new Me(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?fN(e,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Me(c).mul(s)),tickMax:o.add(new Me(u).mul(s))})};function lF(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=dN([e,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...Am(0,n-1).map(()=>1/0)]:[...Am(0,n-1).map(()=>-1/0),o];return e>r?Pm(c):c}if(s===o)return oF(s,n,i);var{step:u,tickMin:d,tickMax:h}=fN(s,o,a,i,0),p=uN(d,h.add(new Me(.1).mul(u)),u);return e>r?Pm(p):p}function cF(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=dN([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(e,2),c=hN(new Me(s).sub(a).div(o-1),i,0),u=[...uN(new Me(a),new Me(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?Pm(u):u}var uF=lN(lF),dF=lN(cF),mN=t=>t.rootProps.maxBarSize,hF=t=>t.rootProps.barGap,pN=t=>t.rootProps.barCategoryGap,fF=t=>t.rootProps.barSize,vl=t=>t.rootProps.stackOffset,Kg=t=>t.options.chartName,Gg=t=>t.rootProps.syncId,gN=t=>t.rootProps.syncMethod,Yg=t=>t.options.eventEmitter,Nt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Sn={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Nt.axis},pr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,includeHidden:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Nt.axis},Vd=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},mF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:Sn.type,unit:void 0},pF={allowDataOverflow:pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pr.scale,tick:pr.tick,tickCount:pr.tickCount,ticks:void 0,type:pr.type,unit:void 0},gF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Sn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Sn.scale,tick:Sn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},vF={allowDataOverflow:pr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pr.scale,tick:pr.tick,tickCount:pr.tickCount,ticks:void 0,type:"category",unit:void 0},Xg=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?gF:mF,Qg=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?vF:pF,$d=t=>t.polarOptions,Jg=F([Yn,Xn,At],d3),vN=F([$d,Jg],(t,e)=>{if(t!=null)return Yt(t.innerRadius,e,0)}),yN=F([$d,Jg],(t,e)=>{if(t!=null)return Yt(t.outerRadius,e,e*.8)}),yF=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},bN=F([$d],yF);F([Xg,bN],Vd);var xN=F([Jg,vN,yN],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});F([Qg,xN],Vd);var wN=F([Ie,$d,vN,yN,Yn,Xn],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=e;return{cx:Yt(s,i,i/2),cy:Yt(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ge=(t,e)=>e,yl=(t,e,r)=>r;function Zg(t){return t==null?void 0:t.id}function _N(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return t.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Zg(o);u.forEach((h,p)=>{var g=a==null||i?p:String(et(h,a,null)),b=et(h,o.dataKey,0),x;s.has(g)?x=s.get(g):x={},Object.assign(x,{[d]:b}),s.set(g,x)})}}),Array.from(s.values())}function Fd(t){return t.stackId!=null&&t.dataKey!=null}var Ud=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function zd(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function bF(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var St=t=>{var e=Ie(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ss=t=>t.tooltip.settings.axisId;function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){xF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xF(t,e,r){return(e=wF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wF(t){var e=_F(t,"string");return typeof e=="symbol"?e:e+""}function _F(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sm=[0,"auto"],fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},NN=(t,e)=>t.cartesianAxis.xAxis[e],Jn=(t,e)=>{var r=NN(t,e);return r??fr},mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Sm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hl},EN=(t,e)=>t.cartesianAxis.yAxis[e],Zn=(t,e)=>{var r=EN(t,e);return r??mr},NF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},e0=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??NF},rt=(t,e,r)=>{switch(e){case"xAxis":return Jn(t,r);case"yAxis":return Zn(t,r);case"zAxis":return e0(t,r);case"angleAxis":return Xg(t,r);case"radiusAxis":return Qg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},EF=(t,e,r)=>{switch(e){case"xAxis":return Jn(t,r);case"yAxis":return Zn(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},bl=(t,e,r)=>{switch(e){case"xAxis":return Jn(t,r);case"yAxis":return Zn(t,r);case"angleAxis":return Xg(t,r);case"radiusAxis":return Qg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},AN=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function t0(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var r0=t=>t.graphicalItems.cartesianItems,AF=F([Ge,yl],t0),n0=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),xl=F([r0,rt,AF],n0,{memoizeOptions:{resultEqualityCheck:zd}}),PN=F([xl],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Fd)),SN=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),PF=F([xl],SN),i0=t=>t.map(e=>e.data).filter(Boolean).flat(1),SF=F([xl],i0,{memoizeOptions:{resultEqualityCheck:zd}}),a0=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},s0=F([SF,Hg],a0),o0=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:et(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:et(i,n)}))):t.map(n=>({value:n})),Bd=F([s0,rt,xl],o0);function TN(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function vc(t){if(gn(t)||t instanceof Date){var e=Number(t);if(lt(e))return e}}function y2(t){if(Array.isArray(t)){var e=[vc(t[0]),vc(t[1])];return va(e)?e:void 0}var r=vc(t);if(r!=null)return[r,r]}function Wn(t){return t.map(vc).filter(J9)}function TF(t,e,r){return!r||typeof e!="number"||Wr(e)?[]:r.length?Wn(r.flatMap(n=>{var i=et(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!lt(a)||!lt(s)))return[e-a,e+s]})):[]}var Tt=t=>{var e=St(t),r=Ss(t);return bl(t,e,r)},IN=F([Tt],t=>t==null?void 0:t.dataKey),IF=F([PN,Hg,Tt],_N),CN=(t,e,r)=>{var n={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,c=o.map(Zg);return[s,{stackedData:hD(t,c,r),graphicalItems:o}]}))},Tm=F([IF,PN,vl],CN),kN=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var s=vD(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},CF=F([rt],t=>t.allowDataOverflow),l0=t=>{var e;if(t==null||!("domain"in t))return Sm;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=Wn(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Sm},c0=F([rt],l0),u0=F([c0,CF],Z3),kF=F([Tm,ji,Ge,u0],kN,{memoizeOptions:{resultEqualityCheck:Ud}}),Hd=t=>t.errorBars,OF=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>TN(r,n)),_u=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},d0=(t,e,r,n,i)=>{var a,s;if(r.length>0&&t.forEach(o=>{r.forEach(c=>{var u,d,h=(u=n[c.id])===null||u===void 0?void 0:u.filter(E=>TN(i,E)),p=et(o,(d=e.dataKey)!==null&&d!==void 0?d:c.dataKey),g=TF(o,p,h);if(g.length>=2){var b=Math.min(...g),x=Math.max(...g);(a==null||b<a)&&(a=b),(s==null||x>s)&&(s=x)}var v=y2(p);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var c=y2(et(o,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),lt(a)&&lt(s))return[a,s]},RF=F([s0,rt,PF,Hd,Ge],d0,{memoizeOptions:{resultEqualityCheck:Ud}});function MF(t){var{value:e}=t;if(gn(e)||e instanceof Date)return e}var DF=(t,e,r)=>{var n=t.map(MF).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&L6(n))?y3(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},ON=t=>t.referenceElements.dots,Ts=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),LF=F([ON,Ge,yl],Ts),RN=t=>t.referenceElements.areas,jF=F([RN,Ge,yl],Ts),MN=t=>t.referenceElements.lines,VF=F([MN,Ge,yl],Ts),DN=(t,e)=>{var r=Wn(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$F=F(LF,Ge,DN),LN=(t,e)=>{var r=Wn(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},FF=F([jF,Ge],LN);function UF(t){var e;if(t.x!=null)return Wn([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Wn(r)}function zF(t){var e;if(t.y!=null)return Wn([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Wn(r)}var jN=(t,e)=>{var r=t.flatMap(n=>e==="xAxis"?UF(n):zF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BF=F([VF,Ge],jN),HF=F($F,BF,FF,(t,e,r)=>_u(t,r,e)),h0=(t,e,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?_u(n,a,i):_u(a,i);return eF(e,u,t.allowDataOverflow)},WF=F([rt,c0,u0,kF,RF,HF,Ie,Ge],h0,{memoizeOptions:{resultEqualityCheck:Ud}}),qF=[0,1],f0=(t,e,r,n,i,a,s)=>{if(!((t==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=t,u=Ta(e,a);if(u&&o==null){var d;return y3(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?DF(n,t,u):i==="expand"?qF:s}},m0=F([rt,Ie,s0,Bd,vl,Ge,WF],f0),VN=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(ll(a));return o in po?o:"point"}}},Is=F([rt,Ie,AN,Kg,Ge],VN);function KF(t){if(t!=null){if(t in po)return po[t]();var e="scale".concat(ll(t));if(e in po)return po[e]()}}function p0(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=KF(e);if(i!=null){var a=i.domain(r).range(n);return oD(a),a}}}var g0=(t,e,r)=>{var n=l0(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&va(t))return uF(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&va(t))return dF(t,e.tickCount,e.allowDecimals)}},v0=F([m0,bl,Is],g0),y0=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&va(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],s=e[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},GF=F([rt,m0,v0,Ge],y0),YF=F(Bd,rt,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Wn(t.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),$N=F(YF,Ie,pN,At,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!lt(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Yt(r,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),XF=(t,e)=>{var r=Jn(t,e);return r==null||typeof r.padding!="string"?0:$N(t,"xAxis",e,r.padding)},QF=(t,e)=>{var r=Zn(t,e);return r==null||typeof r.padding!="string"?0:$N(t,"yAxis",e,r.padding)},JF=F(Jn,XF,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),ZF=F(Zn,QF,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),eU=F([At,JF,Ad,Ed,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),tU=F([At,Ie,ZF,Ad,Ed,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),wl=(t,e,r,n)=>{var i;switch(e){case"xAxis":return eU(t,r,n);case"yAxis":return tU(t,r,n);case"zAxis":return(i=e0(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return bN(t);case"radiusAxis":return xN(t,r);default:return}},FN=F([rt,wl],Vd),Cs=F([rt,Is,GF,FN],p0);F([xl,Hd,Ge],OF);function UN(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Wd=(t,e)=>e,qd=(t,e,r)=>r,rU=F(_d,Wd,qd,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(UN)),nU=F(Nd,Wd,qd,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(UN)),zN=(t,e)=>({width:t.width,height:e.height}),iU=(t,e)=>{var r=typeof e.width=="number"?e.width:hl;return{width:r,height:t.height}},BN=F(At,Jn,zN),aU=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},sU=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},oU=F(Xn,At,rU,Wd,qd,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=zN(e,o);s==null&&(s=aU(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),lU=F(Yn,At,nU,Wd,qd,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=iU(e,o);s==null&&(s=sU(e,n,t));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),cU=(t,e)=>{var r=Jn(t,e);if(r!=null)return oU(t,r.orientation,r.mirror)},uU=F([At,Jn,cU,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),dU=(t,e)=>{var r=Zn(t,e);if(r!=null)return lU(t,r.orientation,r.mirror)},hU=F([At,Zn,dU,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),HN=F(At,Zn,(t,e)=>{var r=typeof e.width=="number"?e.width:hl;return{width:r,height:t.height}}),b2=(t,e,r)=>{switch(e){case"xAxis":return BN(t,r).width;case"yAxis":return HN(t,r).height;default:return}},WN=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Ta(t,n),c=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&L6(c))return c}},b0=F([Ie,Bd,rt,Ge],WN),qN=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Ta(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},x0=F([Ie,Bd,bl,Ge],qN),x2=F([Ie,EF,Is,Cs,b0,x0,wl,v0,Ge],(t,e,r,n,i,a,s,o,c)=>{if(e!=null){var u=Ta(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),fU=(t,e,r,n,i,a,s,o,c)=>{if(!(e==null||n==null)){var u=Ta(t,c),{type:d,ticks:h,tickCount:p}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=d==="category"&&n.bandwidth?n.bandwidth()/g:0;b=c==="angleAxis"&&a!=null&&a.length>=2?Rt(a[0]-a[1])*2*b:b;var x=h||i;if(x){var v=x.map((E,A)=>{var S=s?s.indexOf(E):E;return{index:A,coordinate:n(S)+b,value:E,offset:b}});return v.filter(E=>lt(E.coordinate))}return u&&o?o.map((E,A)=>({coordinate:n(E)+b,value:E,index:A,offset:b})).filter(E=>lt(E.coordinate)):n.ticks?n.ticks(p).map(E=>({coordinate:n(E)+b,value:E,offset:b})):n.domain().map((E,A)=>({coordinate:n(E)+b,value:s?s[E]:E,index:A,offset:b}))}},KN=F([Ie,bl,Is,Cs,v0,wl,b0,x0,Ge],fU),mU=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=Ta(t,s),{tickCount:c}=e,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Rt(n[0]-n[1])*2*u:u,o&&a?a.map((d,h)=>({coordinate:r(d)+u,value:d,index:h,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,h)=>({coordinate:r(d)+u,value:i?i[d]:d,index:h,offset:u}))}},gs=F([Ie,bl,Cs,wl,b0,x0,Ge],mU),vs=F(rt,Cs,(t,e)=>{if(!(t==null||e==null))return wu(wu({},t),{},{scale:e})}),pU=F([rt,Is,m0,FN],p0);F((t,e,r)=>e0(t,r),pU,(t,e)=>{if(!(t==null||e==null))return wu(wu({},t),{},{scale:e})});var gU=F([Ie,_d,Nd],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GN=t=>t.options.defaultTooltipEventType,YN=t=>t.options.validateTooltipEventTypes;function XN(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function w0(t,e){var r=GN(t),n=YN(t);return XN(e,r,n)}function vU(t){return ae(e=>w0(e,t))}var QN=(t,e)=>{var r,n=Number(e);if(!(Wr(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},yU=t=>t.tooltip.settings,vi={active:!1,index:null,dataKey:void 0,coordinate:void 0},bU={itemInteraction:{click:vi,hover:vi},axisInteraction:{click:vi,hover:vi},keyboardInteraction:vi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},JN=lr({name:"tooltip",initialState:bU,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:xt()},removeTooltipEntrySettings:{reducer(t,e){var r=Mn(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:xt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:xU,removeTooltipEntrySettings:wU,setTooltipSettingsState:_U,setActiveMouseOverItemIndex:ZN,mouseLeaveItem:NU,mouseLeaveChart:eE,setActiveClickItemIndex:EU,setMouseOverAxisIndex:tE,setMouseClickAxisIndex:AU,setSyncInteraction:Im,setKeyboardInteraction:Cm}=JN.actions,PU=JN.reducer;function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(n){SU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SU(t,e,r){return(e=TU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TU(t){var e=IU(t,"string");return typeof e=="symbol"?e:e+""}function IU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CU(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function kU(t){return t.index!=null}var rE=(t,e,r,n)=>{if(e==null)return vi;var i=CU(t,e,r);if(i==null)return vi;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(kU(i)){if(a)return nc(nc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return nc(nc({},vi),{},{coordinate:i.coordinate})},_0=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!lt(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},nE=(t,e,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},iE=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},_l=t=>t.options.tooltipPayloadSearcher,ks=t=>t.tooltip;function _2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(r),!0).forEach(function(n){OU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OU(t,e,r){return(e=RU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RU(t){var e=MU(t,"string");return typeof e=="symbol"?e:e+""}function MU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DU(t,e){return t??e}var aE=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return t.reduce((p,g)=>{var b,{dataDefinedOnItem:x,settings:v}=g,E=DU(x,o),A=Array.isArray(E)?U_(E,u,d):E,S=(b=v==null?void 0:v.dataKey)!==null&&b!==void 0?b:n,L=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&s==="axis"?k=Q9(A,n,i):k=a(A,e,c,L),Array.isArray(k))k.forEach(_=>{var T=N2(N2({},v),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});p.push(rb({tooltipEntrySettings:T,dataKey:_.dataKey,payload:_.payload,value:et(_.payload,_.dataKey),name:_.name}))});else{var M;p.push(rb({tooltipEntrySettings:v,dataKey:S,payload:k,value:et(k,S),name:(M=et(k,L))!==null&&M!==void 0?M:v==null?void 0:v.name}))}return p},h)}},N0=F([Tt,Ie,AN,Kg,St],VN),LU=F([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),jU=F([St,Ss],t0),Nl=F([LU,Tt,jU],n0,{memoizeOptions:{resultEqualityCheck:zd}}),VU=F([Nl],t=>t.filter(Fd)),$U=F([Nl],i0,{memoizeOptions:{resultEqualityCheck:zd}}),Os=F([$U,ji],a0),FU=F([VU,ji,Tt],_N),E0=F([Os,Tt,Nl],o0),sE=F([Tt],l0),UU=F([Tt],t=>t.allowDataOverflow),oE=F([sE,UU],Z3),zU=F([Nl],t=>t.filter(Fd)),BU=F([FU,zU,vl],CN),HU=F([BU,ji,St,oE],kN),WU=F([Nl],SN),qU=F([Os,Tt,WU,Hd,St],d0,{memoizeOptions:{resultEqualityCheck:Ud}}),KU=F([ON,St,Ss],Ts),GU=F([KU,St],DN),YU=F([RN,St,Ss],Ts),XU=F([YU,St],LN),QU=F([MN,St,Ss],Ts),JU=F([QU,St],jN),ZU=F([GU,JU,XU],_u),ez=F([Tt,sE,oE,HU,qU,ZU,Ie,St],h0),lE=F([Tt,Ie,Os,E0,vl,St,ez],f0),tz=F([lE,Tt,N0],g0),rz=F([Tt,lE,tz,St],y0),cE=t=>{var e=St(t),r=Ss(t),n=!1;return wl(t,e,r,n)},uE=F([Tt,cE],Vd),dE=F([Tt,N0,rz,uE],p0),nz=F([Ie,E0,Tt,St],WN),iz=F([Ie,E0,Tt,St],qN),az=(t,e,r,n,i,a,s,o)=>{if(e){var{type:c}=e,u=Ta(t,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Rt(i[0]-i[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}}},ei=F([Ie,Tt,N0,dE,cE,nz,iz,St],az),A0=F([GN,YN,yU],(t,e,r)=>XN(r.shared,t,e)),hE=t=>t.tooltip.settings.trigger,P0=t=>t.tooltip.settings.defaultIndex,Kd=F([ks,A0,hE,P0],rE),ba=F([Kd,Os],_0),fE=F([ei,ba],QN),mE=F([Kd],t=>{if(t)return t.dataKey}),pE=F([ks,A0,hE,P0],iE),sz=F([Yn,Xn,Ie,At,ei,P0,pE,_l],nE),oz=F([Kd,sz],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),lz=F([Kd],t=>t.active),cz=F([pE,ba,ji,IN,fE,_l,A0],aE);F([cz],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(n){uz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uz(t,e,r){return(e=dz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dz(t){var e=hz(t,"string");return typeof e=="symbol"?e:e+""}function hz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fz=()=>ae(Tt),mz=()=>{var t=fz(),e=ae(ei),r=ae(dE);return iu(!t||!r?void 0:A2(A2({},t),{},{scale:r}),e)};function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){pz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pz(t,e,r){return(e=gz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gz(t){var e=vz(t,"string");return typeof e=="symbol"?e:e+""}function vz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yz=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},bz=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=n;return Fa(Fa(Fa({},n),ft(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return Fa(Fa(Fa({},n),ft(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xz(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var gE=(t,e,r,n,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,h=c>=o-1?r[0].coordinate:r[c+1].coordinate,p=void 0;if(Rt(d-u)!==Rt(h-d)){var g=[];if(Rt(h-d)===Rt(i[1]-i[0])){p=h;var b=d+i[1]-i[0];g[0]=Math.min(b,(b+u)/2),g[1]=Math.max(b,(b+u)/2)}else{p=u;var x=h+i[1]-i[0];g[0]=Math.min(d,(x+d)/2),g[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){({index:s}=r[c]);break}}else{var E=Math.min(u,h),A=Math.max(u,h);if(t>(E+d)/2&&t<=(A+d)/2){({index:s}=r[c]);break}}}else if(e){for(var S=0;S<o;S++)if(S===0&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S>0&&S<o-1&&t>(e[S].coordinate+e[S-1].coordinate)/2&&t<=(e[S].coordinate+e[S+1].coordinate)/2||S===o-1&&t>(e[S].coordinate+e[S-1].coordinate)/2){({index:s}=e[S]);break}}return s},wz=()=>ae(Kg),S0=(t,e)=>e,vE=(t,e,r)=>r,T0=(t,e,r,n)=>n,_z=F(ei,t=>pd(t,e=>e.coordinate)),I0=F([ks,S0,vE,T0],rE),yE=F([I0,Os],_0),Nz=(t,e,r)=>{if(e!=null){var n=ks(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},bE=F([ks,S0,vE,T0],iE),Nu=F([Yn,Xn,Ie,At,ei,T0,bE,_l],nE),Ez=F([I0,Nu],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),xE=F([ei,yE],QN),Az=F([bE,yE,ji,IN,xE,_l,S0],aE),Pz=F([I0],t=>({isActive:t.active,activeIndex:t.index})),Sz=(t,e,r,n,i,a,s)=>{if(!(!t||!r||!n||!i)&&xz(t,s)){var o=yD(t,e),c=gE(o,a,i,r,n),u=yz(e,i,c,t);return{activeIndex:String(c),activeCoordinate:u}}},Tz=(t,e,r,n,i,a,s)=>{if(!(!t||!n||!i||!a||!r)){var o=bj(t,r);if(o){var c=bD(o,e),u=gE(c,s,a,n,i),d=bz(e,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},Iz=(t,e,r,n,i,a,s,o)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?Sz(t,e,n,i,a,s,o):Tz(t,e,r,n,i,a,s)},Cz=F(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElementId:n.elementId}}),kz=F(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(Nt)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:bF}});function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){Oz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oz(t,e,r){return(e=Rz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rz(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function Mz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dz={},Lz={zIndexMap:Object.values(Nt).reduce((t,e)=>T2(T2({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Dz)},jz=new Set(Object.values(Nt));function Vz(t){return jz.has(t)}var wE=lr({name:"zIndex",initialState:Lz,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!Vz(r)&&delete t.zIndexMap[r])},prepare:xt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r,elementId:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElementId=n:t.zIndexMap[r].elementId=n:t.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:xt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:xt()}}}),{registerZIndexPortal:$z,unregisterZIndexPortal:Fz,registerZIndexPortalId:Uz,unregisterZIndexPortalId:zz}=wE.actions,Bz=wE.reducer;function Gr(t){var{zIndex:e,children:r}=t,n=qD(),i=n&&e!==void 0&&e!==0,a=cr(),s=Ue();y.useLayoutEffect(()=>i?(s($z({zIndex:e})),()=>{s(Fz({zIndex:e}))}):Sa,[s,e,i]);var o=ae(u=>Cz(u,e,a));if(!i)return r;if(!o)return null;var c=document.getElementById(o);return c?Lu.createPortal(r,c):null}function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(null,arguments)}function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ic(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(n){Hz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hz(t,e,r){return(e=Wz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wz(t){var e=qz(t,"string");return typeof e=="symbol"?e:e+""}function qz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kz(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return y.isValidElement(e)?y.cloneElement(e,n):y.createElement(r,n)}function Gz(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=t,h=r,p=n,g=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var b,x,v;if(d==="ScatterChart")b=h,x=DL,v=Nt.cursorLine;else if(d==="BarChart")b=LL(o,h,a,s),x=u3,v=Nt.cursorRectangle;else if(o==="radial"&&V6(h)){var{cx:E,cy:A,radius:S,startAngle:L,endAngle:k}=h3(h);b={cx:E,cy:A,startAngle:L,endAngle:k,innerRadius:S,outerRadius:S},x=m3,v=Nt.cursorLine}else b={points:Nj(o,h,a)},x=bg,v=Nt.cursorLine;var M=typeof c=="object"&&"className"in c?c.className:void 0,_=ic(ic(ic(ic({stroke:"#ccc",pointerEvents:"none"},a),b),Lo(c)),{},{payload:p,payloadIndex:g,className:De("recharts-tooltip-cursor",M)});return y.createElement(Gr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:v},y.createElement(Kz,{cursor:c,cursorComp:x,cursorProps:_}))}function Yz(t){var e=mz(),r=e3(),n=Sd(),i=wz();return e==null||r==null||n==null||i==null?null:y.createElement(Gz,km({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var _E=y.createContext(null),Xz=()=>y.useContext(_E),NE={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||c,p),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],g]:c._events[b].push(g):(c._events[b]=g,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,b=new Array(g);p<g;p++)b[p]=h[p].fn;return b},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,p,g,b){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],E=arguments.length,A,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),E){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,g),!0;case 6:return v.fn.call(v.context,d,h,p,g,b),!0}for(S=1,A=new Array(E-1);S<E;S++)A[S-1]=arguments[S];v.fn.apply(v.context,A)}else{var L=v.length,k;for(S=0;S<L;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),E){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,h);break;case 4:v[S].fn.call(v[S].context,d,h,p);break;default:if(!A)for(k=1,A=new Array(E-1);k<E;k++)A[k-1]=arguments[k];v[S].fn.apply(v[S].context,A)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return s(this,g),this;var b=this._events[g];if(b.fn)b.fn===d&&(!p||b.once)&&(!h||b.context===h)&&s(this,g);else{for(var x=0,v=[],E=b.length;x<E;x++)(b[x].fn!==d||p&&!b[x].once||h&&b[x].context!==h)&&v.push(b[x]);v.length?this._events[g]=v.length===1?v[0]:v:s(this,g)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(NE);var Qz=NE.exports;const Jz=Oi(Qz);var Ko=new Jz,Om="recharts.syncEvent.tooltip",C2="recharts.syncEvent.brush";function EE(t,e){if(e){var r=Number.parseInt(e,10);if(!Wr(r))return t==null?void 0:t[r]}}var Zz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},AE=lr({name:"options",initialState:Zz,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eB=AE.reducer,{createEventEmitter:tB}=AE.actions;function rB(t){return t.tooltip.syncInteraction}var nB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PE=lr({name:"chartData",initialState:nB,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:k2,setDataStartEndIndexes:iB,setComputedData:mX}=PE.actions,aB=PE.reducer,sB=["x","y"];function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){oB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oB(t,e,r){return(e=lB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lB(t){var e=cB(t,"string");return typeof e=="symbol"?e:e+""}function cB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uB(t,e){if(t==null)return{};var r,n,i=dB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hB(){var t=ae(Gg),e=ae(Yg),r=Ue(),n=ae(gN),i=ae(ei),a=Sd(),s=Pd(),o=ae(c=>c.rootProps.className);y.useEffect(()=>{if(t==null)return Sa;var c=(u,d,h)=>{if(e!==h&&t===u){if(n==="index"){var p;if(s&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var g=d.payload.coordinate,{x:b,y:x}=g,v=uB(g,sB),{x:E,y:A,width:S,height:L}=d.payload.sourceViewBox,k=Ua(Ua({},v),{},{x:s.x+(S?(b-E)/S:0)*s.width,y:s.y+(L?(x-A)/L:0)*s.height});r(Ua(Ua({},d),{},{payload:Ua(Ua({},d.payload),{},{coordinate:k})}))}else r(d);return}if(i!=null){var M;if(typeof n=="function"){var _={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=n(i,_);M=i[T]}else n==="value"&&(M=i.find(K=>String(K.value)===d.payload.label));var{coordinate:N}=d.payload;if(M==null||d.payload.active===!1||N==null||s==null){r(Im({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:C,y:I}=N,D=Math.min(C,s.x+s.width),O=Math.min(I,s.y+s.height),B={x:a==="horizontal"?M.coordinate:D,y:a==="horizontal"?O:M.coordinate},H=Im({active:d.payload.active,coordinate:B,dataKey:d.payload.dataKey,index:String(M.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(H)}}};return Ko.on(Om,c),()=>{Ko.off(Om,c)}},[o,r,e,t,n,i,a,s])}function fB(){var t=ae(Gg),e=ae(Yg),r=Ue();y.useEffect(()=>{if(t==null)return Sa;var n=(i,a,s)=>{e!==s&&t===i&&r(iB(a))};return Ko.on(C2,n),()=>{Ko.off(C2,n)}},[r,e,t])}function mB(){var t=Ue();y.useEffect(()=>{t(tB())},[t]),hB(),fB()}function pB(t,e,r,n,i,a){var s=ae(g=>Nz(g,t,e)),o=ae(Yg),c=ae(Gg),u=ae(gN),d=ae(rB),h=d==null?void 0:d.active,p=Pd();y.useEffect(()=>{if(!h&&c!=null&&o!=null){var g=Im({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p});Ko.emit(Om,c,g,o)}},[h,r,s,i,n,o,c,u,a,p])}function R2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(r),!0).forEach(function(n){gB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gB(t,e,r){return(e=vB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vB(t){var e=yB(t,"string");return typeof e=="symbol"?e:e+""}function yB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bB(t){return t.dataKey}function xB(t,e){return y.isValidElement(t)?y.cloneElement(t,e):typeof t=="function"?y.createElement(t,e):y.createElement(fL,e)}var D2=[],wB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ia.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function L2(t){var e,r,n=Dt(t,wB),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:p,position:g,reverseDirection:b,useTranslate3d:x,wrapperStyle:v,cursor:E,shared:A,trigger:S,defaultIndex:L,portal:k,axisId:M}=n,_=Ue(),T=typeof L=="number"?String(L):L;y.useEffect(()=>{_(_U({shared:A,trigger:S,axisId:M,active:i,defaultIndex:T}))},[_,A,S,M,i,T]);var N=Pd(),C=a3(),I=vU(A),{activeIndex:D,isActive:O}=(e=ae(We=>Pz(We,I,S,T)))!==null&&e!==void 0?e:{},B=ae(We=>Az(We,I,S,T)),H=ae(We=>xE(We,I,S,T)),K=ae(We=>Ez(We,I,S,T)),te=B,pe=Xz(),z=(r=i??O)!==null&&r!==void 0?r:!1,[ee,ce]=m_([te,z]),Pe=I==="axis"?H:void 0;pB(I,S,K,Pe,D,z);var ke=k??pe;if(ke==null||N==null||I==null)return null;var Ye=te??D2;z||(Ye=D2),u&&Ye.length&&(Ye=r_(Ye.filter(We=>We.value!=null&&(We.hide!==!0||n.includeHidden)),p,bB));var nt=Ye.length>0,at=y.createElement(xL,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:z,coordinate:K,hasPayload:nt,offset:h,position:g,reverseDirection:b,useTranslate3d:x,viewBox:N,wrapperStyle:v,lastBoundingBox:ee,innerRef:ce,hasPortalFromProps:!!k},xB(c,M2(M2({},n),{},{payload:Ye,label:Pe,active:z,activeIndex:D,coordinate:K,accessibilityLayer:C})));return y.createElement(y.Fragment,null,Lu.createPortal(at,ke),z&&y.createElement(Yz,{cursor:E,tooltipEventType:I,coordinate:K,payload:Ye,index:D}))}var El=t=>null;El.displayName="Cell";function _B(t,e,r){return(e=NB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NB(t){var e=EB(t,"string");return typeof e=="symbol"?e:e+""}function EB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AB{constructor(e){_B(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){SB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SB(t,e,r){return(e=TB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TB(t){var e=IB(t,"string");return typeof e=="symbol"?e:e+""}function IB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CB={cacheSize:2e3,enableCache:!0},SE=PB({},CB),V2=new AB(SE.cacheSize),kB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$2="recharts_measurement_span";function OB(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var F2=(t,e)=>{try{var r=document.getElementById($2);r||(r=document.createElement("span"),r.setAttribute("id",$2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,kB,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Po=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ia.isSsr)return{width:0,height:0};if(!SE.enableCache)return F2(e,r);var n=OB(e,r),i=V2.get(n);if(i)return i;var a=F2(e,r);return V2.set(n,a),a},U2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DB=Object.keys(TE),Xa="NaN";function LB(t,e){return t*TE[e]}class rr{static parse(e){var r,[,n,i]=(r=MB.exec(e))!==null&&r!==void 0?r:[];return new rr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Wr(e)&&(this.unit=""),r!==""&&!RB.test(r)&&(this.num=NaN,this.unit=""),DB.includes(r)&&(this.num=LB(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new rr(NaN,""):new rr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new rr(NaN,""):new rr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rr(NaN,""):new rr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new rr(NaN,""):new rr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wr(this.num)}}function IE(t){if(t.includes(Xa))return Xa;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=U2.exec(e))!==null&&r!==void 0?r:[],s=rr.parse(n??""),o=rr.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Xa;e=e.replace(U2,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,p]=(u=z2.exec(e))!==null&&u!==void 0?u:[],g=rr.parse(d??""),b=rr.parse(p??""),x=h==="+"?g.add(b):g.subtract(b);if(x.isNaN())return Xa;e=e.replace(z2,x.toString())}return e}var B2=/\(([^()]*)\)/;function jB(t){for(var e=t,r;(r=B2.exec(e))!=null;){var[,n]=r;e=e.replace(B2,IE(n))}return e}function VB(t){var e=t.replace(/\s+/g,"");return e=jB(e),e=IE(e),e}function $B(t){try{return VB(t)}catch{return Xa}}function lf(t){var e=$B(t.slice(5,-1));return e===Xa?"":e}var FB=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],UB=["dx","dy","angle","className","breakAll"];function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(null,arguments)}function H2(t,e){if(t==null)return{};var r,n,i=zB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var CE=/[ \f\n\r\t\v\u2028\u2029]+/,kE=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];Mt(e)||(r?i=e.toString().split(""):i=e.toString().split(CE));var a=i.map(o=>({word:o,width:Po(o,n).width})),s=r?0:Po("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function BB(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var OE=(t,e,r,n)=>t.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(e==null||n||c.width+o+r<Number(e)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),RE=t=>t.reduce((e,r)=>e.width>r.width?e:r),HB="",W2=(t,e,r,n,i,a,s,o)=>{var c=t.slice(0,e),u=kE({breakAll:r,style:n,children:c+HB});if(!u)return[!1,[]];var d=OE(u.wordsWithComputedWidth,a,s,o),h=d.length>i||RE(d).width>Number(a);return[h,d]},WB=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=t,u=oe(a),d=String(s),h=OE(e,n,r,i);if(!u||i)return h;var p=h.length>a||RE(h).width>Number(n);if(!p)return h;for(var g=0,b=d.length-1,x=0,v;g<=b&&x<=d.length-1;){var E=Math.floor((g+b)/2),A=E-1,[S,L]=W2(d,A,c,o,a,n,r,i),[k]=W2(d,E,c,o,a,n,r,i);if(!S&&!k&&(g=E+1),S&&k&&(b=E-1),!S&&k){v=L;break}x++}return v||h},q2=t=>{var e=Mt(t)?[]:t.toString().split(CE);return[{words:e,width:void 0}]},qB=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!Ia.isSsr){var o,c,u=kE({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,c=h}else return q2(n);return WB({breakAll:a,children:n,maxLines:s,style:i},o,c,e,!!r)}return q2(n)},ME="#808080",KB={breakAll:!1,capHeight:"0.71em",fill:ME,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Gd=y.forwardRef((t,e)=>{var r=Dt(t,KB),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=H2(r,FB),p=y.useMemo(()=>qB({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:g,dy:b,angle:x,className:v,breakAll:E}=h,A=H2(h,UB);if(!gn(n)||!gn(i)||p.length===0)return null;var S=Number(n)+(oe(g)?g:0),L=Number(i)+(oe(b)?b:0);if(!lt(S)||!lt(L))return null;var k;switch(d){case"start":k=lf("calc(".concat(s,")"));break;case"middle":k=lf("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=lf("calc(".concat(p.length-1," * -").concat(a,")"));break}var M=[];if(c){var _=p[0].width,{width:T}=h;M.push("scale(".concat(oe(T)&&oe(_)?T/_:1,")"))}return x&&M.push("rotate(".concat(x,", ").concat(S,", ").concat(L,")")),M.length&&(A.transform=M.join(" ")),y.createElement("text",Rm({},Rr(A),{ref:e,x:S,y:L,className:De("recharts-text",v),textAnchor:u,fill:o.includes("url")?ME:o}),p.map((N,C)=>{var I=N.words.join(E?"":" ");return y.createElement("tspan",{x:S,dy:C===0?k:a,key:"".concat(I,"-").concat(C)},I)}))});Gd.displayName="Text";var GB=["labelRef"];function YB(t,e){if(t==null)return{};var r,n,i=XB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function XB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function K2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(r),!0).forEach(function(n){QB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QB(t,e,r){return(e=JB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JB(t){var e=ZB(t,"string");return typeof e=="symbol"?e:e+""}function ZB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tn(){return Tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tn.apply(null,arguments)}var DE=y.createContext(null),eH=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=t,c=y.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[e,r,n,i,a,s]);return y.createElement(DE.Provider,{value:c},o)},LE=()=>{var t=y.useContext(DE),e=Pd();return t||Z_(e)},tH=y.createContext(null),rH=()=>{var t=y.useContext(tH),e=ae(wN);return t||e},nH=t=>{var{value:e,formatter:r}=t,n=Mt(t.children)?e:t.children;return typeof r=="function"?r(n):n},C0=t=>t!=null&&typeof t=="function",iH=(t,e)=>{var r=Rt(e-t),n=Math.min(Math.abs(e-t),360);return r*n},aH=(t,e,r,n,i)=>{var{offset:a,className:s}=t,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:p,clockWise:g}=i,b=(u+d)/2,x=iH(h,p),v=x>=0?1:-1,E,A;switch(e){case"insideStart":E=h+v*a,A=g;break;case"insideEnd":E=p-v*a,A=!g;break;case"end":E=p+v*a,A=g;break;default:throw new Error("Unsupported position ".concat(e))}A=x<=0?A:!A;var S=ft(o,c,b,E),L=ft(o,c,b,E+(A?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(L.x,",").concat(L.y),M=Mt(t.id)?jo("recharts-radial-line-"):t.id;return y.createElement("text",Tn({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:M,d:k})),y.createElement("textPath",{xlinkHref:"#".concat(M)},r))},sH=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=t,u=(o+c)/2;if(r==="outside"){var{x:d,y:h}=ft(n,i,s+e,u);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:g,y:b}=ft(n,i,p,u);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Mm=t=>"cx"in t&&oe(t.cx),oH=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!Mm(r)&&(a=r);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=e,h=s,p=s+(c-u)/2,g=(h+p)/2,b=(c+u)/2,x=h+c/2,v=d>=0?1:-1,E=v*n,A=v>0?"end":"start",S=v>0?"start":"end",L=c>=0?1:-1,k=L*n,M=L>0?"end":"start",_=L>0?"start":"end";if(i==="top"){var T={x:h+c/2,y:o-E,textAnchor:"middle",verticalAnchor:A};return st(st({},T),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var N={x:p+u/2,y:o+d+E,textAnchor:"middle",verticalAnchor:S};return st(st({},N),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var C={x:g-k,y:o+d/2,textAnchor:M,verticalAnchor:"middle"};return st(st({},C),a?{width:Math.max(C.x-a.x,0),height:d}:{})}if(i==="right"){var I={x:g+b+k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"};return st(st({},I),a?{width:Math.max(a.x+a.width-I.x,0),height:d}:{})}var D=a?{width:b,height:d}:{};return i==="insideLeft"?st({x:g+k,y:o+d/2,textAnchor:_,verticalAnchor:"middle"},D):i==="insideRight"?st({x:g+b-k,y:o+d/2,textAnchor:M,verticalAnchor:"middle"},D):i==="insideTop"?st({x:h+c/2,y:o+E,textAnchor:"middle",verticalAnchor:S},D):i==="insideBottom"?st({x:p+u/2,y:o+d-E,textAnchor:"middle",verticalAnchor:A},D):i==="insideTopLeft"?st({x:h+k,y:o+E,textAnchor:_,verticalAnchor:S},D):i==="insideTopRight"?st({x:h+c-k,y:o+E,textAnchor:M,verticalAnchor:S},D):i==="insideBottomLeft"?st({x:p+k,y:o+d-E,textAnchor:_,verticalAnchor:A},D):i==="insideBottomRight"?st({x:p+u-k,y:o+d-E,textAnchor:M,verticalAnchor:A},D):i&&typeof i=="object"&&(oe(i.x)||Fn(i.x))&&(oe(i.y)||Fn(i.y))?st({x:s+Yt(i.x,b),y:o+Yt(i.y,d),textAnchor:"end",verticalAnchor:"end"},D):st({x,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},D)},lH={offset:5,zIndex:Nt.label};function mi(t){var e=Dt(t,lH),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:u}=e,d=rH(),h=LE(),p=n==="center"?h:d??h,g,b,x;if(r==null?g=p:Mm(r)?g=r:g=Z_(r),!g||Mt(i)&&Mt(a)&&!y.isValidElement(s)&&typeof s!="function")return null;var v=st(st({},e),{},{viewBox:g});if(y.isValidElement(s)){var E=YB(v,GB);return y.cloneElement(s,E)}if(typeof s=="function"){if(b=y.createElement(s,v),y.isValidElement(b))return b}else b=nH(e);var A=Rr(e);if(Mm(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return aH(e,n,b,A,g);x=sH(g,e.offset,e.position)}else x=oH(e,g);return y.createElement(Gr,{zIndex:e.zIndex},y.createElement(Gd,Tn({ref:u,className:De("recharts-label",o)},A,x,{textAnchor:BB(A.textAnchor)?A.textAnchor:x.textAnchor,breakAll:c}),b))}mi.displayName="Label";var cH=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?y.createElement(mi,Tn({key:"label-implicit"},n)):gn(t)?y.createElement(mi,Tn({key:"label-implicit",value:t},n)):y.isValidElement(t)?t.type===mi?y.cloneElement(t,st({key:"label-implicit"},n)):y.createElement(mi,Tn({key:"label-implicit",content:t},n)):C0(t)?y.createElement(mi,Tn({key:"label-implicit",content:t},n)):t&&typeof t=="object"?y.createElement(mi,Tn({},t,{key:"label-implicit"},n)):null};function uH(t){var{label:e,labelRef:r}=t,n=LE();return cH(e,n,r)||null}var jE={},VE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(VE);var $E={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})($E);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VE,r=$E,n=fd;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(jE);var dH=jE.last;const hH=Oi(dH);var fH=["valueAccessor"],mH=["dataKey","clockWise","id","textBreakAll","zIndex"];function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(null,arguments)}function G2(t,e){if(t==null)return{};var r,n,i=pH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var gH=t=>Array.isArray(t.value)?hH(t.value):t.value,FE=y.createContext(void 0),vH=FE.Provider,UE=y.createContext(void 0),yH=UE.Provider;function bH(){return y.useContext(FE)}function xH(){return y.useContext(UE)}function yc(t){var{valueAccessor:e=gH}=t,r=G2(t,fH),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=G2(r,mH),u=bH(),d=xH(),h=u||d;return!h||!h.length?null:y.createElement(Gr,{zIndex:o??Nt.label},y.createElement(Zt,{className:"recharts-label-list"},h.map((p,g)=>{var b,x=Mt(n)?e(p,g):et(p&&p.payload,n),v=Mt(a)?{}:{id:"".concat(a,"-").concat(g)};return y.createElement(mi,Eu({key:"label-".concat(g)},Rr(p),c,v,{fill:(b=r.fill)!==null&&b!==void 0?b:p.fill,parentViewBox:p.parentViewBox,value:x,textBreakAll:s,viewBox:p.viewBox,index:g,zIndex:0}))})))}yc.displayName="LabelList";function zE(t){var{label:e}=t;return e?e===!0?y.createElement(yc,{key:"labelList-implicit"}):y.isValidElement(e)||C0(e)?y.createElement(yc,{key:"labelList-implicit",content:e}):typeof e=="object"?y.createElement(yc,Eu({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var BE=t=>t.graphicalItems.polarItems,wH=F([Ge,yl],t0),Yd=F([BE,rt,wH],n0),_H=F([Yd],i0),Xd=F([_H,Bg],a0),NH=F([Xd,rt,Yd],o0);F([Xd,rt,Yd],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,s=et(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:et(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var Y2=()=>{},EH=F([Xd,rt,Yd,Hd,Ge],d0),AH=F([rt,c0,u0,Y2,EH,Y2,Ie,Ge],h0),HE=F([rt,Ie,Xd,NH,vl,Ge,AH],f0),PH=F([HE,rt,Is],g0);F([rt,HE,PH,Ge],y0);var SH={radiusAxis:{},angleAxis:{}},WE=lr({name:"polarAxis",initialState:SH,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});WE.actions;var TH=WE.reducer;function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){IH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IH(t,e,r){return(e=CH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CH(t){var e=kH(t,"string");return typeof e=="symbol"?e:e+""}function kH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OH=(t,e)=>e,k0=F([BE,OH],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),RH=[],O0=(t,e,r)=>(r==null?void 0:r.length)===0?RH:r,qE=F([Bg,k0,O0],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>Q2(Q2({},e.presentationProps),a.props))),i!=null)return i}}),MH=F([qE,k0,O0],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,s=et(n,e.nameKey,e.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:wd(s,e.dataKey),color:o,payload:n,type:e.legendType}})}),DH=F([qE,k0,O0,At],(t,e,r,n)=>{if(!(e==null||t==null))return jW({offset:n,pieSettings:e,displayedData:t,cells:r})}),KE={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt=typeof Symbol=="function"&&Symbol.for,R0=jt?Symbol.for("react.element"):60103,M0=jt?Symbol.for("react.portal"):60106,Qd=jt?Symbol.for("react.fragment"):60107,Jd=jt?Symbol.for("react.strict_mode"):60108,Zd=jt?Symbol.for("react.profiler"):60114,eh=jt?Symbol.for("react.provider"):60109,th=jt?Symbol.for("react.context"):60110,D0=jt?Symbol.for("react.async_mode"):60111,rh=jt?Symbol.for("react.concurrent_mode"):60111,nh=jt?Symbol.for("react.forward_ref"):60112,ih=jt?Symbol.for("react.suspense"):60113,LH=jt?Symbol.for("react.suspense_list"):60120,ah=jt?Symbol.for("react.memo"):60115,sh=jt?Symbol.for("react.lazy"):60116,jH=jt?Symbol.for("react.block"):60121,VH=jt?Symbol.for("react.fundamental"):60117,$H=jt?Symbol.for("react.responder"):60118,FH=jt?Symbol.for("react.scope"):60119;function _r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case R0:switch(t=t.type,t){case D0:case rh:case Qd:case Zd:case Jd:case ih:return t;default:switch(t=t&&t.$$typeof,t){case th:case nh:case sh:case ah:case eh:return t;default:return e}}case M0:return e}}}function GE(t){return _r(t)===rh}Le.AsyncMode=D0;Le.ConcurrentMode=rh;Le.ContextConsumer=th;Le.ContextProvider=eh;Le.Element=R0;Le.ForwardRef=nh;Le.Fragment=Qd;Le.Lazy=sh;Le.Memo=ah;Le.Portal=M0;Le.Profiler=Zd;Le.StrictMode=Jd;Le.Suspense=ih;Le.isAsyncMode=function(t){return GE(t)||_r(t)===D0};Le.isConcurrentMode=GE;Le.isContextConsumer=function(t){return _r(t)===th};Le.isContextProvider=function(t){return _r(t)===eh};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===R0};Le.isForwardRef=function(t){return _r(t)===nh};Le.isFragment=function(t){return _r(t)===Qd};Le.isLazy=function(t){return _r(t)===sh};Le.isMemo=function(t){return _r(t)===ah};Le.isPortal=function(t){return _r(t)===M0};Le.isProfiler=function(t){return _r(t)===Zd};Le.isStrictMode=function(t){return _r(t)===Jd};Le.isSuspense=function(t){return _r(t)===ih};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qd||t===rh||t===Zd||t===Jd||t===ih||t===LH||typeof t=="object"&&t!==null&&(t.$$typeof===sh||t.$$typeof===ah||t.$$typeof===eh||t.$$typeof===th||t.$$typeof===nh||t.$$typeof===VH||t.$$typeof===$H||t.$$typeof===FH||t.$$typeof===jH)};Le.typeOf=_r;KE.exports=Le;var UH=KE.exports,J2=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Z2=null,cf=null,YE=t=>{if(t===Z2&&Array.isArray(cf))return cf;var e=[];return y.Children.forEach(t,r=>{Mt(r)||(UH.isFragment(r)?e=e.concat(YE(r.props.children)):e.push(r))}),cf=e,Z2=t,e};function L0(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>J2(i)):n=[J2(e)],YE(t).forEach(i=>{var a=ma(i,"type.displayName")||ma(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var XE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(XE);var zH=XE.isPlainObject;const BH=Oi(zH);function ex(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(r),!0).forEach(function(n){HH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HH(t,e,r){return(e=WH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WH(t){var e=qH(t,"string");return typeof e=="symbol"?e:e+""}function qH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Au.apply(null,arguments)}var rx=(t,e,r,n,i)=>{var a=r-n,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+r,",").concat(e),s+="L ".concat(t+r-a/2,",").concat(e+i),s+="L ".concat(t+r-a/2-n,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},KH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GH=t=>{var e=Dt(t,KH),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,p=y.useRef(null),[g,b]=y.useState(-1),x=y.useRef(i),v=y.useRef(a),E=y.useRef(s),A=y.useRef(r),S=y.useRef(n),L=Cd(t,"trapezoid-");if(y.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var B=p.current.getTotalLength();B&&b(B)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=De("recharts-trapezoid",o);if(!h)return y.createElement("g",null,y.createElement("path",Au({},Rr(e),{className:k,d:rx(r,n,i,a,s)})));var M=x.current,_=v.current,T=E.current,N=A.current,C=S.current,I="0px ".concat(g===-1?1:g,"px"),D="".concat(g,"px 0px"),O=s3(["strokeDasharray"],u,c);return y.createElement(Id,{animationId:L,key:L,canBegin:g>0,duration:u,easing:c,isActive:h,begin:d},B=>{var H=yt(M,i,B),K=yt(_,a,B),te=yt(T,s,B),pe=yt(N,r,B),z=yt(C,n,B);p.current&&(x.current=H,v.current=K,E.current=te,A.current=pe,S.current=z);var ee=B>0?{transition:O,strokeDasharray:D}:{strokeDasharray:I};return y.createElement("path",Au({},Rr(e),{className:k,d:rx(pe,z,H,K,te),ref:p,style:tx(tx({},ee),e.style)}))})},YH=["option","shapeType","propTransformer","activeClassName","isActive"];function XH(t,e){if(t==null)return{};var r,n,i=QH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function QH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(r),!0).forEach(function(n){JH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JH(t,e,r){return(e=ZH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=eW(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tW(t,e){return Pu(Pu({},e),t)}function rW(t,e){return t==="symbols"}function ix(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return y.createElement(u3,r);case"trapezoid":return y.createElement(GH,r);case"sector":return y.createElement(m3,r);case"symbols":if(rW(e))return y.createElement(Qp,r);break;case"curve":return y.createElement(bg,r);default:return null}}function nW(t){return y.isValidElement(t)?t.props:t}function QE(t){var{option:e,shapeType:r,propTransformer:n=tW,activeClassName:i="recharts-active-shape",isActive:a}=t,s=XH(t,YH),o;if(y.isValidElement(e))o=y.cloneElement(e,Pu(Pu({},s),nW(e)));else if(typeof e=="function")o=e(s);else if(BH(e)&&typeof e!="boolean"){var c=n(e,s);o=y.createElement(ix,{shapeType:r,elementProps:c})}else{var u=s;o=y.createElement(ix,{shapeType:r,elementProps:u})}return a?y.createElement(Zt,{className:i},o):o}var j0=(t,e)=>{var r=Ue();return(n,i)=>a=>{t==null||t(n,i,a),r(ZN({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},V0=t=>{var e=Ue();return(r,n)=>i=>{t==null||t(r,n,i),e(NU())}},$0=(t,e)=>{var r=Ue();return(n,i)=>a=>{t==null||t(n,i,a),r(EU({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function JE(t){var{fn:e,args:r}=t,n=Ue(),i=cr();return y.useLayoutEffect(()=>{if(!i){var a=e(r);return n(xU(a)),()=>{n(wU(a))}}},[e,r,n,i]),null}function iW(t){var{legendPayload:e}=t,r=Ue(),n=cr();return y.useLayoutEffect(()=>n?Sa:(r(r3(e)),()=>{r(n3(e))}),[r,n,e]),null}function aW(t){var{legendPayload:e}=t,r=Ue(),n=ae(Ie);return y.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?Sa:(r(r3(e)),()=>{r(n3(e))}),[r,n,e]),null}var uf,sW=()=>{var[t]=y.useState(()=>jo("uid-"));return t},oW=(uf=r5["useId".toString()])!==null&&uf!==void 0?uf:sW;function ZE(t,e){var r=oW();return e||(t?"".concat(t,"-").concat(r):r)}var lW=y.createContext(void 0),eA=t=>{var{id:e,type:r,children:n}=t,i=ZE("recharts-".concat(r),e);return y.createElement(lW.Provider,{value:i},n(i))},cW={cartesianItems:[],polarItems:[]},tA=lr({name:"graphicalItems",initialState:cW,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:xt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=Mn(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:xt()},removeCartesianGraphicalItem:{reducer(t,e){var r=Mn(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:xt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:xt()},removePolarGraphicalItem:{reducer(t,e){var r=Mn(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:xt()}}}),{addCartesianGraphicalItem:uW,replaceCartesianGraphicalItem:dW,removeCartesianGraphicalItem:hW,addPolarGraphicalItem:fW,removePolarGraphicalItem:mW}=tA.actions,pW=tA.reducer;function gW(t){var e=Ue(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?e(uW(t)):r.current!==t&&e(dW({prev:r.current,next:t})),r.current=t},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(e(hW(r.current)),r.current=null)},[e]),null}function vW(t){var e=Ue();return y.useLayoutEffect(()=>(e(fW(t)),()=>{e(mW(t))}),[e,t]),null}var yW=["onMouseEnter","onClick","onMouseLeave"],bW=["id"],xW=["id"];function F0(t,e){if(t==null)return{};var r,n,i=wW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ax(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(r),!0).forEach(function(n){_W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _W(t,e,r){return(e=NW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NW(t){var e=EW(t,"string");return typeof e=="symbol"?e:e+""}function EW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ki(){return ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ki.apply(null,arguments)}function AW(t){var e=y.useMemo(()=>L0(t.children,El),[t.children]),r=ae(n=>MH(n,t.id,e));return r==null?null:y.createElement(aW,{legendPayload:r})}function PW(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:r,name:wd(o,e),hide:c,type:u,color:s,unit:""}}}var SW=(t,e)=>t>e?"start":t<e?"end":"middle",TW=(t,e,r)=>Yt(typeof e=="function"?e(t):e,r,r*.8),IW=(t,e,r)=>{var{top:n,left:i,width:a,height:s}=e,o=d3(a,s),c=i+Yt(t.cx,a,a/2),u=n+Yt(t.cy,s,s/2),d=Yt(t.innerRadius,o,0),h=TW(r,t.outerRadius,o),p=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:p}},CW=(t,e)=>{var r=Rt(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function kW(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var OW=(t,e)=>{if(y.isValidElement(t))return y.cloneElement(t,e);if(typeof t=="function")return t(e);var r=De("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return y.createElement(bg,ki({},e,{type:"linear",className:r}))},RW=(t,e,r)=>{if(y.isValidElement(t))return y.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),y.isValidElement(n)))return n;var i=De("recharts-pie-label-text",kW(t));return y.createElement(Gd,ki({},e,{alignmentBaseline:"middle",className:i}),n)};function MW(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!e)return null;var o=Hr(r),c=Lo(i),u=Lo(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((p,g)=>{var b=(p.startAngle+p.endAngle)/2,x=ft(p.cx,p.cy,p.outerRadius+d,b),v=qe(qe(qe(qe({},o),p),{},{stroke:"none"},c),{},{index:g,textAnchor:SW(x.x,p.cx)},x),E=qe(qe(qe(qe({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:g,points:[ft(p.cx,p.cy,p.outerRadius,b),x],key:"line"});return y.createElement(Gr,{zIndex:Nt.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},y.createElement(Zt,null,a&&OW(a,E),RW(i,v,et(p,s))))});return y.createElement(Zt,{className:"recharts-pie-labels"},h)}function DW(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?y.createElement(zE,{label:i}):y.createElement(MW,{sectors:e,props:r,showLabels:n})}function LW(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=ae(ba),{onMouseEnter:s,onClick:o,onMouseLeave:c}=i,u=F0(i,yW),d=j0(s,i.dataKey),h=V0(c),p=$0(o,i.dataKey);return e==null||e.length===0?null:y.createElement(y.Fragment,null,e.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&e.length!==1)return null;var x=r&&String(b)===a,v=a?n:null,E=x?r:v,A=qe(qe({},g),{},{stroke:g.stroke,tabIndex:-1,[W_]:b,[q_]:i.dataKey});return y.createElement(Zt,ki({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},cl(u,g,b),{onMouseEnter:d(g,b),onMouseLeave:h(g,b),onClick:p(g,b)}),y.createElement(QE,ki({option:E,isActive:x,shapeType:"sector"},A)))}))}function jW(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,p=Math.abs(r.minAngle),g=CW(o,c),b=Math.abs(g),x=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,v=n.filter(M=>et(M,u,0)!==0).length,E=(b>=360?v:v-1)*x,A=b-v*p-E,S=n.reduce((M,_)=>{var T=et(_,u,0);return M+(oe(T)?T:0)},0),L;if(S>0){var k;L=n.map((M,_)=>{var T=et(M,u,0),N=et(M,d,_),C=IW(r,a,M),I=(oe(T)?T:0)/S,D,O=qe(qe({},M),i&&i[_]&&i[_].props);_?D=k.endAngle+Rt(g)*x*(T!==0?1:0):D=o;var B=D+Rt(g)*((T!==0?p:0)+I*A),H=(D+B)/2,K=(C.innerRadius+C.outerRadius)/2,te=[{name:N,value:T,payload:O,dataKey:u,type:h}],pe=ft(C.cx,C.cy,K,H);return k=qe(qe(qe(qe({},r.presentationProps),{},{percent:I,cornerRadius:typeof s=="string"?parseFloat(s):s,name:N,tooltipPayload:te,midAngle:H,middleRadius:K,tooltipPosition:pe},O),C),{},{value:T,startAngle:D,endAngle:B,payload:O,paddingAngle:Rt(g)*x}),k})}return L}function VW(t){var{showLabels:e,sectors:r,children:n}=t,i=y.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return y.createElement(yH,{value:e?i:void 0},n)}function $W(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,p=Cd(e,"recharts-pie-"),g=r.current,[b,x]=y.useState(!1),v=y.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),E=y.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return y.createElement(VW,{showLabels:!b,sectors:n},y.createElement(Id,{animationId:p,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:E,onAnimationEnd:v,key:p},A=>{var S=[],L=n&&n[0],k=L==null?void 0:L.startAngle;return n==null||n.forEach((M,_)=>{var T=g&&g[_],N=_>0?ma(M,"paddingAngle",0):0;if(T){var C=yt(T.endAngle-T.startAngle,M.endAngle-M.startAngle,A),I=qe(qe({},M),{},{startAngle:k+N,endAngle:k+C+N});S.push(I),k=I.endAngle}else{var{endAngle:D,startAngle:O}=M,B=yt(0,D-O,A),H=qe(qe({},M),{},{startAngle:k+N,endAngle:k+B+N});S.push(H),k=H.endAngle}}),r.current=S,y.createElement(Zt,null,y.createElement(LW,{sectors:S,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),y.createElement(DW,{showLabels:!b,sectors:n,props:e}),e.children)}var FW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ia.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Nt.area};function UW(t){var{id:e}=t,r=F0(t,bW),{hide:n,className:i,rootTabIndex:a}=t,s=y.useMemo(()=>L0(t.children,El),[t.children]),o=ae(d=>DH(d,e,s)),c=y.useRef(null),u=De("recharts-pie",i);return n||o==null?(c.current=null,y.createElement(Zt,{tabIndex:a,className:u})):y.createElement(Gr,{zIndex:t.zIndex},y.createElement(JE,{fn:PW,args:qe(qe({},t),{},{sectors:o})}),y.createElement(Zt,{tabIndex:a,className:u},y.createElement($W,{props:qe(qe({},r),{},{sectors:o}),previousSectorsRef:c})))}function rA(t){var e=Dt(t,FW),{id:r}=e,n=F0(e,xW),i=Hr(n);return y.createElement(eA,{id:r,type:"pie"},a=>y.createElement(y.Fragment,null,y.createElement(vW,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),y.createElement(AW,ki({},n,{id:a})),y.createElement(UW,ki({},n,{id:a}))))}rA.displayName="Pie";function sx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ox(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sx(Object(r),!0).forEach(function(n){zW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zW(t,e,r){return(e=BW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BW(t){var e=HW(t,"string");return typeof e=="symbol"?e:e+""}function HW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WW={xAxis:{},yAxis:{},zAxis:{}},nA=lr({name:"cartesianAxis",initialState:WW,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:xt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:xt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:xt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:xt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:xt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:xt()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);t.yAxis[r]=ox(ox({},t.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:qW,removeXAxis:KW,addYAxis:GW,removeYAxis:YW,addZAxis:pX,removeZAxis:gX,updateYAxisWidth:XW}=nA.actions,QW=nA.reducer,JW=F([At],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ZW=F([JW,Yn,Xn],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),iA=()=>ae(ZW),eq=!0,df="Invariant failed";function tq(t,e){if(!t){if(eq)throw new Error(df);var r=typeof e=="function"?e():e,n=r?"".concat(df,": ").concat(r):df;throw new Error(n)}}var rq=["x","y"];function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(null,arguments)}function lx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(r),!0).forEach(function(n){nq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nq(t,e,r){return(e=iq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iq(t){var e=aq(t,"string");return typeof e=="symbol"?e:e+""}function aq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sq(t,e){if(t==null)return{};var r,n,i=oq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lq(t,e){var{x:r,y:n}=t,i=sq(t,rq),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return io(io(io(io(io({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function Su(t){return y.createElement(QE,Dm({shapeType:"rectangle",propTransformer:lq,activeClassName:"recharts-active-bar"},t))}var cq=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(oe(e))return e;var a=oe(n)||Mt(n);return a?e(n,i):(a||tq(!1),r)}},uq={},aA=lr({name:"errorBars",initialState:uq,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}});aA.actions;var dq=aA.reducer,hq=["children"];function fq(t,e){if(t==null)return{};var r,n,i=mq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gq=y.createContext(pq);function vq(t){var{children:e}=t,r=fq(t,hq);return y.createElement(gq.Provider,{value:r},e)}function sA(t,e){var r,n,i=ae(u=>Jn(u,t)),a=ae(u=>Zn(u,e)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:fr.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function yq(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=iA(),{needClipX:a,needClipY:s,needClip:o}=sA(e,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:h}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?c:c-d/2,y:s?u:u-h/2,width:a?d:d*2,height:s?h:h*2}))}function bq(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&lt(t.zIndex)?t.zIndex:e}var xq=["onMouseEnter","onMouseLeave","onClick"],wq=["value","background","tooltipPosition"],_q=["id"],Nq=["onMouseEnter","onClick","onMouseLeave"];function qn(){return qn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qn.apply(null,arguments)}function cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(r),!0).forEach(function(n){Eq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eq(t,e,r){return(e=Aq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aq(t){var e=Pq(t,"string");return typeof e=="symbol"?e:e+""}function Pq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tu(t,e){if(t==null)return{};var r,n,i=Sq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tq=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:wd(r,e),payload:t}]};function Iq(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:wd(a,e),hide:s,type:t.tooltipType,color:t.fill,unit:o}}}function Cq(t){var e=ae(ba),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=Tu(a,xq),d=j0(s,n),h=V0(o),p=$0(c,n);if(!i||r==null)return null;var g=Lo(i);return y.createElement(Gr,{zIndex:bq(i,Nt.barBackground)},r.map((b,x)=>{var{value:v,background:E,tooltipPosition:A}=b,S=Tu(b,wq);if(!E)return null;var L=d(b,x),k=h(b,x),M=p(b,x),_=Qt(Qt(Qt(Qt(Qt({option:i,isActive:String(x)===e},S),{},{fill:"#eee"},E),g),cl(u,b,x)),{},{onMouseEnter:L,onMouseLeave:k,onClick:M,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(Su,qn({key:"background-bar-".concat(x)},_))}))}function kq(t){var{showLabels:e,children:r,rects:n}=t,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Qt(Qt({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return y.createElement(vH,{value:e?i:void 0},r)}function Oq(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=t,o=ae(ba),c=ae(mE),u=r&&String(a)===o&&(c==null||s===c),d=u?r:e;return u?y.createElement(Gr,{zIndex:Nt.activeBar},y.createElement(Su,qn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):y.createElement(Su,qn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function Rq(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return y.createElement(Su,qn({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:a}))}function Mq(t){var e,{data:r,props:n}=t,i=(e=Hr(n))!==null&&e!==void 0?e:{},a=Tu(i,_q),{shape:s,dataKey:o,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,p=Tu(n,Nq),g=j0(u,o),b=V0(h),x=$0(d,o);return r?y.createElement(y.Fragment,null,r.map((v,E)=>y.createElement(Zt,qn({key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(E),className:"recharts-bar-rectangle"},cl(p,v,E),{onMouseEnter:g(v,E),onMouseLeave:b(v,E),onClick:x(v,E)}),c?y.createElement(Oq,{shape:s,activeBar:c,baseProps:a,entry:v,index:E,dataKey:o}):y.createElement(Rq,{shape:s,baseProps:a,entry:v,index:E,dataKey:o})))):null}function Dq(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,h=r.current,p=Cd(e,"recharts-bar-"),[g,b]=y.useState(!1),x=!g,v=y.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),E=y.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return y.createElement(kq,{showLabels:x,rects:n},y.createElement(Id,{animationId:p,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:v,onAnimationStart:E,key:p},A=>{var S=A===1?n:n==null?void 0:n.map((L,k)=>{var M=h&&h[k];if(M)return Qt(Qt({},L),{},{x:yt(M.x,L.x,A),y:yt(M.y,L.y,A),width:yt(M.width,L.width,A),height:yt(M.height,L.height,A)});if(i==="horizontal"){var _=yt(0,L.height,A),T=yt(L.stackedBarStart,L.y,A);return Qt(Qt({},L),{},{y:T,height:_})}var N=yt(0,L.width,A),C=yt(L.stackedBarStart,L.x,A);return Qt(Qt({},L),{},{width:N,x:C})});return A>0&&(r.current=S??null),S==null?null:y.createElement(Zt,null,y.createElement(Mq,{props:e,data:S}))}),y.createElement(zE,{label:e.label}),e.children)}function Lq(t){var e=y.useRef(null);return y.createElement(Dq,{previousRectanglesRef:e,props:t})}var oA=0,jq=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:et(t,e)}};class Vq extends y.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(e||r==null)return null;var d=De("recharts-bar",i),h=u;return y.createElement(Zt,{className:d,id:u},o&&y.createElement("defs",null,y.createElement(yq,{clipPathId:h,xAxisId:a,yAxisId:s})),y.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},y.createElement(Cq,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(Lq,this.props)))}}var $q={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ia.isSsr,legendType:"rect",minPointSize:oA,xAxisId:0,yAxisId:0,zIndex:Nt.bar};function Fq(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:h}=sA(e,r),p=Sd(),g=cr(),b=L0(t.children,El),x=ae(A=>mK(A,e,r,g,t.id,b));if(p!=="vertical"&&p!=="horizontal")return null;var v,E=x==null?void 0:x[0];return E==null||E.height==null||E.width==null?v=0:v=p==="vertical"?E.height/2:E.width/2,y.createElement(vq,{xAxisId:e,yAxisId:r,data:x,dataPointFormatter:jq,errorBarOffset:v},y.createElement(Vq,qn({},t,{layout:p,needClip:h,data:x,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Uq(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:p,cells:g,parentViewBox:b,dataStartIndex:x}=t,v=e==="horizontal"?o:s,E=d?v.scale.domain():null,A=mD({numericAxis:v}),S=v.scale(A);return h.map((L,k)=>{var M,_,T,N,C,I;d?M=lD(d[k+x],E):(M=et(L,r),Array.isArray(M)||(M=[A,M]));var D=cq(n,oA)(M[1],k);if(e==="horizontal"){var O,[B,H]=[o.scale(M[0]),o.scale(M[1])];_=Z1({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:L,index:k}),T=(O=H??B)!==null&&O!==void 0?O:void 0,N=i.size;var K=B-H;if(C=Wr(K)?0:K,I={x:_,y:p.top,width:N,height:p.height},Math.abs(D)>0&&Math.abs(C)<Math.abs(D)){var te=Rt(C||D)*(Math.abs(D)-Math.abs(C));T-=te,C+=te}}else{var[pe,z]=[s.scale(M[0]),s.scale(M[1])];if(_=pe,T=Z1({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:L,index:k}),N=z-pe,C=i.size,I={x:p.left,y:T,width:p.width,height:C},Math.abs(D)>0&&Math.abs(N)<Math.abs(D)){var ee=Rt(N||D)*(Math.abs(D)-Math.abs(N));N+=ee}}if(_==null||T==null||N==null||C==null)return null;var ce=Qt(Qt({},L),{},{stackedBarStart:S,x:_,y:T,width:N,height:C,value:d?M:M[1],payload:L,background:I,tooltipPosition:{x:_+N/2,y:T+C/2},parentViewBox:b},g&&g[k]&&g[k].props);return ce}).filter(Boolean)}function zq(t){var e=Dt(t,$q),r=cr();return y.createElement(eA,{id:e.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(iW,{legendPayload:Tq(e)}),y.createElement(JE,{fn:Iq,args:e}),y.createElement(gW,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:fD(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),y.createElement(Gr,{zIndex:e.zIndex},y.createElement(Fq,qn({},e,{id:n})))))}var Lm=y.memo(zq);Lm.displayName="Bar";function ux(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ac(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ux(Object(r),!0).forEach(function(n){Bq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bq(t,e,r){return(e=Hq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hq(t){var e=Wq(t,"string");return typeof e=="symbol"?e:e+""}function Wq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qq=(t,e)=>e,Kq=(t,e,r)=>r,Gq=(t,e,r,n)=>n,Yq=(t,e,r,n,i)=>i,Al=F([r0,Yq],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Xq=F([Al],t=>t==null?void 0:t.maxBarSize),Qq=(t,e,r,n,i,a)=>a,dx=(t,e,r)=>{var n=r??t;if(!Mt(n))return Yt(n,e,0)},Jq=F([Ie,r0,qq,Kq,Gq],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Zq=(t,e,r,n)=>{var i=Ie(t);return i==="horizontal"?Tm(t,"yAxis",r,n):Tm(t,"xAxis",e,n)},eK=(t,e,r)=>{var n=Ie(t);return n==="horizontal"?b2(t,"xAxis",e):b2(t,"yAxis",r)},tK=(t,e,r)=>{var n={},i=t.filter(Fd),a=t.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,h]=u,p=h.map(b=>b.dataKey),g=dx(e,r,h[0].barSize);return{stackId:d,dataKeys:p,barSize:g}}),c=a.map(u=>{var d=[u.dataKey].filter(p=>p!=null),h=dx(e,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...c]},rK=F([Jq,fF,eK],tK),nK=(t,e,r,n,i)=>{var a,s,o=Al(t,e,r,n,i);if(o!=null){var c=Ie(t),u=mN(t),{maxBarSize:d}=o,h=Mt(d)?u:d,p,g;return c==="horizontal"?(p=vs(t,"xAxis",e,n),g=gs(t,"xAxis",e,n)):(p=vs(t,"yAxis",r,n),g=gs(t,"yAxis",r,n)),(a=(s=iu(p,g,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}},lA=(t,e,r,n)=>{var i=Ie(t),a,s;return i==="horizontal"?(a=vs(t,"xAxis",e,n),s=gs(t,"xAxis",e,n)):(a=vs(t,"yAxis",r,n),s=gs(t,"yAxis",r,n)),iu(a,s)};function iK(t,e,r,n,i){var a=n.length;if(!(a<1)){var s=Yt(t,r,0,!0),o,c=[];if(lt(n[0].barSize)){var u=!1,d=r/a,h=n.reduce((E,A)=>E+(A.barSize||0),0);h+=(a-1)*s,h>=r&&(h-=(a-1)*s,s=0),h>=r&&d>0&&(u=!0,d*=.9,h=a*d);var p=(r-h)/2>>0,g={offset:p-s,size:0};o=n.reduce((E,A)=>{var S,L={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:g.offset+g.size+s,size:u?d:(S=A.barSize)!==null&&S!==void 0?S:0}},k=[...E,L];return g=k[k.length-1].position,k},c)}else{var b=Yt(e,r,0,!0);r-2*b-(a-1)*s<=0&&(s=0);var x=(r-2*b-(a-1)*s)/a;x>1&&(x>>=0);var v=lt(i)?Math.min(x,i):x;o=n.reduce((E,A,S)=>[...E,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:b+(x+s)*S+(x-v)/2,size:v}}],c)}return o}}var aK=(t,e,r,n,i,a,s)=>{var o=Mt(s)?e:s,c=iK(r,n,i!==a?i:a,t,o);return i!==a&&c!=null&&(c=c.map(u=>ac(ac({},u),{},{position:ac(ac({},u.position),{},{offset:u.position.offset-i/2})}))),c},sK=F([rK,mN,hF,pN,nK,lA,Xq],aK),oK=(t,e,r,n)=>vs(t,"xAxis",e,n),lK=(t,e,r,n)=>vs(t,"yAxis",r,n),cK=(t,e,r,n)=>gs(t,"xAxis",e,n),uK=(t,e,r,n)=>gs(t,"yAxis",r,n),dK=F([sK,Al],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),hK=(t,e)=>{var r=Zg(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},fK=F([Zq,Al],hK),mK=F([At,pg,oK,lK,cK,uK,dK,Ie,Hg,lA,fK,Al,Qq],(t,e,r,n,i,a,s,o,c,u,d,h,p)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:x}=c;if(!(h==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=h,E;if(v!=null&&v.length>0?E=v:E=g==null?void 0:g.slice(b,x+1),E!=null)return Uq({layout:o,barSettings:h,pos:s,parentViewBox:e,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:E,offset:t,cells:p,dataStartIndex:b})}}),cA=t=>{var{chartData:e}=t,r=Ue(),n=cr();return y.useEffect(()=>n?()=>{}:(r(k2(e)),()=>{r(k2(void 0))}),[e,r,n]),null},hx={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},uA=lr({name:"brush",initialState:hx,reducers:{setBrushSettings(t,e){return e.payload==null?hx:e.payload}}});uA.actions;var pK=uA.reducer;function gK(t,e,r){return(e=vK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vK(t){var e=yK(t,"string");return typeof e=="symbol"?e:e+""}function yK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class U0{static create(e){return new U0(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}gK(U0,"EPS",1e-4);function bK(t){return(t%180+180)%180}var xK=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=bK(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},wK={dots:[],areas:[],lines:[]},dA=lr({name:"referenceElements",initialState:wK,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Mn(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Mn(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Mn(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}});dA.actions;var _K=dA.reducer,NK=y.createContext(void 0),EK=t=>{var{children:e}=t,[r]=y.useState("".concat(jo("recharts"),"-clip")),n=iA();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return y.createElement(NK.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function ys(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function hA(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e)r.push(t[n]);return r}function AK(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return xK(n,r)}function PK(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Iu(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function SK(t,e){return hA(t,e+1)}function TK(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=e,c=0,u=1,d=s,h=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:hA(n,u)};var x=c,v,E=()=>(v===void 0&&(v=r(b,x)),v),A=b.coordinate,S=c===0||Iu(t,A,E,d,o);S||(c=0,d=s,u+=1),S&&(d=A+t*(E()/2+i),c+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function fx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fx(Object(r),!0).forEach(function(n){IK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IK(t,e,r){return(e=CK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CK(t){var e=kK(t,"string");return typeof e=="symbol"?e:e+""}function kK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OK(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=e,{end:c}=e,u=function(p){var g=a[p],b,x=()=>(b===void 0&&(b=r(g,p)),b);if(p===s-1){var v=t*(g.coordinate+t*x()/2-c);a[p]=g=Wt(Wt({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else a[p]=g=Wt(Wt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var E=Iu(t,g.tickCoord,x,o,c);E&&(c=g.tickCoord-t*(x()/2+i),a[p]=Wt(Wt({},g),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function RK(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=e;if(a){var d=n[o-1],h=r(d,o-1),p=t*(d.coordinate+t*h/2-u);if(s[o-1]=d=Wt(Wt({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate}),d.tickCoord!=null){var g=Iu(t,d.tickCoord,()=>h,c,u);g&&(u=d.tickCoord-t*(h/2+i),s[o-1]=Wt(Wt({},d),{},{isShow:!0}))}}for(var b=a?o-1:o,x=function(A){var S=s[A],L,k=()=>(L===void 0&&(L=r(S,A)),L);if(A===0){var M=t*(S.coordinate-t*k()/2-c);s[A]=S=Wt(Wt({},S),{},{tickCoord:M<0?S.coordinate-M*t:S.coordinate})}else s[A]=S=Wt(Wt({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var _=Iu(t,S.tickCoord,k,c,u);_&&(c=S.tickCoord+t*(k()/2+i),s[A]=Wt(Wt({},S),{},{isShow:!0}))}},v=0;v<b;v++)x(v);return s}function z0(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:h}=t;if(!i||!i.length||!n)return[];if(oe(c)||Ia.isSsr){var p;return(p=SK(i,oe(c)?c:0))!==null&&p!==void 0?p:[]}var g=[],b=o==="top"||o==="bottom"?"width":"height",x=d&&b==="width"?Po(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=(S,L)=>{var k=typeof u=="function"?u(S.value,L):S.value;return b==="width"?AK(Po(k,{fontSize:e,letterSpacing:r}),x,h):Po(k,{fontSize:e,letterSpacing:r})[b]},E=i.length>=2?Rt(i[1].coordinate-i[0].coordinate):1,A=PK(a,E,b);return c==="equidistantPreserveStart"?TK(E,A,v,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=RK(E,A,v,i,s,c==="preserveStartEnd"):g=OK(E,A,v,i,s),g.filter(S=>S.isShow))}var MK=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},DK=["axisLine","width","height","className","hide","ticks","axisType"],LK=["viewBox"],jK=["viewBox"];function jm(t,e){if(t==null)return{};var r,n,i=VK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function VK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xa.apply(null,arguments)}function mx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mx(Object(r),!0).forEach(function(n){$K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $K(t,e,r){return(e=FK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=UK(t,"string");return typeof e=="symbol"?e:e+""}function UK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Nt.axis};function zK(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var u=dt(dt(dt({},c),Hr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=dt(dt({},u),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=dt(dt({},u),{},{x1:e+h*n,y1:r,x2:e+h*n,y2:r+i})}return y.createElement("line",xa({},u,{className:De("recharts-cartesian-axis-line",ma(o,"className"))}))}function BK(t,e,r,n,i,a,s,o,c){var u,d,h,p,g,b,x=o?-1:1,v=t.tickSize||s,E=oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=d=t.coordinate,p=r+ +!o*i,h=p-x*v,b=h-x*c,g=E;break;case"left":h=p=t.coordinate,d=e+ +!o*n,u=d-x*v,g=u-x*c,b=E;break;case"right":h=p=t.coordinate,d=e+ +o*n,u=d+x*v,g=u+x*c,b=E;break;default:u=d=t.coordinate,p=r+ +o*i,h=p+x*v,b=h+x*c,g=E;break}return{line:{x1:u,y1:h,x2:d,y2:p},tick:{x:g,y:b}}}function HK(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function WK(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function qK(t){var{option:e,tickProps:r,value:n}=t,i,a=De(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(e))i=y.cloneElement(e,dt(dt({},r),{},{className:a}));else if(typeof e=="function")i=e(dt(dt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=De(s,e==null?void 0:e.className)),i=y.createElement(Gd,xa({},r,{className:s}),n)}return i}var KK=y.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:h,x:p,y:g,width:b,height:x,tickSize:v,tickMargin:E,fontSize:A,letterSpacing:S,getTicksConfig:L,events:k,axisType:M}=t,_=z0(dt(dt({},L),{},{ticks:r}),A,S),T=HK(d,h),N=WK(d,h),C=Hr(L),I=Lo(n),D={};typeof i=="object"&&(D=i);var O=dt(dt({},C),{},{fill:"none"},D),B=_.map(te=>dt({entry:te},BK(te,p,g,b,x,d,v,h,E))),H=B.map(te=>{var{entry:pe,line:z}=te;return y.createElement(Zt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},i&&y.createElement("line",xa({},O,z,{className:De("recharts-cartesian-axis-tick-line",ma(i,"className"))})))}),K=B.map((te,pe)=>{var{entry:z,tick:ee}=te,ce=dt(dt(dt(dt({textAnchor:T,verticalAnchor:N},C),{},{stroke:"none",fill:a},I),ee),{},{index:pe,payload:z,visibleTicksCount:_.length,tickFormatter:s,padding:c},u);return y.createElement(Zt,xa({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},cl(k,z,pe)),n&&y.createElement(qK,{option:n,tickProps:ce,value:"".concat(typeof s=="function"?s(z.value,pe):z.value).concat(o||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},K.length>0&&y.createElement(Gr,{zIndex:Nt.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},K)),H.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},H))}),GK=y.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=t,u=jm(t,DK),[d,h]=y.useState(""),[p,g]=y.useState(""),b=y.useRef(null);y.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return MK({ticks:b.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=y.useCallback(v=>{if(v){var E=v.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=E;var A=E[0];if(A){var S=window.getComputedStyle(A),L=S.fontSize,k=S.letterSpacing;(L!==d||k!==p)&&(h(L),g(k))}}},[d,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(Gr,{zIndex:t.zIndex},y.createElement(Zt,{className:De("recharts-cartesian-axis",a)},y.createElement(zK,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Hr(t)}),y.createElement(KK,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),y.createElement(eH,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},y.createElement(uH,{label:t.label,labelRef:t.labelRef}),t.children)))}),YK=y.memo(GK,(t,e)=>{var{viewBox:r}=t,n=jm(t,LK),{viewBox:i}=e,a=jm(e,jK);return ys(r,i)&&ys(n,a)}),H0=y.forwardRef((t,e)=>{var r=Dt(t,B0);return y.createElement(YK,xa({},r,{ref:e}))});H0.displayName="CartesianAxis";var XK=["x1","y1","x2","y2","key"],QK=["offset"],JK=["xAxisId","yAxisId"],ZK=["xAxisId","yAxisId"];function px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?px(Object(r),!0).forEach(function(n){eG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eG(t,e,r){return(e=tG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tG(t){var e=rG(t,"string");return typeof e=="symbol"?e:e+""}function rG(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zi(){return Zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zi.apply(null,arguments)}function Cu(t,e){if(t==null)return{};var r,n,i=nG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var iG=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=t;return y.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function fA(t){var{option:e,lineItemProps:r}=t,n;if(y.isValidElement(e))n=y.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=Cu(r,XK),h=(i=Hr(d))!==null&&i!==void 0?i:{},p=Cu(h,QK);n=y.createElement("line",Zi({},p,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function aG(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Cu(t,JK),s=i.map((o,c)=>{var u=Gt(Gt({},a),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return y.createElement(fA,{key:"line-".concat(c),option:n,lineItemProps:u})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function sG(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Cu(t,ZK),s=i.map((o,c)=>{var u=Gt(Gt({},a),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return y.createElement(fA,{option:n,lineItemProps:u,key:"line-".concat(c)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function oG(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=t;if(!c||!e||!e.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==u[0]&&u.unshift(0);var d=u.map((h,p)=>{var g=!u[p+1],b=g?i+s-h:u[p+1]-h;if(b<=0)return null;var x=p%e.length;return y.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function lG(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==u[0]&&u.unshift(0);var d=u.map((h,p)=>{var g=!u[p+1],b=g?i+s-h:u[p+1]-h;if(b<=0)return null;var x=p%r.length;return y.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:b,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var cG=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return z_(z0(Gt(Gt(Gt({},B0),r),{},{ticks:B_(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},uG=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return z_(z0(Gt(Gt(Gt({},B0),r),{},{ticks:B_(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},dG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Nt.grid};function mA(t){var e=vg(),r=yg(),n=e3(),i=Gt(Gt({},Dt(t,dG)),{},{x:oe(t.x)?t.x:n.left,y:oe(t.y)?t.y:n.top,width:oe(t.width)?t.width:n.width,height:oe(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:p,verticalValues:g}=i,b=cr(),x=ae(N=>x2(N,"xAxis",a,b)),v=ae(N=>x2(N,"yAxis",s,b));if(!vn(u)||!vn(d)||!oe(o)||!oe(c))return null;var E=i.verticalCoordinatesGenerator||cG,A=i.horizontalCoordinatesGenerator||uG,{horizontalPoints:S,verticalPoints:L}=i;if((!S||!S.length)&&typeof A=="function"){var k=p&&p.length,M=A({yAxis:v?Gt(Gt({},v),{},{ticks:k?p:v.ticks}):void 0,width:e??u,height:r??d,offset:n},k?!0:h);au(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(S=M)}if((!L||!L.length)&&typeof E=="function"){var _=g&&g.length,T=E({xAxis:x?Gt(Gt({},x),{},{ticks:_?g:x.ticks}):void 0,width:e??u,height:r??d,offset:n},_?!0:h);au(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(L=T)}return y.createElement(Gr,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(iG,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(oG,Zi({},i,{horizontalPoints:S})),y.createElement(lG,Zi({},i,{verticalPoints:L})),y.createElement(aG,Zi({},i,{offset:n,horizontalPoints:S,xAxis:x,yAxis:v})),y.createElement(sG,Zi({},i,{offset:n,verticalPoints:L,xAxis:x,yAxis:v}))))}mA.displayName="CartesianGrid";var hG=["dangerouslySetInnerHTML","ticks"],fG=["id"],mG=["domain"],pG=["domain"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(null,arguments)}function ku(t,e){if(t==null)return{};var r,n,i=gG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function vG(t){var e=Ue();return y.useLayoutEffect(()=>(e(qW(t)),()=>{e(KW(t))}),[t,e]),null}var yG=t=>{var{xAxisId:e,className:r}=t,n=ae(pg),i=cr(),a="xAxis",s=ae(g=>Cs(g,a,e,i)),o=ae(g=>KN(g,a,e,i)),c=ae(g=>BN(g,e)),u=ae(g=>uU(g,e)),d=ae(g=>NN(g,e));if(c==null||u==null||d==null)return null;var h=ku(t,hG),p=ku(d,fG);return y.createElement(H0,Vm({},h,p,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:De("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},bG={allowDataOverflow:fr.allowDataOverflow,allowDecimals:fr.allowDecimals,allowDuplicatedCategory:fr.allowDuplicatedCategory,height:fr.height,hide:!1,mirror:fr.mirror,orientation:fr.orientation,padding:fr.padding,reversed:fr.reversed,scale:fr.scale,tickCount:fr.tickCount,type:fr.type,xAxisId:0},xG=t=>{var e,r,n,i,a,s=Dt(t,bG);return y.createElement(y.Fragment,null,y.createElement(vG,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),y.createElement(yG,s))},wG=(t,e)=>{var{domain:r}=t,n=ku(t,mG),{domain:i}=e,a=ku(e,pG);return ys(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ys({domain:r},{domain:i}):!1},pA=y.memo(xG,wG);pA.displayName="XAxis";var _G=["dangerouslySetInnerHTML","ticks"],NG=["id"],EG=["domain"],AG=["domain"];function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(null,arguments)}function Ou(t,e){if(t==null)return{};var r,n,i=PG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function SG(t){var e=Ue();return y.useLayoutEffect(()=>(e(GW(t)),()=>{e(YW(t))}),[t,e]),null}var TG=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=y.useRef(null),s=y.useRef(null),o=ae(pg),c=cr(),u=Ue(),d="yAxis",h=ae(A=>Cs(A,d,e,c)),p=ae(A=>HN(A,e)),g=ae(A=>hU(A,e)),b=ae(A=>KN(A,d,e,c)),x=ae(A=>EN(A,e));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!p||C0(i)||y.isValidElement(i)||x==null)){var A=a.current;if(A){var S=A.getCalculatedWidth();Math.round(p.width)!==Math.round(S)&&u(XW({id:e,width:S}))}}},[b,p,u,i,e,n,x]),p==null||g==null||x==null)return null;var v=Ou(t,_G),E=Ou(x,NG);return y.createElement(H0,$m({},v,E,{ref:a,labelRef:s,scale:h,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:b,axisType:d}))},IG={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,width:mr.width,yAxisId:0},CG=t=>{var e,r,n,i,a,s=Dt(t,IG);return y.createElement(y.Fragment,null,y.createElement(SG,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),y.createElement(TG,s))},kG=(t,e)=>{var{domain:r}=t,n=Ou(t,EG),{domain:i}=e,a=Ou(e,AG);return ys(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ys({domain:r},{domain:i}):!1},gA=y.memo(CG,kG);gA.displayName="YAxis";var OG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=y;function RG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var MG=typeof Object.is=="function"?Object.is:RG,DG=Pl.useSyncExternalStore,LG=Pl.useRef,jG=Pl.useEffect,VG=Pl.useMemo,$G=Pl.useDebugValue;OG.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=LG(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=VG(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),i!==void 0&&s.hasValue){var b=s.value;if(i(b,g))return h=b}return h=g}if(b=h,MG(d,g))return b;var x=n(g);return i!==void 0&&i(b,x)?(d=g,b):(d=g,h=x)}var u=!1,d,h,p=r===void 0?null:r;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,r,n,i]);var o=DG(t,a[0],a[1]);return jG(function(){s.hasValue=!0,s.value=o},[o]),$G(o),o};function FG(t){t()}function UG(){let t=null,e=null;return{clear(){t=null,e=null},notify(){FG(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var gx={notify(){},get:()=>[]};function zG(t,e){let r,n=gx,i=0,a=!1;function s(x){d();const v=n.subscribe(x);let E=!1;return()=>{E||(E=!0,v(),h())}}function o(){n.notify()}function c(){b.onStateChange&&b.onStateChange()}function u(){return a}function d(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=UG())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=gx)}function p(){a||(a=!0,d())}function g(){a&&(a=!1,h())}const b={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return b}var BG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HG=BG(),WG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qG=WG(),KG=()=>HG||qG?y.useLayoutEffect:y.useEffect,GG=KG(),hf=Symbol.for("react-redux-context"),ff=typeof globalThis<"u"?globalThis:{};function YG(){if(!y.createContext)return{};const t=ff[hf]??(ff[hf]=new Map);let e=t.get(y.createContext);return e||(e=y.createContext(null),t.set(y.createContext,e)),e}var XG=YG();function QG(t){const{children:e,context:r,serverState:n,store:i}=t,a=y.useMemo(()=>{const c=zG(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=y.useMemo(()=>i.getState(),[i]);GG(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||XG;return y.createElement(o.Provider,{value:a},e)}var JG=QG,ZG=(t,e)=>e,W0=F([ZG,Ie,wN,St,uE,ei,_z,At],Iz),q0=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},vA=Mr("mouseClick"),yA=dl();yA.startListening({actionCreator:vA,effect:(t,e)=>{var r=t.payload,n=W0(e.getState(),q0(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(AU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Fm=Mr("mouseMove"),bA=dl();bA.startListening({actionCreator:Fm,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=w0(n,n.tooltip.settings.shared),a=W0(n,q0(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(tE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(eE()))}});var vx={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},xA=lr({name:"rootProps",initialState:vx,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:vx.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),eY=xA.reducer,{updateOptions:tY}=xA.actions,wA=lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:rY}=wA.actions,nY=wA.reducer,_A=Mr("keyDown"),NA=Mr("focus"),K0=dl();K0.startListening({actionCreator:_A,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(_0(i,Os(r))),o=ei(r);if(a==="Enter"){var c=Nu(r,"axis","hover",String(i.index));e.dispatch(Cm({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=gU(r),d=u==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,p=s+h*d;if(!(o==null||p>=o.length||p<0)){var g=Nu(r,"axis","hover",String(p));e.dispatch(Cm({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});K0.startListening({actionCreator:NA,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Nu(r,"axis","hover",String(a));e.dispatch(Cm({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Pr=Mr("externalEvent"),EA=dl();EA.startListening({actionCreator:Pr,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:oz(r),activeDataKey:mE(r),activeIndex:ba(r),activeLabel:fE(r),activeTooltipIndex:ba(r),isTooltipActive:lz(r)};t.payload.handler(n,t.payload.reactEvent)}}});var iY=F([ks],t=>t.tooltipItemPayloads),aY=F([iY,_l,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,r);return s}}}),AA=Mr("touchMove"),PA=dl();PA.startListening({actionCreator:AA,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=w0(n,n.tooltip.settings.shared);if(i==="axis"){var a=W0(n,q0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(tE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(W_),d=(s=c.getAttribute(q_))!==null&&s!==void 0?s:void 0,h=aY(e.getState(),u,d);e.dispatch(ZN({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var sY=g_({brush:pK,cartesianAxis:QW,chartData:aB,errorBars:dq,graphicalItems:pW,layout:rD,legend:YD,options:eB,polarAxis:TH,polarOptions:nY,referenceElements:_K,rootProps:eY,tooltip:PU,zIndex:Bz}),oY=function(e){return SM({reducer:sY,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([yA.middleware,bA.middleware,K0.middleware,EA.middleware,PA.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(T_({type:"raf"}))},devTools:Ia.devToolsEnabled})};function SA(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=cr(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=oY(e));var s=og;return y.createElement(JG,{context:s,store:a.current},r)}function TA(t){var{layout:e,margin:r}=t,n=Ue(),i=cr();return y.useEffect(()=>{i||(n(ZM(e)),n(JM(r)))},[n,i,e,r]),null}function IA(t){var e=Ue();return y.useEffect(()=>{e(tY(t))},[e,t]),null}function yx(t){var{zIndex:e,isPanorama:r}=t,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=ZE("".concat(n).concat(e)),a=Ue();return y.useLayoutEffect(()=>(a(Uz({zIndex:e,elementId:i,isPanorama:r})),()=>{a(zz({zIndex:e,isPanorama:r}))}),[a,e,i,r]),y.createElement("g",{id:i})}function bx(t){var{children:e,isPanorama:r}=t,n=ae(kz);if(!n||n.length===0)return e;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return y.createElement(y.Fragment,null,i.map(s=>y.createElement(yx,{key:s,zIndex:s,isPanorama:r})),e,a.map(s=>y.createElement(yx,{key:s,zIndex:s,isPanorama:r})))}var lY=["children"];function cY(t,e){if(t==null)return{};var r,n,i=uY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(null,arguments)}var dY={width:"100%",height:"100%",display:"block"},hY=y.forwardRef((t,e)=>{var r=vg(),n=yg(),i=a3();if(!vn(r)||!vn(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=t,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),y.createElement(qp,Ru({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:dY,ref:e}),a)}),fY=t=>{var{children:e}=t,r=ae(Ad);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return y.createElement(qp,{width:n,height:i,x:s,y:a},e)},xx=y.forwardRef((t,e)=>{var{children:r}=t,n=cY(t,lY),i=cr();return i?y.createElement(fY,null,y.createElement(bx,{isPanorama:!0},r)):y.createElement(hY,Ru({ref:e},n),y.createElement(bx,{isPanorama:!1},r))});function mY(){var t=Ue(),[e,r]=y.useState(null),n=ae(xD);return y.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;lt(a)&&a!==n&&t(tD(a))}},[e,t,n]),r}function wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(r),!0).forEach(function(n){gY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gY(t,e,r){return(e=vY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vY(t){var e=yY(t,"string");return typeof e=="symbol"?e:e+""}function yY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wa.apply(null,arguments)}var bY=()=>(mB(),null);function Mu(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var xY=y.forwardRef((t,e)=>{var r,n,i=y.useRef(null),[a,s]=y.useState({containerWidth:Mu((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:Mu((n=t.style)===null||n===void 0?void 0:n.height)}),o=y.useCallback((u,d)=>{s(h=>{var p=Math.round(u),g=Math.round(d);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),c=y.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var p=b=>{var{width:x,height:v}=b[0].contentRect;o(x,v)},g=new ResizeObserver(p);g.observe(u),i.current=g}},[e,o]);return y.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),y.createElement(y.Fragment,null,y.createElement(Td,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",wa({ref:c},t)))}),wY=y.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=y.useState({containerWidth:Mu(r),containerHeight:Mu(n)}),s=y.useCallback((c,u)=>{a(d=>{var h=Math.round(c),p=Math.round(u);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),o=y.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[e,s]);return y.createElement(y.Fragment,null,y.createElement(Td,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",wa({ref:o},t)))}),_Y=y.forwardRef((t,e)=>{var{width:r,height:n}=t;return y.createElement(y.Fragment,null,y.createElement(Td,{width:r,height:n}),y.createElement("div",wa({ref:e},t)))}),NY=y.forwardRef((t,e)=>{var{width:r,height:n}=t;return Fn(r)||Fn(n)?y.createElement(wY,wa({},t,{ref:e})):y.createElement(_Y,wa({},t,{ref:e}))});function EY(t){return t===!0?xY:NY}var AY=y.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:p,onTouchEnd:g,onTouchMove:b,onTouchStart:x,style:v,width:E,responsive:A,dispatchTouchEvents:S=!0}=t,L=y.useRef(null),k=Ue(),[M,_]=y.useState(null),[T,N]=y.useState(null),C=mY(),I=gg(),D=(I==null?void 0:I.width)>0?I.width:E,O=(I==null?void 0:I.height)>0?I.height:i,B=y.useCallback(G=>{C(G),typeof e=="function"&&e(G),_(G),N(G),G!=null&&(L.current=G)},[C,e,_,N]),H=y.useCallback(G=>{k(vA(G)),k(Pr({handler:a,reactEvent:G}))},[k,a]),K=y.useCallback(G=>{k(Fm(G)),k(Pr({handler:u,reactEvent:G}))},[k,u]),te=y.useCallback(G=>{k(eE()),k(Pr({handler:d,reactEvent:G}))},[k,d]),pe=y.useCallback(G=>{k(Fm(G)),k(Pr({handler:h,reactEvent:G}))},[k,h]),z=y.useCallback(()=>{k(NA())},[k]),ee=y.useCallback(G=>{k(_A(G.key))},[k]),ce=y.useCallback(G=>{k(Pr({handler:s,reactEvent:G}))},[k,s]),Pe=y.useCallback(G=>{k(Pr({handler:o,reactEvent:G}))},[k,o]),ke=y.useCallback(G=>{k(Pr({handler:c,reactEvent:G}))},[k,c]),Ye=y.useCallback(G=>{k(Pr({handler:p,reactEvent:G}))},[k,p]),nt=y.useCallback(G=>{k(Pr({handler:x,reactEvent:G}))},[k,x]),at=y.useCallback(G=>{S&&k(AA(G)),k(Pr({handler:b,reactEvent:G}))},[k,S,b]),We=y.useCallback(G=>{k(Pr({handler:g,reactEvent:G}))},[k,g]),er=EY(A);return y.createElement(_E.Provider,{value:M},y.createElement(v6.Provider,{value:T},y.createElement(er,{width:D??(v==null?void 0:v.width),height:O??(v==null?void 0:v.height),className:De("recharts-wrapper",n),style:pY({position:"relative",cursor:"default",width:D,height:O},v),onClick:H,onContextMenu:ce,onDoubleClick:Pe,onFocus:z,onKeyDown:ee,onMouseDown:ke,onMouseEnter:K,onMouseLeave:te,onMouseMove:pe,onMouseUp:Ye,onTouchEnd:We,onTouchMove:at,onTouchStart:nt,ref:B},y.createElement(bY,null),r)))}),PY=["width","height","responsive","children","className","style","compact","title","desc"];function SY(t,e){if(t==null)return{};var r,n,i=TY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function TY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var CA=y.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=t,h=SY(t,PY),p=Hr(h);return c?y.createElement(y.Fragment,null,y.createElement(Td,{width:r,height:n}),y.createElement(xx,{otherAttributes:p,title:u,desc:d},a)):y.createElement(AY,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},y.createElement(xx,{otherAttributes:p,title:u,desc:d,ref:e},y.createElement(EK,null,a)))});function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(null,arguments)}var IY={top:5,right:5,bottom:5,left:5},CY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:IY,reverseStackOrder:!1,syncMethod:"index",responsive:!1},kY=y.forwardRef(function(e,r){var n,i=Dt(e.categoricalChartProps,CY),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(SA,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},y.createElement(cA,{chartData:u.data}),y.createElement(TA,{layout:i.layout,margin:i.margin}),y.createElement(IA,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(CA,Um({},i,{ref:r})))}),OY=["axis","item"],RY=y.forwardRef((t,e)=>y.createElement(kY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OY,tooltipPayloadSearcher:EE,categoricalChartProps:t,ref:e}));function MY(t){var e=Ue();return y.useEffect(()=>{e(rY(t))},[e,t]),null}var DY=["layout"];function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zm.apply(null,arguments)}function LY(t,e){if(t==null)return{};var r,n,i=jY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var VY={top:5,right:5,bottom:5,left:5},$Y={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:VY,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},FY=y.forwardRef(function(e,r){var n,i=Dt(e.categoricalChartProps,$Y),{layout:a}=i,s=LY(i,DY),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,h={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return y.createElement(SA,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},y.createElement(cA,{chartData:i.data}),y.createElement(TA,{layout:a,margin:i.margin}),y.createElement(IA,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(MY,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(CA,zm({},s,{ref:r})))}),UY=["item"],zY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},BY=y.forwardRef((t,e)=>{var r=Dt(t,zY);return y.createElement(FY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:UY,tooltipPayloadSearcher:EE,categoricalChartProps:r,ref:e})});const en=gf.create({baseURL:"https://realestateoctopus.onrender.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});en.interceptors.request.use(async t=>{var e;try{const n=Tw().currentUser;if(n){const i=await n.getIdToken();t.headers.Authorization=`Bearer ${i}`,console.log(" Added Firebase token to request")}else console.warn(" No Firebase user found for request")}catch(r){console.warn(" Failed to get auth token:",r)}return t.method==="get"&&t.params&&(t.params._t=Date.now()),console.log(` ${(e=t.method)==null?void 0:e.toUpperCase()} ${t.url}`,{data:t.data,params:t.params,headers:t.headers}),t},t=>(console.error(" Request interceptor error:",t),Promise.reject(t)));en.interceptors.response.use(t=>{var e;return console.log(` ${(e=t.config.method)==null?void 0:e.toUpperCase()} ${t.config.url} SUCCESS:`,t.data),t},t=>{var n,i,a,s,o,c,u,d,h,p,g;const{response:e,config:r}=t;if(console.error(` ${(n=r==null?void 0:r.method)==null?void 0:n.toUpperCase()} ${r==null?void 0:r.url} FAILED:`,{status:e==null?void 0:e.status,message:t.message,data:e==null?void 0:e.data,url:r==null?void 0:r.url}),e)switch(e.status){case 400:console.error(" 400 Validation Errors:",e.data),(i=e.data)!=null&&i.errors&&console.error(" Field-specific errors:",e.data.errors);break;case 401:console.warn(" Unauthorized access - please login again");const b=window.location.pathname;b.includes("/admin")?console.log(" On admin page, not redirecting to login"):window.location.href="/login?redirect="+encodeURIComponent(b);break;case 403:console.error(" Access forbidden:",(a=e.data)==null?void 0:a.message);break;case 404:console.error(" Resource not found:",r==null?void 0:r.url);break;case 409:console.error(" Conflict:",(s=e.data)==null?void 0:s.message);break;case 422:console.error(" Validation failed:",(o=e.data)==null?void 0:o.errors);break;case 429:console.error(" Rate limit exceeded:",(c=e.data)==null?void 0:c.message);break;case 500:console.error(" Server error:",(u=e.data)==null?void 0:u.message);break;case 502:console.error(" Bad Gateway - Server may be down");break;case 503:console.error(" Service Unavailable - Server maintenance");break;default:console.error(" API error:",(d=e.data)==null?void 0:d.message)}else console.error(" Network error:",t.message);return Promise.reject({message:((h=e==null?void 0:e.data)==null?void 0:h.message)||t.message,status:e==null?void 0:e.status,code:(p=e==null?void 0:e.data)==null?void 0:p.code,errors:(g=e==null?void 0:e.data)==null?void 0:g.errors,data:e==null?void 0:e.data,url:r==null?void 0:r.url,method:r==null?void 0:r.method,timestamp:new Date().toISOString()})});const Re={get:(t,e={},r={})=>en.get(t,{params:e,...r}),post:(t,e={},r={})=>en.post(t,e,r),put:(t,e={},r={})=>en.put(t,e,r),patch:(t,e={},r={})=>en.patch(t,e,r),delete:(t,e={})=>en.delete(t,e),upload:(t,e,r=null,n={})=>{var a,s,o,c;const i={...n,headers:{"Content-Type":"multipart/form-data",...n.headers},onUploadProgress:u=>{if(r&&u.total){const d=Math.round(u.loaded*100/u.total);console.log(` Upload progress: ${d}%`),r(d)}},timeout:6e4};return console.log(` UPLOAD ${t}`,{fileCount:((a=e.getAll("files"))==null?void 0:a.length)||((s=e.getAll("file"))==null?void 0:s.length)||0,fileNames:((o=e.getAll("files"))==null?void 0:o.map(u=>u.name))||((c=e.getAll("file"))==null?void 0:c.map(u=>u.name))||[]}),en.post(t,e,i)},uploadSingle:(t,e="property",r=null)=>{const n=new FormData;return n.append("file",t),n.append("category",e),Re.upload("/upload",n,r)},uploadMultiple:(t,e="property",r=null)=>{const n=new FormData;return t.forEach(i=>{n.append("files",i)}),n.append("category",e),Re.upload("/upload/multiple",n,r)},createCancelToken:()=>gf.CancelToken.source(),isCancel:t=>gf.isCancel(t),testConnection:()=>en.get("/health"),getCurrentUser:()=>en.get("/auth/me")},En={uploadFile:(t,e="property",r="",n=[])=>{const i=new FormData;return i.append("file",t),i.append("category",e),r&&i.append("description",r),n.length>0&&i.append("tags",n.join(",")),console.log(` Uploading single file: ${t.name}`,{category:e,description:r}),Re.upload("/upload",i)},uploadMultipleFiles:(t,e="property",r="",n=[],i=null)=>{const a=new FormData;return t.forEach(s=>{a.append("files",s)}),a.append("category",e),r&&a.append("description",r),n.length>0&&a.append("tags",n.join(",")),console.log(` Uploading ${t.length} files`,{category:e,fileNames:t.map(s=>s.name)}),Re.upload("/upload/multiple",a,i)},getUploads:(t={})=>{const{page:e=1,limit:r=20,category:n,search:i}=t;return console.log(" Fetching uploads with params:",t),Re.get("/upload",{params:{page:e,limit:r,category:n,search:i}})},getUpload:t=>(console.log(` Fetching upload: ${t}`),Re.get(`/upload/${t}`)),updateUpload:(t,e)=>(console.log(` Updating upload ${t}:`,e),Re.put(`/upload/${t}`,e)),deleteUpload:t=>(console.log(` Deleting upload: ${t}`),Re.delete(`/upload/${t}`)),uploadWithProgress:(t,e="property",r)=>En.uploadMultipleFiles(t,e,"",[],r)},go={getProperties:(t={})=>{const{page:e=1,limit:r=12,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,featured:d,search:h,sort:p}=t;return console.log(" Fetching properties with filters:",t),Re.get("/properties",{params:{page:e,limit:r,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,featured:d,search:h,sort:p}})},getProperty:t=>(console.log(` Fetching property: ${t}`),Re.get(`/properties/${t}`)),getFeaturedProperties:()=>Re.get("/properties/featured"),getPropertiesByAgent:t=>Re.get(`/properties/agent/${t}`),getMyProperties:()=>(console.log(" Fetching my properties"),Re.get("/properties/my/properties")),createProperty:t=>(console.log(" Creating property with data:",JSON.stringify(t,null,2)),Re.post("/properties",t)),updateProperty:(t,e)=>(console.log(` Updating property ${t}:`,e),Re.put(`/properties/${t}`,e)),deleteProperty:t=>(console.log(` Deleting property: ${t}`),Re.delete(`/properties/${t}`)),uploadImages:(t,e=null)=>(console.log(` Uploading ${t.length} property images...`),En.uploadMultipleFiles(t,"property","",[],e)),updatePropertyImages:(t,e,r)=>(console.log(` Updating property ${t} images:`,{imageIds:e,featuredImageId:r}),Re.put(`/properties/${t}/images`,{imageIds:e,featuredImageId:r})),testCreateProperty:async t=>{console.log(" Testing property creation with:",t);try{const e=await Re.post("/properties",t);return console.log(" Test successful:",e),e}catch(e){throw console.error(" Test failed:",e),e}},getPropertySchema:()=>Re.get("/properties/schema")},mf={getPosts:(t={})=>{const{page:e=1,limit:r=9,category:n,status:i="published",search:a,tag:s}=t;return Re.get("/blog",{params:{page:e,limit:r,category:n,status:i,search:a,tag:s}})},getPost:t=>Re.get(`/blog/${t}`),getRelatedPosts:t=>Re.get(`/blog/${t}/related`),createPost:t=>Re.post("/blog",t),updatePost:(t,e)=>Re.put(`/blog/${t}`,e),deletePost:t=>Re.delete(`/blog/${t}`),uploadImages:(t,e=null)=>(console.log(` Uploading ${t.length} blog images...`),En.uploadMultipleFiles(t,"blog","",[],e)),addComment:(t,e)=>Re.post(`/blog/${t}/comments`,{content:e}),toggleLike:t=>Re.post(`/blog/${t}/like`),getPostsByCategory:t=>Re.get("/blog",{params:{category:t,status:"published"}}),getPostsByTag:t=>Re.get("/blog",{params:{tag:t,status:"published"}})},HY=()=>{const[t,e]=y.useState({totalProperties:0,activeListings:0,soldProperties:0,rentedProperties:0,totalBlogs:0,pendingAppointments:0,totalRevenue:0}),[r,n]=y.useState([]),[i,a]=y.useState([]),[s,o]=y.useState([]),[c,u]=y.useState(!0),d=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];y.useEffect(()=>{(async()=>{var x,v;try{u(!0);const E=await go.getMyProperties(),A=((x=E==null?void 0:E.data)==null?void 0:x.data)||(E==null?void 0:E.data)||[];let S=[];try{const K=await((v=mf.getMyBlogs)==null?void 0:v.call(mf))||{data:[]};S=(K==null?void 0:K.data)||[]}catch{console.log("Blog API not available, using empty data")}const L=[],k=A.length,M=A.filter(K=>K.status==="for-sale"||K.status==="for-rent").length,_=A.filter(K=>K.status==="sold").length,T=A.filter(K=>K.status==="rented").length,N=S.length,C=0,I=A.filter(K=>K.status==="sold"||K.status==="rented").reduce((K,te)=>K+(te.price||0),0),D=A.reduce((K,te)=>{const pe=te.type||"other";return K[pe]=(K[pe]||0)+1,K},{}),O=Object.entries(D).map(([K,te])=>({name:K.charAt(0).toUpperCase()+K.slice(1),value:te})),B=h(A),H=p(A,S,L);e({totalProperties:k,activeListings:M,soldProperties:_,rentedProperties:T,totalBlogs:N,pendingAppointments:C,totalRevenue:I}),a(O),o(B),n(H)}catch(E){console.error("Error fetching dashboard data:",E)}finally{u(!1)}})()},[]);const h=b=>{const x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v=new Date().getMonth();return x.slice(Math.max(0,v-5),v+1).map((E,A)=>{const S=(v-5+A+12)%12,L=new Date().getFullYear()-(v-5+A<0?1:0),k=b.filter(T=>{if(!T.createdAt)return!1;const N=new Date(T.createdAt);return N.getMonth()===S&&N.getFullYear()===L}),M=k.length,_=k.filter(T=>T.status==="sold"||T.status==="rented").length;return{month:E,listings:M,sales:_}})},p=(b,x,v)=>{const E=[];return b.slice(0,3).forEach(A=>{E.push({id:A._id,type:"property",action:A.status==="sold"||A.status==="rented"?"sold":"listed",title:A.title,time:g(A.createdAt||A.updatedAt),link:"/admin/properties"})}),x.slice(0,2).forEach(A=>{E.push({id:A._id,type:"blog",action:"published",title:A.title,time:g(A.createdAt),link:"/admin/blog"})}),E.length<5&&E.push({id:"sample-appointment-1",type:"appointment",action:"scheduled",title:"Property viewing scheduled",time:"2 days ago",link:"/admin/appointments"}),E.sort((A,S)=>A.id.includes("sample")||S.id.includes("sample")?0:new Date(S.time)-new Date(A.time)).slice(0,5)},g=b=>{if(!b)return"Recently";const x=new Date(b),E=Math.floor((new Date-x)/(1e3*60*60));return E<1?"Just now":E<24?`${E} hours ago`:E<168?`${Math.floor(E/24)} days ago`:`${Math.floor(E/168)} weeks ago`};return c?m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[...Array(6)].map((b,x)=>l("div",{className:"h-32 bg-gray-200 rounded"},x))})]}):m("div",{children:[m("div",{className:"mb-8",children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Overview"}),l("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your real estate business today."})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4 mb-8",children:[l(Bi,{title:"Total Properties",value:t.totalProperties,icon:"",color:"blue",description:"All properties in your portfolio"}),l(Bi,{title:"Active Listings",value:t.activeListings,icon:"",color:"green",description:"Available for sale/rent"}),l(Bi,{title:"Sold Properties",value:t.soldProperties,icon:"",color:"purple",description:"Successfully sold"}),l(Bi,{title:"Rented Properties",value:t.rentedProperties,icon:"",color:"orange",description:"Currently rented out"}),l(Bi,{title:"Blog Posts",value:t.totalBlogs,icon:"",color:"indigo",description:"Published articles"}),l(Bi,{title:"Pending Appointments",value:t.pendingAppointments,icon:"",color:"red",description:"Awaiting confirmation"}),l(Bi,{title:"Total Revenue",value:`$${t.totalRevenue.toLocaleString()}`,icon:"",color:"emerald",description:"From sales and rentals"})]}),m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[m("div",{className:"bg-white p-6 rounded-lg shadow",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Performance"}),s.length>0?l(sb,{width:"100%",height:300,children:m(RY,{data:s,children:[l(mA,{strokeDasharray:"3 3"}),l(pA,{dataKey:"month"}),l(gA,{}),l(L2,{}),l(i3,{}),l(Lm,{dataKey:"listings",fill:"#3B82F6",name:"New Listings"}),l(Lm,{dataKey:"sales",fill:"#10B981",name:"Properties Sold/Rented"})]})}):l("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No data available for monthly performance"})]}),m("div",{className:"bg-white p-6 rounded-lg shadow",children:[m("h3",{className:"text-lg font-semibold mb-4",children:["Property Types Distribution (",i.reduce((b,x)=>b+x.value,0),")"]}),i.length>0?l(sb,{width:"100%",height:300,children:m(BY,{children:[l(rA,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,percent:x})=>`${b} ${(x*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((b,x)=>l(El,{fill:d[x%d.length]},`cell-${x}`))}),l(L2,{})]})}):l("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No property type data available"})]})]}),m("div",{className:"bg-white p-6 rounded-lg shadow",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activities"}),r.length>0?l("div",{className:"space-y-4",children:r.map(b=>m("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${b.type==="property"?"bg-blue-100":b.type==="blog"?"bg-green-100":"bg-purple-100"}`,children:l("span",{className:"text-lg",children:b.type==="property"?"":b.type==="blog"?"":""})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:b.title}),m("p",{className:"text-sm text-gray-500 capitalize",children:[b.action,"  ",b.time]})]})]}),l("a",{href:b.link,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})]},b.id))}):l("div",{className:"text-center py-8 text-gray-500",children:"No recent activities found"})]})]})},Bi=({title:t,value:e,icon:r,color:n,description:i})=>l("div",{className:"bg-white p-4 rounded-lg shadow border",children:m("div",{className:"flex items-center justify-between mb-2",children:[m("div",{className:"flex-1",children:[l("p",{className:"text-sm font-medium text-gray-600",children:t}),l("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e}),i&&l("p",{className:"text-xs text-gray-500 mt-1",children:i})]}),l("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${{blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600",red:"bg-red-50 text-red-600",emerald:"bg-emerald-50 text-emerald-600",indigo:"bg-indigo-50 text-indigo-600"}[n]}`,children:l("span",{className:"text-xl",children:r})})]})});class WY{async uploadFile(e,r="property",n="",i=[]){try{console.log(` Uploading single file: ${e.name}`,{category:r,size:e.size,type:e.type});const a=await En.uploadFile(e,r,n,i);return console.log(" File upload successful:",a.data),a}catch(a){throw console.error(" File upload failed:",a),this._enhanceError(a,"uploadFile")}}async uploadMultipleFiles(e,r="property",n="",i=[],a=null){var s,o,c;try{if(!e||!Array.isArray(e)||e.length===0)throw new Error("No files provided for upload");console.log(" Starting upload with files:",e.map(h=>({name:h.name,size:h.size,type:h.type})));const u=await En.uploadMultipleFiles(e,r,n,i,a);console.log(" Raw API response:",u),console.log(" response.data:",u==null?void 0:u.data),console.log(" response.data.data:",(s=u==null?void 0:u.data)==null?void 0:s.data),console.log(" Is response.data.data array?:",Array.isArray((o=u==null?void 0:u.data)==null?void 0:o.data));const d=(c=u==null?void 0:u.data)==null?void 0:c.data;if(!d||!Array.isArray(d))throw console.error(" Expected response.data.data to be an array but got:",d),new Error("Upload service: Invalid response format - expected array of files in response.data.data");return console.log(" Upload successful. Files:",d),{data:d,success:!0,count:d.length}}catch(u){throw console.error(" Upload failed:",u),this._enhanceError(u,"uploadMultipleFiles")}}async uploadWithProgress(e,r="property",n=null){return this.uploadMultipleFiles(e,r,"",[],n)}async getUploads(e={}){try{console.log(" Fetching uploads with params:",e);const r=await En.getUploads(e);return console.log(" Fetched uploads:",{count:r.data.length,total:r.total,category:e.category}),r}catch(r){throw console.error(" Failed to fetch uploads:",r),this._enhanceError(r,"getUploads")}}async getUpload(e){try{if(!e)throw new Error("Upload ID is required");console.log(` Fetching upload: ${e}`);const r=await En.getUpload(e);return console.log(" Fetched upload:",r.data.originalName),r}catch(r){throw console.error(` Failed to fetch upload ${e}:`,r),this._enhanceError(r,"getUpload")}}async updateUpload(e,r){try{if(!e)throw new Error("Upload ID is required");console.log(` Updating upload ${e}:`,r);const n=await En.updateUpload(e,r);return console.log(" Upload updated successfully:",n.data.originalName),n}catch(n){throw console.error(` Failed to update upload ${e}:`,n),this._enhanceError(n,"updateUpload")}}async deleteUpload(e){try{if(!e)throw new Error("Upload ID is required");console.log(` Deleting upload: ${e}`);const r=await En.deleteUpload(e);return console.log(" Upload deleted successfully"),r}catch(r){throw console.error(` Failed to delete upload ${e}:`,r),this._enhanceError(r,"deleteUpload")}}async getUploadsByCategory(e,r=50){return this.getUploads({category:e,limit:r})}async searchUploads(e,r=null){const n={search:e};return r&&(n.category=r),this.getUploads(n)}async getMyPropertyImages(e=100){return this.getUploads({category:"property",limit:e})}async getMyBlogImages(e=100){return this.getUploads({category:"blog",limit:e})}validateFile(e,r={}){const{maxSize:n=10*1024*1024,allowedTypes:i=["image/jpeg","image/jpg","image/png","image/webp","image/gif"]}=r,a=[];return e.size>n&&a.push(`File size too large. Maximum: ${this._formatFileSize(n)}`),i.includes(e.type)||a.push(`File type not allowed. Allowed: ${i.join(", ")}`),e.type.startsWith("image/")||a.push("Only image files are allowed"),{isValid:a.length===0,errors:a,fileInfo:{name:e.name,size:e.size,type:e.type,formattedSize:this._formatFileSize(e.size)}}}validateFiles(e,r={}){const n=e.map(s=>this.validateFile(s,r)),i=n.every(s=>s.isValid),a=n.flatMap(s=>s.errors);return{isValid:i,errors:a,results:n,validFiles:i?e:e.filter((s,o)=>n[o].isValid),invalidFiles:e.filter((s,o)=>!n[o].isValid)}}processFiles(e,r={}){const n=this.validateFiles(e,r);return n.isValid||console.warn(" Some files failed validation:",{valid:n.validFiles.length,invalid:n.invalidFiles.length,errors:n.errors}),{...n,totalSize:this._formatFileSize(e.reduce((i,a)=>i+a.size,0)),canUpload:n.validFiles.length>0}}async uploadPropertyImages(e,r=null){const n=this.processFiles(e,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp"]});if(!n.canUpload)throw new Error(`No valid files to upload. Errors: ${n.errors.join(", ")}`);return console.log(` Uploading ${n.validFiles.length} property images`),this.uploadWithProgress(n.validFiles,"property",r)}async uploadBlogImages(e,r=null){const n=this.processFiles(e,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp","image/gif"]});if(!n.canUpload)throw new Error(`No valid files to upload. Errors: ${n.errors.join(", ")}`);return console.log(` Uploading ${n.validFiles.length} blog images`),this.uploadWithProgress(n.validFiles,"blog",r)}async uploadProfilePicture(e){const r=this.validateFile(e,{maxSize:2097152,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp"]});if(!r.isValid)throw new Error(`Profile picture validation failed: ${r.errors.join(", ")}`);return console.log(` Uploading profile picture: ${e.name}`),this.uploadFile(e,"profile","Profile picture")}_enhanceError(e,r){console.error(`Upload Service Error in ${r}:`,{message:e.message,status:e.status,code:e.code,response:e.response,data:e.data});const n=new Error(e.message||"Upload service error");return n.originalError=e,n.method=r,n.timestamp=new Date().toISOString(),n.status=e.status,n.code=e.code,e.response&&(n.responseData=e.response.data),n}_formatFileSize(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,i)).toFixed(2))+" "+n[i]}generateFilePreview(e){return new Promise((r,n)=>{if(!e.type.startsWith("image/")){r(null);return}const i=new FileReader;i.onload=a=>r(a.target.result),i.onerror=a=>n(a),i.readAsDataURL(e)})}getFileCategory(e){return e.startsWith("image/")?"image":e.startsWith("video/")?"video":e.startsWith("audio/")?"audio":e.includes("pdf")||e.includes("word")||e.includes("document")?"document":"other"}}const Du=new WY,qY=(t,e=N1.DEFAULT)=>{if(t==null)return"Price on request";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(t))}catch(r){return console.error("Price formatting error:",r),`${N1.SYMBOL}${Number(t).toLocaleString()}`}},KY=t=>({[zi.HOUSE]:"House",[zi.APARTMENT]:"Apartment",[zi.CONDO]:"Condo",[zi.VILLA]:"Villa",[zi.COMMERCIAL]:"Commercial",[zi.LAND]:"Land",[zi.OTHER]:"Other"})[t]||(t==null?void 0:t.charAt(0).toUpperCase())+(t==null?void 0:t.slice(1))||"Property",GY=t=>({[Xs.FOR_SALE]:"For Sale",[Xs.FOR_RENT]:"For Rent",[Xs.SOLD]:"Sold",[Xs.RENTED]:"Rented",[Xs.PENDING]:"Pending"})[t]||(t==null?void 0:t.charAt(0).toUpperCase())+(t==null?void 0:t.slice(1))||"Available",za="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yMCAxM0MxNi4xMyAxMyAxMyAxNi4xMyAxMyAyMEMxMyAyMy44NyAxNi4xMyAyNyAyMCAyN0MyMy44NyAyNyAyNyAyMy44NyAyNyAyMEMyNyAxNi4xMyAyMy44NyAxMyAyMCAxM1pNMjAgMjVDMTcuMjQgMjUgMTUgMjIuNzYgMTUgMjBDMTUgMTcuMjQgMTcuMjQgMTUgMjAgMTVDMjIuNzYgMTUgMjUgMTcuMjQgMjUgMjBDMjUgMjIuNzYgMjIuNzYgMjUgMjAgMjVaTTI2IDlIMTRDMTIuOSA5IDEyIDguMSAxMiA3VjRDMTIgMi45IDEyLjkgMiAxNCAySDI2QzI3LjEgMiAyOCAyLjkgMjggNFY3QzI4IDguMSAyNy4xIDkgMjYgOVpNMjYgN1Y0SDE0VjdIMjZaIiBmaWxsPSIjOUNBM0FCIi8+Cjwvc3ZnPgo=",YY=()=>{const[t,e]=y.useState([]),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(""),[c,u]=y.useState("all"),[d,h]=y.useState("all"),[p,g]=y.useState(!1),[b,x]=y.useState(!1),[v,E]=y.useState(!1),[A,S]=y.useState(null),[L,k]=y.useState(""),[M,_]=y.useState(""),{user:T}=Pa(),[N,C]=y.useState({title:"",description:"",price:"",currency:"USD",type:"house",status:"for-sale",location:{address:"",city:"",state:"",zipCode:"",country:"United States"},specifications:{bedrooms:"",bathrooms:"",area:"",areaUnit:"sqft",yearBuilt:"",floors:"1",parking:"0"},amenities:[]}),[I,D]=y.useState(!1),[O,B]=y.useState([]),[H,K]=y.useState(null),[te,pe]=y.useState(0),z=()=>({title:"",description:"",price:"",currency:"USD",type:"house",status:"for-sale",location:{address:"",city:"",state:"",zipCode:"",country:"United States"},specifications:{bedrooms:"",bathrooms:"",area:"",areaUnit:"sqft",yearBuilt:"",floors:"1",parking:"0"},amenities:[]}),ee=y.useCallback(async()=>{try{a(!0),k(""),console.log(" Starting to fetch properties...");const V=await go.getMyProperties();console.log(" Raw API response:",V);let Q=[];V&&V.data&&V.data.success&&Array.isArray(V.data.data)?(Q=V.data.data,console.log(" Extracted properties from response.data.data:",Q)):Array.isArray(V)?(Q=V,console.log(" Extracted properties from direct array:",Q)):V&&V.success&&Array.isArray(V.data)?(Q=V.data,console.log(" Extracted properties from response.data:",Q)):(console.warn(" Unexpected response structure:",V),Q=[]),Array.isArray(Q)||(console.warn(" Properties data is not an array:",Q),Q=[]),console.log(` Found ${Q.length} raw properties:`,Q);const se=Q.map((W,ue)=>{console.log(` Processing property ${ue}:`,W);const de=W._id||W.id||`temp-${ue}`,Oe=W.location||{},$e=W.specifications||{},ur={_id:de,id:de,title:W.title||"Untitled Property",description:W.description||"No description available",price:W.price||0,currency:W.currency||"USD",type:W.type||"house",status:W.status||"for-sale",location:{address:Oe.address||"Address not specified",city:Oe.city||"City not specified",state:Oe.state||"State not specified",zipCode:Oe.zipCode||"",country:Oe.country||"United States"},specifications:{bedrooms:$e.bedrooms||0,bathrooms:$e.bathrooms||0,area:$e.area||0,areaUnit:$e.areaUnit||"sqft",yearBuilt:$e.yearBuilt||"",floors:$e.floors||1,parking:$e.parking||0},amenities:W.amenities||[],images:W.images||[],featuredImage:W.featuredImage,createdBy:W.createdBy,agentId:W.agentId,createdAt:W.createdAt,updatedAt:W.updatedAt};return console.log(` Normalized property ${ue}:`,ur),ur});console.log(" Final normalized properties:",se),e(se),n(se)}catch(V){console.error(" Error fetching properties:",V),k(V.message||Hl.DEFAULT),e([]),n([])}finally{a(!1)}},[]);y.useEffect(()=>{ee()},[ee]),y.useEffect(()=>{if(!Array.isArray(t)){n([]);return}console.log(" Filtering properties...",t.length);let V=t.filter(Q=>{var de,Oe,$e,ur,ni,jr;const se=s===""||((de=Q.title)==null?void 0:de.toLowerCase().includes(s.toLowerCase()))||((Oe=Q.description)==null?void 0:Oe.toLowerCase().includes(s.toLowerCase()))||((ur=($e=Q.location)==null?void 0:$e.address)==null?void 0:ur.toLowerCase().includes(s.toLowerCase()))||((jr=(ni=Q.location)==null?void 0:ni.city)==null?void 0:jr.toLowerCase().includes(s.toLowerCase())),W=c==="all"||Q.status===c,ue=d==="all"||Q.type===d;return se&&W&&ue});console.log(` Filtered to ${V.length} properties`),n(V)},[t,s,c,d]),y.useEffect(()=>{console.log(" Filtered properties updated:",r.length)},[r]);const ce=async V=>{const Q=Array.from(V.target.files);if(Q.length){D(!0),pe(0),k("");try{console.log(" Starting image upload...");const se=await Du.uploadMultipleFiles(Q,"property");console.log(" Upload service response:",se);const W=se.data;if(!W||!Array.isArray(W))throw new Error("Upload service returned invalid data format");const ue=W.map(de=>({id:de._id||de.id,url:de.url||de.path||de.secure_url,name:de.originalName||de.name||"Property Image",cloudinaryId:de.cloudinaryId||de.public_id}));B(de=>[...de,...ue]),!H&&ue.length>0&&K(ue[0].id),_(`Successfully uploaded ${ue.length} images`),setTimeout(()=>_(""),3e3)}catch(se){console.error(" Upload failed:",se),k(`Image upload failed: ${se.message}`)}finally{D(!1),pe(0)}}},Pe=async V=>{var Q;try{await Du.deleteUpload(V),B(se=>se.filter(W=>W.id!==V)),H===V&&K(((Q=O[0])==null?void 0:Q.id)||null)}catch(se){console.error("Delete failed:",se),k("Failed to delete image")}},ke=V=>{K(V)},Ye=()=>{B([]),K(null)},nt=y.useCallback(async V=>{V.preventDefault();try{D(!0),k("");const Q=[];if(N.title.trim()||Q.push("Property title is required"),N.description.trim()||Q.push("Property description is required"),(!N.price||N.price<=0)&&Q.push("Valid price is required"),N.location.address.trim()||Q.push("Address is required"),N.location.city.trim()||Q.push("City is required"),N.location.state.trim()||Q.push("State is required"),N.location.zipCode.trim()||Q.push("ZIP code is required"),(!N.specifications.bedrooms||N.specifications.bedrooms<0)&&Q.push("Number of bedrooms is required"),(!N.specifications.bathrooms||N.specifications.bathrooms<0)&&Q.push("Number of bathrooms is required"),(!N.specifications.area||N.specifications.area<0)&&Q.push("Property area is required"),O.length===0&&Q.push("At least one property image is required"),Q.length>0)throw new Error(Q.join(", "));const se=O.map($e=>$e.id),W={title:N.title.trim(),description:N.description.trim(),price:parseFloat(N.price),currency:N.currency,type:N.type,status:N.status,location:{address:N.location.address.trim(),city:N.location.city.trim(),state:N.location.state.trim(),zipCode:N.location.zipCode.trim(),country:N.location.country},specifications:{bedrooms:parseInt(N.specifications.bedrooms),bathrooms:parseFloat(N.specifications.bathrooms),area:parseInt(N.specifications.area),areaUnit:N.specifications.areaUnit,floors:parseInt(N.specifications.floors)||1,parking:parseInt(N.specifications.parking)||0},amenities:N.amenities,images:se,featuredImage:H,createdBy:T==null?void 0:T.uid,agentId:T==null?void 0:T.uid};if(N.specifications.yearBuilt){const $e=String(N.specifications.yearBuilt).trim();$e&&(W.specifications.yearBuilt=parseInt($e))}console.log(" Creating property with data:",W);const ue=await go.createProperty(W);console.log(" Create response:",ue);let de;if(ue&&ue.data)de=ue.data;else if(ue&&ue._id)de=ue;else throw new Error("Invalid response format from server");console.log(" Extracted created property:",de);const Oe={_id:de._id||de.id,id:de._id||de.id,title:de.title||"Untitled Property",description:de.description||"No description available",price:de.price||0,currency:de.currency||"USD",type:de.type||"house",status:de.status||"for-sale",location:de.location||{address:"Address not specified",city:"City not specified",state:"State not specified",zipCode:"",country:"United States"},specifications:de.specifications||{bedrooms:0,bathrooms:0,area:0,areaUnit:"sqft",yearBuilt:"",floors:1,parking:0},amenities:de.amenities||[],images:de.images||[],featuredImage:de.featuredImage,createdBy:de.createdBy,agentId:de.agentId,createdAt:de.createdAt,updatedAt:de.updatedAt};console.log(" Normalized created property:",Oe),e($e=>[Oe,...$e]),_(zh.PROPERTY_CREATED),Qe(),setTimeout(()=>{_("")},3e3)}catch(Q){console.error(" Error creating property:",Q),k(Q.message||Hl.DEFAULT)}finally{D(!1)}},[N,T,O,H]),at=y.useCallback(V=>{var Q,se,W,ue,de,Oe,$e,ur,ni,jr,Ds,It,Ls;if(V){if(console.log(" Editing property:",V),S(V),C({title:V.title||"",description:V.description||"",price:V.price||"",currency:V.currency||"USD",type:V.type||"house",status:V.status||"for-sale",location:{address:((Q=V.location)==null?void 0:Q.address)||"",city:((se=V.location)==null?void 0:se.city)||"",state:((W=V.location)==null?void 0:W.state)||"",zipCode:((ue=V.location)==null?void 0:ue.zipCode)||"",country:((de=V.location)==null?void 0:de.country)||"United States"},specifications:{bedrooms:((Oe=V.specifications)==null?void 0:Oe.bedrooms)||"",bathrooms:(($e=V.specifications)==null?void 0:$e.bathrooms)||"",area:((ur=V.specifications)==null?void 0:ur.area)||"",areaUnit:((ni=V.specifications)==null?void 0:ni.areaUnit)||"sqft",yearBuilt:((jr=V.specifications)==null?void 0:jr.yearBuilt)||"",floors:((Ds=V.specifications)==null?void 0:Ds.floors)||"1",parking:((It=V.specifications)==null?void 0:It.parking)||"0"},amenities:V.amenities||[]}),V.images&&Array.isArray(V.images)){const ii=V.images.map(Nr=>typeof Nr=="string"?{id:Nr,url:za,name:"Property Image"}:{id:Nr._id||Nr.id,url:Nr.url||za,name:Nr.originalName||"Property Image"});B(ii),K(V.featuredImage||((Ls=ii[0])==null?void 0:Ls.id)||null)}else B([]),K(null);E(!0)}},[]),We=y.useCallback(async V=>{V.preventDefault();try{if(D(!0),k(""),!A)throw new Error("No property selected for update");const Q=O.map(Oe=>Oe.id),se={title:N.title.trim(),description:N.description.trim(),price:parseFloat(N.price),currency:N.currency,type:N.type,status:N.status,location:{address:N.location.address.trim(),city:N.location.city.trim(),state:N.location.state.trim(),zipCode:N.location.zipCode.trim(),country:N.location.country},specifications:{bedrooms:parseInt(N.specifications.bedrooms),bathrooms:parseFloat(N.specifications.bathrooms),area:parseInt(N.specifications.area),areaUnit:N.specifications.areaUnit,floors:parseInt(N.specifications.floors)||1,parking:parseInt(N.specifications.parking)||0},amenities:N.amenities,images:Q,featuredImage:H};if(N.specifications.yearBuilt){const Oe=String(N.specifications.yearBuilt).trim();Oe&&(se.specifications.yearBuilt=parseInt(Oe))}console.log(" Updating property with data:",se);const W=await go.updateProperty(A._id,se);console.log(" Update response:",W);let ue;if(W&&W.data)ue=W.data;else if(W&&W._id)ue=W;else throw new Error("Invalid response format from server");console.log(" Extracted updated property:",ue);const de={_id:ue._id||ue.id,id:ue._id||ue.id,title:ue.title||"Untitled Property",description:ue.description||"No description available",price:ue.price||0,currency:ue.currency||"USD",type:ue.type||"house",status:ue.status||"for-sale",location:ue.location||{address:"Address not specified",city:"City not specified",state:"State not specified",zipCode:"",country:"United States"},specifications:ue.specifications||{bedrooms:0,bathrooms:0,area:0,areaUnit:"sqft",yearBuilt:"",floors:1,parking:0},amenities:ue.amenities||[],images:ue.images||[],featuredImage:ue.featuredImage,createdBy:ue.createdBy,agentId:ue.agentId,createdAt:ue.createdAt,updatedAt:ue.updatedAt};console.log(" Normalized updated property:",de),e(Oe=>Oe.map($e=>$e._id===A._id?de:$e)),_(zh.PROPERTY_UPDATED),Je(),setTimeout(()=>{_("")},3e3)}catch(Q){console.error(" Error updating property:",Q);let se=Q.message||Hl.DEFAULT;Q.status===400&&Q.data&&(Q.data.details&&Q.data.details.length>0?se=`Validation failed: ${Q.data.details.join(", ")}`:Q.data.message&&(se=Q.data.message)),k(se)}finally{D(!1)}},[N,A,O,H]),er=y.useCallback(V=>{S(V),g(!0)},[]),G=y.useCallback(async()=>{if(!A){k("No property selected for deletion"),g(!1);return}try{k(""),await go.deleteProperty(A._id),e(V=>V.filter(Q=>Q._id!==A._id)),g(!1),S(null),_(zh.PROPERTY_DELETED),setTimeout(()=>_(""),3e3)}catch(V){k(V.message||Hl.DEFAULT)}},[A]),ge=y.useCallback((V,Q)=>{C(se=>({...se,[V]:Q}))},[]),be=y.useCallback((V,Q)=>{C(se=>({...se,location:{...se.location,[V]:Q}}))},[]),Y=y.useCallback((V,Q)=>{C(se=>({...se,specifications:{...se.specifications,[V]:Q}}))},[]),Xe=y.useCallback(V=>{C(Q=>({...Q,amenities:Q.amenities.includes(V)?Q.amenities.filter(se=>se!==V):[...Q.amenities,V]}))},[]),Ae=y.useCallback(()=>{C(z()),B([]),K(null),x(!0)},[]),Qe=y.useCallback(()=>{x(!1),C(z()),B([]),K(null),k("")},[]),Je=y.useCallback(()=>{E(!1),S(null),C(z()),B([]),K(null),k("")},[]),zt=y.useCallback(()=>{ee()},[ee]),Yr=y.useCallback(V=>{V&&(window.location.href=`/properties/${V._id}`)},[]),ti=y.useCallback(V=>{switch(V){case"for-sale":return"bg-green-100 text-green-800";case"for-rent":return"bg-blue-100 text-blue-800";case"sold":return"bg-gray-100 text-gray-800";case"rented":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},[]),ct=y.useCallback(V=>{switch(V){case"villa":return"bg-purple-100 text-purple-800";case"apartment":return"bg-blue-100 text-blue-800";case"house":return"bg-green-100 text-green-800";case"commercial":return"bg-orange-100 text-orange-800";case"land":return"bg-yellow-100 text-yellow-800";case"condo":return"bg-pink-100 text-pink-800";case"townhouse":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},[]),gt=y.useCallback(V=>{if(V.images&&V.images.length>0){const Q=V.images[0];if(typeof Q=="string")return za;if(Q.url&&Q.url.startsWith("http"))return Q.url}return za},[]),ri=y.useCallback(V=>{const Q=V.location||{},se=[Q.address,Q.city,Q.state].filter(Boolean);return se.length>0?se.join(", "):"Location not specified"},[]),Rs=y.useCallback(V=>{const Q=V.specifications||{},se=Q.bedrooms||0,W=Q.bathrooms||0,ue=Q.area||0,de=Q.areaUnit||"sqft";return`${se} beds  ${W} baths  ${ue} ${de}`},[]),Oa=y.useCallback(V=>!V.price||V.price===0?"Price on request":qY(V.price,V.currency),[]),Ms=[{value:"all",label:"All Status"},{value:"for-sale",label:"For Sale"},{value:"for-rent",label:"For Rent"},{value:"sold",label:"Sold"},{value:"rented",label:"Rented"}],wn=[{value:"all",label:"All Types"},{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"townhouse",label:"Townhouse"},{value:"commercial",label:"Commercial"},{value:"land",label:"Land"}],Ra=[{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"townhouse",label:"Townhouse"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"}],Ma=[{value:"for-sale",label:"For Sale"},{value:"for-rent",label:"For Rent"},{value:"sold",label:"Sold"},{value:"rented",label:"Rented"}],$=[{value:"swimming-pool",label:"Swimming Pool"},{value:"garden",label:"Garden"},{value:"garage",label:"Garage"},{value:"balcony",label:"Balcony"},{value:"fireplace",label:"Fireplace"},{value:"air-conditioning",label:"Air Conditioning"},{value:"heating",label:"Heating"},{value:"security-system",label:"Security System"},{value:"elevator",label:"Elevator"},{value:"gym",label:"Gym"},{value:"parking",label:"Parking"},{value:"furnished",label:"Furnished"},{value:"pet-friendly",label:"Pet Friendly"}],ie=({isEdit:V=!1,onSubmit:Q,onCancel:se})=>l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:m("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[m("div",{className:"flex justify-between items-center p-6 border-b",children:[l("h2",{className:"text-2xl font-bold text-gray-900",children:V?"Edit Property":"Add New Property"}),l("button",{onClick:se,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l(ao,{size:24})})]}),m("form",{onSubmit:Q,className:"p-6 space-y-6",children:[m("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Title *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.title,onChange:W=>ge("title",W.target.value),placeholder:"Enter property title"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),m("div",{className:"flex space-x-2",children:[m("select",{className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.currency,onChange:W=>ge("currency",W.target.value),children:[l("option",{value:"USD",children:"USD"}),l("option",{value:"NAN",children:"NAN"})]}),l("input",{type:"number",required:!0,min:"0",step:"0.01",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.price,onChange:W=>ge("price",W.target.value),placeholder:"Enter price"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type *"}),l("select",{required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.type,onChange:W=>ge("type",W.target.value),children:Ra.map(W=>l("option",{value:W.value,children:W.label},W.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),l("select",{required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.status,onChange:W=>ge("status",W.target.value),children:Ma.map(W=>l("option",{value:W.value,children:W.label},W.value))})]})]}),m("div",{className:"mt-4",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),l("textarea",{required:!0,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.description,onChange:W=>ge("description",W.target.value),placeholder:"Describe the property features, location advantages, etc."})]})]}),m("div",{children:[m("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l(bf,{size:20,className:"mr-2"}),"Property Images"]}),te>0&&m("div",{className:"mb-4",children:[m("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[l("span",{children:"Uploading images..."}),m("span",{children:[te,"%"]})]}),l("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${te}%`}})})]}),m("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4",children:[l("input",{type:"file",multiple:!0,accept:"image/*",onChange:ce,disabled:I,className:"hidden",id:"property-images"}),m("label",{htmlFor:"property-images",className:`cursor-pointer inline-flex items-center px-4 py-2 rounded-md transition-colors ${I?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[l(qm,{size:16,className:"mr-2"}),I?"Uploading...":"Select Images"]}),l("p",{className:"mt-2 text-sm text-gray-500",children:"Upload multiple property images (JPEG, PNG, WebP)"})]}),O.length>0&&m("div",{className:"mt-4",children:[m("div",{className:"flex justify-between items-center mb-3",children:[m("h4",{className:"text-sm font-medium text-gray-700",children:["Uploaded Images (",O.length,")"]}),l("button",{type:"button",onClick:Ye,className:"text-sm text-red-600 hover:text-red-800",children:"Clear All"})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:O.map(W=>m("div",{className:"relative group",children:[l("img",{src:W.url,alt:W.name,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200"}),m("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center space-x-1",children:[l("button",{type:"button",onClick:()=>ke(W.id),className:`text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity ${H===W.id?"bg-green-500 text-white":"bg-white text-gray-800 hover:bg-gray-100"}`,children:H===W.id?"Featured":"Set Featured"}),l("button",{type:"button",onClick:()=>Pe(W.id),className:"text-xs bg-red-500 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:"Remove"})]}),H===W.id&&l("div",{className:"absolute top-1 left-1 bg-green-500 text-white text-xs px-1 rounded",children:"Featured"})]},W.id))})]}),O.length===0&&m("div",{className:"text-center py-4 text-gray-500",children:[l(bf,{size:32,className:"mx-auto mb-2 text-gray-300"}),l("p",{children:"At least one property image is required"})]})]}),m("div",{children:[m("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l(o5,{size:20,className:"mr-2"}),"Location"]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.location.address,onChange:W=>be("address",W.target.value),placeholder:"Street address"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.location.city,onChange:W=>be("city",W.target.value),placeholder:"City"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.location.state,onChange:W=>be("state",W.target.value),placeholder:"State"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.location.zipCode,onChange:W=>be("zipCode",W.target.value),placeholder:"ZIP code"})]})]})]}),m("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Specifications"}),m("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms *"}),l("input",{type:"number",required:!0,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.specifications.bedrooms,onChange:W=>Y("bedrooms",W.target.value),placeholder:"0"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms *"}),l("input",{type:"number",required:!0,min:"0",step:"0.5",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.specifications.bathrooms,onChange:W=>Y("bathrooms",W.target.value),placeholder:"0"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),m("div",{className:"flex space-x-2",children:[l("input",{type:"number",required:!0,min:"0",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.specifications.area,onChange:W=>Y("area",W.target.value),placeholder:"0"}),m("select",{className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.specifications.areaUnit,onChange:W=>Y("areaUnit",W.target.value),children:[l("option",{value:"sqft",children:"sqft"}),l("option",{value:"sqm",children:"sqm"})]})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Floors"}),l("input",{type:"number",min:"1",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.specifications.floors,onChange:W=>Y("floors",W.target.value),placeholder:"1"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Spaces"}),l("input",{type:"number",min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.specifications.parking,onChange:W=>Y("parking",W.target.value),placeholder:"0"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Built"}),l("input",{type:"number",min:"1800",max:new Date().getFullYear(),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N.specifications.yearBuilt,onChange:W=>Y("yearBuilt",W.target.value),placeholder:"Year"})]})]})]}),m("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Amenities"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:$.map(W=>m("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:N.amenities.includes(W.value),onChange:()=>Xe(W.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm text-gray-700",children:W.label})]},W.value))})]}),m("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[l("button",{type:"button",onClick:se,className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l("button",{type:"submit",disabled:I||O.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I?V?"Updating Property...":"Creating Property...":V?"Update Property":"Create Property"})]})]})]})});return i&&t.length===0?l("div",{className:"min-h-screen bg-gray-50 p-6",children:m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 gap-4",children:[...Array(5)].map((V,Q)=>l("div",{className:"h-20 bg-gray-200 rounded"},Q))})]})}):m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"flex justify-between items-center mb-6",children:[m("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Properties Management"}),l("p",{className:"text-gray-600",children:"Manage your property listings"})]}),m("div",{className:"flex space-x-3",children:[m("button",{onClick:zt,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-200 transition-colors",disabled:i,children:[l(Gi,{size:20,className:i?"animate-spin":""}),l("span",{children:i?"Refreshing...":"Refresh"})]}),m("button",{onClick:Ae,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l(vf,{size:20}),l("span",{children:"Add New Property"})]})]})]}),L&&l("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:m("div",{className:"flex items-center",children:[l(yf,{className:"text-red-500 mr-2",size:20}),l("div",{className:"text-red-600 text-sm",children:L})]})}),M&&l("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:l("div",{className:"flex items-center",children:l("div",{className:"text-green-600 text-sm",children:M})})}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m("div",{className:"relative",children:[l(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search properties...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:V=>o(V.target.value)})]}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:V=>u(V.target.value),children:Ms.map(V=>l("option",{value:V.value,children:V.label},V.value))}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:V=>h(V.target.value),children:wn.map(V=>l("option",{value:V.value,children:V.label},V.value))}),m("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-200 transition-colors",children:[l(s5,{size:20}),l("span",{children:"More Filters"})]})]})}),m("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l("div",{className:"overflow-x-auto",children:m("table",{className:"min-w-full divide-y divide-gray-200",children:[l("thead",{className:"bg-gray-50",children:m("tr",{children:[l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(V=>(console.log(" Rendering property in table:",V),m("tr",{className:"hover:bg-gray-50",children:[l("td",{className:"px-6 py-4 whitespace-nowrap",children:m("div",{className:"flex items-center",children:[l("div",{className:"h-10 w-10 flex-shrink-0",children:l("img",{className:"h-10 w-10 rounded-lg object-cover",src:gt(V),alt:V.title,onError:Q=>{Q.target.src!==za&&(Q.target.src=za)}})}),m("div",{className:"ml-4",children:[l("div",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:V.title||"No Title"}),l("div",{className:"text-sm text-gray-500",children:Rs(V)})]})]})}),l("td",{className:"px-6 py-4 whitespace-nowrap",children:l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ct(V.type)}`,children:KY(V.type)})}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Oa(V)}),l("td",{className:"px-6 py-4 whitespace-nowrap",children:l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ti(V.status)}`,children:GY(V.status)})}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ri(V)}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m("div",{className:"flex items-center space-x-2",children:[l("button",{className:"text-blue-600 hover:text-blue-900 transition-colors",onClick:()=>Yr(V),title:"View Property",children:l(Hm,{size:16})}),l("button",{className:"text-green-600 hover:text-green-900 transition-colors",onClick:()=>at(V),title:"Edit Property",children:l(Ex,{size:16})}),l("button",{className:"text-red-600 hover:text-red-900 transition-colors",onClick:()=>er(V),title:"Delete Property",children:l(Wm,{size:16})})]})})]},V._id))):l("tr",{children:m("td",{colSpan:"6",className:"px-6 py-24 text-center",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900",children:t.length===0?"No properties found":"No matching properties"}),l("p",{className:"text-gray-500 mt-1",children:t.length===0?"You haven't added any properties yet.":"Try adjusting your search or filters"}),t.length===0&&l("button",{onClick:Ae,className:"mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold",children:"Add Your First Property"})]})})})]})}),i&&t.length>0&&m("div",{className:"text-center py-4",children:[l(Gi,{className:"animate-spin mx-auto text-gray-400",size:20}),l("p",{className:"text-gray-500 mt-2",children:"Updating properties..."})]})]}),b&&l(ie,{isEdit:!1,onSubmit:nt,onCancel:Qe}),v&&l(ie,{isEdit:!0,onSubmit:We,onCancel:Je}),p&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[l("h3",{className:"text-lg font-semibold mb-2",children:"Delete Property"}),m("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',A==null?void 0:A.title,'"? This action cannot be undone.']}),m("div",{className:"flex justify-end space-x-3",children:[l("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>g(!1),children:"Cancel"}),l("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:G,children:"Delete"})]})]})})]})},XY=()=>{const[t,e]=y.useState(""),[r,n]=y.useState("all"),[i,a]=y.useState("all"),[s,o]=y.useState(!1),[c,u]=y.useState(!1),[d,h]=y.useState(null),[p,g]=y.useState({}),[b,x]=y.useState(null),[v,E]=y.useState(!1),[A,S]=y.useState(!1),[L,k]=y.useState(0),{user:M,isAdmin:_,loading:T}=Pa(),[N,C]=y.useState({title:"",excerpt:"",content:"",categories:[],tags:[],status:"draft",featuredImage:{url:"",alt:"",cloudinaryId:""},seo:{metaTitle:"",metaDescription:"",keywords:[]},readTime:5}),[I,D]=y.useState(""),[O,B]=y.useState(""),{posts:H,loading:K,error:te,deletePost:pe,updateStatus:z,createPost:ee,updatePost:ce,refetch:Pe,pagination:ke}=Hp(p),Ye=[{value:"all",label:"All Status"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"archived",label:"Archived"}],nt=[{value:"all",label:"All Categories"},{value:"market-news",label:"Market News"},{value:"home-improvement",label:"Home Improvement"},{value:"investment",label:"Investment"},{value:"neighborhood",label:"Neighborhood"},{value:"design-tips",label:"Design Tips"},{value:"mortgage",label:"Mortgage"},{value:"legal",label:"Legal"},{value:"lifestyle",label:"Lifestyle"}],at=async $=>{const ie=$.target.files[0];if(ie){S(!0),k(0),x(null);try{const V=Du.validateFile(ie,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp","image/gif"]});if(!V.isValid)throw new Error(V.errors.join(", "));console.log(" Uploading blog image:",ie.name);const se=(await Du.uploadBlogImages([ie],W=>{k(W)})).data[0];console.log(" Upload response:",se),C(W=>({...W,featuredImage:{url:se.url,cloudinaryId:se.cloudinaryId,alt:W.featuredImage.alt||se.originalName.split(".")[0]||"Blog post image"}})),console.log(" Image uploaded successfully:",{url:se.url,cloudinaryId:se.cloudinaryId,originalName:se.originalName})}catch(V){console.error(" Image upload failed:",V),x(V.message||"Failed to upload image. Please try again.")}finally{S(!1),k(0),$.target.value=""}}},We=$=>{$.preventDefault();const ie=$.dataTransfer.files;if(ie.length>0){const V=document.createElement("input");V.type="file",V.files=ie;const Q=new Event("change",{bubbles:!0});Object.defineProperty(Q,"target",{value:V}),at({target:V})}},er=$=>{$.preventDefault()},G=()=>{C($=>({...$,featuredImage:{url:"",alt:"",cloudinaryId:""}}))};y.useEffect(()=>{const $={};t&&($.search=t),r!=="all"&&($.status=r),i!=="all"&&($.category=i),g($)},[t,r,i]);const ge=$=>{if(!M){x("Please log in to delete posts");return}if(!_){x("Admin privileges required to delete posts");return}h($),o(!0)},be=async()=>{E(!0);try{await pe(d._id),o(!1),h(null)}catch($){console.error("Failed to delete post:",$),$.status===401&&x("Authentication failed. Please log in again.")}finally{E(!1)}},Y=async($,ie)=>{if(!M){x("Please log in to update post status");return}if(!_){x("Admin privileges required to update post status");return}E(!0);try{await z($,ie)}catch(V){console.error("Failed to update status:",V),V.status===401&&x("Authentication failed. Please log in again.")}finally{E(!1)}},Xe=()=>{if(!M){x("Please log in to create blog posts");return}if(!_){x("Admin privileges required to create blog posts");return}u(!0),x(null)},Ae=async()=>{if(!M){x("Please log in to create a post");return}if(!_){x("Admin privileges required to create posts");return}E(!0);try{const $=Qe(N.content),ie={title:N.title,content:N.content,excerpt:N.excerpt,categories:N.categories,tags:N.tags,status:N.status,featuredImage:N.featuredImage.url?{url:N.featuredImage.url,alt:N.featuredImage.alt,cloudinaryId:N.featuredImage.cloudinaryId}:void 0,seo:N.seo,readTime:$};console.log(" Post data being sent:",JSON.stringify(ie,null,2)),await ee(ie),u(!1),Je(),x(null)}catch($){console.error("Failed to create post:",$),$.status===401?x("Authentication failed. Please log in again."):$.status===403?x("Access denied. Admin privileges required."):x("Failed to create post. Please try again.")}finally{E(!1)}},Qe=$=>{if(!$)return 5;const ie=$.split(" ").length;return Math.ceil(ie/200)},Je=()=>{C({title:"",excerpt:"",content:"",categories:[],tags:[],status:"draft",featuredImage:{url:"",alt:"",cloudinaryId:""},seo:{metaTitle:"",metaDescription:"",keywords:[]},readTime:5}),D(""),B("")},zt=()=>{I.trim()&&!N.tags.includes(I.trim())&&(C($=>({...$,tags:[...$.tags,I.trim()]})),D(""))},Yr=$=>{C(ie=>({...ie,tags:ie.tags.filter(V=>V!==$)}))},ti=()=>{O.trim()&&!N.seo.keywords.includes(O.trim())&&(C($=>({...$,seo:{...$.seo,keywords:[...$.seo.keywords,O.trim()]}})),B(""))},ct=$=>{C(ie=>({...ie,seo:{...ie.seo,keywords:ie.seo.keywords.filter(V=>V!==$)}}))},gt=$=>{C(ie=>({...ie,categories:ie.categories.includes($)?ie.categories.filter(V=>V!==$):[...ie.categories,$]}))},ri=$=>{window.location.href=`/blog/${$.slug||$._id}`},Rs=$=>{if(!M){x("Please log in to edit posts");return}if(!_){x("Admin privileges required to edit posts");return}h($),C({title:$.title,excerpt:$.excerpt,content:$.content,categories:$.categories||[],tags:$.tags||[],status:$.status,featuredImage:$.featuredImage||{url:"",alt:"",cloudinaryId:""},seo:$.seo||{metaTitle:"",metaDescription:"",keywords:[]},readTime:$.readTime||5}),u(!0),x(null)},Oa=async()=>{if(!M||!_){x("Admin privileges required to update posts");return}E(!0);try{const $=Qe(N.content),ie={title:N.title,content:N.content,excerpt:N.excerpt,categories:N.categories,tags:N.tags,status:N.status,featuredImage:N.featuredImage.url?{url:N.featuredImage.url,alt:N.featuredImage.alt,cloudinaryId:N.featuredImage.cloudinaryId}:void 0,seo:N.seo,readTime:$},V=await ce(d._id,ie);u(!1),Je(),h(null),x(null)}catch($){console.error(" updatePost failed:",$),$.status===401?x("Authentication failed. Please log in again."):$.status===403?x("Access denied. Admin privileges required."):x(`Failed to update post: ${$.message}`)}finally{E(!1)}},Ms=$=>{switch($){case"published":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"archived":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},wn=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Ra=$=>{if(!$)return"5 min";const ie=$.split(" ").length;return`${Math.ceil(ie/200)} min`},Ma=()=>{Pe()};return y.useEffect(()=>{M&&x(null)},[M]),K&&H.length===0?l("div",{className:"min-h-screen bg-gray-50 p-6",children:m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 gap-4",children:[...Array(6)].map(($,ie)=>l("div",{className:"h-32 bg-gray-200 rounded"},ie))})]})}):m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"flex justify-between items-center mb-6",children:[m("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Blog Management"}),l("p",{className:"text-gray-600",children:"Manage your blog posts and content"})]}),m("div",{className:"flex items-center space-x-3",children:[M&&m("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l(Rv,{size:16}),l("span",{children:M.displayName||M.email}),_&&l("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Admin"})]}),m("button",{onClick:Ma,disabled:K,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 transition-colors",children:[l(Gi,{size:20,className:K?"animate-spin":""}),l("span",{children:"Refresh"})]}),M&&_?m("button",{onClick:Xe,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l(vf,{size:20}),l("span",{children:"New Post"})]}):m("button",{onClick:Xe,className:"bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 cursor-not-allowed opacity-50",title:M?"Admin access required":"Please log in",children:[l(vf,{size:20}),l("span",{children:"New Post"})]})]})]}),b&&m("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center justify-between",children:[m("div",{className:"flex items-center space-x-3",children:[l(yf,{className:"text-yellow-500",size:20}),m("div",{children:[l("h4",{className:"text-yellow-800 font-medium",children:"Authentication Required"}),l("p",{className:"text-yellow-600 text-sm",children:b})]})]}),!M&&m("button",{onClick:()=>window.location.href="/login",className:"flex items-center space-x-2 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:[l(l5,{size:16}),l("span",{children:"Log In"})]})]}),te&&!b&&m("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[l(yf,{className:"text-red-500",size:20}),m("div",{children:[l("h4",{className:"text-red-800 font-medium",children:"Error Loading Posts"}),l("p",{className:"text-red-600 text-sm",children:te})]})]}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m("div",{className:"relative",children:[l(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search posts...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:$=>e($.target.value)})]}),l("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:$=>n($.target.value),children:Ye.map($=>l("option",{value:$.value,children:$.label},$.value))}),l("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i,onChange:$=>a($.target.value),children:nt.map($=>l("option",{value:$.value,children:$.label},$.value))}),m("div",{className:"flex items-center justify-between px-3 py-2 text-sm text-gray-600",children:[l("span",{children:ke.totalItems>0?`${ke.totalItems} posts found`:"No posts found"}),K&&l(Gi,{size:16,className:"animate-spin"})]})]})}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:H.map($=>{var ie,V,Q,se,W;return m("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[m("div",{className:"h-48 bg-gray-200 relative",children:[(ie=$.featuredImage)!=null&&ie.url?l("img",{src:$.featuredImage.url,alt:$.featuredImage.alt||$.title,className:"w-full h-full object-cover"}):l("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center",children:l("span",{className:"text-gray-400 text-sm",children:"No image"})}),m("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${Ms($.status)}`,children:$.status}),(V=$.categories)==null?void 0:V.map((ue,de)=>l("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:ue},de))]})]}),m("div",{className:"p-4",children:[m("div",{className:"flex items-center justify-between mb-2",children:[l("span",{className:"text-sm text-blue-600 font-medium",children:((Q=$.categories)==null?void 0:Q[0])||"Uncategorized"}),l("span",{className:"text-sm text-gray-500",children:Ra($.content)})]}),l("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 text-gray-900",children:$.title}),l("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:$.excerpt}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:m("div",{className:"flex items-center space-x-4",children:[m("div",{className:"flex items-center space-x-1",children:[l(Rv,{size:14}),l("span",{children:$.authorName||"Unknown Author"})]}),m("div",{className:"flex items-center space-x-1",children:[l(c5,{size:14}),l("span",{children:wn($.createdAt)})]})]})}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:m("div",{className:"flex items-center space-x-4",children:[m("span",{children:[" ",$.views||0," views"]}),m("span",{children:[" ",((se=$.comments)==null?void 0:se.length)||0," comments"]}),m("span",{children:[" ",((W=$.likes)==null?void 0:W.length)||0," likes"]})]})}),m("div",{className:"flex items-center justify-between border-t pt-4",children:[m("div",{className:"flex items-center space-x-3",children:[m("button",{onClick:()=>ri($),className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",disabled:v,title:"View full post",children:[l(Hm,{size:16}),l("span",{children:"View"})]}),m("button",{onClick:()=>Rs($),className:"text-green-600 hover:text-green-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",disabled:!M||!_||v,title:M?_?"Edit post":"Admin access required":"Please log in",children:[l(Ex,{size:16}),l("span",{children:"Edit"})]}),m("select",{value:$.status,onChange:ue=>Y($._id,ue.target.value),disabled:!M||!_||v,className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-50",title:M?_?"Change status":"Admin access required":"Please log in",children:[l("option",{value:"draft",children:"Draft"}),l("option",{value:"published",children:"Publish"}),l("option",{value:"archived",children:"Archive"})]})]}),m("button",{className:"text-red-600 hover:text-red-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",onClick:()=>ge($),disabled:!M||!_||v,title:M?_?"Delete post":"Admin access required":"Please log in",children:[l(Wm,{size:16}),l("span",{children:"Delete"})]})]})]})]},$._id)})}),H.length===0&&!K&&m("div",{className:"text-center py-12",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blog posts found"}),l("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or create a new post"}),l("button",{onClick:Xe,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:!M||!_,title:M?_?"Create new post":"Admin access required":"Please log in",children:"Create Your First Post"})]}),ke.totalPages>1&&m("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[l("button",{disabled:ke.currentPage===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),m("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",ke.currentPage," of ",ke.totalPages]}),l("button",{disabled:ke.currentPage===ke.totalPages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]}),c&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[m("div",{className:"flex items-center justify-between p-6 border-b",children:[l("h3",{className:"text-xl font-semibold",children:d?"Edit Blog Post":"Create New Blog Post"}),l("button",{onClick:()=>{u(!1),Je(),h(null)},className:"text-gray-400 hover:text-gray-600",disabled:v,children:l(ao,{size:24})})]}),m("div",{className:"p-6 space-y-6",children:[m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),l("input",{type:"text",value:N.title,onChange:$=>C(ie=>({...ie,title:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter blog post title",disabled:v})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt *"}),l("textarea",{value:N.excerpt,onChange:$=>C(ie=>({...ie,excerpt:$.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the post",disabled:v})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),N.featuredImage.url?m("div",{className:"mb-4",children:[m("div",{className:"relative",children:[l("img",{src:N.featuredImage.url,alt:N.featuredImage.alt,className:"w-full h-48 object-cover rounded-lg border"}),l("button",{onClick:G,className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",disabled:A,children:l(ao,{size:16})})]}),m("div",{className:"mt-2",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Alt Text"}),l("input",{type:"text",value:N.featuredImage.alt,onChange:$=>C(ie=>({...ie,featuredImage:{...ie.featuredImage,alt:$.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the image for SEO",disabled:v})]})]}):l("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",onDrop:We,onDragOver:er,children:A?m("div",{className:"space-y-3",children:[l(Gi,{size:32,className:"animate-spin text-blue-600 mx-auto"}),m("p",{className:"text-sm text-gray-600",children:["Uploading... ",L,"%"]}),l("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${L}%`}})})]}):m(br,{children:[l(u5,{size:48,className:"text-gray-400 mx-auto mb-3"}),l("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop an image, or click to browse"}),l("p",{className:"text-xs text-gray-500 mb-4",children:"Supports JPG, PNG, WebP, GIF  Max 5MB"}),m("label",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:[l(qm,{size:16,className:"inline mr-2"}),"Choose Image",l("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:at,className:"hidden",disabled:A||v})]})]})})]})]}),m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),m("select",{value:N.status,onChange:$=>C(ie=>({...ie,status:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:v,children:[l("option",{value:"draft",children:"Draft"}),l("option",{value:"published",children:"Published"}),l("option",{value:"archived",children:"Archived"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),l("div",{className:"grid grid-cols-2 gap-2",children:nt.filter($=>$.value!=="all").map($=>m("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:N.categories.includes($.value),onChange:()=>gt($.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:v}),l("span",{className:"text-sm",children:$.label})]},$.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),m("div",{className:"flex space-x-2 mb-2",children:[l("input",{type:"text",value:I,onChange:$=>D($.target.value),onKeyPress:$=>$.key==="Enter"&&($.preventDefault(),zt()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a tag",disabled:v}),l("button",{onClick:zt,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",disabled:v,children:"Add"})]}),l("div",{className:"flex flex-wrap gap-2",children:N.tags.map(($,ie)=>m("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[$,l("button",{onClick:()=>Yr($),className:"ml-1 text-blue-600 hover:text-blue-800",disabled:v,children:l(ao,{size:14})})]},ie))})]})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),l("textarea",{value:N.content,onChange:$=>C(ie=>({...ie,content:$.target.value})),rows:"8",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write your blog post content here...",disabled:v}),m("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[l(d5,{size:16,className:"mr-1"}),"Estimated read time: ",Qe(N.content)," minutes"]})]}),m("div",{className:"border-t pt-6",children:[l("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO Settings"}),m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title"}),l("input",{type:"text",value:N.seo.metaTitle,onChange:$=>C(ie=>({...ie,seo:{...ie.seo,metaTitle:$.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SEO meta title",disabled:v})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),l("textarea",{value:N.seo.metaDescription,onChange:$=>C(ie=>({...ie,seo:{...ie.seo,metaDescription:$.target.value}})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SEO meta description",disabled:v})]})]}),m("div",{className:"mt-4",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),m("div",{className:"flex space-x-2 mb-2",children:[l("input",{type:"text",value:O,onChange:$=>B($.target.value),onKeyPress:$=>$.key==="Enter"&&($.preventDefault(),ti()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a keyword",disabled:v}),l("button",{onClick:ti,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",disabled:v,children:"Add"})]}),l("div",{className:"flex flex-wrap gap-2",children:N.seo.keywords.map(($,ie)=>m("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[$,l("button",{onClick:()=>ct($),className:"ml-1 text-green-600 hover:text-green-800",disabled:v,children:l(ao,{size:14})})]},ie))})]})]})]}),m("div",{className:"flex justify-end space-x-3 p-6 border-t",children:[l("button",{onClick:()=>{u(!1),Je(),h(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",disabled:v,children:"Cancel"}),m("button",{onClick:d?Oa:Ae,disabled:!N.title||!N.excerpt||!N.content||v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[v&&l(Gi,{size:16,className:"animate-spin"}),l("span",{children:v?d?"Updating...":"Creating...":d?"Update Post":"Create Post"})]})]})]})}),s&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[l("h3",{className:"text-lg font-semibold mb-2",children:"Delete Blog Post"}),m("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',d==null?void 0:d.title,'"? This action cannot be undone.']}),m("div",{className:"flex justify-end space-x-3",children:[l("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",onClick:()=>o(!1),disabled:v,children:"Cancel"}),m("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center space-x-2",onClick:be,disabled:v,children:[v&&l(Gi,{size:16,className:"animate-spin"}),l("span",{children:v?"Deleting...":"Delete"})]})]})]})})]})},QY=()=>{const[t,e]=y.useState([]),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(""),[c,u]=y.useState("all");y.useState([]);const[d,h]=y.useState(!1),[p,g]=y.useState(!1),[b,x]=y.useState(null),v=[{value:"all",label:"All Types"},{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"document",label:"Documents"}];y.useEffect(()=>{setTimeout(()=>{const _=[{id:1,name:"property-exterior.jpg",url:"/media/property1.jpg",type:"image",size:"2.4 MB",dimensions:"1920x1080",uploaded:"2024-01-15",usedIn:["Modern Villa Listing"]},{id:2,name:"living-room-interior.png",url:"/media/living-room.jpg",type:"image",size:"3.1 MB",dimensions:"1920x1080",uploaded:"2024-01-14",usedIn:["Modern Villa Listing","Featured Properties"]},{id:3,name:"property-video-tour.mp4",url:"/media/tour-video.mp4",type:"video",size:"45.2 MB",dimensions:"1920x1080",uploaded:"2024-01-13",usedIn:["Modern Villa Listing"]},{id:4,name:"floor-plan.pdf",url:"/media/floor-plan.pdf",type:"document",size:"1.2 MB",dimensions:"-",uploaded:"2024-01-12",usedIn:["Modern Villa Listing"]},{id:5,name:"kitchen-design.jpg",url:"/media/kitchen.jpg",type:"image",size:"2.8 MB",dimensions:"1920x1080",uploaded:"2024-01-11",usedIn:[]}];e(_),n(_),a(!1)},1e3)},[]),y.useEffect(()=>{E()},[s,c,t]);const E=()=>{let _=t;s&&(_=_.filter(T=>T.name.toLowerCase().includes(s.toLowerCase()))),c!=="all"&&(_=_.filter(T=>T.type===c)),n(_)},A=_=>{const T=_.target.files;T.length>0&&(h(!0),setTimeout(()=>{const N=Array.from(T).map((C,I)=>({id:t.length+I+1,name:C.name,url:URL.createObjectURL(C),type:C.type.split("/")[0],size:`${(C.size/1048576).toFixed(1)} MB`,dimensions:"Unknown",uploaded:new Date().toISOString().split("T")[0],usedIn:[]}));e(C=>[...C,...N]),h(!1)},2e3))},S=_=>{e(t.filter(T=>T.id!==_.id))},L=_=>{x(_),g(!0)},k=_=>{switch(_){case"image":return l(bf,{className:"text-blue-500",size:24});case"video":return l(f5,{className:"text-purple-500",size:24});case"document":return l(wh,{className:"text-green-500",size:24});default:return l(wh,{className:"text-gray-500",size:24})}},M=_=>{switch(_){case"image":return"bg-blue-100 text-blue-800";case"video":return"bg-purple-100 text-purple-800";case"document":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return i?l("div",{className:"min-h-screen bg-gray-50 p-6",children:m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(8)].map((_,T)=>l("div",{className:"h-40 bg-gray-200 rounded"},T))})]})}):m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"flex justify-between items-center mb-6",children:[m("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),l("p",{className:"text-gray-600",children:"Manage your images, videos, and documents"})]}),l("div",{className:"flex items-center space-x-4",children:m("div",{className:"relative",children:[l("input",{type:"file",multiple:!0,className:"hidden",id:"file-upload",onChange:A,accept:"image/*,video/*,.pdf,.doc,.docx"}),m("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 cursor-pointer",children:[l(qm,{size:20}),l("span",{children:"Upload Files"})]})]})})]}),d&&l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),l("span",{className:"text-gray-600",children:"Uploading files..."})]})}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m("div",{className:"relative",children:[l(Bm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search media...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:_=>o(_.target.value)})]}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:_=>u(_.target.value),children:v.map(_=>l("option",{value:_.value,children:_.label},_.value))}),m("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"newest",children:"Newest First"}),l("option",{value:"oldest",children:"Oldest First"}),l("option",{value:"name",children:"Name A-Z"}),l("option",{value:"size",children:"Size"})]})]})}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:r.map(_=>m("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow",children:[m("div",{className:"aspect-square bg-gray-100 relative group",children:[_.type==="image"?l("img",{src:_.url||"/placeholder-media.jpg",alt:_.name,className:"w-full h-full object-cover"}):l("div",{className:"w-full h-full flex items-center justify-center bg-gray-50",children:k(_.type)}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:m("div",{className:"flex space-x-2",children:[l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",onClick:()=>L(_),children:l(Hm,{size:16})}),l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",children:l(h5,{size:16})}),l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",onClick:()=>S(_),children:l(Wm,{size:16})})]})})]}),m("div",{className:"p-3",children:[m("div",{className:"flex items-center justify-between mb-2",children:[l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${M(_.type)}`,children:_.type}),l("span",{className:"text-xs text-gray-500",children:_.size})]}),l("h3",{className:"font-medium text-sm mb-1 truncate",title:_.name,children:_.name}),m("div",{className:"text-xs text-gray-500 space-y-1",children:[l("div",{children:_.dimensions}),m("div",{children:["Uploaded: ",new Date(_.uploaded).toLocaleDateString()]}),_.usedIn.length>0&&m("div",{className:"truncate",title:_.usedIn.join(", "),children:["Used in: ",_.usedIn.length," place(s)"]})]})]})]},_.id))}),r.length===0&&m("div",{className:"text-center py-12",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900",children:"No media files found"}),l("p",{className:"text-gray-500 mt-1",children:"Upload some files to get started"})]}),p&&b&&l("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[m("div",{className:"p-4 border-b flex justify-between items-center",children:[l("h3",{className:"text-lg font-semibold",children:b.name}),l("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>g(!1),children:""})]}),l("div",{className:"p-8 flex items-center justify-center max-h-[70vh] overflow-auto",children:b.type==="image"?l("img",{src:b.url,alt:b.name,className:"max-w-full max-h-full object-contain"}):b.type==="video"?m("video",{controls:!0,className:"max-w-full max-h-full",children:[l("source",{src:b.url,type:"video/mp4"}),"Your browser does not support the video tag."]}):m("div",{className:"text-center",children:[l(wh,{size:64,className:"text-gray-400 mx-auto mb-4"}),m("p",{className:"text-gray-600",children:["Preview not available for ",b.type," files"]}),l("a",{href:b.url,download:!0,className:"inline-block mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Download File"})]})}),l("div",{className:"p-4 border-t bg-gray-50",children:m("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[m("div",{children:[l("span",{className:"font-medium",children:"Type:"})," ",b.type]}),m("div",{children:[l("span",{className:"font-medium",children:"Size:"})," ",b.size]}),m("div",{children:[l("span",{className:"font-medium",children:"Dimensions:"})," ",b.dimensions]}),m("div",{children:[l("span",{className:"font-medium",children:"Uploaded:"})," ",new Date(b.uploaded).toLocaleDateString()]})]})})]})})]})},JY=()=>{const[t,e]=y.useState("general"),[r,n]=y.useState(!1),[i,a]=y.useState({siteName:"EstatePro",siteDescription:"Premium Real Estate Solutions",contactEmail:"contact@estatepro.com",phoneNumber:"+1 (555) 123-4567",address:"123 Business Ave, City, State 12345",emailNotifications:!0,smsNotifications:!1,newListingAlerts:!0,appointmentReminders:!0,marketUpdates:!1,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,currency:"USD",taxRate:8.5,commissionRate:3.5,googleMapsApiKey:"",cloudinaryCloudName:"",cloudinaryApiKey:"",dataRetention:365,analyticsTracking:!0,cookieConsent:!0}),s=[{id:"general",label:"General",icon:p5},{id:"notifications",label:"Notifications",icon:g5},{id:"security",label:"Security",icon:Mv},{id:"payments",label:"Payments",icon:v5},{id:"api",label:"API Keys",icon:y5},{id:"privacy",label:"Privacy",icon:b5}],o=async()=>{n(!0),setTimeout(()=>{n(!1),alert("Settings saved successfully!")},2e3)},c=(v,E,A)=>{a(S=>({...S,[E]:A}))},u=()=>m("div",{className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),l("input",{type:"text",value:i.siteName,onChange:v=>c("general","siteName",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),l("input",{type:"email",value:i.contactEmail,onChange:v=>c("general","contactEmail",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Description"}),l("textarea",{value:i.siteDescription,onChange:v=>c("general","siteDescription",v.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l("input",{type:"tel",value:i.phoneNumber,onChange:v=>c("general","phoneNumber",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l("input",{type:"text",value:i.address,onChange:v=>c("general","address",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),d=()=>l("div",{className:"space-y-6",children:m("div",{className:"space-y-4",children:[l("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),m("div",{className:"space-y-3",children:[m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"}),l("p",{className:"text-sm text-gray-500",children:"Receive important updates via email"})]}),l("input",{type:"checkbox",checked:i.emailNotifications,onChange:v=>c("notifications","emailNotifications",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"SMS Notifications"}),l("p",{className:"text-sm text-gray-500",children:"Receive urgent alerts via SMS"})]}),l("input",{type:"checkbox",checked:i.smsNotifications,onChange:v=>c("notifications","smsNotifications",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"New Listing Alerts"}),l("p",{className:"text-sm text-gray-500",children:"Get notified when new properties are listed"})]}),l("input",{type:"checkbox",checked:i.newListingAlerts,onChange:v=>c("notifications","newListingAlerts",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Appointment Reminders"}),l("p",{className:"text-sm text-gray-500",children:"Reminders for scheduled appointments"})]}),l("input",{type:"checkbox",checked:i.appointmentReminders,onChange:v=>c("notifications","appointmentReminders",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})}),h=()=>l("div",{className:"space-y-6",children:m("div",{className:"space-y-4",children:[m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),l("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),l("input",{type:"checkbox",checked:i.twoFactorAuth,onChange:v=>c("security","twoFactorAuth",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),m("select",{value:i.sessionTimeout,onChange:v=>c("security","sessionTimeout",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:15,children:"15 minutes"}),l("option",{value:30,children:"30 minutes"}),l("option",{value:60,children:"1 hour"}),l("option",{value:120,children:"2 hours"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Expiry (days)"}),m("select",{value:i.passwordExpiry,onChange:v=>c("security","passwordExpiry",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:30,children:"30 days"}),l("option",{value:60,children:"60 days"}),l("option",{value:90,children:"90 days"}),l("option",{value:180,children:"180 days"})]})]})]})}),p=()=>m("div",{className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),m("select",{value:i.currency,onChange:v=>c("payments","currency",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"USD",children:"USD ($)"}),l("option",{value:"EUR",children:"EUR ()"}),l("option",{value:"GBP",children:"GBP ()"}),l("option",{value:"CAD",children:"CAD ($)"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),l("input",{type:"number",step:"0.1",value:i.taxRate,onChange:v=>c("payments","taxRate",parseFloat(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commission Rate (%)"}),l("input",{type:"number",step:"0.1",value:i.commissionRate,onChange:v=>c("payments","commissionRate",parseFloat(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l("p",{className:"text-sm text-gray-500 mt-1",children:"Standard commission rate for property sales"})]})]}),g=()=>m("div",{className:"space-y-6",children:[l("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:m("div",{className:"flex",children:[l("div",{className:"flex-shrink-0",children:l(Mv,{className:"h-5 w-5 text-yellow-400"})}),m("div",{className:"ml-3",children:[l("h3",{className:"text-sm font-medium text-yellow-800",children:"API Security"}),l("div",{className:"mt-2 text-sm text-yellow-700",children:l("p",{children:"Keep your API keys secure. Never share them in client-side code or public repositories."})})]})]})}),m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps API Key"}),l("input",{type:"password",value:i.googleMapsApiKey,onChange:v=>c("api","googleMapsApiKey",v.target.value),placeholder:"Enter your Google Maps API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cloudinary Cloud Name"}),l("input",{type:"text",value:i.cloudinaryCloudName,onChange:v=>c("api","cloudinaryCloudName",v.target.value),placeholder:"Your cloud name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cloudinary API Key"}),l("input",{type:"password",value:i.cloudinaryApiKey,onChange:v=>c("api","cloudinaryApiKey",v.target.value),placeholder:"Your API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),b=()=>l("div",{className:"space-y-6",children:m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Retention Period (days)"}),m("select",{value:i.dataRetention,onChange:v=>c("privacy","dataRetention",parseInt(v.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:30,children:"30 days"}),l("option",{value:90,children:"90 days"}),l("option",{value:180,children:"180 days"}),l("option",{value:365,children:"1 year"}),l("option",{value:730,children:"2 years"})]}),l("p",{className:"text-sm text-gray-500 mt-1",children:"How long to keep user data before automatic deletion"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Analytics Tracking"}),l("p",{className:"text-sm text-gray-500",children:"Collect anonymous usage data to improve the platform"})]}),l("input",{type:"checkbox",checked:i.analyticsTracking,onChange:v=>c("privacy","analyticsTracking",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Cookie Consent"}),l("p",{className:"text-sm text-gray-500",children:"Show cookie consent banner to visitors"})]}),l("input",{type:"checkbox",checked:i.cookieConsent,onChange:v=>c("privacy","cookieConsent",v.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})}),x=()=>{switch(t){case"general":return u();case"notifications":return d();case"security":return h();case"payments":return p();case"api":return g();case"privacy":return b();default:return u()}};return m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"mb-6",children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),l("p",{className:"text-gray-600",children:"Manage your website configuration and preferences"})]}),m("div",{className:"bg-white rounded-lg shadow",children:[l("div",{className:"border-b border-gray-200",children:l("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:s.map(v=>{const E=v.icon;return m("button",{onClick:()=>e(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${t===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l(E,{size:18}),l("span",{children:v.label})]},v.id)})})}),m("div",{className:"p-6",children:[x(),l("div",{className:"flex justify-end pt-6 mt-6 border-t border-gray-200",children:m("button",{onClick:o,disabled:r,className:"bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l(m5,{size:20}),l("span",{children:r?"Saving...":"Save Changes"})]})})]})]})]})},Ba=({children:t,className:e=""})=>{var S,L;const{user:r,isAdmin:n,loading:i,initialized:a,logout:s}=Pa();y.useState(!1);const[o,c]=y.useState(!1),[u,d]=y.useState(!1),h=Go(),p=n5();console.log(" AdminLayout Debug:",{user:r?r.email:"No user",isAdmin:n(),loading:i,initialized:a,timestamp:new Date().toISOString()});const g=[{name:"Dashboard",href:"/admin/dashboard",icon:"",current:h.pathname==="/admin/dashboard"},{name:"Properties",href:"/admin/properties",icon:"",current:h.pathname.startsWith("/admin/properties")},{name:"Blog Posts",href:"/admin/blog",icon:"",current:h.pathname.startsWith("/admin/blog")},{name:"Media Library",href:"/admin/media",icon:"",current:h.pathname.startsWith("/admin/media")},{name:"Users",href:"/admin/users",icon:"",current:h.pathname.startsWith("/admin/users")},{name:"Settings",href:"/admin/settings",icon:"",current:h.pathname.startsWith("/admin/settings")}],b=[{name:"Total Properties",value:"247",change:"+12%",changeType:"increase"},{name:"Active Listings",value:"143",change:"+8%",changeType:"increase"},{name:"Pending Sales",value:"24",change:"-2%",changeType:"decrease"},{name:"Blog Posts",value:"89",change:"+15%",changeType:"increase"}],x=async()=>{try{await s(),p("/")}catch(k){console.error("Logout failed:",k)}};if(i||!a)return l("div",{className:"min-h-screen flex items-center justify-center",children:l(ol,{size:"large",text:"Loading admin panel..."})});const v=(r==null?void 0:r.displayName)||((S=r==null?void 0:r.email)==null?void 0:S.split("@")[0])||"User",E=(r==null?void 0:r.photoURL)||"/images/avatar-placeholder.jpg",A=(r==null?void 0:r.role)||"Administrator";return m("div",{className:`min-h-screen bg-gray-50 ${e}`,children:[o&&l("div",{className:"fixed inset-0 z-40 lg:hidden bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),u&&l("div",{className:"fixed inset-0 z-30",onClick:()=>d(!1)}),m("div",{className:"flex",children:[l("div",{className:"hidden lg:flex lg:flex-shrink-0",children:l("div",{className:"flex flex-col w-64",children:m("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[l("div",{className:"flex items-center flex-shrink-0 px-6",children:m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l("span",{className:"text-white font-bold text-sm",children:"A"})}),m("div",{children:[l("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"}),l("p",{className:"text-sm text-gray-500",children:"EstatePro"})]})]})}),l("nav",{className:"mt-8 flex-1 px-4 space-y-2",children:g.map(k=>m(we,{to:k.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${k.current?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[l("span",{className:"mr-3 text-lg",children:k.icon}),k.name]},k.name))}),l("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:m("div",{className:"flex items-center w-full",children:[l("div",{className:"flex-shrink-0",children:l("img",{className:"w-10 h-10 rounded-full",src:E,alt:v})}),m("div",{className:"ml-3 flex-1",children:[l("p",{className:"text-sm font-medium text-gray-900",children:v}),l("p",{className:"text-xs text-gray-500 capitalize",children:A})]}),l("button",{onClick:x,className:"ml-2 p-2 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"Logout",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})})}),m("div",{className:"flex-1 flex flex-col min-w-0",children:[l("div",{className:"bg-white border-b border-gray-200",children:m("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8 py-4",children:[m("div",{className:"flex items-center",children:[m("button",{type:"button",className:"lg:hidden -ml-2.5 p-2.5 text-gray-700",onClick:()=>c(!0),children:[l("span",{className:"sr-only",children:"Open sidebar"}),l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),l("h1",{className:"ml-2 text-2xl font-semibold text-gray-900",children:((L=g.find(k=>k.current))==null?void 0:L.name)||"Dashboard"})]}),m("div",{className:"flex items-center space-x-4",children:[m("button",{className:"p-2 text-gray-400 hover:text-gray-500 relative",children:[l("span",{className:"sr-only",children:"View notifications"}),l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM10.5 3.75a6 6 0 0 0-6 6v2.25l-2 2V15h15v-.75l-2-2V9.75a6 6 0 0 0-6-6z"})}),l("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),m("div",{className:"relative",children:[m("button",{className:"flex items-center space-x-3 text-sm focus:outline-none",onClick:()=>d(!u),children:[l("img",{className:"w-8 h-8 rounded-full",src:E,alt:v}),l("span",{className:"hidden md:block font-medium text-gray-700",children:v}),l("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&m("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-40 border border-gray-200",children:[m("div",{className:"px-4 py-2 border-b border-gray-100",children:[l("p",{className:"text-sm font-medium text-gray-900",children:v}),l("p",{className:"text-xs text-gray-500 capitalize",children:A})]}),l(we,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>d(!1),children:"Settings"}),l("button",{onClick:x,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Sign out"})]})]})]})]})}),l("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none",children:m("div",{className:"py-6",children:[h.pathname==="/admin/dashboard"&&l("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8",children:l("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:b.map(k=>l("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:l("div",{className:"p-5",children:m("div",{className:"flex items-center",children:[l("div",{className:"flex-shrink-0",children:l("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:l("span",{className:"text-white text-sm font-semibold",children:""})})}),l("div",{className:"ml-5 w-0 flex-1",children:m("dl",{children:[l("dt",{className:"text-sm font-medium text-gray-500 truncate",children:k.name}),m("dd",{className:"flex items-baseline",children:[l("div",{className:"text-2xl font-semibold text-gray-900",children:k.value}),l("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${k.changeType==="increase"?"text-green-600":"text-red-600"}`,children:k.change})]})]})})]})})},k.name))})}),l("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t})]})})]})]}),l("div",{className:`lg:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:m("div",{className:"flex flex-col h-full bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[m("div",{className:"flex items-center justify-between flex-shrink-0 px-6",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l("span",{className:"text-white font-bold text-sm",children:"A"})}),m("div",{children:[l("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"}),l("p",{className:"text-sm text-gray-500",children:"EstatePro"})]})]}),l("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-gray-500",children:l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l("nav",{className:"mt-8 flex-1 px-4 space-y-2",children:g.map(k=>m(we,{to:k.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${k.current?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[l("span",{className:"mr-3 text-lg",children:k.icon}),k.name]},k.name))}),l("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:m("div",{className:"flex items-center w-full",children:[l("div",{className:"flex-shrink-0",children:l("img",{className:"w-10 h-10 rounded-full",src:E,alt:v})}),m("div",{className:"ml-3 flex-1",children:[l("p",{className:"text-sm font-medium text-gray-900",children:v}),l("p",{className:"text-xs text-gray-500 capitalize",children:A})]})]})})]})})]})},Ha=({children:t,requireAdmin:e=!1})=>{const{isAuthenticated:r,isAdmin:n,loading:i,initialized:a}=Pa(),s=Go();if(console.log(" ProtectedRoute Debug:",{path:s.pathname,requireAdmin:e,isAuthenticated:r,isAdmin:typeof n=="function"?n():n,isAdminType:typeof n,loading:i,initialized:a,timestamp:new Date().toISOString()}),!a||i)return console.log(" ProtectedRoute: Still loading..."),m("div",{className:"min-h-screen flex items-center justify-center",children:[l("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l("span",{className:"ml-3 text-gray-600",children:"Loading..."})]});if(!r)return console.log(" ProtectedRoute: Not authenticated, redirecting to home"),l(pf,{to:"/",replace:!0,state:{from:s}});const o=typeof n=="function"?n():n;return e&&!o?(console.log(" ProtectedRoute: Not admin, redirecting to home"),l(pf,{to:"/",replace:!0,state:{from:s}})):(console.log(" ProtectedRoute: Access granted - rendering children"),t)},ZY=()=>{const t=Pa(),e=Go(),r=typeof t.isAdmin=="function"?t.isAdmin():t.isAdmin;return m("div",{className:"p-6",children:[l("h1",{className:"text-2xl font-bold mb-6",children:" Auth Debug"}),m("div",{className:"bg-white rounded-lg shadow p-6",children:[m("div",{className:"mb-4",children:[l("h3",{className:"font-semibold",children:"Current Location:"}),l("pre",{className:"bg-gray-100 p-2 rounded",children:e.pathname+e.search})]}),l("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify({user:t.user?{email:t.user.email,uid:t.user.uid,emailVerified:t.user.emailVerified}:"No user",isAuthenticated:t.isAuthenticated,isAdmin:r,isAdminType:typeof t.isAdmin,loading:t.loading,initialized:t.initialized,userRole:t.userRole,userEmail:t.userEmail},null,2)}),m("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{className:`p-4 rounded-lg ${t.isAuthenticated?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:[l("h3",{className:"font-semibold",children:"Authentication"}),l("p",{children:t.isAuthenticated?" Authenticated":" Not Authenticated"})]}),m("div",{className:`p-4 rounded-lg ${r?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:[l("h3",{className:"font-semibold",children:"Admin Status"}),l("p",{children:r?" Is Admin":" Not Admin"}),m("p",{className:"text-sm text-gray-600 mt-1",children:["Type: ",typeof t.isAdmin]})]})]}),m("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l("h3",{className:"font-semibold text-blue-900 mb-2",children:"User Information"}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[m("div",{children:[l("strong",{children:"Email:"})," ",t.userEmail||"No email"]}),m("div",{children:[l("strong",{children:"User ID:"})," ",t.userId||"No ID"]}),m("div",{children:[l("strong",{children:"Role:"})," ",t.userRole||"No role"]}),m("div",{children:[l("strong",{children:"Email Verified:"})," ",t.isEmailVerified?"":""]})]})]}),m("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[l("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Admin Access Test"}),m("div",{className:"space-y-2",children:[l("button",{onClick:()=>window.location.href="/admin/dashboard",className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition duration-200",children:"Test Admin Dashboard Access"}),m("p",{className:"text-sm text-yellow-700",children:["Current admin status: ",l("strong",{children:r?"ADMIN":"NOT ADMIN"})]})]})]})]})]})},eX=()=>{const t=Go();return console.log(" AppRouter - Current location:",{pathname:t.pathname,search:t.search,hash:t.hash,timestamp:new Date().toISOString()}),m(i5,{children:[l(Bt,{path:"/",element:l(TO,{})}),l(Bt,{path:"/properties",element:l(UO,{})}),l(Bt,{path:"/properties/:id",element:l(XO,{})}),l(Bt,{path:"/blog",element:l(e9,{})}),l(Bt,{path:"/blog/:id",element:l(n9,{})}),l(Bt,{path:"/contact",element:l(i9,{})}),l(Bt,{path:"/about",element:l(a9,{})}),l(Bt,{path:"/services",element:l(s9,{})}),l(Bt,{path:"/admin/dashboard",element:l(Ha,{requireAdmin:!0,children:l(Ba,{children:l(HY,{})})})}),l(Bt,{path:"/admin/properties",element:l(Ha,{requireAdmin:!0,children:l(Ba,{children:l(YY,{})})})}),l(Bt,{path:"/admin/blog",element:l(Ha,{requireAdmin:!0,children:l(Ba,{children:l(XY,{})})})}),l(Bt,{path:"/admin/media",element:l(Ha,{requireAdmin:!0,children:l(Ba,{children:l(QY,{})})})}),l(Bt,{path:"/admin/settings",element:l(Ha,{requireAdmin:!0,children:l(Ba,{children:l(JY,{})})})}),l(Bt,{path:"/admin/debug",element:l(Ha,{requireAdmin:!0,children:l(Ba,{children:l(ZY,{})})})}),l(Bt,{path:"/admin",element:l(pf,{to:"/admin/dashboard",replace:!0})}),l(Bt,{path:"*",element:l(tX,{})})]})},tX=()=>l("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:m("div",{className:"text-center max-w-md",children:[l("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:l("span",{className:"text-2xl",children:""})}),l("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),l("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),l("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),m("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("a",{href:"/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium",children:"Go Home"}),l("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition duration-200 font-medium",children:"Go Back"})]})]})}),rn={SET_THEME:"SET_THEME",SET_COLOR_SCHEME:"SET_COLOR_SCHEME",SET_FONT_SIZE:"SET_FONT_SIZE",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",RESET_SETTINGS:"RESET_SETTINGS"},Jr={LIGHT:"light",DARK:"dark",AUTO:"auto"},Zr={BLUE:"blue",GREEN:"green",PURPLE:"purple",ORANGE:"orange",PINK:"pink"},Nn={SMALL:"small",MEDIUM:"medium",LARGE:"large"},kA={theme:Tr.get("theme",Jr.LIGHT),colorScheme:Tr.get("colorScheme",Zr.BLUE),fontSize:Tr.get("fontSize",Nn.MEDIUM),darkMode:Tr.get("darkMode",!1)},rX=(t,e)=>{switch(e.type){case rn.SET_THEME:return Tr.set("theme",e.payload),{...t,theme:e.payload};case rn.SET_COLOR_SCHEME:return Tr.set("colorScheme",e.payload),{...t,colorScheme:e.payload};case rn.SET_FONT_SIZE:return Tr.set("fontSize",e.payload),{...t,fontSize:e.payload};case rn.TOGGLE_DARK_MODE:const r=e.payload??!t.darkMode;return Tr.set("darkMode",r),{...t,darkMode:r};case rn.RESET_SETTINGS:return Tr.remove("theme"),Tr.remove("colorScheme"),Tr.remove("fontSize"),Tr.remove("darkMode"),kA;default:return t}},nX=y.createContext(),iX=({children:t})=>{const[e,r]=y.useReducer(rX,kA),n={setTheme:o=>r({type:rn.SET_THEME,payload:o}),setColorScheme:o=>r({type:rn.SET_COLOR_SCHEME,payload:o}),setFontSize:o=>r({type:rn.SET_FONT_SIZE,payload:o}),toggleDarkMode:o=>r({type:rn.TOGGLE_DARK_MODE,payload:o}),resetSettings:()=>r({type:rn.RESET_SETTINGS}),toggleTheme:()=>{const o=e.theme===Jr.LIGHT?Jr.DARK:Jr.LIGHT;n.setTheme(o)},cycleColorScheme:()=>{const o=Object.values(Zr),u=(o.indexOf(e.colorScheme)+1)%o.length;n.setColorScheme(o[u])},increaseFontSize:()=>{const o=Object.values(Nn),c=o.indexOf(e.fontSize);c<o.length-1&&n.setFontSize(o[c+1])},decreaseFontSize:()=>{const o=Object.values(Nn),c=o.indexOf(e.fontSize);c>0&&n.setFontSize(o[c-1])}};y.useEffect(()=>{(()=>{const c=document.documentElement;c.classList.remove("theme-light","theme-dark","theme-auto"),Object.values(Zr).forEach(u=>{c.classList.remove(`color-scheme-${u}`)}),Object.values(Nn).forEach(u=>{c.classList.remove(`font-size-${u}`)}),c.classList.add(`theme-${e.theme}`),c.classList.add(`color-scheme-${e.colorScheme}`),c.classList.add(`font-size-${e.fontSize}`),c.setAttribute("data-theme",e.theme),c.setAttribute("data-color-scheme",e.colorScheme),c.setAttribute("data-font-size",e.fontSize),c.setAttribute("data-dark-mode",e.darkMode.toString())})()},[e.theme,e.colorScheme,e.fontSize,e.darkMode]),y.useEffect(()=>{if(e.theme!==Jr.AUTO)return;const o=window.matchMedia("(prefers-color-scheme: dark)"),c=u=>{const d=document.documentElement;u.matches?(d.classList.add("system-dark"),d.classList.remove("system-light")):(d.classList.add("system-light"),d.classList.remove("system-dark"))};return c(o),o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[e.theme]);const i=()=>{const o={[Zr.BLUE]:{"--primary":"59 130 246","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Zr.GREEN]:{"--primary":"34 197 94","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Zr.PURPLE]:{"--primary":"168 85 247","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Zr.ORANGE]:{"--primary":"249 115 22","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[Zr.PINK]:{"--primary":"236 72 153","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"}};return o[e.colorScheme]||o[Zr.BLUE]},a=()=>{const o={[Nn.SMALL]:{"--text-xs":"0.75rem","--text-sm":"0.875rem","--text-base":"1rem","--text-lg":"1.125rem","--text-xl":"1.25rem","--text-2xl":"1.5rem"},[Nn.MEDIUM]:{"--text-xs":"0.8rem","--text-sm":"0.9rem","--text-base":"1rem","--text-lg":"1.125rem","--text-xl":"1.25rem","--text-2xl":"1.5rem"},[Nn.LARGE]:{"--text-xs":"0.875rem","--text-sm":"1rem","--text-base":"1.125rem","--text-lg":"1.25rem","--text-xl":"1.5rem","--text-2xl":"1.75rem"}};return o[e.fontSize]||o[Nn.MEDIUM]};y.useEffect(()=>{const o=document.documentElement,c=i();Object.entries(c).forEach(([d,h])=>{o.style.setProperty(d,h)});const u=a();Object.entries(u).forEach(([d,h])=>{o.style.setProperty(d,h)})},[e.colorScheme,e.fontSize]);const s={...e,...n,themes:Jr,colorSchemes:Zr,fontSizes:Nn,isDark:e.theme===Jr.DARK||e.theme===Jr.AUTO&&window.matchMedia("(prefers-color-scheme: dark)").matches,isLight:e.theme===Jr.LIGHT||e.theme===Jr.AUTO&&!window.matchMedia("(prefers-color-scheme: dark)").matches};return l(nX.Provider,{value:s,children:t})};function aX(){return l(iX,{children:l(bO,{children:m(a5,{children:[" ",l("div",{className:"App",children:l(eX,{})})]})})})}class sX extends yr.Component{constructor(r){super(r);Gs(this,"handleRefresh",()=>{window.location.reload()});Gs(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){this.setState({error:r,errorInfo:n}),console.error("Error caught by boundary:",r),console.error("Error info:",n)}render(){return this.state.hasError?l("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:m("div",{className:"text-center max-w-md",children:[l("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Something went wrong"}),l("p",{className:"text-gray-600 mb-2",children:"We're sorry, but something unexpected happened."}),!1,m("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("button",{onClick:this.handleRefresh,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200 font-medium",children:"Refresh Page"}),l("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition duration-200 font-medium",children:"Go Home"})]}),l("p",{className:"text-sm text-gray-500 mt-4",children:"If the problem persists, please contact support."})]})}):this.props.children}}xf.createRoot(document.getElementById("root")).render(l(yr.StrictMode,{children:l(sX,{children:l(aX,{})})}));
//# sourceMappingURL=index-39d4cd72.js.map
