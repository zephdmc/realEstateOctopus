var ZA=Object.defineProperty;var eP=(t,e,r)=>e in t?ZA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ks=(t,e,r)=>(eP(t,typeof e!="symbol"?e+"":e,r),r);import{r as v,a as Ru,b as wr,g as Ri,R as tP}from"./vendor-280e31ee.js";import{u as Wo,L as we,a as gx,b as yx,c as rP,R as nP,d as Ht,N as cf,H as iP}from"./router-fd94c4a3.js";import{a as uf}from"./utils-78d57de0.js";import{A as bh,T as aP,C as sP,a as vx,R as Yi,P as df,b as hf,S as jm,F as oP,E as Vm,c as bx,d as $m,X as io,I as ff,U as Fm,M as lP,e as Cy,L as cP,f as uP,g as dP,D as hP,h as xh,V as fP,i as mP,G as pP,B as gP,j as ky,k as yP,l as vP,m as bP}from"./ui-75c37061.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var xx={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=v,wP=Symbol.for("react.element"),_P=Symbol.for("react.fragment"),NP=Object.prototype.hasOwnProperty,EP=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AP={key:!0,ref:!0,__self:!0,__source:!0};function wx(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)NP.call(e,n)&&!AP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:wP,type:t,key:a,ref:s,props:i,_owner:EP.current}}Mu.Fragment=_P;Mu.jsx=wx;Mu.jsxs=wx;xx.exports=Mu;var Um=xx.exports;const tr=Um.Fragment,l=Um.jsx,m=Um.jsxs;var mf={},Oy=Ru;mf.createRoot=Oy.createRoot,mf.hydrateRoot=Oy.hydrateRoot;var _x={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ry=wr.createContext&&wr.createContext(_x),PP=["attr","size","title"];function SP(t,e){if(t==null)return{};var r=TP(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TP(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function My(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?My(Object(r),!0).forEach(function(n){IP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):My(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IP(t,e,r){return e=CP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CP(t){var e=kP(t,"string");return typeof e=="symbol"?e:e+""}function kP(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nx(t){return t&&t.map((e,r)=>wr.createElement(e.tag,yc({key:r},e.attr),Nx(e.child)))}function ne(t){return e=>wr.createElement(OP,gc({attr:yc({},t.attr)},e),Nx(t.child))}function OP(t){var e=r=>{var{attr:n,size:i,title:a}=t,s=SP(t,PP),o=i||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),wr.createElement("svg",gc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:yc(yc({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&wr.createElement("title",null,a),t.children)};return Ry!==void 0?wr.createElement(Ry.Consumer,null,r=>e(r)):e(_x)}function RP(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function MP(t){return ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function DP(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Ex(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"},child:[]}]})(t)}function Ax(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(t)}function zm(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(t)}function Px(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Dy(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function LP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(t)}function jP(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48zm334.3 213.9l-10.7-32c-4.4-13.1-16.6-21.9-30.4-21.9H42.7c-13.8 0-26 8.8-30.4 21.9l-10.7 32C-5.2 362.6 10.2 384 32 384v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384h256v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V384c21.8 0 37.2-21.4 30.3-42.1z"},child:[]}]})(t)}function VP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Bm(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function $P(t){return ne({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function FP(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M616 192H480V24c0-13.26-10.74-24-24-24H312c-13.26 0-24 10.74-24 24v72h-64V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v80h-64V16c0-8.84-7.16-16-16-16H80c-8.84 0-16 7.16-16 16v80H24c-13.26 0-24 10.74-24 24v360c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V216c0-13.26-10.75-24-24-24zM128 404c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12H76c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm128 192c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12V76c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm160 288c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40zm0-96c0 6.63-5.37 12-12 12h-40c-6.63 0-12-5.37-12-12v-40c0-6.63 5.37-12 12-12h40c6.63 0 12 5.37 12 12v40z"},child:[]}]})(t)}function UP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function zP(t){return ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(t)}function BP(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(t)}function Wm(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function WP(t){return ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function HP(t){return ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(t)}function qP(t){return ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M218.17 424.14c-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34c-6.37 12.78-25.03 11.37-29.48-2.09L144 386.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.75-16.19 54.06-9.7 66 14.16 1.89 3.78 5.49 5.95 9.36 6.26v-82.12l128-127.09V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-40l-128-.11c-16.12-.31-30.58-9.28-37.83-23.75zM384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1zm-96 225.06V416h68.99l161.68-162.78-67.88-67.88L288 346.96zm280.54-179.63l-31.87-31.87c-9.94-9.94-26.07-9.94-36.01 0l-27.25 27.25 67.88 67.88 27.25-27.25c9.95-9.94 9.95-26.07 0-36.01z"},child:[]}]})(t)}function KP(t){return ne({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function pf(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(t)}function Hm(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function Du(t){return ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function GP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function YP(t){return ne({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(t)}function Sx(t){return ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function qm(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function Ly(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM240 320h-48v48c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h96c52.9 0 96 43.1 96 96s-43.1 96-96 96zm0-128h-48v64h48c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},child:[]}]})(t)}function XP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.09-25.08 120.26-25.08 39.51 0 71.85 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z"},child:[]}]})(t)}function rs(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function jy(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function Tx(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function Ix(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 288h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56v-64h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56V96h-56c-4.42 0-8-3.58-8-8V72c0-4.42 3.58-8 8-8h56V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 2.77.91 5.24 1.57 7.8L160 329.38V288zm320 64h-32v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-41.37L24.2 510.43c2.56.66 5.04 1.57 7.8 1.57h448c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function QP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.04 442.66l-99.71-99.69c-4.5-4.5-10.6-7-17-7h-16.3c27.6-35.3 44-79.69 44-127.99C416.03 93.09 322.92 0 208.02 0S0 93.09 0 207.98s93.11 207.98 208.02 207.98c48.3 0 92.71-16.4 128.01-44v16.3c0 6.4 2.5 12.5 7 17l99.71 99.69c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.59.1-33.99zm-297.02-90.7c-79.54 0-144-64.34-144-143.98 0-79.53 64.35-143.98 144-143.98 79.54 0 144 64.34 144 143.98 0 79.53-64.35 143.98-144 143.98zm27.11-152.54l-45.01-13.5c-5.16-1.55-8.77-6.78-8.77-12.73 0-7.27 5.3-13.19 11.8-13.19h28.11c4.56 0 8.96 1.29 12.82 3.72 3.24 2.03 7.36 1.91 10.13-.73l11.75-11.21c3.53-3.37 3.33-9.21-.57-12.14-9.1-6.83-20.08-10.77-31.37-11.35V112c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v16.12c-23.63.63-42.68 20.55-42.68 45.07 0 19.97 12.99 37.81 31.58 43.39l45.01 13.5c5.16 1.55 8.77 6.78 8.77 12.73 0 7.27-5.3 13.19-11.8 13.19h-28.1c-4.56 0-8.96-1.29-12.82-3.72-3.24-2.03-7.36-1.91-10.13.73l-11.75 11.21c-3.53 3.37-3.33 9.21.57 12.14 9.1 6.83 20.08 10.77 31.37 11.35V304c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-16.12c23.63-.63 42.68-20.54 42.68-45.07 0-19.97-12.99-37.81-31.59-43.39z"},child:[]}]})(t)}function Cx(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function JP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function ZP(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function eS(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Vy(t){return ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(t)}function Rl(t){return ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function tS(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"},child:[]}]})(t)}function wh(t){return ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function kx(t){return ne({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function rS(t){return ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M378.31 378.49L298.42 288h30.63c9.01 0 16.98-5 20.78-13.06 3.8-8.04 2.55-17.26-3.28-24.05L268.42 160h28.89c9.1 0 17.3-5.35 20.86-13.61 3.52-8.13 1.86-17.59-4.24-24.08L203.66 4.83c-6.03-6.45-17.28-6.45-23.32 0L70.06 122.31c-6.1 6.49-7.75 15.95-4.24 24.08C69.38 154.65 77.59 160 86.69 160h28.89l-78.14 90.91c-5.81 6.78-7.06 15.99-3.27 24.04C37.97 283 45.93 288 54.95 288h30.63L5.69 378.49c-6 6.79-7.36 16.09-3.56 24.26 3.75 8.05 12 13.25 21.01 13.25H160v24.45l-30.29 48.4c-5.32 10.64 2.42 23.16 14.31 23.16h95.96c11.89 0 19.63-12.52 14.31-23.16L224 440.45V416h136.86c9.01 0 17.26-5.2 21.01-13.25 3.8-8.17 2.44-17.47-3.56-24.26z"},child:[]}]})(t)}function nS(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(t)}function $y(t){return ne({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function iS(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(t)}function aS(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function sS(t){return ne({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function oS(t){return ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 128V32c0-17.67-14.33-32-32-32h-96c-17.67 0-32 14.33-32 32H160c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32v192c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32h192c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32V160c17.67 0 32-14.33 32-32zm-96-64h32v32h-32V64zM64 64h32v32H64V64zm32 384H64v-32h32v32zm352 0h-32v-32h32v32zm-32-96h-32c-17.67 0-32 14.33-32 32v32H160v-32c0-17.67-14.33-32-32-32H96V160h32c17.67 0 32-14.33 32-32V96h192v32c0 17.67 14.33 32 32 32h32v192z"},child:[]}]})(t)}function lS(t){return ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(t)}function cS(t){return ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(t)}const uS=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},dS=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Rx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,g=u&63;c||(g=64,s||(p=64)),n.push(r[d],r[h],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ox(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new hS;const p=a<<2|o>>4;if(n.push(p),u!==64){const g=o<<4&240|u>>2;if(n.push(g),h!==64){const x=u<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(t){const e=Ox(t);return Rx.encodeByteArray(e,!0)},vc=function(t){return fS(t).replace(/\./g,"")},Mx=function(t){try{return Rx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=()=>mS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mx(t[1]);return e&&JSON.parse(e)},Lu=()=>{try{return uS()||pS()||gS()||yS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dx=t=>{var e,r;return(r=(e=Lu())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Lx=t=>{const e=Dx(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},jx=()=>{var t;return(t=Lu())==null?void 0:t.config},Vx=t=>{var e;return(e=Lu())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Km(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t},o="";return[vc(JSON.stringify(r)),vc(JSON.stringify(s)),o].join(".")}const mo={};function bS(){const t={prod:[],emulator:[]};for(const e of Object.keys(mo))mo[e]?t.emulator.push(e):t.prod.push(e);return t}function xS(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Fy=!1;function Gm(t,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||mo[t]===e||mo[t]||Fy)return;mo[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=bS().prod.length>0;function s(){const p=document.getElementById(n);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Fy=!0,s()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=xS(n),g=r("text"),x=document.getElementById(g)||document.createElement("span"),b=r("learnmore"),y=document.getElementById(b)||document.createElement("a"),N=r("preprendIcon"),_=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const P=p.element;o(P),d(y,b);const L=u();c(_,N),P.append(_,x,y,L),document.body.appendChild(P)}a?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function _S(){var e;const t=(e=Lu())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SS(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="FirebaseError";class xn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=CS,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?kS(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new xn(i,o,n)}}function kS(t,e){return t.replace(OS,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const OS=/\{\$([^}]+)}/g;function RS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sa(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(Uy(a)&&Uy(s)){if(!sa(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Uy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ao(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function so(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function MS(t,e){const r=new DS(t,e);return r.subscribe.bind(r)}class DS{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");LS(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=_h),i.error===void 0&&(i.error=_h),i.complete===void 0&&(i.complete=_h);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LS(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function _h(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Ai{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jS=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new vS;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($S(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:VS(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VS(t){return t===Hi?void 0:t}function $S(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new jS(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const US={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},zS=Se.INFO,BS={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},WS=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=BS[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=zS,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?US[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const HS=(t,e)=>e.some(r=>t instanceof r);let zy,By;function qS(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KS(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fx=new WeakMap,gf=new WeakMap,Ux=new WeakMap,Nh=new WeakMap,Xm=new WeakMap;function GS(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(xi(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&Fx.set(r,t)}).catch(()=>{}),Xm.set(e,t),e}function YS(t){if(gf.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});gf.set(t,e)}let yf={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ux.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XS(t){yf=t(yf)}function QS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Eh(this),e,...r);return Ux.set(n,e.sort?e.sort():[e]),xi(n)}:KS().includes(t)?function(...e){return t.apply(Eh(this),e),xi(Fx.get(this))}:function(...e){return xi(t.apply(Eh(this),e))}}function JS(t){return typeof t=="function"?QS(t):(t instanceof IDBTransaction&&YS(t),HS(t,qS())?new Proxy(t,yf):t)}function xi(t){if(t instanceof IDBRequest)return GS(t);if(Nh.has(t))return Nh.get(t);const e=JS(t);return e!==t&&(Nh.set(t,e),Xm.set(e,t)),e}const Eh=t=>Xm.get(t);function ZS(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=xi(s);return n&&s.addEventListener("upgradeneeded",c=>{n(xi(s.result),c.oldVersion,c.newVersion,xi(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const e5=["get","getKey","getAll","getAllKeys","count"],t5=["put","add","delete","clear"],Ah=new Map;function Wy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=t5.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||e5.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return Ah.set(e,a),a}XS(t=>({...t,get:(e,r,n)=>Wy(e,r)||t.get(e,r,n),has:(e,r)=>!!Wy(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(n5(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function n5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vf="@firebase/app",Hy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new Ym("@firebase/app"),i5="@firebase/app-compat",a5="@firebase/analytics-compat",s5="@firebase/analytics",o5="@firebase/app-check-compat",l5="@firebase/app-check",c5="@firebase/auth",u5="@firebase/auth-compat",d5="@firebase/database",h5="@firebase/data-connect",f5="@firebase/database-compat",m5="@firebase/functions",p5="@firebase/functions-compat",g5="@firebase/installations",y5="@firebase/installations-compat",v5="@firebase/messaging",b5="@firebase/messaging-compat",x5="@firebase/performance",w5="@firebase/performance-compat",_5="@firebase/remote-config",N5="@firebase/remote-config-compat",E5="@firebase/storage",A5="@firebase/storage-compat",P5="@firebase/firestore",S5="@firebase/ai",T5="@firebase/firestore-compat",I5="firebase",C5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",k5={[vf]:"fire-core",[i5]:"fire-core-compat",[s5]:"fire-analytics",[a5]:"fire-analytics-compat",[l5]:"fire-app-check",[o5]:"fire-app-check-compat",[c5]:"fire-auth",[u5]:"fire-auth-compat",[d5]:"fire-rtdb",[h5]:"fire-data-connect",[f5]:"fire-rtdb-compat",[m5]:"fire-fn",[p5]:"fire-fn-compat",[g5]:"fire-iid",[y5]:"fire-iid-compat",[v5]:"fire-fcm",[b5]:"fire-fcm-compat",[x5]:"fire-perf",[w5]:"fire-perf-compat",[_5]:"fire-rc",[N5]:"fire-rc-compat",[E5]:"fire-gcs",[A5]:"fire-gcs-compat",[P5]:"fire-fst",[T5]:"fire-fst-compat",[S5]:"fire-vertex","fire-js":"fire-js",[I5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,O5=new Map,xf=new Map;function qy(t,e){try{t.container.addComponent(e)}catch(r){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function oa(t){const e=t.name;if(xf.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,t);for(const r of bc.values())qy(r,t);for(const r of O5.values())qy(r,t);return!0}function ju(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Ho("app","Firebase",R5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=C5;function zx(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:bf,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(r||(r=jx()),!r)throw wi.create("no-options");const a=bc.get(i);if(a){if(sa(r,a.options)&&sa(n,a.config))return a;throw wi.create("duplicate-app",{appName:i})}const s=new FS(i);for(const c of xf.values())s.addComponent(c);const o=new M5(r,n,s);return bc.set(i,o),o}function Qm(t=bf){const e=bc.get(t);if(!e&&t===bf&&jx())return zx();if(!e)throw wi.create("no-app",{appName:t});return e}function sn(t,e,r){let n=k5[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(s.join(" "));return}oa(new Ai(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="firebase-heartbeat-database",L5=1,No="firebase-heartbeat-store";let Ph=null;function Bx(){return Ph||(Ph=ZS(D5,L5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(r){console.warn(r)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),Ph}async function j5(t){try{const r=(await Bx()).transaction(No),n=await r.objectStore(No).get(Wx(t));return await r.done,n}catch(e){if(e instanceof xn)jn.warn(e.message);else{const r=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jn.warn(r.message)}}}async function Ky(t,e){try{const n=(await Bx()).transaction(No,"readwrite");await n.objectStore(No).put(e,Wx(t)),await n.done}catch(r){if(r instanceof xn)jn.warn(r.message);else{const n=wi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});jn.warn(n.message)}}}function Wx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=1024,$5=30;class F5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new z5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Gy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>$5){const s=B5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){jn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Gy(),{heartbeatsToSend:n,unsentEntries:i}=U5(this._heartbeatsCache.heartbeats),a=vc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return jn.warn(r),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function U5(t,e=V5){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Yy(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Yy(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class z5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?IS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await j5(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Yy(t){return vc(JSON.stringify({version:2,heartbeats:t})).length}function B5(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){oa(new Ai("platform-logger",e=>new r5(e),"PRIVATE")),oa(new Ai("heartbeat",e=>new F5(e),"PRIVATE")),sn(vf,Hy,t),sn(vf,Hy,"esm2020"),sn("fire-js","")}W5("");function Hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H5=Hx,qx=new Ho("auth","Firebase",Hx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Ym("@firebase/auth");function q5(t,...e){xc.logLevel<=Se.WARN&&xc.warn(`Auth (${Na}): ${t}`,...e)}function nc(t,...e){xc.logLevel<=Se.ERROR&&xc.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Zm(t,...e)}function Wr(t,...e){return Zm(t,...e)}function Jm(t,e,r){const n={...H5(),[e]:r};return new Ho("auth","Firebase",n).create(e,{appName:t.name})}function Mn(t){return Jm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K5(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Mr(t,"argument-error"),Jm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zm(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return qx.create(t,...e)}function ge(t,e,...r){if(!t)throw Zm(e,...r)}function Cn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nc(e),new Error(e)}function Vn(t,e){t||Cn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function G5(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G5()||ES()||"connection"in navigator)?navigator.onLine:!0}function X5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,r){this.shortDelay=e,this.longDelay=r,Vn(r>e,"Short delay should be less than long delay!"),this.isMobile=wS()||AS()}get(){return Y5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z5=new Ko(3e4,6e4);function Gn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Kr(t,e,r,n,i={}){return Gx(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=qo({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return NS()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&_a(t.emulatorConfig.host)&&(u.credentials="include"),Kx.fetch()(await Yx(t,t.config.apiHost,r,o),u)})}async function Gx(t,e,r){t._canInitEmulator=!1;const n={...Q5,...e};try{const i=new tT(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ml(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ml(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ml(t,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Jm(t,d,u);Mr(t,d)}}catch(i){if(i instanceof xn)throw i;Mr(t,"network-request-failed",{message:String(i)})}}async function Go(t,e,r,n,i={}){const a=await Kr(t,e,r,n,i);return"mfaPendingCredential"in a&&Mr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Yx(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?ep(t.config,i):`${t.config.apiScheme}://${i}`;return J5.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function eT(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Wr(this.auth,"network-request-failed")),Z5.get())})}}function Ml(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Wr(t,e,n);return i.customData._tokenResponse=r,i}function Qy(t){return t!==void 0&&t.enterprise!==void 0}class rT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return eT(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nT(t,e){return Kr(t,"GET","/v2/recaptchaConfig",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iT(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function wc(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aT(t,e=!1){const r=yt(t),n=await r.getIdToken(e),i=tp(n);ge(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:po(Sh(i.auth_time)),issuedAtTime:po(Sh(i.iat)),expirationTime:po(Sh(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Sh(t){return Number(t)*1e3}function tp(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mx(r);return i?JSON.parse(i):(nc("Failed to decode base64 JWT payload"),null)}catch(i){return nc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Jy(t){const e=tp(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof xn&&sT(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function sT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=po(this.lastLoginAt),this.creationTime=po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){var h;const e=t.auth,r=await t.getIdToken(),n=await la(t,wc(e,{idToken:r}));ge(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?Xx(i.providerUserInfo):[],s=cT(t.providerData,a),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _f(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function lT(t){const e=yt(t);await _c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cT(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Xx(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(t,e){const r=await Gx(t,{},async()=>{const n=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Yx(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return t.emulatorConfig&&_a(t.emulatorConfig.host)&&(c.credentials="include"),Kx.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function dT(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const r=Jy(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await uT(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Xa;return n&&(ge(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ge(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Cn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new oT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _f(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await la(this,this.stsTokenManager.getToken(this.auth,e));return ge(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return aT(this,e)}reload(){return lT(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new zr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await _c(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Mn(this.auth));const e=await this.getIdToken();return await la(this,iT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:x,stsTokenManager:b}=r;ge(h&&b,e,"internal-error");const y=Xa.fromJSON(this.name,b);ge(typeof h=="string",e,"internal-error"),hi(n,e.name),hi(i,e.name),ge(typeof p=="boolean",e,"internal-error"),ge(typeof g=="boolean",e,"internal-error"),hi(a,e.name),hi(s,e.name),hi(o,e.name),hi(c,e.name),hi(u,e.name),hi(d,e.name);const N=new zr({uid:h,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:g,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:y,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(N.providerData=x.map(_=>({..._}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new Xa;i.updateFromServerResponse(r);const a=new zr({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await _c(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ge(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Xx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Xa;o.updateFromIdToken(n);const c=new zr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _f(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;function kn(t){Vn(t instanceof Function,"Expected a class definition");let e=Zy.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Qx.type="NONE";const ev=Qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,r){return`firebase:${t}:${e}:${r}`}class Qa{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=ic(this.userKey,i.apiKey,a),this.fullPersistenceKey=ic("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await wc(this.auth,{idToken:e}).catch(()=>{});return r?zr._fromGetAccountInfoResponse(this.auth,r,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Qa(kn(ev),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||kn(ev);const s=ic(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(s);if(d){let h;if(typeof d=="string"){const p=await wc(e,{idToken:d}).catch(()=>{});if(!p)break;h=await zr._fromGetAccountInfoResponse(e,p,d)}else h=zr._fromJSON(e,d);u!==a&&(o=h),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Qa(a,e,n):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Qa(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nw(e))return"Blackberry";if(iw(e))return"Webos";if(Zx(e))return"Safari";if((e.includes("chrome/")||ew(e))&&!e.includes("edge/"))return"Chrome";if(rw(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Jx(t=Jt()){return/firefox\//i.test(t)}function Zx(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ew(t=Jt()){return/crios\//i.test(t)}function tw(t=Jt()){return/iemobile/i.test(t)}function rw(t=Jt()){return/android/i.test(t)}function nw(t=Jt()){return/blackberry/i.test(t)}function iw(t=Jt()){return/webos/i.test(t)}function rp(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hT(t=Jt()){var e;return rp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fT(){return PS()&&document.documentMode===10}function aw(t=Jt()){return rp(t)||rw(t)||iw(t)||nw(t)||/windows phone/i.test(t)||tw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e=[]){let r;switch(t){case"Browser":r=tv(Jt());break;case"Worker":r=`${tv(Jt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Na}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",Gn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=6;class yT{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??gT,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new mT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=kn(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await wc(this,{idToken:e}),n=await zr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(or(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Mn(this));const r=e?yt(e):null;return r&&ge(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pT(this),r=new yT(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await dT(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&kn(e)||this._popupRedirectResolver;ge(r,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[kn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&q5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yn(t){return yt(t)}class rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=MS(r=>this.observer=r)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bT(t){Vu=t}function ow(t){return Vu.loadJS(t)}function xT(){return Vu.recaptchaEnterpriseScript}function wT(){return Vu.gapiScript}function _T(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class NT{constructor(){this.enterprise=new ET}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class ET{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const AT="recaptcha-enterprise",lw="NO_RECAPTCHA";class PT{constructor(e){this.type=AT,this.auth=Yn(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{nT(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new rT(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(c=>{o(c)})})}function i(a,s,o){const c=window.grecaptcha;Qy(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(lw)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NT().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&Qy(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xT();c.length!==0&&(c+=o),ow(c).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function Gs(t,e,r,n=!1,i=!1){const a=new PT(t);let s;if(i)s=lw;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nc(t,e,r,n,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gs(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Gs(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await Gs(t,e,r);return n(t,o).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const d=await Gs(t,e,r,!1,!0);return n(t,d)}return Promise.reject(c)})}else{const o=await Gs(t,e,r,!1,!0);return n(t,o)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t,e){const r=ju(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(sa(a,e??{}))return i;Mr(i,"already-initialized")}return r.initialize({options:e})}function TT(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function IT(t,e,r){const n=Yn(t);ge(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=cw(e),{host:s,port:o}=CT(e),c=o===null?"":`:${o}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ge(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ge(sa(u,n.config.emulator)&&sa(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,_a(s)?(Km(`${a}//${s}${c}`),Gm("Auth",!0)):i||kT()}function cw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CT(t){const e=cw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:nv(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:nv(s)}}}function nv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kT(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,r){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}}async function OT(t,e){return Kr(t,"POST","/v1/accounts:update",e)}async function RT(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t,e){return Go(t,"POST","/v1/accounts:signInWithPassword",Gn(t,e))}async function uw(t,e){return Kr(t,"POST","/v1/accounts:sendOobCode",Gn(t,e))}async function DT(t,e){return uw(t,e)}async function LT(t,e){return uw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(t,e){return Go(t,"POST","/v1/accounts:signInWithEmailLink",Gn(t,e))}async function VT(t,e){return Go(t,"POST","/v1/accounts:signInWithEmailLink",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends np{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Eo(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Eo(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nc(e,r,"signInWithPassword",MT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jT(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nc(e,n,"signUpPassword",RT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return VT(e,{idToken:r,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t,e){return Go(t,"POST","/v1/accounts:signInWithIdp",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="http://localhost";class ca extends np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new ca(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Ja(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Ja(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Ja(e,r)}buildRequest(){const e={requestUri:$T,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=qo(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UT(t){const e=ao(so(t)).link,r=e?ao(so(e)).deep_link_id:null,n=ao(so(t)).deep_link_id;return(n?ao(so(n)).link:null)||n||r||e||t}class ip{constructor(e){const r=ao(so(e)),n=r.apiKey??null,i=r.oobCode??null,a=FT(r.mode??null);ge(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=UT(e);try{return new ip(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.providerId=vs.PROVIDER_ID}static credential(e,r){return Eo._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=ip.parseLink(r);return ge(n,"argument-error"),Eo._fromEmailAndCode(e,n.code,n.tenantId)}}vs.PROVIDER_ID="password";vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends Yo{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pn.credential(e.oauthAccessToken)}catch{return null}}}Pn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ca._fromParams({providerId:Sn.PROVIDER_ID,signInMethod:Sn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Sn.credentialFromTaggedObject(e)}static credentialFromError(e){return Sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Sn.credential(r,n)}catch{return null}}}Sn.GOOGLE_SIGN_IN_METHOD="google.com";Sn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Yo{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Yo{constructor(){super("twitter.com")}static credential(e,r){return ca._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return yi.credential(r,n)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t,e){return Go(t,"POST","/v1/accounts:signUp",Gn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await zr._fromIdTokenResponse(e,n,i),s=iv(n);return new ua({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=iv(n);return new ua({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function iv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends xn{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Ec(e,r,n,i)}}function dw(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ec._fromErrorAndOperation(t,a,e,n):a})}async function BT(t,e,r=!1){const n=await la(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ua._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(t,e,r=!1){const{auth:n}=t;if(or(n.app))return Promise.reject(Mn(n));const i="reauthenticate";try{const a=await la(t,dw(n,i,e,t),r);ge(a.idToken,n,"internal-error");const s=tp(a.idToken);ge(s,n,"internal-error");const{sub:o}=s;return ge(t.uid===o,n,"user-mismatch"),ua._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mr(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t,e,r=!1){if(or(t.app))return Promise.reject(Mn(t));const n="signIn",i=await dw(t,n,e),a=await ua._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function HT(t,e){return hw(Yn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e,r){var n;ge(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),ge(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ge(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(ge(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(ge(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t){const e=Yn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qT(t,e,r){const n=Yn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&fw(n,i,r),await Nc(n,i,"getOobCode",LT,"EMAIL_PASSWORD_PROVIDER")}async function KT(t,e,r){if(or(t.app))return Promise.reject(Mn(t));const n=Yn(t),s=await Nc(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zT,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&mw(t),c}),o=await ua._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function GT(t,e,r){return or(t.app)?Promise.reject(Mn(t)):HT(yt(t),vs.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&mw(t),n})}async function YT(t,e){const r=yt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&fw(r.auth,i,e);const{email:a}=await DT(r.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(t,e){return Kr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function av(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=yt(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await la(n,XT(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function QT(t,e){return JT(yt(t),null,e)}async function JT(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const s=await la(t,OT(n,a));await t._updateTokensIfNecessary(s,!0)}function ZT(t,e,r,n){return yt(t).onIdTokenChanged(e,r,n)}function eI(t,e,r){return yt(t).beforeAuthStateChanged(e,r)}function tI(t,e,r,n){return yt(t).onAuthStateChanged(e,r,n)}function rI(t){return yt(t).signOut()}const Ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ac,"1"),this.storage.removeItem(Ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1e3,iI=10;class gw extends pw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);fT()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iI):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}gw.type="LOCAL";const aI=gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends pw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}yw.type="SESSION";const vw=yw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new $u(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),c=await sI(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const u=sp("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return window}function lI(t){on().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}async function cI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function dI(){return bw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firebaseLocalStorageDb",hI=1,Pc="firebaseLocalStorage",ww="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Fu(t,e){return t.transaction([Pc],e?"readwrite":"readonly").objectStore(Pc)}function fI(){const t=indexedDB.deleteDatabase(xw);return new Xo(t).toPromise()}function Nf(){const t=indexedDB.open(xw,hI);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Pc,{keyPath:ww})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Pc)?e(n):(n.close(),await fI(),e(await Nf()))})})}async function sv(t,e,r){const n=Fu(t,!0).put({[ww]:e,value:r});return new Xo(n).toPromise()}async function mI(t,e){const r=Fu(t,!1).get(e),n=await new Xo(r).toPromise();return n===void 0?null:n.value}function ov(t,e){const r=Fu(t,!0).delete(e);return new Xo(r).toPromise()}const pI=800,gI=3;class _w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nf(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>gI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$u._getInstance(dI()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await cI(),!this.activeServiceWorker)return;this.sender=new oI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nf();return await sv(e,Ac,"1"),await ov(e,Ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>sv(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>mI(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ov(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Fu(i,!1).getAll();return new Xo(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_w.type="LOCAL";const yI=_w;new Ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t,e){return e?kn(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Ja(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function vI(t){return hw(t.auth,new op(t),t.bypassAuthState)}function bI(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),WT(r,new op(t),t.bypassAuthState)}async function xI(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),BT(r,new op(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vI;case"linkViaPopup":case"linkViaRedirect":return xI;case"reauthViaPopup":case"reauthViaRedirect":return bI;default:Mr(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Ko(2e3,1e4);async function lv(t,e,r){if(or(t.app))return Promise.reject(Wr(t,"operation-not-supported-in-this-environment"));const n=Yn(t);K5(t,e,ap);const i=Nw(n,r);return new Xi(n,"signInViaPopup",e,i).executeNotNull()}class Xi extends Ew{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Xi.currentPopupAction&&Xi.currentPopupAction.cancel(),Xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wI.get())};e()}}Xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="pendingRedirect",ac=new Map;class NI extends Ew{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const n=await EI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EI(t,e){const r=SI(e),n=PI(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function AI(t,e){ac.set(t._key(),e)}function PI(t){return kn(t._redirectPersistence)}function SI(t){return ic(_I,t.config.apiKey,t.name)}async function TI(t,e,r=!1){if(or(t.app))return Promise.reject(Mn(t));const n=Yn(t),i=Nw(n,e),s=await new NI(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=10*60*1e3;class CI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kI(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!Aw(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Wr(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=II&&this.cachedEventUids.clear(),this.cachedEventUids.has(cv(e))}saveEventToCache(e){this.cachedEventUids.add(cv(e)),this.lastProcessedEventTime=Date.now()}}function cv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Aw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MI=/^https?/;async function DI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OI(t);for(const r of e)try{if(LI(r))return}catch{}Mr(t,"unauthorized-domain")}function LI(t){const e=wf(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!MI.test(r))return!1;if(RI.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Ko(3e4,6e4);function uv(){const t=on().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function VI(t){return new Promise((e,r)=>{var i,a,s;function n(){uv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uv(),r(Wr(t,"network-request-failed"))},timeout:jI.get()})}if((a=(i=on().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=on().gapi)!=null&&s.load)n();else{const o=_T("iframefcb");return on()[o]=()=>{gapi.load?n():r(Wr(t,"network-request-failed"))},ow(`${wT()}?onload=${o}`).catch(c=>r(c))}}).catch(e=>{throw sc=null,e})}let sc=null;function $I(t){return sc=sc||VI(t),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Ko(5e3,15e3),UI="__/auth/iframe",zI="emulator/auth/iframe",BI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HI(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ep(e,zI):`https://${t.config.authDomain}/${UI}`,n={apiKey:e.apiKey,appName:t.name,v:Na},i=WI.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${qo(n).slice(1)}`}async function qI(t){const e=await $I(t),r=on().gapi;return ge(r,t,"internal-error"),e.open({where:document.body,url:HI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BI,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Wr(t,"network-request-failed"),o=on().setTimeout(()=>{a(s)},FI.get());function c(){on().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GI=500,YI=600,XI="_blank",QI="http://localhost";class dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JI(t,e,r,n=GI,i=YI){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c={...KI,width:n.toString(),height:i.toString(),top:a,left:s},u=Jt().toLowerCase();r&&(o=ew(u)?XI:r),Jx(u)&&(e=e||QI,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if(hT(u)&&o!=="_self")return ZI(e||"",o),new dv(null);const h=window.open(e||"",o,d);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new dv(h)}function ZI(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="__/auth/handler",tC="emulator/auth/handler",rC=encodeURIComponent("fac");async function hv(t,e,r,n,i,a){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Na,eventId:i};if(e instanceof ap){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",RS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(a||{}))s[d]=h}if(e instanceof Yo){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),u=c?`#${rC}=${encodeURIComponent(c)}`:"";return`${nC(t)}?${qo(o).slice(1)}${u}`}function nC({config:t}){return t.emulator?ep(t,tC):`https://${t.authDomain}/${eC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="webStorageSupport";class iC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vw,this._completeRedirectFn=TI,this._overrideRedirectResult=AI}async _openPopup(e,r,n,i){var s;Vn((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await hv(e,r,n,wf(),i);return JI(e,a,sp())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await hv(e,r,n,wf(),i);return lI(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Vn(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await qI(e),n=new CI(e);return r.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Th,{type:Th},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Th];a!==void 0&&r(!!a),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=DI(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return aw()||Zx()||rp()}}const aC=iC;var fv="@firebase/auth",mv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lC(t){oa(new Ai("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;ge(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sw(t)},u=new vT(n,i,a,c);return TT(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),oa(new Ai("auth-internal",e=>{const r=Yn(e.getProvider("auth").getImmediate());return(n=>new sC(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(fv,mv,oC(t)),sn(fv,mv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=5*60,uC=Vx("authIdTokenMaxAge")||cC;let pv=null;const dC=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>uC)return;const i=r==null?void 0:r.token;pv!==i&&(pv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pw(t=Qm()){const e=ju(t,"auth");if(e.isInitialized())return e.getImmediate();const r=ST(t,{popupRedirectResolver:aC,persistence:[yI,aI,vw]}),n=Vx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=dC(a.toString());eI(r,s,()=>s(r.currentUser)),ZT(r,o=>s(o))}}const i=Dx("auth");return i&&IT(r,`http://${i}`),r}function hC(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}bT({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Wr("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",hC().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lC("Browser");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,Sw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function E(){}E.prototype=I.prototype,S.F=I.prototype,S.prototype=new E,S.prototype.constructor=S,S.D=function(R,C,O){for(var T=Array(arguments.length-2),j=2;j<arguments.length;j++)T[j-2]=arguments[j];return I.prototype[C].apply(R,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,E){E||(E=0);const R=Array(16);if(typeof I=="string")for(var C=0;C<16;++C)R[C]=I.charCodeAt(E++)|I.charCodeAt(E++)<<8|I.charCodeAt(E++)<<16|I.charCodeAt(E++)<<24;else for(C=0;C<16;++C)R[C]=I[E++]|I[E++]<<8|I[E++]<<16|I[E++]<<24;I=S.g[0],E=S.g[1],C=S.g[2];let O=S.g[3],T;T=I+(O^E&(C^O))+R[0]+3614090360&4294967295,I=E+(T<<7&4294967295|T>>>25),T=O+(C^I&(E^C))+R[1]+3905402710&4294967295,O=I+(T<<12&4294967295|T>>>20),T=C+(E^O&(I^E))+R[2]+606105819&4294967295,C=O+(T<<17&4294967295|T>>>15),T=E+(I^C&(O^I))+R[3]+3250441966&4294967295,E=C+(T<<22&4294967295|T>>>10),T=I+(O^E&(C^O))+R[4]+4118548399&4294967295,I=E+(T<<7&4294967295|T>>>25),T=O+(C^I&(E^C))+R[5]+1200080426&4294967295,O=I+(T<<12&4294967295|T>>>20),T=C+(E^O&(I^E))+R[6]+2821735955&4294967295,C=O+(T<<17&4294967295|T>>>15),T=E+(I^C&(O^I))+R[7]+4249261313&4294967295,E=C+(T<<22&4294967295|T>>>10),T=I+(O^E&(C^O))+R[8]+1770035416&4294967295,I=E+(T<<7&4294967295|T>>>25),T=O+(C^I&(E^C))+R[9]+2336552879&4294967295,O=I+(T<<12&4294967295|T>>>20),T=C+(E^O&(I^E))+R[10]+4294925233&4294967295,C=O+(T<<17&4294967295|T>>>15),T=E+(I^C&(O^I))+R[11]+2304563134&4294967295,E=C+(T<<22&4294967295|T>>>10),T=I+(O^E&(C^O))+R[12]+1804603682&4294967295,I=E+(T<<7&4294967295|T>>>25),T=O+(C^I&(E^C))+R[13]+4254626195&4294967295,O=I+(T<<12&4294967295|T>>>20),T=C+(E^O&(I^E))+R[14]+2792965006&4294967295,C=O+(T<<17&4294967295|T>>>15),T=E+(I^C&(O^I))+R[15]+1236535329&4294967295,E=C+(T<<22&4294967295|T>>>10),T=I+(C^O&(E^C))+R[1]+4129170786&4294967295,I=E+(T<<5&4294967295|T>>>27),T=O+(E^C&(I^E))+R[6]+3225465664&4294967295,O=I+(T<<9&4294967295|T>>>23),T=C+(I^E&(O^I))+R[11]+643717713&4294967295,C=O+(T<<14&4294967295|T>>>18),T=E+(O^I&(C^O))+R[0]+3921069994&4294967295,E=C+(T<<20&4294967295|T>>>12),T=I+(C^O&(E^C))+R[5]+3593408605&4294967295,I=E+(T<<5&4294967295|T>>>27),T=O+(E^C&(I^E))+R[10]+38016083&4294967295,O=I+(T<<9&4294967295|T>>>23),T=C+(I^E&(O^I))+R[15]+3634488961&4294967295,C=O+(T<<14&4294967295|T>>>18),T=E+(O^I&(C^O))+R[4]+3889429448&4294967295,E=C+(T<<20&4294967295|T>>>12),T=I+(C^O&(E^C))+R[9]+568446438&4294967295,I=E+(T<<5&4294967295|T>>>27),T=O+(E^C&(I^E))+R[14]+3275163606&4294967295,O=I+(T<<9&4294967295|T>>>23),T=C+(I^E&(O^I))+R[3]+4107603335&4294967295,C=O+(T<<14&4294967295|T>>>18),T=E+(O^I&(C^O))+R[8]+1163531501&4294967295,E=C+(T<<20&4294967295|T>>>12),T=I+(C^O&(E^C))+R[13]+2850285829&4294967295,I=E+(T<<5&4294967295|T>>>27),T=O+(E^C&(I^E))+R[2]+4243563512&4294967295,O=I+(T<<9&4294967295|T>>>23),T=C+(I^E&(O^I))+R[7]+1735328473&4294967295,C=O+(T<<14&4294967295|T>>>18),T=E+(O^I&(C^O))+R[12]+2368359562&4294967295,E=C+(T<<20&4294967295|T>>>12),T=I+(E^C^O)+R[5]+4294588738&4294967295,I=E+(T<<4&4294967295|T>>>28),T=O+(I^E^C)+R[8]+2272392833&4294967295,O=I+(T<<11&4294967295|T>>>21),T=C+(O^I^E)+R[11]+1839030562&4294967295,C=O+(T<<16&4294967295|T>>>16),T=E+(C^O^I)+R[14]+4259657740&4294967295,E=C+(T<<23&4294967295|T>>>9),T=I+(E^C^O)+R[1]+2763975236&4294967295,I=E+(T<<4&4294967295|T>>>28),T=O+(I^E^C)+R[4]+1272893353&4294967295,O=I+(T<<11&4294967295|T>>>21),T=C+(O^I^E)+R[7]+4139469664&4294967295,C=O+(T<<16&4294967295|T>>>16),T=E+(C^O^I)+R[10]+3200236656&4294967295,E=C+(T<<23&4294967295|T>>>9),T=I+(E^C^O)+R[13]+681279174&4294967295,I=E+(T<<4&4294967295|T>>>28),T=O+(I^E^C)+R[0]+3936430074&4294967295,O=I+(T<<11&4294967295|T>>>21),T=C+(O^I^E)+R[3]+3572445317&4294967295,C=O+(T<<16&4294967295|T>>>16),T=E+(C^O^I)+R[6]+76029189&4294967295,E=C+(T<<23&4294967295|T>>>9),T=I+(E^C^O)+R[9]+3654602809&4294967295,I=E+(T<<4&4294967295|T>>>28),T=O+(I^E^C)+R[12]+3873151461&4294967295,O=I+(T<<11&4294967295|T>>>21),T=C+(O^I^E)+R[15]+530742520&4294967295,C=O+(T<<16&4294967295|T>>>16),T=E+(C^O^I)+R[2]+3299628645&4294967295,E=C+(T<<23&4294967295|T>>>9),T=I+(C^(E|~O))+R[0]+4096336452&4294967295,I=E+(T<<6&4294967295|T>>>26),T=O+(E^(I|~C))+R[7]+1126891415&4294967295,O=I+(T<<10&4294967295|T>>>22),T=C+(I^(O|~E))+R[14]+2878612391&4294967295,C=O+(T<<15&4294967295|T>>>17),T=E+(O^(C|~I))+R[5]+4237533241&4294967295,E=C+(T<<21&4294967295|T>>>11),T=I+(C^(E|~O))+R[12]+1700485571&4294967295,I=E+(T<<6&4294967295|T>>>26),T=O+(E^(I|~C))+R[3]+2399980690&4294967295,O=I+(T<<10&4294967295|T>>>22),T=C+(I^(O|~E))+R[10]+4293915773&4294967295,C=O+(T<<15&4294967295|T>>>17),T=E+(O^(C|~I))+R[1]+2240044497&4294967295,E=C+(T<<21&4294967295|T>>>11),T=I+(C^(E|~O))+R[8]+1873313359&4294967295,I=E+(T<<6&4294967295|T>>>26),T=O+(E^(I|~C))+R[15]+4264355552&4294967295,O=I+(T<<10&4294967295|T>>>22),T=C+(I^(O|~E))+R[6]+2734768916&4294967295,C=O+(T<<15&4294967295|T>>>17),T=E+(O^(C|~I))+R[13]+1309151649&4294967295,E=C+(T<<21&4294967295|T>>>11),T=I+(C^(E|~O))+R[4]+4149444226&4294967295,I=E+(T<<6&4294967295|T>>>26),T=O+(E^(I|~C))+R[11]+3174756917&4294967295,O=I+(T<<10&4294967295|T>>>22),T=C+(I^(O|~E))+R[2]+718787259&4294967295,C=O+(T<<15&4294967295|T>>>17),T=E+(O^(C|~I))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(C+(T<<21&4294967295|T>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+O&4294967295}n.prototype.v=function(S,I){I===void 0&&(I=S.length);const E=I-this.blockSize,R=this.C;let C=this.h,O=0;for(;O<I;){if(C==0)for(;O<=E;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<I;)if(R[C++]=S.charCodeAt(O++),C==this.blockSize){i(this,R),C=0;break}}else for(;O<I;)if(R[C++]=S[O++],C==this.blockSize){i(this,R),C=0;break}}this.h=C,this.o+=I},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,E=0;E<4;++E)for(let R=0;R<32;R+=8)S[I++]=this.g[E]>>>R&255;return S};function a(S,I){var E=o;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=I(S)}function s(S,I){this.h=I;const E=[];let R=!0;for(let C=S.length-1;C>=0;C--){const O=S[C]|0;R&&O==I||(E[C]=O,R=!1)}this.g=E}var o={};function c(S){return-128<=S&&S<128?a(S,function(I){return new s([I|0],I<0?-1:0)}):new s([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return y(u(-S));const I=[];let E=1;for(let R=0;S>=E;R++)I[R]=S/E|0,E*=4294967296;return new s(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return y(d(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(I,8));let R=h;for(let O=0;O<S.length;O+=8){var C=Math.min(8,S.length-O);const T=parseInt(S.substring(O,O+C),I);C<8?(C=u(Math.pow(I,C)),R=R.j(C).add(u(T))):(R=R.j(E),R=R.add(u(T)))}return R}var h=c(0),p=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(b(this))return-y(this).m();let S=0,I=1;for(let E=0;E<this.g.length;E++){const R=this.i(E);S+=(R>=0?R:4294967296+R)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(b(this))return"-"+y(this).toString(S);const I=u(Math.pow(S,6));var E=this;let R="";for(;;){const C=L(E,I).g;E=N(E,C.j(I));let O=((E.g.length>0?E.g[0]:E.h)>>>0).toString(S);if(E=C,x(E))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=N(this,S),b(S)?-1:x(S)?0:1};function y(S){const I=S.g.length,E=[];for(let R=0;R<I;R++)E[R]=~S.g[R];return new s(E,~S.h).add(p)}t.abs=function(){return b(this)?y(this):this},t.add=function(S){const I=Math.max(this.g.length,S.g.length),E=[];let R=0;for(let C=0;C<=I;C++){let O=R+(this.i(C)&65535)+(S.i(C)&65535),T=(O>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);R=T>>>16,O&=65535,T&=65535,E[C]=T<<16|O}return new s(E,E[E.length-1]&-2147483648?-1:0)};function N(S,I){return S.add(y(I))}t.j=function(S){if(x(this)||x(S))return h;if(b(this))return b(S)?y(this).j(y(S)):y(y(this).j(S));if(b(S))return y(this.j(y(S)));if(this.l(g)<0&&S.l(g)<0)return u(this.m()*S.m());const I=this.g.length+S.g.length,E=[];for(var R=0;R<2*I;R++)E[R]=0;for(R=0;R<this.g.length;R++)for(let C=0;C<S.g.length;C++){const O=this.i(R)>>>16,T=this.i(R)&65535,j=S.i(C)>>>16,V=S.i(C)&65535;E[2*R+2*C]+=T*V,_(E,2*R+2*C),E[2*R+2*C+1]+=O*V,_(E,2*R+2*C+1),E[2*R+2*C+1]+=T*j,_(E,2*R+2*C+1),E[2*R+2*C+2]+=O*j,_(E,2*R+2*C+2)}for(S=0;S<I;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=I;S<2*I;S++)E[S]=0;return new s(E,0)};function _(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function P(S,I){this.g=S,this.h=I}function L(S,I){if(x(I))throw Error("division by zero");if(x(S))return new P(h,h);if(b(S))return I=L(y(S),I),new P(y(I.g),y(I.h));if(b(I))return I=L(S,y(I)),new P(y(I.g),I.h);if(S.g.length>30){if(b(S)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var E=p,R=I;R.l(S)<=0;)E=k(E),R=k(R);var C=D(E,1),O=D(R,1);for(R=D(R,2),E=D(E,2);!x(R);){var T=O.add(R);T.l(S)<=0&&(C=C.add(E),O=T),R=D(R,1),E=D(E,1)}return I=N(S,C.j(I)),new P(C,I)}for(C=h;S.l(I)>=0;){for(E=Math.max(1,Math.floor(S.m()/I.m())),R=Math.ceil(Math.log(E)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=u(E),T=O.j(I);b(T)||T.l(S)>0;)E-=R,O=u(E),T=O.j(I);x(O)&&(O=p),C=C.add(O),S=N(S,T)}return new P(C,S)}t.B=function(S){return L(this,S).h},t.and=function(S){const I=Math.max(this.g.length,S.g.length),E=[];for(let R=0;R<I;R++)E[R]=this.i(R)&S.i(R);return new s(E,this.h&S.h)},t.or=function(S){const I=Math.max(this.g.length,S.g.length),E=[];for(let R=0;R<I;R++)E[R]=this.i(R)|S.i(R);return new s(E,this.h|S.h)},t.xor=function(S){const I=Math.max(this.g.length,S.g.length),E=[];for(let R=0;R<I;R++)E[R]=this.i(R)^S.i(R);return new s(E,this.h^S.h)};function k(S){const I=S.g.length+1,E=[];for(let R=0;R<I;R++)E[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(E,S.h)}function D(S,I){const E=I>>5;I%=32;const R=S.g.length-E,C=[];for(let O=0;O<R;O++)C[O]=I>0?S.i(O+E)>>>I|S.i(O+E+1)<<32-I:S.i(O+E);return new s(C,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,Sw=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,_i=s}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var Dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tw,oo,Iw,oc,Ef,Cw,kw,Ow;(function(){var t,e=Object.defineProperty;function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dl=="object"&&Dl];for(var w=0;w<f.length;++w){var A=f[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(f,w){if(w)e:{var A=n;f=f.split(".");for(var M=0;M<f.length-1;M++){var $=f[M];if(!($ in A))break e;A=A[$]}f=f[f.length-1],M=A[f],w=w(M),w!=M&&w!=null&&e(A,f,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(w){var A=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&A.push([M,w[M]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,A){return f.call.apply(f.bind,arguments)}function u(f,w,A){return u=c,u.apply(null,arguments)}function d(f,w){var A=Array.prototype.slice.call(arguments,1);return function(){var M=A.slice();return M.push.apply(M,arguments),f.apply(this,M)}}function h(f,w){function A(){}A.prototype=w.prototype,f.Z=w.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(M,$,W){for(var te=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)te[Pe-2]=arguments[Pe];return w.prototype[$].apply(M,te)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function g(f){const w=f.length;if(w>0){const A=Array(w);for(let M=0;M<w;M++)A[M]=f[M];return A}return[]}function x(f,w){for(let M=1;M<arguments.length;M++){const $=arguments[M];var A=typeof $;if(A=A!="object"?A:$?Array.isArray($)?"array":A:"null",A=="array"||A=="object"&&typeof $.length=="number"){A=f.length||0;const W=$.length||0;f.length=A+W;for(let te=0;te<W;te++)f[A+te]=$[te]}else f.push($)}}class b{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(f){s.setTimeout(()=>{throw f},0)}function N(){var f=S;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class _{constructor(){this.h=this.g=null}add(w,A){const M=P.get();M.set(w,A),this.h?this.h.next=M:this.g=M,this.h=M}}var P=new b(()=>new L,f=>f.reset());class L{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let k,D=!1,S=new _,I=()=>{const f=Promise.resolve(void 0);k=()=>{f.then(E)}};function E(){for(var f;f=N();){try{f.h.call(f.g)}catch(A){y(A)}var w=P;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}D=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};s.addEventListener("test",A,w),s.removeEventListener("test",A,w)}catch{}return f}();function T(f){return/^[\s\xa0]*$/.test(f)}function j(f,w){C.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}h(j,C),j.prototype.init=function(f,w){const A=this.type=f.type,M=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(A=="mouseover"?w=f.fromElement:A=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&j.Z.h.call(this)},j.prototype.h=function(){j.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var V="closure_listenable_"+(Math.random()*1e6|0),H=0;function X(f,w,A,M,$){this.listener=f,this.proxy=null,this.src=w,this.type=A,this.capture=!!M,this.ha=$,this.key=++H,this.da=this.fa=!1}function re(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function F(f,w,A){for(const M in f)w.call(A,f[M],M,f)}function Q(f,w){for(const A in f)w.call(void 0,f[A],A,f)}function ce(f){const w={};for(const A in f)w[A]=f[A];return w}const Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(f,w){let A,M;for(let $=1;$<arguments.length;$++){M=arguments[$];for(A in M)f[A]=M[A];for(let W=0;W<Ee.length;W++)A=Ee[W],Object.prototype.hasOwnProperty.call(M,A)&&(f[A]=M[A])}}function Ge(f){this.src=f,this.g={},this.h=0}Ge.prototype.add=function(f,w,A,M,$){const W=f.toString();f=this.g[W],f||(f=this.g[W]=[],this.h++);const te=ee(f,w,M,$);return te>-1?(w=f[te],A||(w.fa=!1)):(w=new X(w,this.src,W,!!M,$),w.fa=A,f.push(w)),w};function Je(f,w){const A=w.type;if(A in f.g){var M=f.g[A],$=Array.prototype.indexOf.call(M,w,void 0),W;(W=$>=0)&&Array.prototype.splice.call(M,$,1),W&&(re(w),f.g[A].length==0&&(delete f.g[A],f.h--))}}function ee(f,w,A,M){for(let $=0;$<f.length;++$){const W=f[$];if(!W.da&&W.listener==w&&W.capture==!!A&&W.ha==M)return $}return-1}var se="closure_lm_"+(Math.random()*1e6|0),be={};function q(f,w,A,M,$){if(M&&M.once)return K(f,w,A,M,$);if(Array.isArray(w)){for(let W=0;W<w.length;W++)q(f,w[W],A,M,$);return null}return A=ri(A),f&&f[V]?f.J(w,A,o(M)?!!M.capture:!!M,$):he(f,w,A,!1,M,$)}function he(f,w,A,M,$,W){if(!w)throw Error("Invalid event type");const te=o($)?!!$.capture:!!$;let Pe=Wt(f);if(Pe||(f[se]=Pe=new Ge(f)),A=Pe.add(w,A,M,te,W),A.proxy)return A;if(M=ve(),A.proxy=M,M.src=f,M.listener=A,f.addEventListener)O||($=te),$===void 0&&($=!1),f.addEventListener(w.toString(),M,$);else if(f.attachEvent)f.attachEvent(Le(w.toString()),M);else if(f.addListener&&f.removeListener)f.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ve(){function f(A){return w.call(f.src,f.listener,A)}const w=je;return f}function K(f,w,A,M,$){if(Array.isArray(w)){for(let W=0;W<w.length;W++)K(f,w[W],A,M,$);return null}return A=ri(A),f&&f[V]?f.K(w,A,o(M)?!!M.capture:!!M,$):he(f,w,A,!0,M,$)}function Ce(f,w,A,M,$){if(Array.isArray(w))for(var W=0;W<w.length;W++)Ce(f,w[W],A,M,$);else M=o(M)?!!M.capture:!!M,A=ri(A),f&&f[V]?(f=f.i,W=String(w).toString(),W in f.g&&(w=f.g[W],A=ee(w,A,M,$),A>-1&&(re(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete f.g[W],f.h--)))):f&&(f=Wt(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ee(w,A,M,$)),(A=f>-1?w[f]:null)&&Ae(A))}function Ae(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[V])Je(w.i,f);else{var A=f.type,M=f.proxy;w.removeEventListener?w.removeEventListener(A,M,f.capture):w.detachEvent?w.detachEvent(Le(A),M):w.addListener&&w.removeListener&&w.removeListener(M),(A=Wt(w))?(Je(A,f),A.h==0&&(A.src=null,w[se]=null)):re(f)}}}function Le(f){return f in be?be[f]:be[f]="on"+f}function je(f,w){if(f.da)f=!0;else{w=new j(w,this);const A=f.listener,M=f.ha||f.src;f.fa&&Ae(f),f=A.call(M,w)}return f}function Wt(f){return f=f[se],f instanceof Ge?f:null}var Xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ri(f){return typeof f=="function"?f:(f[Xr]||(f[Xr]=function(w){return f.handleEvent(w)}),f[Xr])}function ut(){R.call(this),this.i=new Ge(this),this.M=this,this.G=null}h(ut,R),ut.prototype[V]=!0,ut.prototype.removeEventListener=function(f,w,A,M){Ce(this,f,w,A,M)};function vt(f,w){var A,M=f.G;if(M)for(A=[];M;M=M.G)A.push(M);if(f=f.M,M=w.type||w,typeof w=="string")w=new C(w,f);else if(w instanceof C)w.target=w.target||f;else{var $=w;w=new C(M,f),De(w,$)}$=!0;let W,te;if(A)for(te=A.length-1;te>=0;te--)W=w.g=A[te],$=ni(W,M,!0,w)&&$;if(W=w.g=f,$=ni(W,M,!0,w)&&$,$=ni(W,M,!1,w)&&$,A)for(te=0;te<A.length;te++)W=w.g=A[te],$=ni(W,M,!1,w)&&$}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const A=f.g[w];for(let M=0;M<A.length;M++)re(A[M]);delete f.g[w],f.h--}}this.G=null},ut.prototype.J=function(f,w,A,M){return this.i.add(String(f),w,!1,A,M)},ut.prototype.K=function(f,w,A,M){return this.i.add(String(f),w,!0,A,M)};function ni(f,w,A,M){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let $=!0;for(let W=0;W<w.length;++W){const te=w[W];if(te&&!te.da&&te.capture==A){const Pe=te.listener,bt=te.ha||te.src;te.fa&&Je(f.i,te),$=Pe.call(bt,M)!==!1&&$}}return $&&!M.defaultPrevented}function Os(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:s.setTimeout(f,w||0)}function Oa(f){f.g=Os(()=>{f.g=null,f.i&&(f.i=!1,Oa(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Rs extends R{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Oa(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(f){R.call(this),this.h=f,this.g={}}h(_n,R);var Ra=[];function Ma(f){F(f.g,function(w,A){this.g.hasOwnProperty(A)&&Ae(w)},f),f.g={}}_n.prototype.N=function(){_n.Z.N.call(this),Ma(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var z=s.JSON.stringify,oe=s.JSON.parse,U=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Z(){}function ue(){}var G={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function me(){C.call(this,"d")}h(me,C);function pe(){C.call(this,"c")}h(pe,C);var $e={},He=null;function fr(){return He=He||new ut}$e.Ia="serverreachability";function ii(f){C.call(this,$e.Ia,f)}h(ii,C);function $r(f){const w=fr();vt(w,new ii(w))}$e.STAT_EVENT="statevent";function Ms(f,w){C.call(this,$e.STAT_EVENT,f),this.stat=w}h(Ms,C);function kt(f){const w=fr();vt(w,new Ms(w,f))}$e.Ja="timingevent";function Ds(f,w){C.call(this,$e.Ja,f),this.size=w}h(Ds,C);function ai(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},w)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function kA(f,w,A,M,$,W){f.info(function(){if(f.g)if(W){var te="",Pe=W.split("&");for(let Be=0;Be<Pe.length;Be++){var bt=Pe[Be].split("=");if(bt.length>1){const Ot=bt[0];bt=bt[1];const Jr=Ot.split("_");te=Jr.length>=2&&Jr[1]=="type"?te+(Ot+"="+bt+"&"):te+(Ot+"=redacted&")}}}else te=null;else te=W;return"XMLHTTP REQ ("+M+") [attempt "+$+"]: "+w+`
`+A+`
`+te})}function OA(f,w,A,M,$,W,te){f.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+$+"]: "+w+`
`+A+`
`+W+" "+te})}function Da(f,w,A,M){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+MA(f,A)+(M?" "+M:"")})}function RA(f,w){f.info(function(){return"TIMEOUT: "+w})}Ar.prototype.info=function(){};function MA(f,w){if(!f.g)return w;if(!w)return null;try{const W=JSON.parse(w);if(W){for(f=0;f<W.length;f++)if(Array.isArray(W[f])){var A=W[f];if(!(A.length<2)){var M=A[1];if(Array.isArray(M)&&!(M.length<1)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(let te=1;te<M.length;te++)M[te]=""}}}}return z(W)}catch{return w}}var Nl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},H0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},q0;function ah(){}h(ah,Z),ah.prototype.g=function(){return new XMLHttpRequest},q0=new ah;function Ls(f){return encodeURIComponent(String(f))}function DA(f){var w=1;f=f.split(":");const A=[];for(;w>0&&f.length;)A.push(f.shift()),w--;return f.length&&A.push(f.join(":")),A}function si(f,w,A,M){this.j=f,this.i=w,this.l=A,this.S=M||1,this.V=new _n(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new K0}function K0(){this.i=null,this.g="",this.h=!1}var G0={},sh={};function oh(f,w,A){f.M=1,f.A=Al(Qr(w)),f.u=A,f.R=!0,Y0(f,null)}function Y0(f,w){f.F=Date.now(),El(f),f.B=Qr(f.A);var A=f.B,M=f.S;Array.isArray(M)||(M=[String(M)]),ly(A.i,"t",M),f.C=0,A=f.j.L,f.h=new K0,f.g=Py(f.j,A?w:null,!f.u),f.P>0&&(f.O=new Rs(u(f.Y,f,f.g),f.P)),w=f.V,A=f.g,M=f.ba;var $="readystatechange";Array.isArray($)||($&&(Ra[0]=$.toString()),$=Ra);for(let W=0;W<$.length;W++){const te=q(A,$[W],M||w.handleEvent,!1,w.h||w);if(!te)break;w.g[te.key]=te}w=f.J?ce(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),$r(),kA(f.i,f.v,f.B,f.l,f.S,f.u)}si.prototype.ba=function(f){f=f.target;const w=this.O;w&&ci(f)==3?w.j():this.Y(f)},si.prototype.Y=function(f){try{if(f==this.g)e:{const Pe=ci(this.g),bt=this.g.ya(),Be=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||py(this.g)))){this.K||Pe!=4||bt==7||(bt==8||Be<=0?$r(3):$r(2)),lh(this);var w=this.g.ca();this.X=w;var A=LA(this);if(this.o=w==200,OA(this.i,this.v,this.B,this.l,this.S,Pe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,$=this.g;if((M=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(M)){var W=M;break t}}W=null}if(f=W)Da(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ch(this,f);else{this.o=!1,this.m=3,kt(12),$i(this),js(this);break e}}if(this.R){f=!0;let Ot;for(;!this.K&&this.C<A.length;)if(Ot=jA(this,A),Ot==sh){Pe==4&&(this.m=4,kt(14),f=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==G0){this.m=4,kt(15),Da(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else Da(this.i,this.l,Ot,null),ch(this,Ot);if(X0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||A.length!=0||this.h.h||(this.m=1,kt(16),f=!1),this.o=this.o&&f,!f)Da(this.i,this.l,A,"[Invalid Chunked Response]"),$i(this),js(this);else if(A.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),yh(te),te.P=!0,kt(11))}}else Da(this.i,this.l,A,null),ch(this,A);Pe==4&&$i(this),this.o&&!this.K&&(Pe==4?_y(this.j,this):(this.o=!1,El(this)))}else QA(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),$i(this),js(this)}}}catch{}finally{}};function LA(f){if(!X0(f))return f.g.la();const w=py(f.g);if(w==="")return"";let A="";const M=w.length,$=ci(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return $i(f),js(f),"";f.h.i=new s.TextDecoder}for(let W=0;W<M;W++)f.h.h=!0,A+=f.h.i.decode(w[W],{stream:!($&&W==M-1)});return w.length=0,f.h.g+=A,f.C=0,f.h.g}function X0(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function jA(f,w){var A=f.C,M=w.indexOf(`
`,A);return M==-1?sh:(A=Number(w.substring(A,M)),isNaN(A)?G0:(M+=1,M+A>w.length?sh:(w=w.slice(M,M+A),f.C=M+A,w)))}si.prototype.cancel=function(){this.K=!0,$i(this)};function El(f){f.T=Date.now()+f.H,Q0(f,f.H)}function Q0(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ai(u(f.aa,f),w)}function lh(f){f.D&&(s.clearTimeout(f.D),f.D=null)}si.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(RA(this.i,this.B),this.M!=2&&($r(),kt(17)),$i(this),this.m=2,js(this)):Q0(this,this.T-f)};function js(f){f.j.I==0||f.K||_y(f.j,f)}function $i(f){lh(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,Ma(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function ch(f,w){try{var A=f.j;if(A.I!=0&&(A.g==f||uh(A.h,f))){if(!f.L&&uh(A.h,f)&&A.I==3){try{var M=A.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var $=M;if($[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)Cl(A),Tl(A);else break e;gh(A),kt(18)}}else A.xa=$[1],0<A.xa-A.K&&$[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=ai(u(A.Va,A),6e3));ey(A.h)<=1&&A.ta&&(A.ta=void 0)}else Ui(A,11)}else if((f.L||A.g==f)&&Cl(A),!T(w))for($=A.Ba.g.parse(w),w=0;w<$.length;w++){let Be=$[w];const Ot=Be[0];if(!(Ot<=A.K))if(A.K=Ot,Be=Be[1],A.I==2)if(Be[0]=="c"){A.M=Be[1],A.ba=Be[2];const Jr=Be[3];Jr!=null&&(A.ka=Jr,A.j.info("VER="+A.ka));const zi=Be[4];zi!=null&&(A.za=zi,A.j.info("SVER="+A.za));const ui=Be[5];ui!=null&&typeof ui=="number"&&ui>0&&(M=1.5*ui,A.O=M,A.j.info("backChannelRequestTimeoutMs_="+M)),M=A;const di=f.g;if(di){const Ol=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var W=M.h;W.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(dh(W,W.h),W.h=null))}if(M.G){const vh=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;vh&&(M.wa=vh,Ye(M.J,M.G,vh))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),M=A;var te=f;if(M.na=Ay(M,M.L?M.ba:null,M.W),te.L){ty(M.h,te);var Pe=te,bt=M.O;bt&&(Pe.H=bt),Pe.D&&(lh(Pe),El(Pe)),M.g=te}else xy(M);A.i.length>0&&Il(A)}else Be[0]!="stop"&&Be[0]!="close"||Ui(A,7);else A.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ui(A,7):ph(A):Be[0]!="noop"&&A.l&&A.l.qa(Be),A.A=0)}}$r(4)}catch{}}var VA=class{constructor(f,w){this.g=f,this.map=w}};function J0(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Z0(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ey(f){return f.h?1:f.g?f.g.size:0}function uh(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function dh(f,w){f.g?f.g.add(w):f.h=w}function ty(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}J0.prototype.cancel=function(){if(this.i=ry(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ry(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const A of f.g.values())w=w.concat(A.G);return w}return g(f.i)}var ny=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $A(f,w){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const M=f[A].indexOf("=");let $,W=null;M>=0?($=f[A].substring(0,M),W=f[A].substring(M+1)):$=f[A],w($,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function oi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof oi?(this.l=f.l,Vs(this,f.j),this.o=f.o,this.g=f.g,$s(this,f.u),this.h=f.h,hh(this,cy(f.i)),this.m=f.m):f&&(w=String(f).match(ny))?(this.l=!1,Vs(this,w[1]||"",!0),this.o=Fs(w[2]||""),this.g=Fs(w[3]||"",!0),$s(this,w[4]),this.h=Fs(w[5]||"",!0),hh(this,w[6]||"",!0),this.m=Fs(w[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}oi.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(Us(w,iy,!0),":");var A=this.g;return(A||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Us(w,iy,!0),"@"),f.push(Ls(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Us(A,A.charAt(0)=="/"?zA:UA,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Us(A,WA)),f.join("")},oi.prototype.resolve=function(f){const w=Qr(this);let A=!!f.j;A?Vs(w,f.j):A=!!f.o,A?w.o=f.o:A=!!f.g,A?w.g=f.g:A=f.u!=null;var M=f.h;if(A)$s(w,f.u);else if(A=!!f.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var $=w.h.lastIndexOf("/");$!=-1&&(M=w.h.slice(0,$+1)+M)}if($=M,$==".."||$==".")M="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){M=$.lastIndexOf("/",0)==0,$=$.split("/");const W=[];for(let te=0;te<$.length;){const Pe=$[te++];Pe=="."?M&&te==$.length&&W.push(""):Pe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),M&&te==$.length&&W.push("")):(W.push(Pe),M=!0)}M=W.join("/")}else M=$}return A?w.h=M:A=f.i.toString()!=="",A?hh(w,cy(f.i)):A=!!f.m,A&&(w.m=f.m),w};function Qr(f){return new oi(f)}function Vs(f,w,A){f.j=A?Fs(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function $s(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function hh(f,w,A){w instanceof zs?(f.i=w,HA(f.i,f.l)):(A||(w=Us(w,BA)),f.i=new zs(w,f.l))}function Ye(f,w,A){f.i.set(w,A)}function Al(f){return Ye(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Fs(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Us(f,w,A){return typeof f=="string"?(f=encodeURI(f).replace(w,FA),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function FA(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var iy=/[#\/\?@]/g,UA=/[#\?:]/g,zA=/[#\?]/g,BA=/[#\?@]/g,WA=/#/g;function zs(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Fi(f){f.g||(f.g=new Map,f.h=0,f.i&&$A(f.i,function(w,A){f.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}t=zs.prototype,t.add=function(f,w){Fi(this),this.i=null,f=La(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(w),this.h+=1,this};function ay(f,w){Fi(f),w=La(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function sy(f,w){return Fi(f),w=La(f,w),f.g.has(w)}t.forEach=function(f,w){Fi(this),this.g.forEach(function(A,M){A.forEach(function($){f.call(w,$,M,this)},this)},this)};function oy(f,w){Fi(f);let A=[];if(typeof w=="string")sy(f,w)&&(A=A.concat(f.g.get(La(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)A=A.concat(f[w]);return A}t.set=function(f,w){return Fi(this),this.i=null,f=La(this,f),sy(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=oy(this,f),f.length>0?String(f[0]):w):w};function ly(f,w,A){ay(f,w),A.length>0&&(f.i=null,f.g.set(La(f,w),g(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var A=w[M];const $=Ls(A);A=oy(this,A);for(let W=0;W<A.length;W++){let te=$;A[W]!==""&&(te+="="+Ls(A[W])),f.push(te)}}return this.i=f.join("&")};function cy(f){const w=new zs;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function La(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function HA(f,w){w&&!f.j&&(Fi(f),f.i=null,f.g.forEach(function(A,M){const $=M.toLowerCase();M!=$&&(ay(this,M),ly(this,$,A))},f)),f.j=w}function qA(f,w){const A=new Ar;if(s.Image){const M=new Image;M.onload=d(li,A,"TestLoadImage: loaded",!0,w,M),M.onerror=d(li,A,"TestLoadImage: error",!1,w,M),M.onabort=d(li,A,"TestLoadImage: abort",!1,w,M),M.ontimeout=d(li,A,"TestLoadImage: timeout",!1,w,M),s.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=f}else w(!1)}function KA(f,w){const A=new Ar,M=new AbortController,$=setTimeout(()=>{M.abort(),li(A,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:M.signal}).then(W=>{clearTimeout($),W.ok?li(A,"TestPingServer: ok",!0,w):li(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),li(A,"TestPingServer: error",!1,w)})}function li(f,w,A,M,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),M(A)}catch{}}function GA(){this.g=new U}function fh(f){this.i=f.Sb||null,this.h=f.ab||!1}h(fh,Z),fh.prototype.g=function(){return new Pl(this.i,this.h)};function Pl(f,w){ut.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Pl,ut),t=Pl.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Ws(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||s).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uy(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function uy(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Bs(this):Ws(this),this.readyState==3&&uy(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Bs(this))},t.Na=function(f){this.g&&(this.response=f,Bs(this))},t.ga=function(){this.g&&Bs(this)};function Bs(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ws(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=w.next();return f.join(`\r
`)};function Ws(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function dy(f){let w="";return F(f,function(A,M){w+=M,w+=":",w+=A,w+=`\r
`}),w}function mh(f,w,A){e:{for(M in A){var M=!1;break e}M=!0}M||(A=dy(A),typeof f=="string"?A!=null&&Ls(A):Ye(f,w,A))}function st(f){ut.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(st,ut);var YA=/^https?$/i,XA=["POST","PUT"];t=st.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,A,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():q0.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(W){hy(this,W);return}if(f=A||"",A=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var $ in M)A.set($,M[$]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const W of M.keys())A.set(W,M.get(W));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(A.keys()).find(W=>W.toLowerCase()=="content-type"),$=s.FormData&&f instanceof s.FormData,!(Array.prototype.indexOf.call(XA,w,void 0)>=0)||M||$||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of A)this.g.setRequestHeader(W,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(W){hy(this,W)}};function hy(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,fy(f),Sl(f)}function fy(f){f.A||(f.A=!0,vt(f,"complete"),vt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,vt(this,"complete"),vt(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),st.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?my(this):this.Xa())},t.Xa=function(){my(this)};function my(f){if(f.h&&typeof a<"u"){if(f.v&&ci(f)==4)setTimeout(f.Ca.bind(f),0);else if(vt(f,"readystatechange"),ci(f)==4){f.h=!1;try{const W=f.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var M;if(M=W===0){let te=String(f.D).match(ny)[1]||null;!te&&s.self&&s.self.location&&(te=s.self.location.protocol.slice(0,-1)),M=!YA.test(te?te.toLowerCase():"")}A=M}if(A)vt(f,"complete"),vt(f,"success");else{f.o=6;try{var $=ci(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",fy(f)}}finally{Sl(f)}}}}function Sl(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,w||vt(f,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ci(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),oe(w)}};function py(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function QA(f){const w={};f=(f.g&&ci(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<f.length;M++){if(T(f[M]))continue;var A=DA(f[M]);const $=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const W=w[$]||[];w[$]=W,W.push(A)}Q(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(f,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||w}function gy(f){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hs("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hs("baseRetryDelayMs",5e3,f),this.Za=Hs("retryDelaySeedMs",1e4,f),this.Ta=Hs("forwardChannelMaxRetries",2,f),this.va=Hs("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new J0(f&&f.concurrentRequestLimit),this.Ba=new GA,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gy.prototype,t.ka=8,t.I=1,t.connect=function(f,w,A,M){kt(0),this.W=f,this.H=w||{},A&&M!==void 0&&(this.H.OSID=A,this.H.OAID=M),this.F=this.X,this.J=Ay(this,null,this.W),Il(this)};function ph(f){if(yy(f),f.I==3){var w=f.V++,A=Qr(f.J);if(Ye(A,"SID",f.M),Ye(A,"RID",w),Ye(A,"TYPE","terminate"),qs(f,A),w=new si(f,f.j,w),w.M=2,w.A=Al(Qr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&s.Image&&(new Image().src=w.A,A=!0),A||(w.g=Py(w.j,null),w.g.ea(w.A)),w.F=Date.now(),El(w)}Ey(f)}function Tl(f){f.g&&(yh(f),f.g.cancel(),f.g=null)}function yy(f){Tl(f),f.v&&(s.clearTimeout(f.v),f.v=null),Cl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&s.clearTimeout(f.m),f.m=null)}function Il(f){if(!Z0(f.h)&&!f.m){f.m=!0;var w=f.Ea;k||I(),D||(k(),D=!0),S.add(w,f),f.D=0}}function JA(f,w){return ey(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ai(u(f.Ea,f,w),Ny(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new si(this,this.j,f);let W=this.o;if(this.U&&(W?(W=ce(W),De(W,this.U)):W=this.U),this.u!==null||this.R||($.J=W,W=null),this.S)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var M=this.i[A];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=by(this,$,w),A=Qr(this.J),Ye(A,"RID",f),Ye(A,"CVER",22),this.G&&Ye(A,"X-HTTP-Session-Id",this.G),qs(this,A),W&&(this.R?w="headers="+Ls(dy(W))+"&"+w:this.u&&mh(A,this.u,W)),dh(this.h,$),this.Ra&&Ye(A,"TYPE","init"),this.S?(Ye(A,"$req",w),Ye(A,"SID","null"),$.U=!0,oh($,A,null)):oh($,A,w),this.I=2}}else this.I==3&&(f?vy(this,f):this.i.length==0||Z0(this.h)||vy(this))};function vy(f,w){var A;w?A=w.l:A=f.V++;const M=Qr(f.J);Ye(M,"SID",f.M),Ye(M,"RID",A),Ye(M,"AID",f.K),qs(f,M),f.u&&f.o&&mh(M,f.u,f.o),A=new si(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),w&&(f.i=w.G.concat(f.i)),w=by(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),dh(f.h,A),oh(A,M,w)}function qs(f,w){f.H&&F(f.H,function(A,M){Ye(w,M,A)}),f.l&&F({},function(A,M){Ye(w,M,A)})}function by(f,w,A){A=Math.min(f.i.length,A);const M=f.l?u(f.l.Ka,f.l,f):null;e:{var $=f.i;let Pe=-1;for(;;){const bt=["count="+A];Pe==-1?A>0?(Pe=$[0].g,bt.push("ofs="+Pe)):Pe=0:bt.push("ofs="+Pe);let Be=!0;for(let Ot=0;Ot<A;Ot++){var W=$[Ot].g;const Jr=$[Ot].map;if(W-=Pe,W<0)Pe=Math.max(0,$[Ot].g-100),Be=!1;else try{W="req"+W+"_"||"";try{var te=Jr instanceof Map?Jr:Object.entries(Jr);for(const[zi,ui]of te){let di=ui;o(ui)&&(di=z(ui)),bt.push(W+zi+"="+encodeURIComponent(di))}}catch(zi){throw bt.push(W+"type="+encodeURIComponent("_badmap")),zi}}catch{M&&M(Jr)}}if(Be){te=bt.join("&");break e}}te=void 0}return f=f.i.splice(0,A),w.G=f,te}function xy(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;k||I(),D||(k(),D=!0),S.add(w,f),f.A=0}}function gh(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ai(u(f.Da,f),Ny(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,wy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ai(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Tl(this),wy(this))};function yh(f){f.B!=null&&(s.clearTimeout(f.B),f.B=null)}function wy(f){f.g=new si(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=Qr(f.na);Ye(w,"RID","rpc"),Ye(w,"SID",f.M),Ye(w,"AID",f.K),Ye(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ye(w,"TO",f.ia),Ye(w,"TYPE","xmlhttp"),qs(f,w),f.u&&f.o&&mh(w,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=Al(Qr(w)),A.u=null,A.R=!0,Y0(A,f)}t.Va=function(){this.C!=null&&(this.C=null,Tl(this),gh(this),kt(19))};function Cl(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function _y(f,w){var A=null;if(f.g==w){Cl(f),yh(f),f.g=null;var M=2}else if(uh(f.h,w))A=w.G,ty(f.h,w),M=1;else return;if(f.I!=0){if(w.o)if(M==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var $=f.D;M=fr(),vt(M,new Ds(M,A)),Il(f)}else xy(f);else if($=w.m,$==3||$==0&&w.X>0||!(M==1&&JA(f,w)||M==2&&gh(f)))switch(A&&A.length>0&&(w=f.h,w.i=w.i.concat(A)),$){case 1:Ui(f,5);break;case 4:Ui(f,10);break;case 3:Ui(f,6);break;default:Ui(f,2)}}}function Ny(f,w){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*w}function Ui(f,w){if(f.j.info("Error code "+w),w==2){var A=u(f.bb,f),M=f.Ua;const $=!M;M=new oi(M||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Vs(M,"https"),Al(M),$?qA(M.toString(),A):KA(M.toString(),A)}else kt(2);f.I=0,f.l&&f.l.pa(w),Ey(f),yy(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Ey(f){if(f.I=0,f.ja=[],f.l){const w=ry(f.h);(w.length!=0||f.i.length!=0)&&(x(f.ja,w),x(f.ja,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.oa()}}function Ay(f,w,A){var M=A instanceof oi?Qr(A):new oi(A);if(M.g!="")w&&(M.g=w+"."+M.g),$s(M,M.u);else{var $=s.location;M=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;const W=new oi(null);M&&Vs(W,M),w&&(W.g=w),$&&$s(W,$),A&&(W.h=A),M=W}return A=f.G,w=f.wa,A&&w&&Ye(M,A,w),Ye(M,"VER",f.ka),qs(f,M),M}function Py(f,w,A){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new st(new fh({ab:A})):new st(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sy(){}t=Sy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kl(){}kl.prototype.g=function(f,w){return new mr(f,w)};function mr(f,w){ut.call(this),this.g=new gy(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!T(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!T(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new ja(this)}h(mr,ut),mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){ph(this.g)},mr.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=z(f),f=A);w.i.push(new VA(w.Ya++,f)),w.I==3&&Il(w)},mr.prototype.N=function(){this.g.l=null,delete this.j,ph(this.g),delete this.g,mr.Z.N.call(this)};function Ty(f){me.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const A in w){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}h(Ty,me);function Iy(){pe.call(this),this.status=1}h(Iy,pe);function ja(f){this.g=f}h(ja,Sy),ja.prototype.ra=function(){vt(this.g,"a")},ja.prototype.qa=function(f){vt(this.g,new Ty(f))},ja.prototype.pa=function(f){vt(this.g,new Iy)},ja.prototype.oa=function(){vt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,Ow=function(){return new kl},kw=function(){return fr()},Cw=$e,Ef={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,oc=Nl,H0.COMPLETE="complete",Iw=H0,ue.EventType=G,G.OPEN="a",G.CLOSE="b",G.ERROR="c",G.MESSAGE="d",ut.prototype.listen=ut.prototype.J,oo=ue,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,Tw=st}).apply(typeof Dl<"u"?Dl:typeof self<"u"?self:typeof window<"u"?window:{});const yv="@firebase/firestore",vv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Ym("@firebase/firestore");function Wa(){return da.logLevel}function ie(t,...e){if(da.logLevel<=Se.DEBUG){const r=e.map(lp);da.debug(`Firestore (${bs}): ${t}`,...r)}}function $n(t,...e){if(da.logLevel<=Se.ERROR){const r=e.map(lp);da.error(`Firestore (${bs}): ${t}`,...r)}}function ns(t,...e){if(da.logLevel<=Se.WARN){const r=e.map(lp);da.warn(`Firestore (${bs}): ${t}`,...r)}}function lp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Rw(t,n,r)}function Rw(t,e,r){let n=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw $n(n),new Error(n)}function Ve(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Rw(e,i,n)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends xn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Gt.UNAUTHENTICATED))}shutdown(){}}class mC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class pC{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ve(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ni)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ve(typeof n.accessToken=="string",31837,{l:n}),new Mw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class gC{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yC{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new gC(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vC{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ve(this.o===void 0,3512);const n=a=>{a.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ve(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new bv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=bC(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Te(t,e){return t<e?-1:t>e?1:0}function Af(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return Ih(i)===Ih(a)?Te(i,a):Ih(i)?1:-1}return Te(t.length,e.length)}const xC=55296,wC=57343;function Ih(t){const e=t.charCodeAt(0);return e>=xC&&e<=wC}function is(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__name__";class rn{constructor(e,r,n){r===void 0?r=0:r>e.length&&xe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&xe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return rn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof rn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=rn.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Te(e.length,r.length)}static compareSegments(e,r){const n=rn.isNumericId(e),i=rn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?rn.extractNumericId(e).compare(rn.extractNumericId(r)):Af(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class rt extends rn{construct(e,r,n){return new rt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new rt(r)}static emptyPath(){return new rt([])}}const _C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends rn{construct(e,r,n){return new zt(e,r,n)}static isValidIdentifier(e){return _C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new zt([xv])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(r)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return rt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e,r){if(!r)throw new fe(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EC(t,e,r,n){if(e===!0&&n===!0)throw new fe(J.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function wv(t){if(!ye.isDocumentKey(t))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=up(t);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){const r={typeString:t};return e&&(r.value=e),r}function Qo(t,e){if(!Dw(t))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new fe(J.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-62135596800,Nv=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Nv);return new Qe(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<_v)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qo(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:mt("string",Qe._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Qe(0,0))}static max(){return new _e(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=-1;function AC(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(n===1e9?new Qe(r+1,0):new Qe(r,n));return new Pi(i,ye.empty(),e)}function PC(t){return new Pi(t.readTime,t.key,Ao)}class Pi{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Pi(_e.min(),ye.empty(),Ao)}static max(){return new Pi(_e.max(),ye.empty(),Ao)}}function SC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ye.comparator(t.documentKey,e.documentKey),r!==0?r:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==TC)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Y((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Y?r:Y.resolve(r)}catch(r){return Y.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Y.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Y.reject(r)}static resolve(e){return new Y((r,n)=>{r(e)})}static reject(e){return new Y((r,n)=>{n(e)})}static waitFor(e){return new Y((r,n)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=Y.resolve(!1);for(const n of e)r=r.next(i=>i?Y.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Y((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{s[u]=d,++o,o===a&&n(s)},d=>i(d))}})}static doWhile(e,r){return new Y((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function CC(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ws(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=-1;function zu(t){return t==null}function Sc(t){return t===0&&1/t==-1/0}function kC(t){return typeof t=="number"&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="";function OC(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Ev(e)),e=RC(t.get(r),e);return Ev(e)}function RC(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case Lw:r+="";break;default:r+=a}}return r}function Ev(t){return t+Lw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Mi(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function jw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,r){this.comparator=e,this.root=r||Ut.EMPTY}insert(e,r){return new it(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ll(this.root,e,this.comparator,!0)}}class Ll{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Ut.RED,this.left=i??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Ut(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Ut(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pt(this.comparator);return r.data=e,r}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new xr([])}unionWith(e){let r=new Pt(zt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new xr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Vw("Invalid base64 string: "+a):a}}(e);return new Bt(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Bt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const MC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const r=MC.exec(t);if(Ve(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",Fw="__type__",Uw="__previous_value__",zw="__local_write_time__";function hp(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Fw])==null?void 0:n.stringValue)===$w}function Bu(t){const e=t.mapValue.fields[Uw];return hp(e)?Bu(e):e}function Po(t){const e=Si(t.mapValue.fields[zw].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,r,n,i,a,s,o,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Tc="(default)";class So{constructor(e,r){this.projectId=e,this.database=r||Tc}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="__type__",Ww="__max__",jl={mapValue:{fields:{__type__:{stringValue:Ww}}}},Hw="__vector__",Ic="value";function Ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hp(t)?4:jC(t)?9007199254740991:LC(t)?10:11:xe(28295,{value:t})}function mn(t,e){if(t===e)return!0;const r=Ii(t);if(r!==Ii(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Po(t).isEqual(Po(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Si(i.timestampValue),o=Si(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ti(i.bytesValue).isEqual(Ti(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return lt(i.geoPointValue.latitude)===lt(a.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return lt(i.integerValue)===lt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=lt(i.doubleValue),o=lt(a.doubleValue);return s===o?Sc(s)===Sc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(Av(s)!==Av(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!mn(s[c],o[c])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function To(t,e){return(t.values||[]).find(r=>mn(r,e))!==void 0}function as(t,e){if(t===e)return 0;const r=Ii(t),n=Ii(e);if(r!==n)return Te(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=lt(a.integerValue||a.doubleValue),c=lt(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return Sv(t.timestampValue,e.timestampValue);case 4:return Sv(Po(t),Po(e));case 5:return Af(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Ti(a),c=Ti(s);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Te(o[u],c[u]);if(d!==0)return d}return Te(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=Te(lt(a.latitude),lt(s.latitude));return o!==0?o:Te(lt(a.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Tv(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,g,x,b;const o=a.fields||{},c=s.fields||{},u=(p=o[Ic])==null?void 0:p.arrayValue,d=(g=c[Ic])==null?void 0:g.arrayValue,h=Te(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return h!==0?h:Tv(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===jl.mapValue&&s===jl.mapValue)return 0;if(a===jl.mapValue)return 1;if(s===jl.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=Af(c[h],d[h]);if(p!==0)return p;const g=as(o[c[h]],u[d[h]]);if(g!==0)return g}return Te(c.length,d.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{he:r})}}function Sv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const r=Si(t),n=Si(e),i=Te(r.seconds,n.seconds);return i!==0?i:Te(r.nanos,n.nanos)}function Tv(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=as(r[i],n[i]);if(a)return a}return Te(r.length,n.length)}function ss(t){return Pf(t)}function Pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Si(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ti(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ye.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Pf(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Pf(r.fields[s])}`;return i+"}"}(t.mapValue):xe(61005,{value:t})}function lc(t){switch(Ii(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bu(t);return e?16+lc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+lc(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Mi(n.fields,(a,s)=>{i+=a.length+lc(s)}),i}(t.mapValue);default:throw xe(13486,{value:t})}}function Sf(t){return!!t&&"integerValue"in t}function fp(t){return!!t&&"arrayValue"in t}function Iv(t){return!!t&&"nullValue"in t}function Cv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cc(t){return!!t&&"mapValue"in t}function LC(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[Bw])==null?void 0:n.stringValue)===Hw}function go(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Mi(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=go(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=go(t.arrayValue.values[r]);return e}return{...t}}function jC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Ww}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!cc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=go(r)}setAll(e){let r=zt.emptyPath(),n={},i=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=go(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());cc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];cc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Mi(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new lr(go(this.value))}}function qw(t){const e=[];return Mi(t.fields,(r,n)=>{const i=new zt([r]);if(cc(n)){const a=qw(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Yt(e,0,_e.min(),_e.min(),_e.min(),lr.empty(),0)}static newFoundDocument(e,r,n,i){return new Yt(e,1,r,_e.min(),n,i,0)}static newNoDocument(e,r){return new Yt(e,2,r,_e.min(),_e.min(),lr.empty(),0)}static newUnknownDocument(e,r){return new Yt(e,3,r,_e.min(),_e.min(),lr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,r){this.position=e,this.inclusive=r}}function kv(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=ye.comparator(ye.fromName(s.referenceValue),r.key):n=as(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Ov(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!mn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,r="asc"){this.field=e,this.dir=r}}function VC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{}class Nt extends Kw{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new FC(e,r,n):r==="array-contains"?new BC(e,n):r==="in"?new WC(e,n):r==="not-in"?new HC(e,n):r==="array-contains-any"?new qC(e,n):new Nt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new UC(e,n):new zC(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(as(r,this.value)):r!==null&&Ii(this.value)===Ii(r)&&this.matchesComparison(as(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends Kw{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new pn(e,r)}matches(e){return Gw(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gw(t){return t.op==="and"}function Yw(t){return $C(t)&&Gw(t)}function $C(t){for(const e of t.filters)if(e instanceof pn)return!1;return!0}function Tf(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+ss(t.value);if(Yw(t))return t.filters.map(e=>Tf(e)).join(",");{const e=t.filters.map(r=>Tf(r)).join(",");return`${t.op}(${e})`}}function Xw(t,e){return t instanceof Nt?function(n,i){return i instanceof Nt&&n.op===i.op&&n.field.isEqual(i.field)&&mn(n.value,i.value)}(t,e):t instanceof pn?function(n,i){return i instanceof pn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&Xw(s,i.filters[o]),!0):!1}(t,e):void xe(19439)}function Qw(t){return t instanceof Nt?function(r){return`${r.field.canonicalString()} ${r.op} ${ss(r.value)}`}(t):t instanceof pn?function(r){return r.op.toString()+" {"+r.getFilters().map(Qw).join(" ,")+"}"}(t):"Filter"}class FC extends Nt{constructor(e,r,n){super(e,r,n),this.key=ye.fromName(n.referenceValue)}matches(e){const r=ye.comparator(e.key,this.key);return this.matchesComparison(r)}}class UC extends Nt{constructor(e,r){super(e,"in",r),this.keys=Jw("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class zC extends Nt{constructor(e,r){super(e,"not-in",r),this.keys=Jw("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Jw(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>ye.fromName(n.referenceValue))}class BC extends Nt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return fp(r)&&To(r.arrayValue,this.value)}}class WC extends Nt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&To(this.value.arrayValue,r)}}class HC extends Nt{constructor(e,r){super(e,"not-in",r)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!To(this.value.arrayValue,r)}}class qC extends Nt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!fp(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>To(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function Rv(t,e=null,r=[],n=[],i=null,a=null,s=null){return new KC(t,e,r,n,i,a,s)}function mp(t){const e=Ne(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Tf(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),zu(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ss(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ss(n)).join(",")),e.Te=r}return e.Te}function pp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!VC(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Xw(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ov(t.startAt,e.startAt)&&Ov(t.endAt,e.endAt)}function If(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GC(t,e,r,n,i,a,s,o){return new Wu(t,e,r,n,i,a,s,o)}function gp(t){return new Wu(t)}function Mv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YC(t){return t.collectionGroup!==null}function yo(t){const e=Ne(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Pt(zt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new kc(a,n))}),r.has(zt.keyField().canonicalString())||e.Ie.push(new kc(zt.keyField(),n))}return e.Ie}function ln(t){const e=Ne(t);return e.Ee||(e.Ee=XC(e,yo(t))),e.Ee}function XC(t,e){if(t.limitType==="F")return Rv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kc(i.field,a)});const r=t.endAt?new Cc(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Cc(t.startAt.position,t.startAt.inclusive):null;return Rv(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Cf(t,e,r){return new Wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Hu(t,e){return pp(ln(t),ln(e))&&t.limitType===e.limitType}function Zw(t){return`${mp(ln(t))}|lt:${t.limitType}`}function Ha(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Qw(i)).join(", ")}]`),zu(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>ss(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>ss(i)).join(",")),`Target(${n})`}(ln(t))}; limitType=${t.limitType})`}function qu(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ye.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of yo(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,o,c){const u=kv(s,o,c);return s.inclusive?u<=0:u<0}(n.startAt,yo(n),i)||n.endAt&&!function(s,o,c){const u=kv(s,o,c);return s.inclusive?u>=0:u>0}(n.endAt,yo(n),i))}(t,e)}function QC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e4(t){return(e,r)=>{let n=!1;for(const i of yo(t)){const a=JC(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function JC(t,e,r){const n=t.field.isKeyField()?ye.comparator(e.key,r.key):function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?as(c,u):xe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return jw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new it(ye.comparator);function Fn(){return ZC}const t4=new it(ye.comparator);function lo(...t){let e=t4;for(const r of t)e=e.insert(r.key,r);return e}function r4(t){let e=t4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Qi(){return vo()}function n4(){return vo()}function vo(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const ek=new it(ye.comparator),tk=new Pt(ye.comparator);function Ie(...t){let e=tk;for(const r of t)e=e.add(r);return e}const rk=new Pt(Te);function nk(){return rk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function i4(t){return{integerValue:""+t}}function ik(t,e){return kC(e)?i4(e):yp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this._=void 0}}function ak(t,e,r){return t instanceof Oc?function(i,a){const s={fields:{[Fw]:{stringValue:$w},[zw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&hp(a)&&(a=Bu(a)),a&&(s.fields[Uw]=a),{mapValue:s}}(r,e):t instanceof Io?s4(t,e):t instanceof Co?o4(t,e):function(i,a){const s=a4(i,a),o=Dv(s)+Dv(i.Ae);return Sf(s)&&Sf(i.Ae)?i4(o):yp(i.serializer,o)}(t,e)}function sk(t,e,r){return t instanceof Io?s4(t,e):t instanceof Co?o4(t,e):r}function a4(t,e){return t instanceof Rc?function(n){return Sf(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Oc extends Ku{}class Io extends Ku{constructor(e){super(),this.elements=e}}function s4(t,e){const r=l4(e);for(const n of t.elements)r.some(i=>mn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Co extends Ku{constructor(e){super(),this.elements=e}}function o4(t,e){let r=l4(e);for(const n of t.elements)r=r.filter(i=>!mn(i,n));return{arrayValue:{values:r}}}class Rc extends Ku{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Dv(t){return lt(t.integerValue||t.doubleValue)}function l4(t){return fp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ok(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Io&&i instanceof Io||n instanceof Co&&i instanceof Co?is(n.elements,i.elements,mn):n instanceof Rc&&i instanceof Rc?mn(n.Ae,i.Ae):n instanceof Oc&&i instanceof Oc}(t.transform,e.transform)}class lk{constructor(e,r){this.version=e,this.transformResults=r}}class cn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gu{}function c4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d4(t.key,cn.none()):new Jo(t.key,t.data,cn.none());{const r=t.data,n=lr.empty();let i=new Pt(zt.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Di(t.key,n,new xr(i.toArray()),cn.none())}}function ck(t,e,r){t instanceof Jo?function(i,a,s){const o=i.value.clone(),c=jv(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Di?function(i,a,s){if(!uc(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=jv(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(u4(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function bo(t,e,r,n){return t instanceof Jo?function(a,s,o,c){if(!uc(a.precondition,s))return o;const u=a.value.clone(),d=Vv(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Di?function(a,s,o,c){if(!uc(a.precondition,s))return o;const u=Vv(a.fieldTransforms,c,s),d=s.data;return d.setAll(u4(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,s,o){return uc(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function uk(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=a4(n.transform,i||null);a!=null&&(r===null&&(r=lr.empty()),r.set(n.field,a))}return r||null}function Lv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&is(n,i,(a,s)=>ok(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jo extends Gu{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Gu{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function jv(t,e,r){const n=new Map;Ve(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,sk(s,o,r[i]))}return n}function Vv(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,ak(a,s,e))}return n}class d4 extends Gu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dk extends Gu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ck(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=bo(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=bo(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=n4();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=c4(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(_e.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ie())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(r,n)=>Lv(r,n))&&is(this.baseMutations,e.baseMutations,(r,n)=>Lv(r,n))}}class vp{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ve(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return ek}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new vp(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,ke;function pk(t){switch(t){case J.OK:return xe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function h4(t){if(t===void 0)return $n("GRPC error has no .code"),J.UNKNOWN;switch(t){case dt.OK:return J.OK;case dt.CANCELLED:return J.CANCELLED;case dt.UNKNOWN:return J.UNKNOWN;case dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case dt.INTERNAL:return J.INTERNAL;case dt.UNAVAILABLE:return J.UNAVAILABLE;case dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case dt.NOT_FOUND:return J.NOT_FOUND;case dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case dt.ABORTED:return J.ABORTED;case dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case dt.DATA_LOSS:return J.DATA_LOSS;default:return xe(39323,{code:t})}}(ke=dt||(dt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new _i([4294967295,4294967295],0);function $v(t){const e=gk().encode(t),r=new Sw;return r.update(e),new Uint8Array(r.digest())}function Fv(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _i([r,n],0),new _i([i,a],0)]}class bp{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new co(`Invalid padding: ${r}`);if(n<0)throw new co(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new co(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=_i.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(_i.fromNumber(n)));return i.compare(yk)===1&&(i=new _i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=$v(e),[n,i]=Fv(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new bp(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=$v(e),[n,i]=Fv(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Zo.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Yu(_e.min(),i,new it(Te),Fn(),Ie())}}class Zo{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Zo(n,r,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class f4{constructor(e,r){this.targetId=e,this.Ce=r}}class m4{constructor(e,r,n=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Uv{constructor(){this.ve=0,this.Fe=zv(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),r=Ie(),n=Ie();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:xe(38017,{changeType:a})}}),new Zo(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=zv()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fn(),this.Je=Vl(),this.He=Vl(),this.Ye=new it(Te)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(If(a))if(n===0){const s=new ye(a.path);this.et(r,s,Yt.newNoDocument(s,_e.min()))}else Ve(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),c=o?this.ct(o,e,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Ti(n).toUint8Array()}catch(c){if(c instanceof Vw)return ns("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new bp(s,i,a)}catch(c){return ns(c instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&If(o.target)){const c=new ye(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Yt.newNoDocument(c,e))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=Ie();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Yu(e,r,this.Ye,this.je,n);return this.je=Fn(),this.Je=Vl(),this.He=Vl(),this.Ye=new it(Te),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new Uv,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Pt(Te),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Pt(Te),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ie("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Uv),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Vl(){return new it(ye.comparator)}function zv(){return new it(ye.comparator)}const bk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wk=(()=>({and:"AND",or:"OR"}))();class _k{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function kf(t,e){return t.useProto3Json||zu(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nk(t,e){return Mc(t,e.toTimestamp())}function un(t){return Ve(!!t,49232),_e.fromTimestamp(function(r){const n=Si(r);return new Qe(n.seconds,n.nanos)}(t))}function xp(t,e){return Of(t,e).canonicalString()}function Of(t,e){const r=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function g4(t){const e=rt.fromString(t);return Ve(w4(e),10190,{key:e.toString()}),e}function Rf(t,e){return xp(t.databaseId,e.path)}function Ch(t,e){const r=g4(e);if(r.get(1)!==t.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ye(v4(r))}function y4(t,e){return xp(t.databaseId,e)}function Ek(t){const e=g4(t);return e.length===4?rt.emptyPath():v4(e)}function Mf(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v4(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bv(t,e,r){return{name:Rf(t,e),fields:r.value.mapValue.fields}}function Ak(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Ve(d===void 0||typeof d=="string",58123),Bt.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(u){const d=u.code===void 0?J.UNKNOWN:h4(u.code);return new fe(d,u.message||"")}(s);r=new m4(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ch(t,n.document.name),a=un(n.document.updateTime),s=n.document.createTime?un(n.document.createTime):_e.min(),o=new lr({mapValue:{fields:n.document.fields}}),c=Yt.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new dc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Ch(t,n.document),a=n.readTime?un(n.readTime):_e.min(),s=Yt.newNoDocument(i,a),o=n.removedTargetIds||[];r=new dc([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Ch(t,n.document),a=n.removedTargetIds||[];r=new dc([],a,i,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new mk(i,a),o=n.targetId;r=new f4(o,s)}}return r}function Pk(t,e){let r;if(e instanceof Jo)r={update:Bv(t,e.key,e.value)};else if(e instanceof d4)r={delete:Rf(t,e.key)};else if(e instanceof Di)r={update:Bv(t,e.key,e.data),updateMask:Dk(e.fieldMask)};else{if(!(e instanceof dk))return xe(16599,{Vt:e.type});r={verify:Rf(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Oc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Io)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rc)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw xe(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Nk(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)}(t,e.precondition)),r}function Sk(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(r=>function(i,a){let s=i.updateTime?un(i.updateTime):un(a);return s.isEqual(_e.min())&&(s=un(a)),new lk(s,i.transformResults||[])}(r,e))):[]}function Tk(t,e){return{documents:[y4(t,e.path)]}}function Ik(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=y4(t,i);const a=function(u){if(u.length!==0)return x4(pn.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:qa(p.field),direction:Ok(p.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=kf(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function Ck(t){let e=Ek(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ve(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const p=b4(h);return p instanceof pn&&Yw(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(h){return h.map(p=>function(x){return new kc(Ka(x.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,zu(p)?null:p}(r.limit));let c=null;r.startAt&&(c=function(h){const p=!!h.before,g=h.values||[];return new Cc(g,p)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Cc(g,p)}(r.endAt)),GC(e,i,s,a,o,"F",c,u)}function kk(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function b4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ka(r.unaryFilter.field);return Nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ka(r.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ka(r.unaryFilter.field);return Nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ka(r.unaryFilter.field);return Nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Nt.create(Ka(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return pn.create(r.compositeFilter.filters.map(n=>b4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(r.compositeFilter.op))}(t):xe(30097,{filter:t})}function Ok(t){return bk[t]}function Rk(t){return xk[t]}function Mk(t){return wk[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ka(t){return zt.fromServerFormat(t.fieldPath)}function x4(t){return t instanceof Nt?function(r){if(r.op==="=="){if(Cv(r.value))return{unaryFilter:{field:qa(r.field),op:"IS_NAN"}};if(Iv(r.value))return{unaryFilter:{field:qa(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Cv(r.value))return{unaryFilter:{field:qa(r.field),op:"IS_NOT_NAN"}};if(Iv(r.value))return{unaryFilter:{field:qa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(r.field),op:Rk(r.op),value:r.value}}}(t):t instanceof pn?function(r){const n=r.getFilters().map(i=>x4(i));return n.length===1?n[0]:{compositeFilter:{op:Mk(r.op),filters:n}}}(t):xe(54877,{filter:t})}function Dk(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function w4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,r,n,i,a=_e.min(),s=_e.min(),o=Bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.yt=e}}function jk(t){const e=Ck({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Cn=new $k}addToCollectionParentIndex(e,r){return this.Cn.add(r),Y.resolve()}getCollectionParents(e,r){return Y.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Y.resolve()}deleteFieldIndex(e,r){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,r){return Y.resolve()}getDocumentsMatchingTarget(e,r){return Y.resolve(null)}getIndexType(e,r){return Y.resolve(0)}getFieldIndexes(e,r){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,r){return Y.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,r){return Y.resolve(Pi.min())}updateCollectionGroup(e,r,n){return Y.resolve()}updateIndexEntries(e,r){return Y.resolve()}}class $k{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Pt(rt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Pt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_4=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(_4,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new os(0)}static cr(){return new os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="LruGarbageCollector",Fk=1048576;function qv([t,e],[r,n]){const i=Te(t,r);return i===0?Te(e,n):i}class Uk{constructor(e){this.Ir=e,this.buffer=new Pt(qv),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();qv(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class zk{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(Hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ws(r)?ie(Hv,"Ignoring IndexedDB error during garbage collection: ",r):await xs(r)}await this.Vr(3e5)})}}class Bk{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Y.resolve(Uu.ce);const n=new Uk(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Wv)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wv):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),Wa()<=Se.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function Wk(t,e){return new Bk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.changes=new Ea(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Y.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&bo(n.mutation,i,xr.empty(),Qe.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ie()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ie()){const i=Qi();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=lo();return a.forEach((o,c)=>{s=s.insert(o,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Qi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ie()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,i){let a=Fn();const s=vo(),o=function(){return vo()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Di)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),bo(d.mutation,u,d.mutation.getFieldMask(),Qe.now())):s.set(u.key,xr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>s.set(u,d)),r.forEach((u,d)=>o.set(u,new qk(d,s.get(u)??null))),o))}recalculateAndSaveOverlays(e,r){const n=vo();let i=new it((s,o)=>s-o),a=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||xr.empty();d=o.applyToLocalView(u,d),n.set(c,d);const h=(i.get(o.batchId)||Ie()).add(c);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,h=n4();d.forEach(p=>{if(!a.has(p)){const g=c4(r.get(p),n.get(p));g!==null&&h.set(p,g),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Y.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):YC(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Y.resolve(Qi());let o=Ao,c=a;return s.next(u=>Y.forEach(u,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?Y.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Ie())).next(d=>({batchId:o,changes:r4(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ye(r)).next(n=>{let i=lo();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=lo();return this.indexManager.getCollectionParents(e,a).next(o=>Y.forEach(o,c=>{const u=function(h,p){return new Wu(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Yt.newInvalidDocument(d)))});let o=lo();return s.forEach((c,u)=>{const d=a.get(c);d!==void 0&&bo(d.mutation,u,xr.empty(),Qe.now()),qu(r,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Y.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:un(i.createTime)}}(r)),Y.resolve()}getNamedQuery(e,r){return Y.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:jk(i.bundledQuery),readTime:un(i.readTime)}}(r)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.overlays=new it(ye.comparator),this.qr=new Map}getOverlay(e,r){return Y.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Qi();return Y.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),Y.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),Y.resolve()}getOverlaysForCollection(e,r,n){const i=Qi(),a=r.length+1,s=new ye(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new it((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Qi(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Qi(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return Y.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new fk(r,n));let a=this.qr.get(r);a===void 0&&(a=Ie(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Qr=new Pt(Rt.$r),this.Ur=new Pt(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Rt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Rt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new ye(new rt([])),n=new Rt(r,e),i=new Rt(r,e+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new ye(new rt([])),n=new Rt(r,e),i=new Rt(r,e+1);let a=Ie();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Rt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Rt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return ye.comparator(e.key,r.key)||Te(e.Yr,r.Yr)}static Kr(e,r){return Te(e.Yr,r.Yr)||ye.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Rt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new hk(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Rt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Y.resolve(s)}lookupMutationBatch(e,r){return Y.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?dp:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Rt(r,0),i=new Rt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Pt(Te);return r.forEach(i=>{const a=new Rt(i,0),s=new Rt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),Y.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ye.isDocumentKey(a)||(a=a.child(""));const s=new Rt(new ye(a),0);let o=new Pt(Te);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Yr)),!0)},s),Y.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ve(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Y.forEach(r.mutations,i=>{const a=new Rt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Rt(r,0),i=this.Zr.firstAfterOrEqual(n);return Y.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.ri=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Y.resolve(n?n.document.mutableCopy():Yt.newInvalidDocument(r))}getEntries(e,r){let n=Fn();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Yt.newInvalidDocument(i))}),Y.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Fn();const s=r.path,o=new ye(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||SC(PC(d),n)<=0||(i.has(d.key)||qu(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,r,n,i){xe(9500)}ii(e,r){return Y.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Zk(this)}getSize(e){return Y.resolve(this.size)}}class Zk extends Hk{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Y.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.persistence=e,this.si=new Ea(r=>mp(r),pp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=os.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Y.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new os(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Y.resolve()}updateTargetData(e,r){return this.Pr(r),Y.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Y.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Y.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Y.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Y.resolve(n)}containsKey(e,r){return Y.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,r){this.ui={},this.overlays={},this.ci=new Uu(0),this.li=!1,this.li=!0,this.hi=new Xk,this.referenceDelegate=e(this),this.Pi=new e8(this),this.indexManager=new Vk,this.remoteDocumentCache=function(i){return new Jk(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Lk(r),this.Ii=new Gk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Yk,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Qk(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ie("MemoryPersistence","Starting transaction:",e);const i=new t8(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return Y.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class t8 extends IC{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Ri=new wp,this.Vi=null}static mi(e){return new _p(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Y.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Y.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Y.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,n=>{const i=ye.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,_e.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return Y.or([()=>Y.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Dc{constructor(e,r){this.persistence=e,this.pi=new Ea(n=>OC(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Wk(this,r)}static mi(e,r){return new Dc(e,r)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return Y.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?Y.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,r).next(o=>{o||(n++,a.removeEntry(s,_e.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=lc(e.data.value)),r}br(e,r,n){return Y.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Y.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ie(),i=Ie();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Np(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return SS()?8:CC(Jt())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new r8;return this.Ss(e,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,r,s,o.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(Wa()<=Se.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ha(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Wa()<=Se.DEBUG&&ie("QueryEngine","Query:",Ha(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Wa()<=Se.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ha(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(r))):Y.resolve())}ys(e,r){if(Mv(r))return Y.resolve(null);let n=ln(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Cf(r,null,"F"),n=ln(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=Ie(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,o);return this.Cs(r,u,s,c.readTime)?this.ys(e,Cf(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return Mv(r)||i.isEqual(_e.min())?Y.resolve(null):this.ps.getDocuments(e,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?Y.resolve(null):(Wa()<=Se.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(r)),this.vs(e,s,r,AC(i,Ao)).next(o=>o))})}Ds(e,r){let n=new Pt(e4(e));return r.forEach((i,a)=>{qu(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Wa()<=Se.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ha(r)),this.ps.getDocumentsMatchingQuery(e,r,Pi.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",i8=3e8;class a8{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new it(Te),this.xs=new Ea(a=>mp(a),pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function s8(t,e,r,n){return new a8(t,e,r,n)}async function E4(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let c=Ie();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:o}))})})}function o8(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,u,d){const h=u.batch,p=h.keys();let g=Y.resolve();return p.forEach(x=>{g=g.next(()=>d.getEntry(c,x)).next(b=>{const y=u.docVersions.get(x);Ve(y!==null,48541),b.version.compareTo(y)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(c,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let c=Ie();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function A4(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function l8(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;o.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let g=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Bt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,n)),i=i.insert(h,g),function(b,y,N){return b.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=i8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(p,g,d)&&o.push(r.Pi.updateTargetData(a,g))});let c=Fn(),u=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(c8(a,s,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(_e.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(d)}return Y.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function c8(t,e,r){let n=Ie(),i=Ie();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Fn();return r.forEach((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(_e.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):ie(Ep,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:s,qs:i}})}function u8(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=dp),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function d8(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,Y.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new bi(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Df(t,e,r){const n=Ne(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ws(s))throw s;ie(Ep,`Failed to update sequence numbers for target ${e}: ${s}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function Kv(t,e,r){const n=Ne(t);let i=_e.min(),a=Ie();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){const h=Ne(c),p=h.xs.get(d);return p!==void 0?Y.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,d)}(n,s,ln(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,e,r?i:_e.min(),r?a:Ie())).next(o=>(h8(n,QC(e),o),{documents:o,Qs:a})))}function h8(t,e,r){let n=t.Os.get(e)||_e.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class Gv{constructor(){this.activeTargetIds=nk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f8{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="ConnectivityMonitor";class Xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(Yv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(Yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l=null;function Lf(){return $l===null?$l=function(){return 268435456+Math.round(2147483648*Math.random())}():$l++,"0x"+$l.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="RestConnection",p8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Tc?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const s=Lf(),o=this.zo(e,r.toUriEncodedString());ie(kh,`Sending RPC '${e}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(o),d=_a(u);return this.Jo(e,o,c,n,d).then(h=>(ie(kh,`Received RPC '${e}' ${s}: `,h),h),h=>{throw ns(kh,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",n),h})}Ho(e,r,n,i,a,s){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=p8[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class v8 extends g8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const s=Lf();return new Promise((o,c)=>{const u=new Tw;u.setWithCredentials(!0),u.listenOnce(Iw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oc.NO_ERROR:const h=u.getResponseJson();ie(qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case oc.TIMEOUT:ie(qt,`RPC '${e}' ${s} timed out`),c(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const p=u.getStatus();if(ie(qt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const b=function(N){const _=N.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(_)>=0?_:J.UNKNOWN}(x.status);c(new fe(b,x.message))}else c(new fe(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new fe(J.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ie(qt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);ie(qt,`RPC '${e}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=Lf(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ow(),o=kw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");ie(qt,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=s.createWebChannel(d,c);this.I_(h);let p=!1,g=!1;const x=new y8({Yo:y=>{g?ie(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(p||(ie(qt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ie(qt,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},Zo:()=>h.close()}),b=(y,N,_)=>{y.listen(N,P=>{try{_(P)}catch(L){setTimeout(()=>{throw L},0)}})};return b(h,oo.EventType.OPEN,()=>{g||(ie(qt,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),b(h,oo.EventType.CLOSE,()=>{g||(g=!0,ie(qt,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(h))}),b(h,oo.EventType.ERROR,y=>{g||(g=!0,ns(qt,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),x.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),b(h,oo.EventType.MESSAGE,y=>{var N;if(!g){const _=y.data[0];Ve(!!_,16349);const P=_,L=(P==null?void 0:P.error)||((N=P[0])==null?void 0:N.error);if(L){ie(qt,`RPC '${e}' stream ${i} received error:`,L);const k=L.status;let D=function(E){const R=dt[E];if(R!==void 0)return h4(R)}(k),S=L.message;D===void 0&&(D=J.INTERNAL,S="Unknown error status: "+k+" with message "+L.message),g=!0,x.a_(new fe(D,S)),h.close()}else ie(qt,`RPC '${e}' stream ${i} received:`,_),x.u_(_)}}),b(o,Cw.STAT_EVENT,y=>{y.stat===Ef.PROXY?ie(qt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Ef.NOPROXY&&ie(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function Oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){return new _k(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class S4{constructor(e,r,n,i,a,s,o,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P4(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===J.RESOURCE_EXHAUSTED?($n(r.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new fe(J.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ie(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b8 extends S4{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Ak(this.serializer,e),n=function(a){if(!("targetChange"in a))return _e.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?un(s.readTime):_e.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Mf(this.serializer),r.addTarget=function(a,s){let o;const c=s.target;if(o=If(c)?{documents:Tk(a,c)}:{query:Ik(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=p4(a,s.resumeToken);const u=kf(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(_e.min())>0){o.readTime=Mc(a,s.snapshotVersion.toTimestamp());const u=kf(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=kk(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Mf(this.serializer),r.removeTarget=e,this.q_(r)}}class x8 extends S4{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Sk(e.writeResults,e.commitTime),n=un(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Mf(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Pk(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{}class _8 extends w8{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,Of(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(J.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,Of(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(J.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class N8{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($n(r),this.aa=!1):ie("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class E8{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{Aa(this)&&(ie(fa,"Restarting streams for network reachability change."),await async function(c){const u=Ne(c);u.Ea.add(4),await el(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Qu(u)}(this))})}),this.Ra=new N8(n,i)}}async function Qu(t){if(Aa(t))for(const e of t.da)await e(!0)}async function el(t){for(const e of t.da)await e(!1)}function T4(t,e){const r=Ne(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Tp(r)?Sp(r):_s(r).O_()&&Pp(r,e))}function Ap(t,e){const r=Ne(t),n=_s(r);r.Ia.delete(e),n.O_()&&I4(r,e),r.Ia.size===0&&(n.O_()?n.L_():Aa(r)&&r.Ra.set("Unknown"))}function Pp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}_s(t).Y_(e)}function I4(t,e){t.Va.Ue(e),_s(t).Z_(e)}function Sp(t){t.Va=new vk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_s(t).start(),t.Ra.ua()}function Tp(t){return Aa(t)&&!_s(t).x_()&&t.Ia.size>0}function Aa(t){return Ne(t).Ea.size===0}function C4(t){t.Va=void 0}async function A8(t){t.Ra.set("Online")}async function P8(t){t.Ia.forEach((e,r)=>{Pp(t,e)})}async function S8(t,e){C4(t),Tp(t)?(t.Ra.ha(e),Sp(t)):t.Ra.set("Unknown")}async function T8(t,e,r){if(t.Ra.set("Online"),e instanceof m4&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){ie(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Lc(t,n)}else if(e instanceof dc?t.Va.Ze(e):e instanceof f4?t.Va.st(e):t.Va.tt(e),!r.isEqual(_e.min()))try{const n=await A4(t.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),I4(a,c);const h=new bi(d.target,c,u,d.sequenceNumber);Pp(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){ie(fa,"Failed to raise snapshot:",n),await Lc(t,n)}}async function Lc(t,e,r){if(!ws(e))throw e;t.Ea.add(1),await el(t),t.Ra.set("Offline"),r||(r=()=>A4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(fa,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Qu(t)})}function k4(t,e){return e().catch(r=>Lc(t,r,e))}async function Ju(t){const e=Ne(t),r=Ci(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dp;for(;I8(e);)try{const i=await u8(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,C8(e,i)}catch(i){await Lc(e,i)}O4(e)&&R4(e)}function I8(t){return Aa(t)&&t.Ta.length<10}function C8(t,e){t.Ta.push(e);const r=Ci(t);r.O_()&&r.X_&&r.ea(e.mutations)}function O4(t){return Aa(t)&&!Ci(t).x_()&&t.Ta.length>0}function R4(t){Ci(t).start()}async function k8(t){Ci(t).ra()}async function O8(t){const e=Ci(t);for(const r of t.Ta)e.ea(r.mutations)}async function R8(t,e,r){const n=t.Ta.shift(),i=vp.from(n,e,r);await k4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ju(t)}async function M8(t,e){e&&Ci(t).X_&&await async function(n,i){if(function(s){return pk(s)&&s!==J.ABORTED}(i.code)){const a=n.Ta.shift();Ci(n).B_(),await k4(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ju(n)}}(t,e),O4(t)&&R4(t)}async function Jv(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),ie(fa,"RemoteStore received new credentials");const n=Aa(r);r.Ea.add(3),await el(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Qu(r)}async function D8(t,e){const r=Ne(t);e?(r.Ea.delete(2),await Qu(r)):e||(r.Ea.add(2),await el(r),r.Ra.set("Unknown"))}function _s(t){return t.ma||(t.ma=function(r,n,i){const a=Ne(r);return a.sa(),new b8(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:A8.bind(null,t),t_:P8.bind(null,t),r_:S8.bind(null,t),H_:T8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Tp(t)?Sp(t):t.Ra.set("Unknown")):(await t.ma.stop(),C4(t))})),t.ma}function Ci(t){return t.fa||(t.fa=function(r,n,i){const a=Ne(r);return a.sa(),new x8(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:k8.bind(null,t),r_:M8.bind(null,t),ta:O8.bind(null,t),na:R8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ju(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new Ip(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(t,e){if($n("AsyncQueue",`${e}: ${t}`),ws(t))return new fe(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||ye.comparator(r.key,n.key):(r,n)=>ye.comparator(r.key,n.key),this.keyedMap=lo(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Za;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.ga=new it(ye.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class ls{constructor(e,r,n,i,a,s,o,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new ls(e,r,Za.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class j8{constructor(){this.queries=eb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ne(r),a=i.queries;i.queries=eb(),a.forEach((s,o)=>{for(const c of o.Sa)c.onError(n)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function eb(){return new Ea(t=>Zw(t),Hu)}async function V8(t,e){const r=Ne(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new L8,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=Cp(s,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&kp(r)}async function $8(t,e){const r=Ne(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function F8(t,e){const r=Ne(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&kp(r)}function U8(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function kp(t){t.Ca.forEach(e=>{e.next()})}var jf,tb;(tb=jf||(jf={})).Ma="default",tb.Cache="cache";class z8{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ls(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ls.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.key=e}}class D4{constructor(e){this.key=e}}class B8{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=e4(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new Zv,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=qu(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let y=!1;p&&g?p.data.isEqual(g.data)?x!==b&&(n.track({type:3,doc:g}),y=!0):this.su(p,g)||(n.track({type:2,doc:g}),y=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(o=!0)):!p&&g?(n.track({type:0,doc:g}),y=!0):p&&!g&&(n.track({type:1,doc:p}),y=!0,(c||u)&&(o=!0)),y&&(g?(s=s.add(g),a=b?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,h)=>function(g,x){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:y})}};return b(g)-b(x)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,s.length!==0||u?{snapshot:new ls(this.query,e.tu,a,s,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new D4(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new M4(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ie();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ls.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Op="SyncEngine";class W8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class H8{constructor(e){this.key=e,this.hu=!1}}class q8{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ea(o=>Zw(o),Hu),this.Iu=new Map,this.Eu=new Set,this.du=new it(ye.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=os.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K8(t,e,r=!0){const n=U4(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await L4(n,e,r,!0),i}async function G8(t,e){const r=U4(t);await L4(r,e,!0,!1)}async function L4(t,e,r,n){const i=await d8(t.localStore,ln(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await Y8(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&T4(t.remoteStore,i),o}async function Y8(t,e,r,n,i){t.pu=(h,p,g)=>async function(b,y,N,_){let P=y.view.ru(N);P.Cs&&(P=await Kv(b.localStore,y.query,!1).then(({documents:S})=>y.view.ru(S,P)));const L=_&&_.targetChanges.get(y.targetId),k=_&&_.targetMismatches.get(y.targetId)!=null,D=y.view.applyChanges(P,b.isPrimaryClient,L,k);return nb(b,y.targetId,D.au),D.snapshot}(t,h,p,g);const a=await Kv(t.localStore,e,!0),s=new B8(e,a.Qs),o=s.ru(a.documents),c=Zo.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(o,t.isPrimaryClient,c);nb(t,r,u.au);const d=new W8(e,r,s);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function X8(t,e,r){const n=Ne(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!Hu(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Df(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Ap(n.remoteStore,i.targetId),Vf(n,i.targetId)}).catch(xs)):(Vf(n,i.targetId),await Df(n.localStore,i.targetId,!0))}async function Q8(t,e){const r=Ne(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ap(r.remoteStore,n.targetId))}async function J8(t,e,r){const n=aO(t);try{const i=await function(s,o){const c=Ne(s),u=Qe.now(),d=o.reduce((g,x)=>g.add(x.key),Ie());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Fn(),b=Ie();return c.Ns.getEntries(g,d).next(y=>{x=y,x.forEach((N,_)=>{_.isValidDocument()||(b=b.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,x)).next(y=>{h=y;const N=[];for(const _ of o){const P=uk(_,h.get(_.key).overlayedDocument);P!=null&&N.push(new Di(_.key,P,qw(P.value.mapValue),cn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,N,o)}).next(y=>{p=y;const N=y.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(g,y.batchId,N)})}).then(()=>({batchId:p.batchId,changes:r4(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,c){let u=s.Vu[s.currentUser.toKey()];u||(u=new it(Te)),u=u.insert(o,c),s.Vu[s.currentUser.toKey()]=u}(n,i.batchId,r),await tl(n,i.changes),await Ju(n.remoteStore)}catch(i){const a=Cp(i,"Failed to persist write");r.reject(a)}}async function j4(t,e){const r=Ne(t);try{const n=await l8(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ve(s.hu,14607):i.removedDocuments.size>0&&(Ve(s.hu,42227),s.hu=!1))}),await tl(r,n,e)}catch(n){await xs(n)}}function rb(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const c=Ne(s);c.onlineState=o;let u=!1;c.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(o)&&(u=!0)}),u&&kp(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Z8(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new it(ye.comparator);s=s.insert(a,Yt.newNoDocument(a,_e.min()));const o=Ie().add(a),c=new Yu(_e.min(),new Map,new it(Te),s,o);await j4(n,c),n.du=n.du.remove(a),n.Au.delete(e),Rp(n)}else await Df(n.localStore,e,!1).then(()=>Vf(n,e,r)).catch(xs)}async function eO(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await o8(r.localStore,e);$4(r,n,null),V4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await tl(r,i)}catch(i){await xs(i)}}async function tO(t,e,r){const n=Ne(t);try{const i=await function(s,o){const c=Ne(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next(h=>(Ve(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);$4(n,e,r),V4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await tl(n,i)}catch(i){await xs(i)}}function V4(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function $4(t,e,r){const n=Ne(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Vf(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||F4(t,n)})}function F4(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Ap(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Rp(t))}function nb(t,e,r){for(const n of r)n instanceof M4?(t.Ru.addReference(n.key,e),rO(t,n)):n instanceof D4?(ie(Op,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||F4(t,n.key)):xe(19791,{wu:n})}function rO(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ie(Op,"New document in limbo: "+r),t.Eu.add(n),Rp(t))}function Rp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new ye(rt.fromString(e)),n=t.fu.next();t.Au.set(n,new H8(r)),t.du=t.du.insert(r,n),T4(t.remoteStore,new bi(ln(gp(r.path)),n,"TargetPurposeLimboResolution",Uu.ce))}}async function tl(t,e,r){const n=Ne(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,c)=>{s.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Np.As(c.targetId,u);a.push(h)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(c,u){const d=Ne(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Y.forEach(u,p=>Y.forEach(p.Es,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>Y.forEach(p.ds,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!ws(h))throw h;ie(Ep,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.Ms.get(p),x=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(p,b)}}}(n.localStore,a))}async function nO(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){ie(Op,"User change. New user:",e.toKey());const n=await E4(r.localStore,e);r.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(c=>{c.reject(new fe(J.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await tl(r,n.Ls)}}function iO(t,e){const r=Ne(t),n=r.Au.get(e);if(n&&n.hu)return Ie().add(n.key);{let i=Ie();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function U4(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=j4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z8.bind(null,e),e.Pu.H_=F8.bind(null,e.eventManager),e.Pu.yu=U8.bind(null,e.eventManager),e}function aO(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,e),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return s8(this.persistence,new n8,e.initialUser,this.serializer)}Cu(e){return new N4(_p.mi,this.serializer)}Du(e){return new f8}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class sO extends jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ve(this.persistence.referenceDelegate instanceof Dc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new zk(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new N4(n=>Dc.mi(n,r),this.serializer)}}class $f{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await D8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j8}()}createDatastore(e){const r=Xu(e.databaseInfo.databaseId),n=function(a){return new v8(a)}(e.databaseInfo);return function(a,s,o,c){return new _8(a,s,o,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,o){return new E8(n,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>rb(this.syncEngine,r,0),function(){return Xv.v()?new Xv:new m8}())}createSyncEngine(e,r){return function(i,a,s,o,c,u,d){const h=new q8(i,a,s,o,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ne(i);ie(fa,"RemoteStore shutting down."),a.Ea.add(5),await el(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}$f.provider={build:()=>new $f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="FirestoreClient";class lO{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{ie(ki,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(ie(ki,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Cp(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Rh(t,e){t.asyncQueue.verifyOperationInProgress(),ie(ki,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await E4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ib(t,e){t.asyncQueue.verifyOperationInProgress();const r=await cO(t);ie(ki,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Jv(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Jv(e.remoteStore,i)),t._onlineComponents=e}async function cO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(ki,"Using user provided OfflineComponentProvider");try{await Rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ns("Error using user provided cache. Falling back to memory cache: "+r),await Rh(t,new jc)}}else ie(ki,"Using default OfflineComponentProvider"),await Rh(t,new sO(void 0));return t._offlineComponents}async function z4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(ki,"Using user provided OnlineComponentProvider"),await ib(t,t._uninitializedComponentsProvider._online)):(ie(ki,"Using default OnlineComponentProvider"),await ib(t,new $f))),t._onlineComponents}function uO(t){return z4(t).then(e=>e.syncEngine)}async function dO(t){const e=await z4(t),r=e.eventManager;return r.onListen=K8.bind(null,e.syncEngine),r.onUnlisten=X8.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=G8.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Q8.bind(null,e.syncEngine),r}function hO(t,e,r={}){const n=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,c,u){const d=new oO({next:p=>{d.Nu(),s.enqueueAndForget(()=>$8(a,h));const g=p.docs.has(o);!g&&p.fromCache?u.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new z8(gp(o.path),d,{includeMetadataChanges:!0,qa:!0});return V8(a,h)}(await dO(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="firestore.googleapis.com",sb=!0;class ob{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W4,this.ssl=sb}else this.host=e.host,this.ssl=e.ssl??sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fk)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B4(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mp{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ob({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ob(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fC;switch(n.type){case"firstParty":return new yC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ab.get(r);n&&(ie("ComponentProvider","Removing Datastore"),ab.delete(r),n.terminate())}(this),Promise.resolve()}}function fO(t,e,r,n={}){var u;t=ha(t,Mp);const i=_a(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(Km(`https://${o}`),Gm("Firestore",!0)),a.host!==W4&&a.host!==o&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:o,ssl:i,emulatorOptions:n};if(!sa(c,s)&&(t._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=Gt.MOCK_USER;else{d=$x(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gt(p)}t._authCredentials=new mC(new Mw(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Dp(this.firestore,e,this._query)}}class Et{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Qo(r,Et._jsonSchema))return new Et(e,n||null,new ye(rt.fromString(r.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:mt("string",Et._jsonSchemaVersion),referencePath:mt("string")};class ko extends Dp{constructor(e,r,n){super(e,r,gp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ye(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function Mh(t,e,...r){if(t=yt(t),arguments.length===1&&(e=cp.newId()),NC("doc","path",e),t instanceof Mp){const n=rt.fromString(e,...r);return wv(n),new Et(t,null,new ye(n))}{if(!(t instanceof Et||t instanceof ko))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(rt.fromString(e,...r));return wv(n),new Et(t.firestore,t instanceof ko?t.converter:null,new ye(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="AsyncQueue";class cb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P4(this,"async_queue_retry"),this._c=()=>{const n=Oh();n&&ie(lb,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Oh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Oh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Ni;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ws(e))throw e;ie(lb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,$n("INTERNAL UNHANDLED ERROR: ",ub(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Ip.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:ub(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function ub(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zu extends Mp{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new cb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cb(e),this._firestoreClient=void 0,await e}}}function mO(t,e){const r=typeof t=="object"?t:Qm(),n=typeof t=="string"?t:e||Tc,i=ju(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Lx("firestore");a&&fO(i,...a)}return i}function H4(t){if(t._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pO(t),t._firestoreClient}function pO(t){var n,i,a;const e=t._freezeSettings(),r=function(o,c,u,d){return new DC(o,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,B4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lO(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(Bt.fromBase64String(e))}catch(r){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new kr(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qo(e,kr._jsonSchema))return kr.fromBase64String(e.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:mt("string",kr._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dn._jsonSchemaVersion}}static fromJSON(e){if(Qo(e,dn._jsonSchema))return new dn(e.latitude,e.longitude)}}dn._jsonSchemaVersion="firestore/geoPoint/1.0",dn._jsonSchema={type:mt("string",dn._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qo(e,hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new hn(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hn._jsonSchemaVersion="firestore/vectorValue/1.0",hn._jsonSchema={type:mt("string",hn._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/^__.*__$/;class yO{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,r,this.fieldTransforms):new Jo(e,this.data,r,this.fieldTransforms)}}class q4{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Di(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function K4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class jp{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(K4(this.Ac)&&gO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vO{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Xu(e)}Cc(e,r,n,i=!1){return new jp({Ac:e,methodName:r,Dc:n,path:zt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G4(t){const e=t._freezeSettings(),r=Xu(t._databaseId);return new vO(t._databaseId,!!e.ignoreUndefinedProperties,r)}function bO(t,e,r,n,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);Vp("Data must be an object, but it was:",s,n);const o=Y4(n,s);let c,u;if(a.merge)c=new xr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=Ff(e,h,r);if(!s.contains(p))throw new fe(J.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Q4(d,p)||d.push(p)}c=new xr(d),u=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=s.fieldTransforms;return new yO(new lr(o),c,u)}class td extends Lp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof td}}function xO(t,e,r,n){const i=t.Cc(1,e,r);Vp("Data must be an object, but it was:",i,n);const a=[],s=lr.empty();Mi(n,(c,u)=>{const d=$p(e,c,r);u=yt(u);const h=i.yc(d);if(u instanceof td)a.push(d);else{const p=rd(u,h);p!=null&&(a.push(d),s.set(d,p))}});const o=new xr(a);return new q4(s,o,i.fieldTransforms)}function wO(t,e,r,n,i,a){const s=t.Cc(1,e,r),o=[Ff(e,n,r)],c=[i];if(a.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(Ff(e,a[p])),c.push(a[p+1]);const u=[],d=lr.empty();for(let p=o.length-1;p>=0;--p)if(!Q4(u,o[p])){const g=o[p];let x=c[p];x=yt(x);const b=s.yc(g);if(x instanceof td)u.push(g);else{const y=rd(x,b);y!=null&&(u.push(g),d.set(g,y))}}const h=new xr(u);return new q4(d,h,s.fieldTransforms)}function rd(t,e){if(X4(t=yt(t)))return Vp("Unsupported field value:",e,t),Y4(t,e);if(t instanceof Lp)return function(n,i){if(!K4(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let c=rd(o,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ik(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Qe.fromDate(n);return{timestampValue:Mc(i.serializer,a)}}if(n instanceof Qe){const a=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mc(i.serializer,a)}}if(n instanceof dn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof kr)return{bytesValue:p4(i.serializer,n._byteString)};if(n instanceof Et){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xp(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof hn)return function(s,o){return{mapValue:{fields:{[Bw]:{stringValue:Hw},[Ic]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return yp(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${up(n)}`)}(t,e)}function Y4(t,e){const r={};return jw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(t,(n,i)=>{const a=rd(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function X4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof dn||t instanceof kr||t instanceof Et||t instanceof Lp||t instanceof hn)}function Vp(t,e,r){if(!X4(r)||!Dw(r)){const n=up(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Ff(t,e,r){if((e=yt(e))instanceof ed)return e._internalPath;if(typeof e=="string")return $p(t,e);throw Vc("Field path arguments must be of type string or ",t,!1,void 0,r)}const _O=new RegExp("[~\\*/\\[\\]]");function $p(t,e,r){if(e.search(_O)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ed(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Vc(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new fe(J.INVALID_ARGUMENT,o+t+c)}function Q4(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Z4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class NO extends J4{data(){return super.data()}}function Z4(t,e){return typeof e=="string"?$p(t,e):e instanceof ed?e._internalPath:e._delegate._internalPath}class EO{convertValue(e,r="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Mi(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Ic].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>lt(s.doubleValue));return new hn(r)}convertGeoPoint(e){return new dn(lt(e.latitude),lt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Bu(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const r=Si(e);return new Qe(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=rt.fromString(e);Ve(w4(n),9688,{name:e});const i=new So(n.get(1),n.get(3)),a=new ye(n.popFirst(5));return i.isEqual(r)||$n(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class uo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends J4{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Z4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ta._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:mt("string",ta._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class hc extends ta{data(e={}){return super.data(e)}}class xo{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new hc(this._firestore,this._userDataWriter,n.key,n,new uo(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const c=new hc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new uo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const c=new hc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new uo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:PO(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){t=ha(t,Et);const e=ha(t.firestore,Zu);return hO(H4(e),t._key).then(r=>kO(e,t,r))}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:mt("string",xo._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class TO extends EO{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,r)}}function IO(t,e,r){t=ha(t,Et);const n=ha(t.firestore,Zu),i=AO(t.converter,e,r);return e_(n,[bO(G4(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,cn.none())])}function CO(t,e,r,...n){t=ha(t,Et);const i=ha(t.firestore,Zu),a=G4(i);let s;return s=typeof(e=yt(e))=="string"||e instanceof ed?wO(a,"updateDoc",t._key,e,r,n):xO(a,"updateDoc",t._key,e),e_(i,[s.toMutation(t._key,cn.exists(!0))])}function e_(t,e){return function(n,i){const a=new Ni;return n.asyncQueue.enqueueAndForget(async()=>J8(await uO(n),i,a)),a.promise}(H4(t),e)}function kO(t,e,r){const n=r.docs.get(e._key),i=new TO(t);return new ta(t,i,e._key,n,new uo(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){bs=i})(Na),oa(new Ai("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new Zu(new pC(n.getProvider("auth-internal")),new vC(s,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(u.options.projectId,d)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),sn(yv,vv,e),sn(yv,vv,"esm2020")})();var OO="firebase",RO="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(OO,RO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="firebasestorage.googleapis.com",MO="storageBucket",DO=2*60*1e3,LO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends xn{constructor(e,r,n=0){super(Dh(e),`Firebase Storage: ${r} (${Dh(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function Dh(t){return"storage/"+t}function jO(){const t="An unknown error occurred, please check the error payload for server response.";return new wn(gn.UNKNOWN,t)}function VO(){return new wn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $O(){return new wn(gn.CANCELED,"User canceled the upload/download.")}function FO(t){return new wn(gn.INVALID_URL,"Invalid URL '"+t+"'.")}function UO(t){return new wn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function db(t){return new wn(gn.INVALID_ARGUMENT,t)}function r_(){return new wn(gn.APP_DELETED,"The Firebase app was deleted.")}function zO(t){return new wn(gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Br.makeFromUrl(e,r)}catch{return new Br(e,"")}if(n.path==="")return n;throw UO(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},b=r===t_?"(?:storage.googleapis.com|storage.cloud.google.com)":r,y="([^?#]*)",N=new RegExp(`^https?://${b}/${i}/${y}`,"i"),P=[{regex:o,indices:c,postModify:a},{regex:g,indices:x,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<P.length;L++){const k=P[L],D=k.regex.exec(e);if(D){const S=D[k.indices.bucket];let I=D[k.indices.path];I||(I=""),n=new Br(S,I),k.postModify(n);break}}if(n==null)throw FO(e);return n}}class BO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t,e,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(g,c())},y)}function p(){a&&clearTimeout(a)}function g(y,...N){if(u){p();return}if(y){p(),d.call(null,y,...N);return}if(c()||s){p(),d.call(null,y,...N);return}n<64&&(n*=2);let P;o===1?(o=2,P=0):P=(n+Math.random())*1e3,h(P)}let x=!1;function b(y){x||(x=!0,p(),!u&&(i!==null?(y||(o=2),clearTimeout(i),h(0)):y||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,b(!0)},r),b}function HO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){return t!==void 0}function hb(t,e,r,n){if(n<e)throw db(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw db(`Invalid value for '${t}'. Expected ${r} or less.`)}function KO(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var $c;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($c||($c={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,r,n,i,a,s,o,c,u,d,h,p=!0,g=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Fl(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===$c.NO_ERROR,c=a.getStatus();if(!o||GO(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===$c.ABORT;n(!1,new Fl(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new Fl(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());qO(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=jO();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?r_():$O();s(c)}else{const c=VO();s(c)}};this.canceled_?r(!1,new Fl(!1,null,!0)):this.backoffId_=WO(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fl{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function XO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e9(t,e,r,n,i,a,s=!0,o=!1){const c=KO(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return JO(d,e),XO(d,r),QO(d,a),ZO(d,n),new YO(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function r9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r){this._service=e,r instanceof Br?this._location=r:this._location=Br.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Fc(e,r)}get root(){const e=new Br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return r9(this._location.path)}get storage(){return this._service}get parent(){const e=t9(this._location.path);if(e===null)return null;const r=new Br(this._location.bucket,e);return new Fc(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw zO(e)}}function fb(t,e){const r=e==null?void 0:e[MO];return r==null?null:Br.makeFromBucketSpec(r,t)}function n9(t,e,r,n={}){t.host=`${e}:${r}`;const i=_a(e);i&&(Km(`https://${t.host}/b`),Gm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:$x(a,t.app.options.projectId))}class i9{constructor(e,r,n,i,a,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=t_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DO,this._maxUploadRetryTime=LO,this._requests=new Set,i!=null?this._bucket=Br.makeFromBucketSpec(i,this._host):this._bucket=fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Br.makeFromBucketSpec(this._url,e):this._bucket=fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fc(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new BO(r_());{const s=e9(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const mb="@firebase/storage",pb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="storage";function a9(t=Qm(),e){t=yt(t);const n=ju(t,n_).getImmediate({identifier:e}),i=Lx("storage");return i&&s9(n,...i),n}function s9(t,e,r,n={}){n9(t,e,r,n)}function o9(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new i9(r,n,i,e,Na)}function l9(){oa(new Ai(n_,o9,"PUBLIC").setMultipleInstances(!0)),sn(mb,pb,""),sn(mb,pb,"esm2020")}l9();const c9={apiKey:"AIzaSyCzV_dpqYNcTGyrhiiCy3ptkGpY9lspiJU",authDomain:"octopusrealestate-e6ce4.firebaseapp.com",projectId:"octopusrealestate-e6ce4",storageBucket:"octopusrealestate-e6ce4.firebasestorage.app",messagingSenderId:"702799852036",appId:"1:702799852036:web:63b081b81100ee03dcbb51"},Fp=zx(c9),nr=Pw(Fp),Lh=mO(Fp);a9(Fp);class u9{constructor(){this.googleProvider=new Sn,this.facebookProvider=new Pn,this.googleProvider.setCustomParameters({prompt:"select_account"})}async registerWithEmail(e){try{const{email:r,password:n,firstName:i,lastName:a,phone:s}=e,c=(await KT(nr,r,n)).user;return await YT(c),await this.createUserProfile(c.uid,{email:r,firstName:i,lastName:a,phone:s,role:"user",emailVerified:!1,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()}),await av(c,{displayName:`${i} ${a}`}),{success:!0,user:{uid:c.uid,email:c.email,displayName:`${i} ${a}`,emailVerified:c.emailVerified,role:"user"},needsVerification:!0}}catch(r){return this.handleAuthError(r)}}async loginWithEmail(e,r){try{const i=(await GT(nr,e,r)).user;return await this.updateUserProfile(i.uid,{lastLoginAt:new Date().toISOString()}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async signInWithGoogle(){var e,r;try{const i=(await lv(nr,this.googleProvider)).user;return await this.getUserProfile(i.uid)?await this.updateUserProfile(i.uid,{lastLoginAt:new Date().toISOString()}):await this.createUserProfile(i.uid,{email:i.email,firstName:((e=i.displayName)==null?void 0:e.split(" ")[0])||"",lastName:((r=i.displayName)==null?void 0:r.split(" ")[1])||"",role:"user",emailVerified:i.emailVerified,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),photoURL:i.photoURL}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async signInWithFacebook(){var e,r;try{const i=(await lv(nr,this.facebookProvider)).user;return await this.getUserProfile(i.uid)||await this.createUserProfile(i.uid,{email:i.email,firstName:((e=i.displayName)==null?void 0:e.split(" ")[0])||"",lastName:((r=i.displayName)==null?void 0:r.split(" ")[1])||"",role:"user",emailVerified:i.emailVerified,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),photoURL:i.photoURL}),{success:!0,user:await this.getUserProfile(i.uid)}}catch(n){return this.handleAuthError(n)}}async logout(){try{return await rI(nr),{success:!0}}catch(e){return this.handleAuthError(e)}}async resetPassword(e){try{return await qT(nr,e),{success:!0}}catch(r){return this.handleAuthError(r)}}async updatePassword(e){try{const r=nr.currentUser;if(!r)throw new Error("No authenticated user");return await QT(r,e),{success:!0}}catch(r){return this.handleAuthError(r)}}async updateUserProfile(e){try{const r=nr.currentUser;if(!r)throw new Error("No authenticated user");return(e.displayName||e.photoURL)&&await av(r,{displayName:e.displayName,photoURL:e.photoURL}),await this.updateUserProfile(r.uid,e),{success:!0,user:await this.getUserProfile(r.uid)}}catch(r){return this.handleAuthError(r)}}onAuthStateChange(e){return tI(nr,async r=>{if(r){const n=await this.getUserProfile(r.uid);e({user:n,isAuthenticated:!0})}else e({user:null,isAuthenticated:!1})})}getCurrentUser(){return nr.currentUser}isAuthenticated(){return!!nr.currentUser}async hasRole(e){const r=nr.currentUser;if(!r)return!1;const n=await this.getUserProfile(r.uid);return(n==null?void 0:n.role)===e}async isAdmin(){return this.hasRole("admin")}async createUserProfile(e,r){try{await IO(Mh(Lh,"users",e),r)}catch(n){throw console.error("Error creating user profile:",n),n}}async getUserProfile(e){try{const r=Mh(Lh,"users",e),n=await SO(r);return n.exists()?{uid:e,...n.data()}:null}catch(r){return console.error("Error getting user profile:",r),null}}async updateUserProfile(e,r){try{await CO(Mh(Lh,"users",e),r)}catch(n){throw console.error("Error updating user profile:",n),n}}handleAuthError(e){return console.error("Auth error:",e),{success:!1,error:{"auth/invalid-email":"Invalid email address","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password should be at least 6 characters","auth/network-request-failed":"Network error. Please check your connection","auth/too-many-requests":"Too many attempts. Please try again later"}[e.code]||e.message}}}const pr=new u9,Bi={HOUSE:"house",APARTMENT:"apartment",CONDO:"condo",VILLA:"villa",COMMERCIAL:"commercial",LAND:"land",OTHER:"other"},Ys={FOR_SALE:"forSale",FOR_RENT:"forRent",SOLD:"sold",RENTED:"rented",PENDING:"pending"},gb={DEFAULT:"USD",SYMBOL:"$",LOCALE:"en-US"},Ul={NETWORK_ERROR:"Network error. Please check your connection and try again.",SERVER_ERROR:"Server error. Please try again later.",UNAUTHORIZED:"Please log in to continue.",FORBIDDEN:"You do not have permission to perform this action.",NOT_FOUND:"The requested resource was not found.",VALIDATION_ERROR:"Please check your input and try again.",UPLOAD_ERROR:"Failed to upload file. Please try again.",DEFAULT:"An unexpected error occurred. Please try again."},jh={PROPERTY_CREATED:"Property listed successfully!",PROPERTY_UPDATED:"Property updated successfully!",PROPERTY_DELETED:"Property deleted successfully!",CONTACT_SENT:"Your message has been sent successfully!",APPOINTMENT_SCHEDULED:"Appointment scheduled successfully!",NEWSLETTER_SUBSCRIBED:"Successfully subscribed to newsletter!",PROFILE_UPDATED:"Profile updated successfully!",PASSWORD_CHANGED:"Password changed successfully!"},Cr={get:(t,e=null)=>{try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error("Error reading from localStorage:",r),e}},set:(t,e)=>{try{return localStorage.setItem(t,JSON.stringify(e)),!0}catch(r){return console.error("Error writing to localStorage:",r),!1}},remove:t=>{try{return localStorage.removeItem(t),!0}catch(e){return console.error("Error removing from localStorage:",e),!1}},clear:()=>{try{return localStorage.clear(),!0}catch(t){return console.error("Error clearing localStorage:",t),!1}}},d9=t=>typeof t=="string"?t:t!=null&&t.message?t.message:t!=null&&t.code?{"auth/invalid-email":"Please enter a valid email address","auth/user-disabled":"This account has been disabled","auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password should be at least 6 characters","auth/network-request-failed":"Network error. Please check your connection","auth/too-many-requests":"Too many attempts. Please try again later","auth/requires-recent-login":"Please log in again to perform this action","auth/provider-already-linked":"This account is already linked with another provider","auth/invalid-credential":"Invalid login credentials","auth/account-exists-with-different-credential":"An account already exists with the same email"}[t.code]||t.message:"An unexpected error occurred",Nn=(t,e="An unexpected error occurred")=>{var n,i;console.error("Application error:",t);const r=d9(t);return r!=="An unexpected error occurred"?r:(i=(n=t==null?void 0:t.response)==null?void 0:n.data)!=null&&i.message?t.response.data.message:t!=null&&t.message?t.message:e},sr={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",SET_USER:"SET_USER",CLEAR_USER:"CLEAR_USER",SET_INITIALIZED:"SET_INITIALIZED",UPDATE_PROFILE:"UPDATE_PROFILE"},h9={user:null,isAuthenticated:!1,isAdmin:!1,loading:!1,error:null,initialized:!1},fi=t=>{if(!t)return!1;const e=["admin@estatepro.com","admin@example.com","zephdmc@gmail.com"].map(i=>i.toLowerCase()),r=[/@estatepro\.com$/,/^admin\./,/\.admin@/],n=t.toLowerCase();return e.includes(n)||r.some(i=>i.test(n))},f9=(t,e)=>{switch(e.type){case sr.SET_LOADING:return{...t,loading:e.payload};case sr.SET_ERROR:return{...t,error:e.payload,loading:!1};case sr.CLEAR_ERROR:return{...t,error:null};case sr.SET_USER:const r=e.payload,n=r?fi(r.email):!1;return console.log(" Auth Reducer - User logged in:",r==null?void 0:r.email),console.log(" Auth Reducer - Is admin?:",n),{...t,user:r,isAuthenticated:!!r,isAdmin:n,loading:!1,error:null};case sr.CLEAR_USER:return{...t,user:null,isAuthenticated:!1,isAdmin:!1,loading:!1,error:null};case sr.SET_INITIALIZED:return{...t,initialized:e.payload};case sr.UPDATE_PROFILE:const i={...t.user,...e.payload};return{...t,user:i,isAdmin:fi(i.email)};default:return t}},i_=v.createContext(),m9=({children:t})=>{var d,h,p,g,x,b,y,N;const[e,r]=v.useReducer(f9,h9),n={setLoading:_=>r({type:sr.SET_LOADING,payload:_}),setError:_=>r({type:sr.SET_ERROR,payload:Nn(_)}),clearError:()=>r({type:sr.CLEAR_ERROR}),setUser:_=>r({type:sr.SET_USER,payload:_}),clearUser:()=>r({type:sr.CLEAR_USER}),setInitialized:_=>r({type:sr.SET_INITIALIZED,payload:_}),updateProfile:_=>r({type:sr.UPDATE_PROFILE,payload:_}),checkAdminStatus:()=>{var _;return fi((_=e.user)==null?void 0:_.email)}},i={loginWithEmail:async(_,P)=>{try{n.setLoading(!0),n.clearError();const L=await pr.loginWithEmail(_,P);return L.success?(n.setUser(L.user),{success:!0,user:L.user,isAdmin:fi(L.user.email)}):(n.setError(L.error),{success:!1,error:L.error})}catch(L){return n.setError(L),{success:!1,error:Nn(L)}}finally{n.setLoading(!1)}},registerWithEmail:async _=>{try{n.setLoading(!0),n.clearError();const P=await pr.registerWithEmail(_);return P.success?(n.setUser(P.user),{success:!0,user:P.user,needsVerification:P.needsVerification,isAdmin:fi(P.user.email)}):(n.setError(P.error),{success:!1,error:P.error})}catch(P){return n.setError(P),{success:!1,error:Nn(P)}}finally{n.setLoading(!1)}},signInWithGoogle:async()=>{try{n.setLoading(!0),n.clearError();const _=await pr.signInWithGoogle();return _.success?(n.setUser(_.user),{success:!0,user:_.user,isAdmin:fi(_.user.email)}):(n.setError(_.error),{success:!1,error:_.error})}catch(_){return n.setError(_),{success:!1,error:Nn(_)}}finally{n.setLoading(!1)}},signInWithFacebook:async()=>{try{n.setLoading(!0),n.clearError();const _=await pr.signInWithFacebook();return _.success?(n.setUser(_.user),{success:!0,user:_.user,isAdmin:fi(_.user.email)}):(n.setError(_.error),{success:!1,error:_.error})}catch(_){return n.setError(_),{success:!1,error:Nn(_)}}finally{n.setLoading(!1)}},logout:async()=>{try{return n.setLoading(!0),await pr.logout(),n.clearUser(),{success:!0}}catch(_){return console.error("Logout error:",_),n.clearUser(),{success:!0}}finally{n.setLoading(!1)}},updateUserProfile:async _=>{try{n.setLoading(!0),n.clearError();const P=await pr.updateUserProfile(_);return P.success?(n.updateProfile(_),{success:!0,user:P.user,isAdmin:fi(P.user.email)}):(n.setError(P.error),{success:!1,error:P.error})}catch(P){return n.setError(P),{success:!1,error:Nn(P)}}finally{n.setLoading(!1)}},changePassword:async _=>{try{n.setLoading(!0),n.clearError();const P=await pr.updatePassword(_);return P.success?{success:!0}:(n.setError(P.error),{success:!1,error:P.error})}catch(P){return n.setError(P),{success:!1,error:Nn(P)}}finally{n.setLoading(!1)}},requestPasswordReset:async _=>{try{n.setLoading(!0),n.clearError();const P=await pr.resetPassword(_);return P.success?{success:!0}:(n.setError(P.error),{success:!1,error:P.error})}catch(P){return n.setError(P),{success:!1,error:Nn(P)}}finally{n.setLoading(!1)}},resendEmailVerification:async()=>{try{const _=pr.getCurrentUser();return _&&!_.emailVerified?(await pr.sendEmailVerification(_),{success:!0}):{success:!1,error:"User not found or already verified"}}catch(_){return{success:!1,error:Nn(_)}}},checkEmailVerified:async()=>{var _;try{await((_=pr.getCurrentUser())==null?void 0:_.reload());const P=pr.getCurrentUser();return P!=null&&P.emailVerified?(n.updateProfile({emailVerified:!0}),!0):!1}catch(P){return console.error("Error checking email verification:",P),!1}}},a=_=>{var P;return((P=e.user)==null?void 0:P.role)===_},s=()=>e.isAdmin||a("admin")||a("super_admin"),o=()=>s()||a("agent")||a("broker"),c=()=>s();v.useEffect(()=>(console.log(" AuthProvider: Setting up Firebase auth listener"),pr.onAuthStateChange(({user:P,isAuthenticated:L})=>{console.log(" Firebase auth state changed:",P?P.email:"No user"),P?n.setUser(P):n.clearUser(),n.setInitialized(!0)})),[]);const u={...e,...n,...i,hasRole:a,isAdmin:s,canManageProperties:o,canManageUsers:c,userId:(d=e.user)==null?void 0:d.uid,userEmail:(h=e.user)==null?void 0:h.email,userName:((p=e.user)==null?void 0:p.displayName)||((x=(g=e.user)==null?void 0:g.email)==null?void 0:x.split("@")[0])||"User",userAvatar:(b=e.user)==null?void 0:b.photoURL,userRole:(y=e.user)==null?void 0:y.role,isEmailVerified:(N=e.user)==null?void 0:N.emailVerified,currentUser:e.user,getIdToken:async()=>e.user?e.user.getIdToken():null};return console.log(" AuthProvider rendered:",{user:e.user?e.user.email:"No user",isAuthenticated:e.isAuthenticated,isAdmin:e.isAdmin,initialized:e.initialized}),l(i_.Provider,{value:u,children:t})},Pa=()=>{const t=v.useContext(i_);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},p9=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),i=Wo(),{isAuthenticated:a,isAdmin:s}=Pa(),o=[{name:"Home",href:"/",current:i.pathname==="/"},{name:"Properties",href:"/properties",current:i.pathname==="/properties"},{name:"Services",href:"/services",current:i.pathname==="/services"},{name:"About",href:"/about",current:i.pathname==="/about"},{name:"Blog",href:"/blog",current:i.pathname==="/blog"},{name:"Contact",href:"/contact",current:i.pathname==="/contact"}],c=[{type:"phone",value:"+234 913 2080 059",href:"tel:+2349132080059",icon:l(rs,{className:"w-3 h-3"})},{type:"email",value:"info@Octopusrealestate.com",href:"mailto:info@Octopusrealestate.com",icon:l(Wm,{className:"w-3 h-3"})},{type:"website",value:"www.Octopusrealestate.com",href:"https://www.Octopusrealestate.com",icon:l(KP,{className:"w-3 h-3"})}],u=()=>{e(!t)};return v.useEffect(()=>{const d=()=>{window.scrollY>100?n(!0):n(!1)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),m("nav",{className:"bg-white sticky top-0 z-40 shadow-sm border-b border-red-200",children:[m("div",{className:"container mx-auto px-4",children:[m("div",{className:"flex justify-between items-center py-3",children:[m("div",{className:"hidden md:flex space-x-8",children:[o.map(d=>l(we,{to:d.href,className:`px-3 py-2 text-sm font-medium transition-all duration-200 ${d.current?"text-blue-600 border-b-2 border-red-600 font-semibold":"text-gray-700 hover:text-blue-600 hover:border-b-2 hover:border-red-300"}`,onClick:()=>e(!1),children:d.name},d.name)),a&&s()&&m(we,{to:"/admin/dashboard",className:`px-3 py-2 text-sm font-medium transition-all duration-200 flex items-center space-x-1 ${i.pathname.startsWith("/admin")?"text-purple-600 border-b-2 border-purple-600 font-semibold":"text-purple-700 hover:text-purple-600 hover:border-b-2 hover:border-purple-300"}`,onClick:()=>e(!1),children:[l(wh,{className:"w-4 h-4"}),l("span",{children:"Dashboard"})]})]}),m("div",{className:"md:hidden flex items-center justify-between w-full",children:[l("div",{className:"flex-1 overflow-hidden relative",children:m("div",{className:"flex animate-[marquee_25s_linear_infinite] whitespace-nowrap hover:animate-pause",children:[c.map((d,h)=>m("a",{href:d.href,className:"inline-flex items-center space-x-2 mx-4 text-gray-600 hover:text-blue-600 transition duration-200 flex-shrink-0 group",children:[l("div",{className:"bg-blue-100 p-1 rounded group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:d.icon})}),l("span",{className:"text-xs font-medium",children:d.value})]},d.type)),c.map((d,h)=>m("a",{href:d.href,className:"inline-flex items-center space-x-2 mx-4 text-gray-600 hover:text-blue-600 transition duration-200 flex-shrink-0 group",children:[l("div",{className:"bg-blue-100 p-1 rounded group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:d.icon})}),l("span",{className:"text-xs font-medium",children:d.value})]},`${d.type}-dup`))]})}),l("button",{onClick:u,className:"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600 transition duration-200 flex-shrink-0 ml-4",children:t?l(kx,{className:"h-6 w-6"}):l(DP,{className:"h-6 w-6"})})]}),m("div",{className:"hidden md:flex items-center space-x-4",children:[a&&s()&&m(we,{to:"/admin/dashboard",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center space-x-2",children:[l(wh,{className:"w-4 h-4"}),l("span",{children:"Dashboard"})]}),m(we,{to:"/list-property",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center space-x-2",children:[l(jy,{className:"w-4 h-4"}),l("span",{children:"List Your Property"})]})]})]}),t&&l("div",{className:"md:hidden py-4 border-t border-gray-200 bg-white",children:m("div",{className:"flex flex-col space-y-3",children:[o.map(d=>l(we,{to:d.href,className:`px-4 py-3 text-base font-medium transition-all duration-200 rounded-lg ${d.current?"text-blue-600 bg-blue-50 border-l-4 border-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-blue-50 hover:border-l-4 hover:border-blue-300"}`,onClick:()=>e(!1),children:d.name},d.name)),a&&s()&&m(we,{to:"/admin/dashboard",className:`px-4 py-3 text-base font-medium transition-all duration-200 rounded-lg flex items-center space-x-2 ${i.pathname.startsWith("/admin")?"text-purple-600 bg-purple-50 border-l-4 border-purple-600":"text-purple-700 hover:text-purple-600 hover:bg-purple-50 hover:border-l-4 hover:border-purple-300"}`,onClick:()=>e(!1),children:[l(wh,{className:"w-4 h-4"}),l("span",{children:"Admin Dashboard"})]}),l("div",{className:"pt-4 border-t border-gray-200",children:l("div",{className:"space-y-3",children:c.map(d=>m("a",{href:d.href,className:"flex items-center space-x-3 px-4 py-2 text-gray-700 hover:text-blue-600 transition duration-200 group",onClick:()=>e(!1),children:[l("div",{className:"bg-blue-100 p-2 rounded-lg group-hover:bg-blue-200 transition duration-200",children:l("div",{className:"text-blue-600",children:d.icon})}),l("span",{className:"text-sm font-medium",children:d.value})]},d.type))})}),m(we,{to:"/contact",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium text-center mt-4 flex items-center justify-center space-x-2 shadow-lg",onClick:()=>e(!1),children:[l(jy,{className:"w-5 h-5"}),l("span",{children:"List Your Property"})]})]})})]}),l("style",{jsx:!0,children:`
        @keyframes marquee {
          0% {
            transform: translateX(0%);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        .hover\\:animate-pause:hover {
          animation-play-state: paused;
        }
      `})]})},tn=uf.create({baseURL:"https://realestateoctopus.onrender.com/api",timeout:3e4,headers:{"Content-Type":"application/json"}});tn.interceptors.request.use(async t=>{var e;try{const n=Pw().currentUser;if(n){const i=await n.getIdToken();t.headers.Authorization=`Bearer ${i}`,console.log(" Added Firebase token to request")}else console.warn(" No Firebase user found for request")}catch(r){console.warn(" Failed to get auth token:",r)}return t.method==="get"&&t.params&&(t.params._t=Date.now()),console.log(` ${(e=t.method)==null?void 0:e.toUpperCase()} ${t.url}`,{data:t.data,params:t.params,headers:t.headers}),t},t=>(console.error(" Request interceptor error:",t),Promise.reject(t)));tn.interceptors.response.use(t=>{var e;return console.log(` ${(e=t.config.method)==null?void 0:e.toUpperCase()} ${t.config.url} SUCCESS:`,t.data),t},t=>{var n,i,a,s,o,c,u,d,h,p,g;const{response:e,config:r}=t;if(console.error(` ${(n=r==null?void 0:r.method)==null?void 0:n.toUpperCase()} ${r==null?void 0:r.url} FAILED:`,{status:e==null?void 0:e.status,message:t.message,data:e==null?void 0:e.data,url:r==null?void 0:r.url}),e)switch(e.status){case 400:console.error(" 400 Validation Errors:",e.data),(i=e.data)!=null&&i.errors&&console.error(" Field-specific errors:",e.data.errors);break;case 401:console.warn(" Unauthorized access - please login again");const x=window.location.pathname;x.includes("/admin")?console.log(" On admin page, not redirecting to login"):window.location.href="/login?redirect="+encodeURIComponent(x);break;case 403:console.error(" Access forbidden:",(a=e.data)==null?void 0:a.message);break;case 404:console.error(" Resource not found:",r==null?void 0:r.url);break;case 409:console.error(" Conflict:",(s=e.data)==null?void 0:s.message);break;case 422:console.error(" Validation failed:",(o=e.data)==null?void 0:o.errors);break;case 429:console.error(" Rate limit exceeded:",(c=e.data)==null?void 0:c.message);break;case 500:console.error(" Server error:",(u=e.data)==null?void 0:u.message);break;case 502:console.error(" Bad Gateway - Server may be down");break;case 503:console.error(" Service Unavailable - Server maintenance");break;default:console.error(" API error:",(d=e.data)==null?void 0:d.message)}else console.error(" Network error:",t.message);return Promise.reject({message:((h=e==null?void 0:e.data)==null?void 0:h.message)||t.message,status:e==null?void 0:e.status,code:(p=e==null?void 0:e.data)==null?void 0:p.code,errors:(g=e==null?void 0:e.data)==null?void 0:g.errors,data:e==null?void 0:e.data,url:r==null?void 0:r.url,method:r==null?void 0:r.method,timestamp:new Date().toISOString()})});const Oe={get:(t,e={},r={})=>tn.get(t,{params:e,...r}),post:(t,e={},r={})=>tn.post(t,e,r),put:(t,e={},r={})=>tn.put(t,e,r),patch:(t,e={},r={})=>tn.patch(t,e,r),delete:(t,e={})=>tn.delete(t,e),upload:(t,e,r=null,n={})=>{var a,s,o,c;const i={...n,headers:{"Content-Type":"multipart/form-data",...n.headers},onUploadProgress:u=>{if(r&&u.total){const d=Math.round(u.loaded*100/u.total);console.log(` Upload progress: ${d}%`),r(d)}},timeout:6e4};return console.log(` UPLOAD ${t}`,{fileCount:((a=e.getAll("files"))==null?void 0:a.length)||((s=e.getAll("file"))==null?void 0:s.length)||0,fileNames:((o=e.getAll("files"))==null?void 0:o.map(u=>u.name))||((c=e.getAll("file"))==null?void 0:c.map(u=>u.name))||[]}),tn.post(t,e,i)},uploadSingle:(t,e="property",r=null)=>{const n=new FormData;return n.append("file",t),n.append("category",e),Oe.upload("/upload",n,r)},uploadMultiple:(t,e="property",r=null)=>{const n=new FormData;return t.forEach(i=>{n.append("files",i)}),n.append("category",e),Oe.upload("/upload/multiple",n,r)},createCancelToken:()=>uf.CancelToken.source(),isCancel:t=>uf.isCancel(t),testConnection:()=>tn.get("/health"),getCurrentUser:()=>tn.get("/auth/me")},An={uploadFile:(t,e="property",r="",n=[])=>{const i=new FormData;return i.append("file",t),i.append("category",e),r&&i.append("description",r),n.length>0&&i.append("tags",n.join(",")),console.log(` Uploading single file: ${t.name}`,{category:e,description:r}),Oe.upload("/upload",i)},uploadMultipleFiles:(t,e="property",r="",n=[],i=null)=>{const a=new FormData;return t.forEach(s=>{a.append("files",s)}),a.append("category",e),r&&a.append("description",r),n.length>0&&a.append("tags",n.join(",")),console.log(` Uploading ${t.length} files`,{category:e,fileNames:t.map(s=>s.name)}),Oe.upload("/upload/multiple",a,i)},getUploads:(t={})=>{const{page:e=1,limit:r=20,category:n,search:i}=t;return console.log(" Fetching uploads with params:",t),Oe.get("/upload",{params:{page:e,limit:r,category:n,search:i}})},getUpload:t=>(console.log(` Fetching upload: ${t}`),Oe.get(`/upload/${t}`)),updateUpload:(t,e)=>(console.log(` Updating upload ${t}:`,e),Oe.put(`/upload/${t}`,e)),deleteUpload:t=>(console.log(` Deleting upload: ${t}`),Oe.delete(`/upload/${t}`)),uploadWithProgress:(t,e="property",r)=>An.uploadMultipleFiles(t,e,"",[],r)},ht={getProperties:(t={})=>{const{page:e=1,limit:r=12,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,featured:d,search:h,location:p,sortBy:g="createdAt",sortOrder:x="desc"}=t;return console.log(" Fetching properties with filters:",t),Oe.get("/properties",{params:{page:e,limit:r,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,featured:d,search:h,location:p,sortBy:g,sortOrder:x}})},quickSearch:(t,e={})=>{const{page:r=1,limit:n=12}=e;return console.log(" Quick search:",{searchTerm:t,...e}),Oe.get("/properties/search",{params:{q:t,page:r,limit:n}})},advancedSearch:(t={})=>{const{page:e=1,limit:r=12,search:n,type:i,status:a,minPrice:s,maxPrice:o,priceRange:c,bedrooms:u,bathrooms:d,minArea:h,maxArea:p,location:g,city:x,state:b,country:y,zipCode:N,amenities:_,yearBuilt:P,minYearBuilt:L,maxYearBuilt:k,floors:D,parking:S,sortBy:I="createdAt",sortOrder:E="desc"}=t;console.log(" Advanced search:",t);const C=Object.fromEntries(Object.entries({page:e,limit:r,search:n,type:i,status:a,minPrice:s,maxPrice:o,priceRange:c,bedrooms:u,bathrooms:d,minArea:h,maxArea:p,location:g,city:x,state:b,country:y,zipCode:N,amenities:_,yearBuilt:P,minYearBuilt:L,maxYearBuilt:k,floors:D,parking:S,sortBy:I,sortOrder:E}).filter(([O,T])=>T!=null&&T!==""));return Oe.get("/properties/search/advanced",{params:C})},filterProperties:(t={})=>{const{page:e=1,limit:r=12,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,state:d,country:h,amenities:p,featured:g,sortBy:x="createdAt",sortOrder:b="desc"}=t;console.log(" Filter properties:",t);const N=Object.fromEntries(Object.entries({page:e,limit:r,type:n,status:i,minPrice:a,maxPrice:s,bedrooms:o,bathrooms:c,city:u,state:d,country:h,amenities:p,featured:g,sortBy:x,sortOrder:b}).filter(([_,P])=>P!=null&&P!==""));return Oe.get("/properties/filter",{params:N})},searchProperties:(t={},e="auto")=>{switch(console.log(` Search properties with mode: ${e}`,t),e){case"quick":return ht.quickSearch(t.search||t.q,t);case"advanced":return ht.advancedSearch(t);case"filter":return ht.filterProperties(t);case"auto":default:return t.search||t.location||t.q?ht.advancedSearch(t):ht.filterProperties(t)}},getProperty:t=>(console.log(` Fetching property: ${t}`),Oe.get(`/properties/${t}`)),getFeaturedProperties:(t=6)=>Oe.get("/properties/featured",{params:{limit:t}}),getPropertiesByAgent:t=>Oe.get(`/properties/agent/${t}`),getMyProperties:()=>(console.log(" Fetching my properties"),Oe.get("/properties/my/properties")),createProperty:t=>(console.log(" Creating property with data:",JSON.stringify(t,null,2)),Oe.post("/properties",t)),updateProperty:(t,e)=>(console.log(` Updating property ${t}:`,e),Oe.put(`/properties/${t}`,e)),deleteProperty:t=>(console.log(` Deleting property: ${t}`),Oe.delete(`/properties/${t}`)),uploadImages:(t,e=null)=>(console.log(` Uploading ${t.length} property images...`),An.uploadMultipleFiles(t,"property","",[],e)),updatePropertyImages:(t,e,r)=>(console.log(` Updating property ${t} images:`,{imageIds:e,featuredImageId:r}),Oe.put(`/properties/${t}/images`,{imageIds:e,featuredImageId:r})),testCreateProperty:async t=>{console.log(" Testing property creation with:",t);try{const e=await Oe.post("/properties",t);return console.log(" Test successful:",e),e}catch(e){throw console.error(" Test failed:",e),e}},getPropertySchema:()=>Oe.get("/properties/schema")},Vh={getPosts:(t={})=>{const{page:e=1,limit:r=9,category:n,status:i="published",search:a,tag:s}=t;return Oe.get("/blog",{params:{page:e,limit:r,category:n,status:i,search:a,tag:s}})},getPost:t=>Oe.get(`/blog/${t}`),getRelatedPosts:t=>Oe.get(`/blog/${t}/related`),createPost:t=>Oe.post("/blog",t),updatePost:(t,e)=>Oe.put(`/blog/${t}`,e),deletePost:t=>Oe.delete(`/blog/${t}`),uploadImages:(t,e=null)=>(console.log(` Uploading ${t.length} blog images...`),An.uploadMultipleFiles(t,"blog","",[],e)),addComment:(t,e)=>Oe.post(`/blog/${t}/comments`,{content:e}),toggleLike:t=>Oe.post(`/blog/${t}/like`),getPostsByCategory:t=>Oe.get("/blog",{params:{category:t,status:"published"}}),getPostsByTag:t=>Oe.get("/blog",{params:{tag:t,status:"published"}})},Up=(t={},e="auto",r=!1)=>{const[n,i]=v.useState([]),[a,s]=v.useState(!1),[o,c]=v.useState(null),[u,d]=v.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:12}),h=v.useRef(t),p=v.useRef(!1),g=v.useRef(null),x=v.useRef(e),b=v.useRef(!0);v.useEffect(()=>{const C=h.current,O=t,T=JSON.stringify(C||{}),j=JSON.stringify(O||{});T!==j&&(h.current={...O})},[t]),v.useEffect(()=>{x.current=e},[e]),v.useEffect(()=>()=>{b.current=!1,g.current&&g.current.abort()},[]);const y=v.useCallback(async(C=null,O=null)=>{var T,j;if(b.current)try{g.current&&(g.current.abort(),console.log(" Aborted previous request")),g.current=new AbortController;const V=C!==void 0?C:h.current,H=O||x.current;if(!V||Object.keys(V).length===0){console.log(" Skipping fetch - no filters provided"),b.current&&(i([]),s(!1));return}b.current&&(s(!0),c(null)),console.log(` Fetching properties with mode: ${H}`,V);let X;const re=g.current.signal;switch(H){case"search":X=await ht.advancedSearch({...V,signal:re});break;case"filter":X=await ht.filterProperties({...V,signal:re});break;case"quick":X=await ht.quickSearch(V.search||V.q,{...V,signal:re});break;case"auto":default:X=await ht.searchProperties({...V,signal:re},"auto");break}if(console.log(" API Response:",X),X&&X.data&&X.data.success!==!1){let F=[],Q={};return X.data.data?Array.isArray(X.data.data)?F=X.data.data:Array.isArray(X.data)&&(F=X.data):X.data.properties!==void 0?F=Array.isArray(X.data.properties)?X.data.properties:[]:Array.isArray(X.data)&&(F=X.data),X.data.pagination?Q=X.data.pagination:Q={page:X.data.page||1,pages:X.data.pages||1,total:X.data.total||X.data.count||F.length,limit:X.data.limit||12},console.log(` Found ${F.length} properties`),b.current&&(i(F),d({currentPage:Q.page||1,totalPages:Q.pages||1,totalItems:Q.total||F.length,itemsPerPage:Q.limit||12})),p.current=!0,F}else{const F=((T=X==null?void 0:X.data)==null?void 0:T.error)||((j=X==null?void 0:X.data)==null?void 0:j.message)||"Failed to fetch properties";throw console.error(" API returned error:",F),new Error(F)}}catch(V){if(V.name==="AbortError"||V.code==="ERR_CANCELED"){console.log(" Request aborted");return}throw console.error(" Error fetching properties:",V),b.current&&(c(V.message||"An error occurred while fetching properties"),i([])),V}finally{b.current&&s(!1),g.current=null}},[]);v.useEffect(()=>{r&&Object.keys(t).length>0&&y()},[]),v.useEffect(()=>{const C=setTimeout(()=>{Object.keys(t).length>0&&y()},300);return()=>clearTimeout(C)},[t,y]);const N=v.useCallback(async C=>{var O,T;try{s(!0),c(null);const j=await ht.getProperty(C);if(console.log(" Single Property API Response:",j),j&&j.data&&j.data.success!==!1){let V=j.data;return j.data.data&&(j.data.data.title||j.data.data.price?V=j.data.data:(j.data.title||j.data.price)&&(V=j.data)),V}else throw new Error(((O=j==null?void 0:j.data)==null?void 0:O.error)||((T=j==null?void 0:j.data)==null?void 0:T.message)||"Failed to fetch property")}catch(j){return console.error(" Error fetching property:",j),c(j.message||"An error occurred while fetching the property"),null}finally{s(!1)}},[]),_=v.useCallback(async C=>{var O,T;try{s(!0),c(null);const j=await ht.createProperty(C);if(console.log(" Create Property API Response:",j),j&&j.data&&j.data.success!==!1){let V=j.data;return j.data.data&&(j.data.data.title||j.data.data.price)?V=j.data.data:(j.data.title||j.data.price)&&(V=j.data),i(H=>[V,...H]),V}else throw new Error(((O=j==null?void 0:j.data)==null?void 0:O.error)||((T=j==null?void 0:j.data)==null?void 0:T.message)||"Failed to create property")}catch(j){throw console.error(" Error creating property:",j),c(j.message||"An error occurred while creating the property"),j}finally{s(!1)}},[]),P=v.useCallback(async(C,O)=>{var T,j;try{s(!0),c(null);const V=await ht.updateProperty(C,O);if(console.log(" Update Property API Response:",V),V&&V.data&&V.data.success!==!1){let H=V.data;return V.data.data&&(V.data.data.title||V.data.data.price)?H=V.data.data:(V.data.title||V.data.price)&&(H=V.data),i(X=>X.map(re=>re._id===C||re.id===C?H:re)),H}else throw new Error(((T=V==null?void 0:V.data)==null?void 0:T.error)||((j=V==null?void 0:V.data)==null?void 0:j.message)||"Failed to update property")}catch(V){throw console.error(" Error updating property:",V),c(V.message||"An error occurred while updating the property"),V}finally{s(!1)}},[]),L=v.useCallback(async C=>{var O,T;try{s(!0),c(null);const j=await ht.deleteProperty(C);if(console.log(" Delete Property API Response:",j),j&&j.data&&j.data.success!==!1)return i(V=>V.filter(H=>H._id!==C&&H.id!==C)),!0;throw new Error(((O=j==null?void 0:j.data)==null?void 0:O.error)||((T=j==null?void 0:j.data)==null?void 0:T.message)||"Failed to delete property")}catch(j){throw console.error(" Error deleting property:",j),c(j.message||"An error occurred while deleting the property"),j}finally{s(!1)}},[]),k=v.useCallback(async(C=6)=>{var O,T;try{s(!0),c(null),console.log(" Fetching featured properties...");const j=await ht.getFeaturedProperties(C);if(console.log(" Featured Properties API Response:",j),j&&j.data&&j.data.success!==!1){let V=[];return j.data.data?Array.isArray(j.data.data)?V=j.data.data:Array.isArray(j.data)&&(V=j.data):j.data.properties!==void 0?V=Array.isArray(j.data.properties)?j.data.properties:[]:Array.isArray(j.data)&&(V=j.data),console.log(" Featured properties extracted:",V.length),i(V),V}else throw new Error(((O=j==null?void 0:j.data)==null?void 0:O.error)||((T=j==null?void 0:j.data)==null?void 0:T.message)||"Failed to fetch featured properties")}catch(j){return console.error(" Error fetching featured properties:",j),c(j.message||"Failed to fetch featured properties"),[]}finally{s(!1)}},[]),D=v.useCallback(async C=>y(C,"search"),[y]),S=v.useCallback(async C=>y(C,"filter"),[y]),I=v.useCallback(async(C,O={})=>{const T={...O,search:C,q:C};return y(T,"quick")},[y]),E=v.useCallback(()=>y(),[y]),R=v.useCallback(()=>{i([]),c(null),p.current=!1},[]);return{properties:n,loading:a,error:o,pagination:u,fetchProperties:y,fetchProperty:N,createProperty:_,updateProperty:P,deleteProperty:L,getFeaturedProperties:k,searchProperties:D,filterProperties:S,quickSearch:I,refetch:E,clearProperties:R,currentPage:u.currentPage,totalPages:u.totalPages,totalItems:u.totalItems,itemsPerPage:u.itemsPerPage,hasProperties:n.length>0,isEmpty:!a&&n.length===0,hasSearched:p.current}},g9=t=>{const[e,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(null),o=v.useCallback(async u=>{var d,h,p;try{i(!0),s(null);const g=await ht.getProperty(u);if(console.log(" Single Property API Response:",g),g&&g.data&&g.data.success!==!1){let x=g.data;console.log(" response.data:",g.data),console.log(" response.data?.data:",(d=g.data)==null?void 0:d.data),g.data.data&&(g.data.data.title||g.data.data.price)?(x=g.data.data,console.log(" Extracted from response.data.data")):(g.data.title||g.data.price)&&(x=g.data,console.log(" Extracted from response.data")),console.log(" Final property data:",x),r(x)}else throw new Error(((h=g==null?void 0:g.data)==null?void 0:h.error)||((p=g==null?void 0:g.data)==null?void 0:p.message)||"Failed to fetch property")}catch(g){console.error(" Error fetching property:",g),s(g.message||"An error occurred while fetching the property")}finally{i(!1)}},[]);v.useEffect(()=>{t&&o(t)},[t,o]);const c=v.useCallback(()=>{t&&o(t)},[t,o]);return{property:e,loading:n,error:a,refetch:c,exists:!!e&&!n}},a_=({property:t,className:e=""})=>{var F;const[r,n]=v.useState(!1),[i,a]=v.useState(!1),[s,o]=v.useState(!1),{id:c,title:u,price:d,type:h,status:p,location:g,bedrooms:x,bathrooms:b,area:y,images:N,primaryImage:_,featured:P,createdAt:L,specifications:k,currency:D="NGN"}=t,S=k||{},I=S.bedrooms||x||0,E=S.bathrooms||b||0,R=S.area||y||0,C=S.areaUnit||"sq ft",O=_||((F=N==null?void 0:N[0])==null?void 0:F.url)||(N==null?void 0:N[0])||"/images/placeholder-property.jpg";console.log(" PropertyCard - Image URL:",O),console.log(" PropertyCard - Specifications:",{specs:S,displayBedrooms:I,displayBathrooms:E,displayArea:R});const T=Q=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",maximumFractionDigits:0}).format(Q),j=Q=>new Date(Q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),V=Q=>({"for-sale":"bg-green-100 text-green-800 border border-green-200","for-rent":"bg-blue-100 text-blue-800 border border-blue-200",sale:"bg-green-100 text-green-800 border border-green-200",rent:"bg-blue-100 text-blue-800 border border-blue-200",sold:"bg-gray-100 text-gray-800 border border-gray-200",rented:"bg-purple-100 text-purple-800 border border-purple-200",forSale:"bg-green-100 text-green-800 border border-green-200",forRent:"bg-blue-100 text-blue-800 border border-blue-200"})[Q]||"bg-gray-100 text-gray-800 border border-gray-200",H=Q=>({"for-sale":"For Sale","for-rent":"For Rent",sale:"For Sale",rent:"For Rent",sold:"Sold",rented:"Rented",forSale:"For Sale",forRent:"For Rent"})[Q]||"Available",X=Q=>({house:"bg-orange-100 text-orange-800 border border-orange-200",apartment:"bg-indigo-100 text-indigo-800 border border-indigo-200",condo:"bg-pink-100 text-pink-800 border border-pink-200",villa:"bg-red-100 text-red-800 border border-red-200",commercial:"bg-teal-100 text-teal-800 border border-teal-200",duplex:"bg-purple-100 text-purple-800 border border-purple-200",studio:"bg-yellow-100 text-yellow-800 border border-yellow-200"})[Q]||"bg-gray-100 text-gray-800 border border-gray-200",re=Q=>{Q.preventDefault(),Q.stopPropagation(),o(!s)};return m("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border-y-2 border-red-600 ${e}`,children:[m("div",{className:"relative overflow-hidden",children:[l(we,{to:`/properties/${c}`,children:l("div",{className:"aspect-w-16 aspect-h-12 bg-gray-200",children:i?l("div",{className:"w-full h-64 bg-gray-200 flex items-center justify-center",children:m("div",{className:"text-center",children:[l("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l("span",{className:"text-gray-500 text-sm",children:"Image not available"})]})}):m(tr,{children:[!r&&l("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:l("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),l("img",{src:O,alt:u,className:`w-full h-64 object-cover transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0),onError:()=>{console.error(" Image failed to load:",O),a(!0)}})]})})}),m("div",{className:"absolute top-4 left-4 flex flex-col space-y-2",children:[P&&l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold shadow-lg",children:"Featured"}),l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${V(p)}`,children:H(p)})]}),l("div",{className:"absolute top-4 right-4",children:l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${X(h)}`,children:h?h.charAt(0).toUpperCase()+h.slice(1):"Property"})}),l("button",{onClick:re,className:`absolute bottom-4 right-4 p-3 rounded-full shadow-lg transition-all duration-300 ${s?"bg-red-500 text-white transform scale-110":"bg-white text-gray-400 hover:bg-gray-50 hover:text-red-500"}`,children:l(Hm,{className:`w-4 h-4 ${s?"fill-current":""}`})})]}),m("div",{className:"p-6",children:[m("div",{className:"mb-3",children:[l("h3",{className:"text-2xl font-bold text-gray-900",children:T(d)}),(p==="for-rent"||p==="rent"||p==="forRent")&&l("span",{className:"text-gray-600 text-sm",children:"/month"})]}),l(we,{to:`/properties/${c}`,children:l("h4",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors duration-200 mb-2 line-clamp-2 leading-tight",children:u})}),m("div",{className:"flex items-start text-gray-600 mb-4",children:[l(Sx,{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0 text-blue-500"}),l("span",{className:"text-sm leading-relaxed",children:(g==null?void 0:g.address)||(g==null?void 0:g.formattedAddress)||"Location not specified"})]}),m("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[l("div",{className:"flex items-center space-x-2",children:m("div",{className:"flex items-center space-x-1 bg-blue-50 px-3 py-2 rounded-lg",children:[l(Ax,{className:"w-4 h-4 text-blue-600"}),l("span",{className:"text-sm font-semibold text-gray-700",children:I}),l("span",{className:"text-xs text-gray-500",children:"Bed"})]})}),l("div",{className:"flex items-center space-x-2",children:m("div",{className:"flex items-center space-x-1 bg-green-50 px-3 py-2 rounded-lg",children:[l(Ex,{className:"w-4 h-4 text-green-600"}),l("span",{className:"text-sm font-semibold text-gray-700",children:E}),l("span",{className:"text-xs text-gray-500",children:"Bath"})]})}),l("div",{className:"flex items-center space-x-2",children:m("div",{className:"flex items-center space-x-1 bg-purple-50 px-3 py-2 rounded-lg",children:[l(Ix,{className:"w-4 h-4 text-purple-600"}),l("span",{className:"text-sm font-semibold text-gray-700",children:R.toLocaleString()}),l("span",{className:"text-xs text-gray-500",children:C})]})})]}),m("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[m("span",{className:"text-xs text-gray-500",children:["Listed ",j(L)]}),m(we,{to:`/properties/${c}`,className:"text-blue-600 hover:text-blue-700 text-sm font-semibold transition-colors duration-200 flex items-center space-x-1",children:[l("span",{children:"View Details"}),l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})},y9=({placeholder:t="Search properties..."})=>{const[e,r]=v.useState(""),[n,i]=v.useState({type:"",priceRange:"",bedrooms:"",location:""}),[a,s]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState(!1),[h,p]=v.useState(null),[g,x]=v.useState(!1),[b,y]=v.useState(null),N=v.useRef(null),{properties:_,loading:P,error:L,pagination:k,searchProperties:D,clearProperties:S,hasSearched:I}=Up({},"search",!1),E=["Any Type","House","Apartment","Condo","Villa","Commercial"],R=["Any Price","Under $100,000","$100,000 - $200,000","$200,000 - $300,000","$300,000 - $500,000","Over $500,000"],C=["Any","1","2","3","4","5+"],O=ee=>{if(!ee)return{};const se=ee.toLowerCase().trim(),be={};console.log(" Parsing search term:",se);const q=se.match(/(\d+)\s*(?:bed(?:room)?s?|br|bd|beds?)/)||se.match(/^(\d+)$/);if(q){const K=parseInt(q[1]);K>=1&&K<=4?be.bedrooms=K:K>=5&&(be.bedrooms=5)}const he={house:"house",apartment:"apartment",condo:"condo",villa:"villa",commercial:"commercial"};for(const[K,Ce]of Object.entries(he))if(se.includes(K)){be.type=Ce;break}const ve=se.match(/(under|below|less than|up to|over|above|more than)?\s*\$?\s*(\d+(?:,\d+)*(?:\.\d+)?)\s*(k|m|million)?/);if(ve){const[,K,Ce,Ae]=ve;let Le=parseFloat(Ce.replace(/,/g,""));if((Ae==="k"||se.includes("thousand"))&&(Le*=1e3),(Ae==="m"||se.includes("million"))&&(Le*=1e6),K){const je=K.toLowerCase();je.includes("under")||je.includes("below")||je.includes("less")?be.maxPrice=Le:(je.includes("over")||je.includes("above")||je.includes("more"))&&(be.minPrice=Le)}else be.minPrice=Le*.8,be.maxPrice=Le*1.2}return Object.keys(be).length===0&&se.length>0&&(se.split(/\s+/).length<=3&&!/^\d+$/.test(se)?be.location=ee:be.search=ee),console.log(" Parsed filters:",be),be},T=(ee,se)=>{const be={page:1,limit:12},q=O(ee);if(console.log(" Term filters:",q),console.log(" UI filters:",se),Object.assign(be,q),se.type&&se.type!=="Any Type"&&(be.type=se.type.toLowerCase()),se.priceRange&&se.priceRange!=="Any Price"){const ve={"Under $100,000":{minPrice:0,maxPrice:1e5},"$100,000 - $200,000":{minPrice:1e5,maxPrice:2e5},"$200,000 - $300,000":{minPrice:2e5,maxPrice:3e5},"$300,000 - $500,000":{minPrice:3e5,maxPrice:5e5},"Over $500,000":{minPrice:5e5,maxPrice:1e7}}[se.priceRange];ve&&(be.minPrice=ve.minPrice,be.maxPrice=ve.maxPrice)}return se.bedrooms&&se.bedrooms!=="Any"&&(se.bedrooms==="5+"?be.bedrooms=5:be.bedrooms=parseInt(se.bedrooms)),se.location&&(be.location=se.location),Object.keys(be).forEach(he=>{(be[he]===""||be[he]===null||be[he]===void 0)&&delete be[he]}),console.log(" Final API Filters:",be),be},j=async ee=>{ee&&ee.preventDefault(),console.log(" Starting search with:",{searchTerm:e,filters:n}),y(null),d(!0);try{const se=T(e,n);if(!(e.trim()||Object.values(n).some(q=>q&&q!=="Any Type"&&q!=="Any Price"&&q!=="Any")))throw new Error("Please enter search criteria");console.log(" Setting API filters to:",se),await D(se),p(se),x(!0),s(!1),c(!0)}catch(se){console.error(" Search error:",se),y(se.message||"Failed to perform search. Please try again.")}finally{d(!1)}},V=(ee,se)=>{const be={...n,[ee]:se};i(be)},H=ee=>{if(r(ee),N.current&&clearTimeout(N.current),ee.trim()){const se=ee.toLowerCase().trim();let be={...n},q=!1;const he={house:"House",apartment:"Apartment",condo:"Condo",villa:"Villa",commercial:"Commercial"};for(const[K,Ce]of Object.entries(he))if(se.includes(K)&&n.type!==Ce){be.type=Ce,q=!0;break}const ve=se.match(/(\d+)\s*(?:bed|bedroom|br|bd)/);if(ve){const K=ve[1],Ce=C.find(Ae=>Ae===K||K>=5&&Ae==="5+");Ce&&Ce!=="Any"&&n.bedrooms!==Ce&&(be.bedrooms=Ce,q=!0)}q&&i(be)}},X=()=>{r(""),i({type:"",priceRange:"",bedrooms:"",location:""}),p(null),x(!1),s(!1),c(!1),y(null),S()},re=()=>{s(!0),c(!1)},F=()=>{I&&_.length>0?(c(!0),s(!1)):re()},Q=()=>{c(!1)},ce=()=>{s(!1)},Ee=()=>{const ee=[];return n.type&&n.type!=="Any Type"&&ee.push(`Type: ${n.type}`),n.bedrooms&&n.bedrooms!=="Any"&&ee.push(`${n.bedrooms} Bedroom${n.bedrooms==="1"?"":"s"}`),n.priceRange&&n.priceRange!=="Any Price"&&ee.push(n.priceRange),n.location&&ee.push(`Location: ${n.location}`),ee},De=()=>m("button",{onClick:F,className:`fixed bg-blue-600 text-white p-4 rounded-full shadow-lg border-b-2 border-red-600 hover:bg-blue-700 transition-all duration-200 z-40 ${a||o?"opacity-0 pointer-events-none":"opacity-100"}`,style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",bottom:"1.5rem",right:"1.5rem"},"aria-label":I?"Show search results":"Open search panel",title:I?"Click to view search results":"Click to search properties",children:[l("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),I&&!o&&l("div",{className:"absolute -top-1 -right-1",children:m("div",{className:"relative",children:[l("div",{className:"animate-ping absolute inline-flex h-3 w-3 rounded-full bg-red-400 opacity-75"}),l("div",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})})]}),Ge=()=>a&&m("div",{className:"fixed inset-0 z-50",children:[l("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ce}),m("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[l("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl",children:m("div",{className:"flex items-center justify-between",children:[l("h3",{className:"text-lg font-semibold text-gray-900",children:"Search Properties"}),l("button",{onClick:ce,className:"p-2 text-gray-400 hover:text-gray-600 transition duration-200",children:l("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),m("div",{className:"p-6 space-y-4",children:[b&&l("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l("p",{className:"text-red-600 text-sm",children:b})}),m("div",{className:"relative",children:[l("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l("input",{type:"text",value:e,onChange:ee=>H(ee.target.value),placeholder:t,className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",autoFocus:!0}),e&&l("button",{onClick:()=>H(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),l("select",{value:n.type,onChange:ee=>V("type",ee.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:E.map(ee=>l("option",{value:ee==="Any Type"?"":ee,children:ee},ee))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),l("select",{value:n.priceRange,onChange:ee=>V("priceRange",ee.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:R.map(ee=>l("option",{value:ee==="Any Price"?"":ee,children:ee},ee))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),l("select",{value:n.bedrooms,onChange:ee=>V("bedrooms",ee.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200",children:C.map(ee=>m("option",{value:ee==="Any"?"":ee,children:[ee," Bed",ee!=="Any"&&"room",ee==="1"?"":"s"]},ee))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),l("input",{type:"text",value:n.location,onChange:ee=>V("location",ee.target.value),placeholder:"Enter location",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200"})]}),(e||Object.values(n).some(ee=>ee&&ee!=="Any Type"&&ee!=="Any Price"&&ee!=="Any"))&&m("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:[l("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Searching for:"}),m("div",{className:"flex flex-wrap gap-2",children:[e&&m("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:['"',e,'"']}),Ee().map((ee,se)=>l("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ee},se))]})]}),m("div",{className:"flex space-x-3 pt-4 sticky bottom-0 bg-white pb-2",children:[l("button",{type:"button",onClick:X,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200 font-medium",children:"Clear All"}),l("button",{onClick:j,disabled:u||!e&&!Object.values(n).some(ee=>ee&&ee!=="Any Type"&&ee!=="Any Price"&&ee!=="Any"),className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:u?m(tr,{children:[m("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Searching..."]}):"Search"})]})]})]})]}),Je=()=>o&&m("div",{className:"fixed inset-0 z-50",children:[l("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:Q}),m("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[m("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl",children:[m("div",{className:"flex items-center justify-between",children:[m("div",{children:[m("h3",{className:"text-lg font-semibold text-gray-900",children:["Search Results",e&&m("span",{className:"text-gray-600 font-normal ml-2",children:['for "',e,'"']})]}),l("p",{className:"text-sm text-gray-500 mt-1",children:P?"Searching...":_&&_.length>0?`Found ${_.length} propert${_.length===1?"y":"ies"}`:"No properties found"})]}),m("div",{className:"flex items-center space-x-2",children:[l("button",{onClick:re,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200 font-medium text-sm",children:"New Search"}),l("button",{onClick:Q,className:"p-2 text-gray-400 hover:text-gray-600 transition duration-200",children:l("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),Ee().length>0&&l("div",{className:"flex flex-wrap gap-2 mt-3",children:Ee().map((ee,se)=>l("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ee},se))})]}),m("div",{className:"p-4 md:p-6",children:[P&&m("div",{className:"flex flex-col items-center justify-center py-12",children:[l("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),l("p",{className:"text-gray-600",children:"Searching properties..."})]}),(L||b)&&!P&&m("div",{className:"text-center py-12",children:[l("div",{className:"text-red-500 mb-4",children:l("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Properties"}),l("p",{className:"text-gray-600 mb-4",children:L||b}),m("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("button",{onClick:()=>D(h),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200",children:"Try Again"}),l("button",{onClick:re,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200",children:"New Search"})]})]}),!P&&!L&&!b&&(!_||_.length===0)&&m("div",{className:"text-center py-12 px-4",children:[l("div",{className:"text-gray-400 mb-6",children:l("svg",{className:"w-20 h-20 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"No Properties Found"}),m("div",{className:"max-w-md mx-auto mb-6",children:[e&&m("p",{className:"text-gray-600 mb-4",children:["No results found for ",m("span",{className:"font-medium text-gray-900",children:['"',e,'"']})]}),l("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria or clear some filters to see more properties."}),m("div",{className:"bg-gray-50 rounded-lg p-4 text-left",children:[l("h4",{className:"font-medium text-gray-900 mb-3",children:"Search Tips:"}),m("ul",{className:"space-y-2 text-sm text-gray-600",children:[m("li",{className:"flex items-start",children:[l("svg",{className:"w-4 h-4 text-blue-500 mt-0.5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("span",{children:"Try broader search terms or check spelling"})]}),m("li",{className:"flex items-start",children:[l("svg",{className:"w-4 h-4 text-blue-500 mt-0.5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("span",{children:"Try different price ranges or property types"})]}),m("li",{className:"flex items-start",children:[l("svg",{className:"w-4 h-4 text-blue-500 mt-0.5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("span",{children:"Remove some filters to see more properties"})]})]})]})]}),m("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("button",{onClick:re,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200 font-medium",children:"Try New Search"}),l("button",{onClick:X,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200 font-medium",children:"Clear All Filters"})]})]}),!P&&!L&&!b&&_&&_.length>0&&m(tr,{children:[l("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:_.map(ee=>l(a_,{property:ee,className:"transform transition-transform duration-200 hover:scale-[1.02]"},ee._id||ee.id))}),m("div",{className:"mt-8 text-center",children:[l("p",{className:"text-gray-600 mb-3",children:"Not finding what you're looking for?"}),l("button",{onClick:re,className:"px-6 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition duration-200 font-medium",children:"Try Different Search"})]})]})]})]})]});return m(tr,{children:[De(),Ge(),Je()]})},v9=({onSearch:t,user:e,onLogin:r,onLogout:n})=>{const i=()=>{const o=`https://wa.me/+2349132080059?text=${encodeURIComponent("Hello! I'm interested in your real estate services. Can you please provide more information?")}`;window.open(o,"_blank")};return l("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:m("div",{className:"container mx-auto px-4",children:[m("div",{className:"flex items-center justify-between py-4",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:l(Du,{className:"w-6 h-6"})}),m("div",{children:[l("h1",{className:"text-2xl font-bold text-gray-900",children:"Octopus Real Estate "}),l("p",{className:"text-xs text-red-600",children:"Ventures LTD"})]})]}),m("div",{className:"hidden md:flex items-center space-x-6 text-sm",children:[m("div",{className:"flex items-center space-x-2",children:[l("div",{className:"bg-blue-100 p-2 rounded-lg",children:l(rs,{className:"w-4 h-4 text-blue-600"})}),m("div",{children:[l("span",{className:"text-gray-700 font-medium",children:"+ (234)913 2080059"}),l("p",{className:"text-xs text-red-500",children:"Call us today"})]})]}),m("div",{className:"flex items-center space-x-2",children:[l("div",{className:"bg-blue-100 p-2 rounded-lg",children:l(Wm,{className:"w-4 h-4 text-blue-600"})}),m("div",{children:[l("span",{className:"text-gray-700 font-medium",children:"info@Octopusrealestate.com"}),l("p",{className:"text-xs text-red-500",children:"Email us"})]})]})]}),l("div",{className:"flex items-center space-x-4",children:e?m("div",{className:"flex items-center space-x-3",children:[m("div",{className:"text-right hidden sm:block",children:[l("span",{className:"text-sm text-gray-700 font-medium block",children:"Welcome back"}),l("span",{className:"text-sm text-blue-600 font-semibold",children:e.name})]}),m("div",{className:"relative group",children:[l("button",{className:"bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:l($y,{className:"w-5 h-5"})}),m("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:[m("div",{className:"p-4 border-b border-gray-100",children:[l("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),l("p",{className:"text-xs text-gray-500",children:e.email})]}),m("button",{onClick:n,className:"w-full flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition duration-200",children:[l(eS,{className:"w-4 h-4 text-gray-400"}),l("span",{children:"Sign Out"})]})]})]})]}):l("button",{onClick:r,className:"bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",title:"Login",children:l($y,{className:"w-5 h-5"})})})]}),m("div",{className:"border-t border-gray-200 relative",children:[l(p9,{}),m("div",{className:"py-4 relative",children:[l(y9,{onSearch:t}),m("div",{className:"absolute right-0 top-1/2 transform -translate-y-1/2 flex items-center space-x-3",children:[m("button",{onClick:i,className:"flex items-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 group",title:"Chat with us on WhatsApp",children:[l(RP,{className:"w-5 h-5"}),l("span",{className:"hidden sm:block text-sm font-medium",children:"Chat on WhatsApp"})]}),m("button",{onClick:()=>window.open("tel:+258843966599","_self"),className:"hidden md:flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 group",title:"Call us now",children:[l(rs,{className:"w-4 h-4"}),l("span",{className:"text-sm font-medium",children:"Call Now"})]})]})]})]})]})})},b9=()=>{const t=new Date().getFullYear(),e=[{name:"Home",href:"/"},{name:"Properties",href:"/properties"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}],r=["Buying","Selling","Rental","Consulting"],n=[{name:"Facebook",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),href:"#"},{name:"Twitter",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),href:"#"},{name:"Instagram",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M12.017 0C8.396 0 7.987.012 6.756.06 2.767.227.228 2.763.06 6.756.012 7.987 0 8.396 0 12.017c0 3.62.012 4.029.06 5.26.167 3.989 2.703 6.527 6.696 6.695 1.231.048 1.64.06 5.26.06 3.62 0 4.029-.012 5.26-.06 3.989-.167 6.527-2.703 6.695-6.696.048-1.231.06-1.64.06-5.26 0-3.62-.012-4.029-.06-5.26-.167-3.989-2.703-6.527-6.696-6.695C16.046.012 15.637 0 12.017 0zm0 2.16c3.203 0 3.585.012 4.804.06 3.252.15 4.771 1.691 4.92 4.92.048 1.219.06 1.6.06 4.804 0 3.204-.012 3.585-.06 4.804-.149 3.227-1.664 4.771-4.92 4.92-1.219.048-1.601.06-4.804.06-3.204 0-3.585-.012-4.804-.06-3.255-.149-4.771-1.664-4.92-4.92-.048-1.219-.06-1.6-.06-4.804 0-3.204.012-3.585.06-4.804.149-3.227 1.673-4.771 4.92-4.92 1.219-.048 1.6-.06 4.804-.06z"})}),href:"#"},{name:"LinkedIn",icon:l("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),href:"#"}],i=[{icon:m("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),text:"123 Main Street, City, State 12345"},{icon:l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),text:"+234 913 208 0059"},{icon:l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),text:"info@octopusrealestate.com"}];return m("footer",{className:"relative bg-gray-900 text-white overflow-hidden",children:[l("div",{className:"absolute inset-0 bg-fixed bg-cover bg-center bg-no-repeat",style:{backgroundImage:`linear-gradient(
            rgba(15, 23, 42, 0.85),
            rgba(15, 23, 42, 0.92)
          ), url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2053&q=80')`,transform:"translateZ(0)",willChange:"transform"},children:l("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/20 via-gray-900/60 to-gray-900/90"})}),m("div",{className:"relative z-10",children:[l("div",{className:"max-w-7xl mx-auto px-6 py-16",children:m("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-12",children:[m("div",{className:"lg:col-span-1",children:[m("div",{className:"flex items-center space-x-3 mb-6",children:[l("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg backdrop-blur-sm",children:l("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),m("div",{children:[l("h3",{className:"text-2xl font-bold text-white bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Octopus Real Estate"}),l("p",{className:"text-blue-400 text-sm font-medium",children:"Luxury Living Experts"})]})]}),l("p",{className:"text-gray-300 text-sm mb-8 leading-relaxed backdrop-blur-sm bg-white/5 rounded-lg p-4 border border-white/10",children:"Finding your perfect home with expert guidance and professional service since 2008. Experience luxury redefined."}),l("div",{className:"flex space-x-3",children:n.map(a=>l(we,{to:a.href,className:"w-10 h-10 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center hover:bg-blue-600/80 transition-all duration-300 hover:shadow-lg hover:scale-110 border border-white/20",title:a.name,children:a.icon},a.name))})]}),m("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-blue-600/50 inline-block",children:"Quick Links"}),l("ul",{className:"space-y-3",children:e.map(a=>l("li",{children:m(we,{to:a.href,className:"text-gray-300 hover:text-white transition-all duration-300 text-sm flex items-center group hover:translate-x-1",children:[l("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:scale-125"}),a.name]})},a.name))})]}),m("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-blue-600/50 inline-block",children:"Our Services"}),l("ul",{className:"space-y-3",children:r.map(a=>l("li",{children:m(we,{href:"#",className:"text-gray-300 hover:text-white transition-all duration-300 text-sm flex items-center group hover:translate-x-1",children:[l("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:scale-125"}),a]})},a))})]}),m("div",{children:[l("h4",{className:"text-lg font-semibold text-white mb-6 pb-2 border-b border-blue-600/50 inline-block",children:"Contact Info"}),l("div",{className:"space-y-4",children:i.map((a,s)=>m("div",{className:"flex items-start space-x-3 text-gray-300 group hover:text-white transition-all duration-300 hover:translate-x-1",children:[l("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0 mt-0.5 text-blue-400 group-hover:scale-110 transition-transform duration-300",children:a.icon}),l("span",{className:"text-sm leading-relaxed",children:a.text})]},s))})]})]})}),l("div",{className:"border-t border-white/10 bg-black/30 backdrop-blur-sm",children:l("div",{className:"max-w-7xl mx-auto px-6 py-6",children:m("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[m("div",{className:"text-gray-300 text-sm",children:[" ",t," Octopus Real Estate. All rights reserved."]}),l("div",{className:"flex space-x-6 text-sm",children:["Privacy Policy","Terms of Service","Sitemap"].map(a=>l(we,{href:"#",className:"text-gray-300 hover:text-white transition-all duration-300 text-sm hover:underline",children:a},a))})]})})})]})]})},Rr=({children:t,showHeader:e=!0,showFooter:r=!0,containerWidth:n="default",className:i=""})=>{console.log("=== MainLayout Mounting ===");const[a,s]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState({email:"",password:""}),[h,p]=v.useState(""),[g,x]=v.useState(!1),b=Pa();v.useEffect(()=>{console.log("Auth Context received:",{user:b==null?void 0:b.user,loginWithEmail:b==null?void 0:b.loginWithEmail,signInWithGoogle:b==null?void 0:b.signInWithGoogle,logout:b==null?void 0:b.logout,isAuthenticated:b==null?void 0:b.isAuthenticated})},[b]);const y=v.useCallback(async(T,j)=>typeof(b==null?void 0:b.loginWithEmail)=="function"?b.loginWithEmail(T,j):(console.error("loginWithEmail is not a function, using fallback"),{success:!1,error:"Authentication system not available"}),[b]),N=v.useCallback(async()=>typeof(b==null?void 0:b.signInWithGoogle)=="function"?b.signInWithGoogle():(console.error("signInWithGoogle is not a function, using fallback"),{success:!1,error:"Google authentication not available"}),[b]),_=v.useCallback(async()=>{if(typeof(b==null?void 0:b.logout)=="function")return b.logout();console.error("logout is not a function, using fallback")},[b]),P=(b==null?void 0:b.user)||null,L=(b==null?void 0:b.isAuthenticated)||!1,k={default:"max-w-7xl",wide:"max-w-full",narrow:"max-w-4xl",tight:"max-w-2xl"},D=T=>{console.log("Search performed:",T)},S=()=>{console.log("handleLoginClick called"),c(!0),p("")},I=async T=>{var j;if(T.preventDefault(),console.log("handleEmailLogin called"),!u.email||!u.password){p("Please enter both email and password");return}x(!0),p("");try{console.log("Attempting login with:",u.email);const V=await y(u.email,u.password);if(console.log("Login result:",V),V!=null&&V.success)console.log("Login successful:",V.user),c(!1),d({email:"",password:""}),p("");else{const H=((j=V==null?void 0:V.error)==null?void 0:j.message)||(V==null?void 0:V.error)||"Login failed. Please try again.";console.error("Login failed:",H),p(H)}}catch(V){console.error("Login error caught:",V),p(V.message||"An unexpected error occurred")}finally{x(!1)}},E=async()=>{var T;console.log("handleGoogleLogin called"),x(!0),p("");try{console.log("Attempting Google login");const j=await N();if(console.log("Google login result:",j),j!=null&&j.success)console.log("Google login successful:",j.user),c(!1);else{const V=((T=j==null?void 0:j.error)==null?void 0:T.message)||(j==null?void 0:j.error)||"Google login failed. Please try again.";console.error("Google login failed:",V),p(V)}}catch(j){console.error("Google login error caught:",j),p(j.message||"An unexpected error occurred with Google login")}finally{x(!1)}},R=async()=>{console.log("handleLogout called");try{await _(),console.log("Logout successful")}catch(T){console.error("Logout error:",T)}},C=()=>{s(!a)};v.useEffect(()=>{const T=j=>{j.key==="Escape"&&o&&c(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[o]);const O=T=>{T.target===T.currentTarget&&c(!1)};return m("div",{className:`min-h-screen flex flex-col bg-gray-50 ${i}`,children:[e&&l(v9,{onSearch:D,user:P,onLogin:S,onLogout:R,onMenuToggle:C,isAuthenticated:L}),o&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:O,role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",children:m("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl",children:[m("div",{className:"flex justify-between items-center mb-6",children:[l("h2",{id:"login-modal-title",className:"text-2xl font-bold text-gray-800",children:"Login to EstatePro"}),l("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 text-2xl","aria-label":"Close login modal",children:""})]}),h&&l("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:h}),m("form",{onSubmit:I,className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l("input",{type:"email",value:u.email,onChange:T=>d(j=>({...j,email:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email",required:!0,disabled:g})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),l("input",{type:"password",value:u.password,onChange:T=>d(j=>({...j,password:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password",required:!0,disabled:g})]}),l("button",{type:"submit",disabled:g,className:`w-full py-3 rounded-md font-medium transition duration-200 ${g?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:g?"Logging in...":"Login"})]}),m("div",{className:"my-6 flex items-center",children:[l("div",{className:"flex-1 border-t border-gray-300"}),l("span",{className:"px-4 text-gray-500 text-sm",children:"OR"}),l("div",{className:"flex-1 border-t border-gray-300"})]}),m("button",{onClick:E,disabled:g,className:`w-full flex items-center justify-center gap-3 border border-gray-300 py-3 rounded-md font-medium transition duration-200 ${g?"bg-gray-100 cursor-not-allowed":"hover:bg-gray-50 hover:border-gray-400"}`,children:[m("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),l("div",{className:"mt-6 text-center",children:m("p",{className:"text-gray-600",children:["Don't have an account?"," ",l("button",{className:"text-blue-600 hover:text-blue-800 font-medium",onClick:()=>{c(!1),console.log("Navigate to signup")},children:"Sign up"})]})})]})}),l("main",{className:"flex-1",children:l("div",{className:`mx-auto px-4 sm:px-6 lg:px-8 ${k[n]}`,children:t})}),r&&l(b9,{})]})},rl=({children:t,maxWidth:e="default",padding:r="default",background:n="default",className:i="",...a})=>{const s={default:"max-w-7xl",wide:"max-w-full",narrow:"max-w-4xl",tight:"max-w-2xl",full:"max-w-none"},o={none:"px-0 py-0",tight:"px-4 py-4 sm:px-6",default:"px-4 py-8 sm:px-6 lg:px-8",relaxed:"px-4 py-12 sm:px-6 lg:px-8",loose:"px-4 py-16 sm:px-6 lg:px-8",section:"px-4 py-20 sm:px-6 lg:px-8"},c={default:"bg-white",gray:"bg-gray-50",slate:"bg-slate-50",blue:"bg-blue-50",gradient:"bg-gradient-to-br from-blue-50 to-indigo-100",transparent:"bg-transparent"},u=`
    mx-auto
    ${s[e]}
    ${o[r]}
    ${c[n]}
    ${i}
  `.trim().replace(/\s+/g," ");return l("div",{className:u,...a,children:t})},cr=t=>l(rl,{maxWidth:"wide",...t}),wo=t=>l(rl,{maxWidth:"narrow",...t}),x9=t=>l(rl,{maxWidth:"narrow",padding:"section",background:"transparent",className:"text-center",...t}),s_=({cols:t=1,gap:e=8,children:r,...n})=>{const i={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},a={4:"gap-4",6:"gap-6",8:"gap-8",12:"gap-12"};return l(rl,{...n,children:l("div",{className:`grid ${i[t]} ${a[e]}`,children:r})})},o_=({reverse:t=!1,gap:e=16,leftContent:r,rightContent:n,leftWidth:i="1/2",rightWidth:a="1/2",verticalAlign:s="center",...o})=>{const c={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},u={"1/3":"lg:w-1/3","2/5":"lg:w-2/5","1/2":"lg:w-1/2","3/5":"lg:w-3/5","2/3":"lg:w-2/3"};return l(rl,{...o,children:m("div",{className:`flex flex-col ${t?"lg:flex-row-reverse":"lg:flex-row"} gap-${e} ${c[s]}`,children:[l("div",{className:`w-full ${u[i]}`,children:r}),l("div",{className:`w-full ${u[a]}`,children:n})]})})},nd=(t={})=>{const{initialValues:e={},validate:r,onSubmit:n,validateOnChange:i=!0,validateOnBlur:a=!0}=t,[s,o]=v.useState(e),[c,u]=v.useState({}),[d,h]=v.useState({}),[p,g]=v.useState(!1),[x,b]=v.useState(!1),y=v.useCallback((F=s)=>{if(!r)return u({}),b(!0),!0;const Q=r(F);u(Q||{});const ce=Object.keys(Q||{}).length===0;return b(ce),ce},[r,s]),N=v.useCallback(F=>{const{name:Q,value:ce,type:Ee,checked:De,files:Ge}=F.target;let Je;if(Ee==="checkbox"?Je=De:Ee==="file"?Je=Ge?Array.from(Ge):[]:Ee==="number"||Ee==="range"?Je=ce===""?"":Number(ce):Je=ce,Q.includes(".")){const[ee,se]=Q.split(".");o(be=>({...be,[ee]:{...be[ee],[se]:Je}}))}else o(ee=>({...ee,[Q]:Je}));if(i){const ee={...s,[Q]:Je};y(ee)}},[i,y,s]),_=v.useCallback(F=>{const{name:Q}=F.target;h(ce=>({...ce,[Q]:!0})),a&&y()},[a,y]),P=v.useCallback((F,Q)=>{if(o(ce=>({...ce,[F]:Q})),i){const ce={...s,[F]:Q};y(ce)}},[i,y,s]),L=v.useCallback(F=>{if(o(Q=>({...Q,...F})),i){const Q={...s,...F};y(Q)}},[i,y,s]),k=v.useCallback((F,Q)=>{u(ce=>({...ce,[F]:Q}))},[]),D=v.useCallback(F=>{u(Q=>({...Q,...F}))},[]),S=v.useCallback(F=>{u(Q=>{const ce={...Q};return delete ce[F],ce})},[]),I=v.useCallback(()=>{u({})},[]),E=v.useCallback((F,Q=!0)=>{h(ce=>({...ce,[F]:Q}))},[]),R=v.useCallback(F=>{h(Q=>({...Q,...F}))},[]),C=v.useCallback((F=null)=>{const Q=F||e;o(Q),u({}),h({}),g(!1),y(Q)},[e,y]),O=v.useCallback(async F=>{F&&(F.preventDefault(),F.persist());const Q=Object.keys(s).reduce((Ee,De)=>(Ee[De]=!0,Ee),{});if(h(Q),!y()){const Ee=Object.keys(c)[0];if(Ee){const De=document.querySelector(`[name="${Ee}"]`);De&&De.focus()}return}if(n){g(!0);try{await n(s)}catch(Ee){console.error("Form submission error:",Ee),Ee.errors&&u(Ee.errors)}finally{g(!1)}}},[s,c,n,y]),T=v.useCallback(F=>({name:F,value:s[F]||"",onChange:N,onBlur:_,error:c[F],touched:d[F]}),[s,c,d,N,_]),j=v.useCallback(F=>!!(c[F]&&d[F]),[c,d]),V=v.useCallback(()=>Object.keys(c).length>0,[c]),H=v.useCallback(()=>Object.keys(d).length>0,[d]),X=v.useCallback(()=>JSON.stringify(s)===JSON.stringify(e),[s,e]),re=v.useCallback(()=>!X(),[X]);return{values:s,errors:c,touched:d,isSubmitting:p,isValid:x,handleChange:N,handleBlur:_,handleSubmit:O,setValue:P,setValues:L,setError:k,setErrors:D,clearError:S,clearErrors:I,setTouched:E,setTouchedMultiple:R,resetForm:C,getFieldProps:T,hasError:j,hasErrors:V,isTouched:H,isPristine:X,isDirty:re,canSubmit:x&&!p&&H(),isModified:re()}},l_=({size:t="medium",variant:e="default",className:r="",onSubmit:n})=>{const[i,a]=v.useState(!1),[s,o]=v.useState(null),{values:c,errors:u,handleChange:d,handleSubmit:h,resetForm:p}=nd({initialValues:{email:"",firstName:"",preferences:{newListings:!0,priceUpdates:!0,marketNews:!1,buyingTips:!1,sellingTips:!1}},validate:_=>{const P={};return _.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)||(P.email="Please enter a valid email address"):P.email="Email is required",P},onSubmit:async _=>{a(!0),o(null);try{n?await n(_):await g(_),o({type:"success",message:"Thank you for subscribing! Please check your email to confirm your subscription."}),p()}catch{o({type:"error",message:"Sorry, there was an error with your subscription. Please try again."})}finally{a(!1)}}}),g=async _=>new Promise(P=>{setTimeout(()=>{console.log("Newsletter subscription:",_),P()},1e3)}),x={small:"text-sm",medium:"text-base",large:"text-lg"},b={default:"bg-white border border-gray-300",dark:"bg-gray-800 border-gray-700",minimal:"bg-transparent border-0"},y={default:"text-gray-900",dark:"text-white",minimal:"text-gray-900"},N=e==="default"&&t==="large";return e==="minimal"?m("div",{className:`${r}`,children:[m("form",{onSubmit:h,className:"flex flex-col sm:flex-row gap-2",children:[m("div",{className:"flex-1",children:[l("input",{type:"email",name:"email",value:c.email,onChange:d,placeholder:"Enter your email",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${x[t]}`}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),l("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold whitespace-nowrap",children:i?"Subscribing...":"Subscribe"})]}),s&&l("div",{className:`mt-2 p-2 rounded text-sm ${s.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.message})]}):m("div",{className:`rounded-2xl p-6 ${b[e]} ${r}`,children:[m("div",{className:`mb-4 ${y[e]}`,children:[l("h3",{className:`font-bold mb-2 text-gray-50 ${t==="large"?"text-2xl":"text-xl"}`,children:"Stay Updated"}),l("p",{className:`text-gray-50 opacity-90 ${x[t]}`,children:"Get the latest property listings, market insights, and real estate news delivered to your inbox."})]}),s&&l("div",{className:`p-3 rounded-lg mb-4 ${s.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.message}),m("form",{onSubmit:h,className:"space-y-4",children:[N&&m("div",{children:[l("label",{htmlFor:"firstName",className:`block font-medium mb-2 ${y[e]}`,children:"First Name (Optional)"}),l("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your first name"})]}),m("div",{children:[l("label",{htmlFor:"email",className:`block text-red-600 font-medium mb-2 ${y[e]}`,children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:c.email,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-500":e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,placeholder:"Enter your email address"}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),N&&m("div",{children:[l("label",{className:`block font-medium mb-3 ${y[e]}`,children:"Email Preferences"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.preferences).map(([_,P])=>m("label",{className:`flex items-center space-x-3 ${y[e]}`,children:[l("input",{type:"checkbox",name:`preferences.${_}`,checked:P,onChange:L=>d({target:{name:`preferences.${_}`,value:L.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm capitalize",children:_.replace(/([A-Z])/g," $1").trim()})]},_))})]}),l("button",{type:"submit",disabled:i,className:`w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition  border-b-2 border-red-600 duration-200 font-semibold flex items-center justify-center space-x-2 ${t==="large"?"text-lg":""}`,children:i?m(tr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Subscribing..."})]}):l("span",{children:"Subscribe to Newsletter"})}),l("p",{className:`text-xs opacity-75 text-gray-50 text-center ${y[e]}`,children:"By subscribing, you agree to our Privacy Policy and consent to receive updates from our company."})]}),N&&m("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:`font-semibold mb-3 ${y[e]}`,children:"What You'll Receive"}),m("ul",{className:`space-y-2 text-sm ${y[e]} opacity-90`,children:[m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"New property listings matching your criteria"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Exclusive price updates and market trends"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Expert real estate advice and tips"})]})]})]})]})},nl=({size:t="medium",color:e="blue",text:r="Loading...",fullScreen:n=!1})=>{const i={small:"w-6 h-6",medium:"w-12 h-12",large:"w-16 h-16",xlarge:"w-24 h-24"},a={blue:"text-blue-600",white:"text-white",gray:"text-gray-600"},s=m("div",{className:"flex flex-col items-center justify-center space-y-3",children:[l("div",{className:`animate-spin rounded-full border-4 border-solid border-current border-r-transparent ${i[t]} ${a[e]}`}),r&&l("span",{className:"text-gray-600 text-sm font-medium",children:r})]});return n?l("div",{className:"fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50",children:s}):s},c_=({currentPage:t,totalPages:e,onPageChange:r,itemsPerPage:n,totalItems:i,onItemsPerPageChange:a,className:s=""})=>{const o=[];let u=Math.max(1,t-Math.floor(2.5)),d=Math.min(e,u+5-1);d-u+1<5&&(u=Math.max(1,d-5+1));for(let p=u;p<=d;p++)o.push(p);const h=[10,25,50,100];return e<=1?null:m("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${s}`,children:[a&&m("div",{className:"flex items-center space-x-2",children:[l("span",{className:"text-sm text-gray-700",children:"Show:"}),l("select",{value:n,onChange:p=>a(Number(p.target.value)),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(p=>l("option",{value:p,children:p},p))}),m("span",{className:"text-sm text-gray-700",children:["of ",i," items"]})]}),m("div",{className:"flex items-center space-x-1",children:[l("button",{onClick:()=>r(1),disabled:t===1,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),l("button",{onClick:()=>r(t-1),disabled:t===1,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u>1&&m(tr,{children:[l("button",{onClick:()=>r(1),className:"px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition duration-200",children:"1"}),u>2&&l("span",{className:"px-2 text-gray-400",children:"..."})]}),o.map(p=>l("button",{onClick:()=>r(p),className:`px-3 py-2 rounded-lg transition duration-200 ${t===p?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:p},p)),d<e&&m(tr,{children:[d<e-1&&l("span",{className:"px-2 text-gray-400",children:"..."}),l("button",{onClick:()=>r(e),className:"px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 transition duration-200",children:e})]}),l("button",{onClick:()=>r(t+1),disabled:t===e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),l("button",{onClick:()=>r(e),disabled:t===e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),m("div",{className:"text-sm text-gray-600",children:["Page ",t," of ",e]})]})},u_=({properties:t,loading:e=!1,error:r=null,currentPage:n=1,totalPages:i=1,totalItems:a=0,itemsPerPage:s=12,onPageChange:o,onItemsPerPageChange:c,className:u="",emptyMessage:d="No properties found matching your criteria."})=>e?l("div",{className:"flex justify-center items-center py-12",children:l(nl,{size:"large",text:"Loading properties..."})}):r?l("div",{className:"text-center py-12",children:m("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 max-w-md mx-auto",children:[l("svg",{className:"w-12 h-12 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Properties"}),l("p",{className:"text-red-600",children:r}),l("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Try Again"})]})}):!t||t.length===0?l("div",{className:"text-center py-12",children:m("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 max-w-md mx-auto",children:[l("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Properties Found"}),l("p",{className:"text-gray-600 mb-4",children:d}),l("button",{onClick:()=>window.history.back(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"Adjust Filters"})]})}):m("div",{className:u,children:[m("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-2 sm:space-y-0",children:[m("div",{children:[m("h2",{className:"text-2xl font-bold text-gray-900",children:["Properties ",a>0&&`(${a})`]}),l("p",{className:"text-gray-600 mt-1",children:a>0?`Showing ${(n-1)*s+1}-${Math.min(n*s,a)} of ${a} properties`:"No properties found"})]}),m("div",{className:"flex items-center space-x-4",children:[m("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l("option",{children:"Sort by: Newest"}),l("option",{children:"Sort by: Price: Low to High"}),l("option",{children:"Sort by: Price: High to Low"}),l("option",{children:"Sort by: Area"})]}),m("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[l("button",{className:"p-2 bg-white border-r border-gray-300 hover:bg-gray-50",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l("button",{className:"p-2 bg-gray-100 border-l border-gray-300",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:t.map(h=>l(a_,{property:h},h._id||h.id))}),i>1&&l(c_,{currentPage:n,totalPages:i,totalItems:a,itemsPerPage:s,onPageChange:o,onItemsPerPageChange:c})]}),w9=({title:t="Featured Properties",subtitle:e="Discover our handpicked selection of premium properties",className:r="",limit:n=20})=>{const{properties:i,loading:a,error:s,currentPage:o,totalPages:c,totalItems:u,refetch:d}=Up({page:1,limit:n,sort:"newest"});v.useEffect(()=>{console.log(" FeaturedProperties Hook State:",{loading:a,error:s,propertiesCount:(i==null?void 0:i.length)||0,totalItems:u,limit:n})},[i,a,s,u,n]);const h=()=>{d()};return s?l("section",{className:`py-2 md:py-16 bg-gray-50 ${r}`,children:l(cr,{children:l("div",{className:"text-center",children:m("div",{className:"bg-white rounded-2xl shadow-lg p-12 max-w-2xl mx-auto",children:[l("div",{className:"text-6xl mb-4",children:""}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Temporary Issue"}),l("p",{className:"text-gray-600 mb-6",children:"We're having trouble loading featured properties. Please try again."}),l("button",{onClick:h,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold",children:"Try Again"})]})})})}):l("section",{className:`py-2 md:py-2 bg-gray-50 ${r}`,children:m(cr,{children:[m("div",{className:"text-center mb-2",children:[l("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:t}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e})]}),l(u_,{properties:i,loading:a,error:s,currentPage:1,totalPages:1,totalItems:(i==null?void 0:i.length)||0,onPageChange:()=>{},onSortChange:()=>{},sortBy:"newest",view:"grid",showPagination:!1}),!a&&i&&i.length>0&&l("div",{className:"text-center mt-12 rounded-2xl  border-2 border-red-600",children:m("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl shadow-xl p-12 text-white",children:[l("h3",{className:"text-3xl font-bold mb-4",children:"Ready to Find Your Dream Property?"}),l("p",{className:"text-blue-100 text-xl mb-8 max-w-2xl mx-auto leading-relaxed",children:"Browse our complete collection of properties or speak with one of our expert agents."}),m("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[l("a",{href:"/properties",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"View All Properties"}),l("a",{href:"/contact",className:"bg-transparent text-white px-8 py-4 rounded-lg border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Contact an Agent"})]})]})})]})})},_9=({posts:t=[],loading:e=!1,error:r=null,className:n="",title:i="Latest Insights",subtitle:a="Stay updated with our expert analysis and market trends",emptyMessage:s="No blog posts available at the moment.",limit:o=3,showViewAll:c=!0})=>{if(e)return m("div",{className:`py-2 md:py-12 ${n}`,children:[l("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:m("div",{className:"mb-6 md:mb-0",children:[l("div",{className:"w-12 h-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-3 animate-pulse"}),l("div",{className:"h-10 bg-gray-200 rounded w-64 mb-3 animate-pulse"}),l("div",{className:"h-6 bg-gray-200 rounded w-80 animate-pulse"})]})}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(o)].map((p,g)=>l("div",{className:"bg-white rounded-2xl shadow-sm p-6 animate-pulse border border-gray-100",children:m("div",{className:"flex items-start space-x-4",children:[l("div",{className:"w-16 h-16 bg-gray-300 rounded-xl flex-shrink-0"}),m("div",{className:"flex-1",children:[l("div",{className:"h-4 bg-gray-300 rounded w-24 mb-2"}),l("div",{className:"h-5 bg-gray-300 rounded w-3/4 mb-3"}),l("div",{className:"h-3 bg-gray-300 rounded w-full mb-4"}),m("div",{className:"flex items-center justify-between",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-7 h-7 bg-gray-300 rounded-full"}),l("div",{className:"h-3 bg-gray-300 rounded w-16"})]}),l("div",{className:"h-3 bg-gray-300 rounded w-12"})]})]})]})},g))})]});if(r)return l("div",{className:`py-8 md:py-12 ${n}`,children:l("div",{className:"text-center",children:m("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-8 max-w-md mx-auto",children:[l("svg",{className:"w-14 h-14 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.963-.833-2.732 0L4.34 16.5c-.77.833.192 2.5 1.732 2.5z"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Unable to Load Articles"}),l("p",{className:"text-gray-600 mb-6",children:r})]})})});if(!t||t.length===0)return l("div",{className:`py-8 md:py-12 ${n}`,children:l("div",{className:"text-center",children:m("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-10 max-w-md mx-auto",children:[l("svg",{className:"w-16 h-16 text-blue-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Coming Soon"}),l("p",{className:"text-gray-600 mb-6",children:s})]})})});const u=t.slice(0,o),d=p=>p?typeof p=="object"&&p.url?p.url:typeof p=="string"?p:"/images/blog-placeholder.jpg":"/images/blog-placeholder.jpg",h=p=>{if(!p)return"Recent";try{return new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return"Recent"}};return m("section",{className:`py-8 md:py-12 border-l-2 border-red-500 ${n}`,children:[m("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-10",children:[m("div",{className:"mb-6 md:mb-0",children:[m("div",{className:"flex items-center mb-3",children:[l("div",{className:"w-12 h-1 bg-gradient-to-r from-red-200 to-red-500 rounded-full mr-3"}),l("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Insights"})]}),l("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:i}),l("p",{className:"text-gray-600 text-lg max-w-2xl",children:a})]}),c&&t.length>o&&m(we,{to:"/blog",className:"group inline-flex items-center text-purple-600 font-semibold hover:text-purple-800 transition-colors",children:["View All Articles",l(bh,{size:20,className:"ml-2 group-hover:translate-x-2 transition-transform"})]})]}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(p=>{var I,E;const g=p._id||p.id,x=p.slug||g||`post-${Math.random()}`,b=p.title||"Untitled Post",y=p.excerpt||p.description||"",N=d(p.featuredImage),_=((I=p.author)==null?void 0:I.name)||p.authorName||(p.author&&typeof p.author=="string"?p.author:"Our Team"),P=_.charAt(0).toUpperCase(),L=Array.isArray(p.categories)?p.categories:[],k=p.publishDate||p.createdAt||p.publishedAt,D=h(k),S=p.readTime||Math.max(3,Math.ceil((((E=p.content)==null?void 0:E.length)||0)/2e3));return l("article",{className:"group bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-purple-200 overflow-hidden",children:m(we,{to:`/blog/${x}`,className:"block",children:[l("div",{className:"p-6",children:m("div",{className:"flex items-start space-x-4",children:[m("div",{className:"flex-shrink-0 relative",children:[l("div",{className:"w-16 h-16 rounded-xl overflow-hidden",children:l("img",{src:N,alt:b,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:R=>{R.target.src="/images/blog-placeholder.jpg"}})}),p.featured&&l("div",{className:"absolute -top-1 -right-1",children:l("div",{className:"w-6 h-6 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full flex items-center justify-center",children:l(aP,{size:12,className:"text-white"})})})]}),m("div",{className:"flex-1 min-w-0",children:[L.length>0&&l("div",{className:"flex flex-wrap gap-1.5 mb-2",children:L.slice(0,1).map((R,C)=>{const O=typeof R=="string"?R:R.name;return l("span",{className:"inline-block px-2.5 py-0.5 bg-purple-50 text-purple-700 text-xs font-semibold rounded-full",children:O},C)})}),l("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-purple-600 transition-colors",children:b}),y&&l("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:y}),m("div",{className:"flex items-center justify-between",children:[m("div",{className:"flex items-center space-x-3",children:[m("div",{className:"flex items-center space-x-2",children:[l("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:l("span",{className:"text-blue-700 text-xs font-bold",children:P})}),l("span",{className:"text-xs font-medium text-gray-700",children:_})]}),m("div",{className:"flex items-center text-xs text-gray-500",children:[l(sP,{size:12,className:"mr-1"}),D]})]}),m("div",{className:"flex items-center text-xs text-gray-500",children:[l(vx,{size:12,className:"mr-1"}),S," min"]})]})]})]})}),l("div",{className:"px-6 pb-6 pt-2 border-t border-gray-100",children:m("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:text-blue-800 transition-colors",children:[l(we,{to:`/blog/${x}`,children:l("span",{children:"Read Full Article"})}),l(bh,{size:16,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})})]})},g)})}),c&&t.length>o&&l("div",{className:"mt-10 text-center lg:hidden",children:m(we,{to:"/blog",className:"inline-flex items-center bg-gradient-to-r from-blue-600 to-blue-300 text-white px-8 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:["View All Articles",l(bh,{size:20,className:"ml-2"})]})})]})},d_=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(null),i=v.useRef(new Map),a=v.useCallback(async()=>{try{const N=nr.currentUser;if(!N)return console.warn(" No authenticated Firebase user found"),null;const _=await N.getIdToken();return console.log(" Firebase token obtained"),_}catch(N){return console.error(" Failed to get Firebase token:",N),null}},[]),s=v.useCallback(async(N,_={})=>{const P=new AbortController,L=N+JSON.stringify(_);i.current.set(L,P);try{e(!0),n(null);const k=await a(),D={headers:{"Content-Type":"application/json",...k&&{Authorization:`Bearer ${k}`},..._.headers},signal:P.signal},S=N.startsWith("http")?N:`https://realestateoctopus.onrender.com/api${N}`;console.log(" API Request:",{url:S,method:_.method,hasToken:!!k});const I=await fetch(S,{...D,..._,headers:{...D.headers,..._.headers}});if(i.current.delete(L),I.status===401){console.log(" 401 Unauthorized - token might be expired, refreshing...");const R=nr.currentUser;if(R){const C=await R.getIdToken(!0);console.log(" Retrying with refreshed token");const O=await fetch(S,{...D,..._,headers:{...D.headers,Authorization:`Bearer ${C}`,..._.headers}});if(!O.ok){const j=await O.text();throw console.error(" API Error Response after token refresh:",{status:O.status,statusText:O.statusText,data:j}),new Error(`HTTP error! status: ${O.status}`)}const T=await O.json();return console.log(" API Success Response after token refresh:",T),{success:!0,data:T,status:O.status,headers:O.headers}}}if(I.status===429){const R=I.headers.get("Retry-After")||2;console.warn(` Rate limited, retrying after ${R} seconds...`),await new Promise(T=>setTimeout(T,R*1e3));const C=await fetch(S,{...D,..._,headers:{...D.headers,..._.headers}});if(!C.ok){const T=await C.text();throw console.error(" API Error Response after retry:",{status:C.status,statusText:C.statusText,data:T}),new Error(`HTTP error! status: ${C.status}`)}const O=await C.json();return console.log(" API Success Response after retry:",O),{success:!0,data:O,status:C.status,headers:C.headers}}if(!I.ok){let R,C;try{R=await I.text(),console.log(" Raw error response text:",R);try{C=JSON.parse(R),console.log(" Parsed error JSON:",C)}catch{console.log(" JSON parsing failed, using raw text"),C={error:R,raw:R,message:R}}}catch{console.log(" Unable to read error response"),R="Unable to read error response",C={error:R,message:R}}console.error(" API Error Response:",{status:I.status,statusText:I.statusText,data:C,fullError:R});const O=C.error||C.message||`HTTP error! status: ${I.status}`,T=new Error(O);throw T.status=I.status,T.details=C.details||C,T.fullResponse=C,T.rawResponse=R,T}const E=await I.json();return console.log(" API Success Response:",E),{success:!0,data:E,status:I.status,headers:I.headers}}catch(k){if(i.current.delete(L),k.name==="AbortError")return console.log("Request was aborted"),{success:!1,aborted:!0};let D=k.message||"An error occurred";return k.details&&(typeof k.details=="object"?D+=` - Details: ${JSON.stringify(k.details)}`:D+=` - Details: ${k.details}`),console.error(" API Request Failed:",{message:k.message,status:k.status,details:k.details,fullResponse:k.fullResponse,rawResponse:k.rawResponse,fullError:k}),n(D),{success:!1,error:D,status:k.status,details:k.details,fullResponse:k.fullResponse,rawResponse:k.rawResponse}}finally{e(!1)}},[a]),o=v.useCallback(async(N,_={})=>s(N,{method:"GET",..._}),[s]),c=v.useCallback(async(N,_,P={})=>(console.log(" POST data being sent:",_),s(N,{method:"POST",body:JSON.stringify(_),...P})),[s]),u=v.useCallback(async(N,_,P={})=>(console.log(" PUT data being sent:",_),s(N,{method:"PUT",body:JSON.stringify(_),...P})),[s]),d=v.useCallback(async(N,_,P={})=>(console.log(" PATCH data being sent:",_),s(N,{method:"PATCH",body:JSON.stringify(_),...P})),[s]),h=v.useCallback(async(N,_={})=>s(N,{method:"DELETE",..._}),[s]),p=v.useCallback(async(N,_,P={})=>{const L=new FormData;return L.append("file",_),s(N,{method:"POST",body:L,headers:{...P.headers||{}},...P})},[s]),g=v.useCallback(async(N,_,P={})=>{const L=new FormData;return _.forEach(k=>{L.append("files",k)}),s(N,{method:"POST",body:L,headers:{...P.headers||{}},...P})},[s]),x=v.useCallback((N,_={})=>{const P=N+JSON.stringify(_),L=i.current.get(P);L&&(L.abort(),i.current.delete(P))},[]),b=v.useCallback(()=>{i.current.forEach(N=>{N.abort()}),i.current.clear()},[]),y=v.useCallback(()=>{n(null)},[]);return{loading:t,errors:r,request:s,get:o,post:c,put:u,patch:d,delete:h,upload:p,uploadMultiple:g,abortRequest:x,abortAllRequests:b,clearErrors:y,hasErrors:!!r}},id=(t={},e=!0)=>{const[r,n]=v.useState([]),[i,a]=v.useState(!1),[s,o]=v.useState(null),[c,u]=v.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:9}),{get:d,post:h,put:p,del:g}=d_(),x=v.useRef(!1);v.useRef(0);const b=v.useCallback(async(O={})=>{var T,j,V,H,X;if(x.current){console.log(" Request already in progress, skipping");return}try{x.current=!0,a(!0),o(null);const re={...t,...O},F=new URLSearchParams;Object.entries(re).forEach(([ce,Ee])=>{Ee!=null&&Ee!==""&&F.append(ce,Ee.toString())}),F.append("_t",Date.now()+Math.random()),console.log(" Fetching blog posts with filters:",re);const Q=await d(`/blog?${F.toString()}`);if(console.log(" API Response:",Q),Q.success){const ce=Q.data.data||Q.data.posts||Q.data||[];return console.log(" Received posts:",ce.length),n(ce),u({currentPage:((T=Q.data.pagination)==null?void 0:T.page)||Q.data.currentPage||1,totalPages:((j=Q.data.pagination)==null?void 0:j.pages)||Q.data.totalPages||1,totalItems:((V=Q.data.pagination)==null?void 0:V.total)||Q.data.total||Q.data.totalItems||0,itemsPerPage:((H=Q.data.pagination)==null?void 0:H.limit)||Q.data.itemsPerPage||9}),ce}else throw new Error(Q.message||"Failed to fetch blog posts")}catch(re){throw console.error(" Error fetching blog posts:",re),re.message!=="Request skipped: Rate limited"&&(((X=re.response)==null?void 0:X.status)===429?o("Too many requests. Please wait a moment before trying again."):o(re.message||"Failed to load blog posts. Please try again.")),re}finally{a(!1),x.current=!1}},[d,t]),y=v.useCallback(async O=>{if(!O)return o("No post identifier provided"),null;try{a(!0),o(null);const T=await d(`/blog/${O}`);if(T.success)return T.data.data||T.data;throw new Error(T.message||"Failed to fetch blog post")}catch(T){return console.error("Error fetching blog post:",T),o(T.message||"Failed to load blog post"),null}finally{a(!1)}},[d]),N=v.useCallback(async O=>{try{a(!0),o(null);const T=await h("/blog",O);if(T.success){const j=T.data.data||T.data;return n(V=>[j,...V]),j}else throw new Error(T.message||"Failed to create blog post")}catch(T){throw o(T.message||"Failed to create blog post"),console.error("Error creating blog post:",T),T}finally{a(!1)}},[h]),_=v.useCallback(async(O,T)=>{try{a(!0),o(null);const j=await p(`/blog/${O}`,T);if(j.success){const V=j.data.data||j.data;return n(H=>H.map(X=>X._id===O?V:X)),V}else throw new Error(j.message||"Failed to update blog post")}catch(j){throw o(j.message||"Failed to update blog post"),console.error("Error updating blog post:",j),j}finally{a(!1)}},[p]),P=v.useCallback(async O=>{try{a(!0),o(null);const T=await g(`/blog/${O}`);if(T.success)return n(j=>j.filter(V=>V._id!==O)),!0;throw new Error(T.message||"Failed to delete blog post")}catch(T){throw o(T.message||"Failed to delete blog post"),console.error("Error deleting blog post:",T),T}finally{a(!1)}},[g]),L=v.useCallback(async(O,T)=>{try{if(!O)throw new Error("Post ID is required for status update");return await _(O,{status:T})}catch(j){throw o(j.message||"Failed to update post status"),console.error("Error in updateStatus:",j),j}},[_]),k=v.useCallback(async(O,T)=>{try{return await _(O,{featured:T})}catch(j){throw o(j.message||"Failed to update featured status"),j}},[_]),D=v.useCallback(async(O,T={})=>{try{a(!0),o(null),await b({...T,search:O})}catch(j){throw o(j.message||"Failed to search blog posts"),console.error("Error searching blog posts:",j),j}},[b]),S=v.useCallback(async(O,T=10)=>{try{const j=await d(`/blog?category=${O}&limit=${T}`);if(j.success)return j.data.data||j.data.posts||[];throw new Error(j.message||"Failed to fetch posts by category")}catch(j){throw console.error("Error fetching posts by category:",j),j}},[d]),I=v.useCallback(async(O,T=10)=>{try{const j=await d(`/blog?tag=${O}&limit=${T}`);if(j.success)return j.data.data||j.data.posts||[];throw new Error(j.message||"Failed to fetch posts by tag")}catch(j){throw console.error("Error fetching posts by tag:",j),j}},[d]),E=v.useCallback(async(O=6)=>{await b({featured:!0,limit:O,status:"published"})},[b]),R=v.useCallback(async(O=5)=>{await b({limit:O,sort:"-createdAt",status:"published"})},[b]),C=v.useCallback(()=>b(t),[b,t]);return v.useEffect(()=>{if(e&&!x.current){const O=setTimeout(()=>{b(t)},100);return()=>clearTimeout(O)}},[e]),{posts:r,loading:i,error:s,pagination:c,fetchPosts:b,fetchPost:y,createPost:N,deletePost:P,toggleFeatured:k,updateStatus:L,refetch:C,updatePost:_,searchPosts:D,getPostsByCategory:S,getPostsByTag:I,getFeaturedPosts:E,getRecentPosts:R,currentPage:c.currentPage,totalPages:c.totalPages,totalItems:c.totalItems,itemsPerPage:c.itemsPerPage,hasPosts:r.length>0,isEmpty:!i&&r.length===0}},N9=t=>{const[e,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(null),{get:o}=d_(),c=v.useCallback(async d=>{if(!d)return s("No post identifier provided"),i(!1),null;try{i(!0),s(null);const h=await o(`/blog/${d}`);if(h.success){const p=h.data.data||h.data;return r(p),p}else throw new Error(h.message||"Failed to fetch blog post")}catch(h){return console.error("Error fetching blog post:",h),s(h.message||"Failed to load blog post"),null}finally{i(!1)}},[o]);v.useEffect(()=>{t?c(t):i(!1)},[t,c]);const u=v.useCallback(()=>{t&&c(t)},[t,c]);return{post:e,loading:n,error:a,refetch:u,exists:!!e&&!n}},E9=({title:t="Featured Articles",subtitle:e="Explore our latest insights and real estate expertise",className:r="",limit:n=3})=>{const{posts:i,loading:a,error:s,refetch:o}=id({page:1,limit:n,sort:"newest",featured:!0});v.useEffect(()=>{console.log(" FeaturedBlogPosts Hook State:",{loading:a,error:s,postsCount:(i==null?void 0:i.length)||0,totalItems:(i==null?void 0:i.length)||0,limit:n})},[i,a,s,n]);const c=()=>{o()};return s&&i.length===0?l("section",{className:`py-2 md:py-16 bg-gradient-to-b from-gray-50 to-white ${r}`,children:l(cr,{children:l("div",{className:"text-center",children:m("div",{className:"bg-white rounded-2xl shadow-lg p-12 max-w-2xl mx-auto",children:[l("div",{className:"text-6xl mb-4",children:""}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Temporary Issue"}),l("p",{className:"text-gray-600 mb-6",children:s}),l("button",{onClick:c,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold",children:"Try Again"})]})})})}):l("section",{className:`py-2 md:py-4 bg-gradient-to-b from-gray-50 to-white ${r}`,children:m(cr,{children:[l(_9,{posts:i,loading:a,error:s,title:t,subtitle:e,limit:n,emptyMessage:"Our latest articles are coming soon. Check back for expert real estate insights.",showViewAll:!0}),!a&&i&&i.length>0&&l("div",{className:"text-center  rounded-2xl border-2 border-red-600 mt-2",children:m("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl shadow-xl p-12 text-white",children:[l("h3",{className:"text-3xl font-bold mb-4",children:"Want More Real Estate Insights?"}),l("p",{className:"text-blue-100 text-xl mb-8 max-w-2xl mx-auto leading-relaxed",children:"Dive deeper into market trends, investment tips, and property guides in our full blog."}),m("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6",children:[l(we,{to:"/blog",className:"bg-white text-blue-600 px-8 py-4 border-b-2 border-red-600 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"View All Articles"}),l(we,{to:"/newsletter",className:"bg-transparent text-white px-8 py-4 border-b-2 border-red-600 rounded-lg border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Subscribe to Newsletter"})]})]})})]})})},A9=()=>m(Rr,{children:[m("section",{className:"relative min-h-[80vh] flex items-center justify-center overflow-hidden",children:[l("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat bg-fixed",style:{backgroundImage:`linear-gradient(
              to bottom,
              rgba(16, 10, 30, 0.4),    
              rgba(0, 0, 0, 0.3)          
            ), url('https://images.unsplash.com/photo-1613490493576-7fde63acd811?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80')`},children:m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-10 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl animate-pulse"}),l("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-blue-300/20 rounded-full blur-lg animate-bounce"}),l("div",{className:"absolute top-1/2 right-1/4 w-3 h-3 bg-white/50 rounded-full animate-ping"})]})}),l(x9,{children:m("div",{className:"text-center space-y-4 md:space-y-8 relative z-10",children:[m("div",{className:"space-y-6",children:[m("h1",{className:"text-4xl text-gray-50 md:text-6xl lg:text-7xl font-bold leading-tight",children:["Find Your",l("span",{className:`block bg-gradient-to-r from-gray-50 to-gray-100 bg-clip-text text-transparent\r
                   [text-shadow:_0_1px_0_rgba(255,255,255,0.4),_0_-1px_0_rgba(0,0,0,0.2)]\r
                   drop-shadow-lg border-b-2 border-red-500 pb-1`,children:"Dream Home"})]}),l("p",{className:"text-xl md:text-2xl text-gray-50 max-w-3xl mx-auto leading-relaxed font-light bg-white/10 backdrop-blur-md rounded-2xl p-1 border border-white/20 shadow-2xl",children:"Discover exclusive properties with premium amenities. Expert agents ready to guide you home."})]}),l("div",{className:"max-w-4xl mx-auto transform transition-all duration-500 hover:scale-[1.02]",children:l("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-1 border border-white/20 shadow-2xl",children:l(l_,{onSearch:r=>{console.log("Home search:",r)},variant:"hero"})})})]})}),l("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:l("div",{className:"w-6 h-10 border-2 border-white/60 rounded-full flex justify-center",children:l("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2"})})})]}),m("section",{className:"py-2 py-16 bg-gradient-to-br from-blue-50 via-white to-blue-50 relative overflow-hidden",children:[m("div",{className:"absolute inset-0 opacity-5",children:[l("div",{className:"absolute top-0 left-0 w-32 h-32 bg-blue-200 rounded-full blur-3xl"}),l("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-blue-300 rounded-full blur-3xl"})]}),l(cr,{children:l(w9,{title:"",subtitle:"",limit:6})})]}),m("section",{className:"py-16 bg-white relative overflow-hidden",children:[l("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-50 rounded-full -translate-y-32 translate-x-32"}),l("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-blue-100 rounded-full translate-y-24 -translate-x-24"}),m(cr,{children:[m("div",{className:"text-center mb-16  border-b-2 border-red-600 pb-4 relative z-10",children:[l("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900  mb-4",children:"Our Services"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Comprehensive real estate services tailored to meet all your property needs"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4  gap-8 relative z-10",children:[{icon:l(Du,{className:"w-10 h-10"}),title:"Buying Properties",description:"Find your dream home with our extensive property listings and expert guidance."},{icon:l(qm,{className:"w-10 h-10"}),title:"Selling Properties",description:"Get the best value for your property with our marketing expertise and negotiation skills."},{icon:l(zm,{className:"w-10 h-10"}),title:"Property Rental",description:"Discover perfect rental properties for your needs with our comprehensive rental services."},{icon:l(Bm,{className:"w-10 h-10"}),title:"Property Management",description:"Professional management services to maximize your property investment returns."}].map((r,n)=>m("div",{className:"group relative bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 border border-blue-100 hover:border-blue-200 hover:-translate-y-2",children:[l("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-white rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),m("div",{className:"relative z-10",children:[l("div",{className:"inline-flex items-center border-b-2 border-red-600 justify-center p-4 rounded-2xl bg-blue-600 text-white mb-6 group-hover:bg-blue-700 group-hover:scale-110 transition-all duration-300 shadow-lg",children:r.icon}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-4 group-hover:text-blue-800 transition-colors duration-300",children:r.title}),l("p",{className:"text-gray-700 leading-relaxed text-sm relative",children:r.description})]})]},n))})]})]}),m("section",{className:"py-2 py-16 bg-gradient-to-br from-blue-50 via-white to-blue-50 relative overflow-hidden",children:[m("div",{className:"absolute inset-0 opacity-5",children:[l("div",{className:"absolute top-0 left-0 w-32 h-32 bg-blue-200 rounded-full blur-3xl"}),l("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-blue-300 rounded-full blur-3xl"})]}),l(cr,{children:l(E9,{title:"",subtitle:"",limit:6})})]}),m("section",{className:"relative py-16 md:py-20 bg-gradient-to-br from-blue-600  border-t-2 border-red-600 to-blue-700 text-white overflow-hidden",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-blue-400/20 rounded-full blur-3xl animate-bounce delay-1000"}),l("div",{className:"absolute top-1/2 left-1/4 w-3 h-3 bg-white/60 rounded-full animate-ping"}),l("div",{className:"absolute bottom-1/3 right-1/3 w-2 h-2 bg-white/40 rounded-full animate-pulse delay-500"})]}),l("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_1px_1px,_white_1px,_transparent_0)] bg-[length:20px_20px]"}),l(cr,{children:m("section",{className:"relative py-16 md:py-20 bg-gradient-to-br from-blue-600 to-blue-700  border-t-2 border-red-600 text-white overflow-hidden",children:[m("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`linear-gradient(
        rgba(37, 99, 235, 0.85),
        rgba(29, 78, 216, 0.92)
      ), url('https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2075&q=80')`},children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),l("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-blue-400/20 rounded-full blur-3xl animate-bounce delay-1000"}),l("div",{className:"absolute top-1/2 left-1/4 w-3 h-3 bg-white/60 rounded-full animate-ping"}),l("div",{className:"absolute bottom-1/3 right-1/3 w-2 h-2 bg-white/40 rounded-full animate-pulse delay-500"})]}),l("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_1px_1px,_white_1px,_transparent_0)] bg-[length:20px_20px]"})]}),l(cr,{children:m("div",{className:"relative z-10 text-center max-w-3xl mx-auto px-4",children:[l("h2",{className:"text-3xl md:text-4xl font-bold mb-6 bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Ready to Find Your Dream Property?"}),l("p",{className:"text-blue-100 text-lg md:text-xl mb-8 leading-relaxed font-light",children:"Join thousands of satisfied clients who found their perfect home with our expert guidance."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l(we,{to:"/properties",className:"bg-white text-blue-600 px-8 py-4 rounded-xl hover:bg-blue-50  border-b-2 border-red-600 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl hover:scale-105 min-w-[200px] text-center",children:"Browse Properties"}),l(we,{to:"/contact",className:"border-2 border-white text-white px-8 py-4 rounded-xl hover:bg-white hover:text-blue-600 transition-all duration-300 font-semibold hover:shadow-xl hover:scale-105 min-w-[200px] text-center",children:"Contact Agent"})]}),l("div",{className:"mt-8 text-blue-200 text-sm",children:"Trusted by 5,000+ happy homeowners"})]})})]})})]})]});function P9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function $h(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function S9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(t)}function T9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function I9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(t)}function C9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function yb(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(t)}function k9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function O9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"},child:[]}]})(t)}function R9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"},child:[]}]})(t)}function vb(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 11V3H7v4H3v14h8v-4h2v4h8V11h-4zM7 19H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm4 4H9v-2h2v2zm0-4H9V9h2v2zm0-4H9V5h2v2zm4 8h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm4 12h-2v-2h2v2zm0-4h-2v-2h2v2z"},child:[]}]})(t)}function bb(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 10v2H8v-2h2zm6 2v-2h-2v2h2zm5 2v8H3v-8h1v-4c0-4.42 3.58-8 8-8s8 3.58 8 8v4h1zM7 16H5v4h2v-4zm4 0H9v4h2v-4zm0-11.92C8.16 4.56 6 7.03 6 10v4h5V4.08zM13 14h5v-4c0-2.97-2.16-5.44-5-5.92V14zm2 2h-2v4h2v-4zm4 0h-2v4h2v-4z"},child:[]}]})(t)}function M9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM8.5 6a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5zm2.5 8h-1v4H7v-4H6v-2.5c0-1.1.9-2 2-2h1c1.1 0 2 .9 2 2V14zm4.5 3L13 13h5l-2.5 4zM13 11l2.5-4 2.5 4h-5z"},child:[]}]})(t)}function D9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.01 2.01 0 0 0 18.06 7h-.12a2 2 0 0 0-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8h3zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7h4zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4h3z"},child:[]}]})(t)}function L9(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 9.3V4h-3v2.6L12 3 2 12h3v8h5v-6h4v6h5v-8h3l-3-2.7zm-9 .7c0-1.1.9-2 2-2s2 .9 2 2h-4z"},child:[]}]})(t)}function xb(t){return ne({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 21h18"},child:[]},{tag:"path",attr:{d:"M19 21v-4"},child:[]},{tag:"path",attr:{d:"M19 17a2 2 0 0 0 2 -2v-2a2 2 0 1 0 -4 0v2a2 2 0 0 0 2 2z"},child:[]},{tag:"path",attr:{d:"M14 21v-14a3 3 0 0 0 -3 -3h-4a3 3 0 0 0 -3 3v14"},child:[]},{tag:"path",attr:{d:"M9 17v4"},child:[]},{tag:"path",attr:{d:"M8 13h2"},child:[]},{tag:"path",attr:{d:"M8 9h2"},child:[]}]})(t)}const j9=({filters:t,onFiltersChange:e,onReset:r,className:n=""})=>{const[i,a]=v.useState(t||{}),s=[{value:"",label:"Any Type"},{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"commercial",label:"Commercial"}],o=[{value:"",label:"Any Status"},{value:"forSale",label:"For Sale"},{value:"forRent",label:"For Rent"}],c=[{value:"",label:"Any Price"},{value:"0-100000",label:"Under $100,000"},{value:"100000-200000",label:"$100,000 - $200,000"},{value:"200000-300000",label:"$200,000 - $300,000"},{value:"300000-500000",label:"$300,000 - $500,000"},{value:"500000-1000000",label:"$500,000 - $1,000,000"},{value:"1000000-",label:"Over $1,000,000"}],u=[{value:"",label:"Any Bedrooms"},{value:"1",label:"1 Bedroom"},{value:"2",label:"2 Bedrooms"},{value:"3",label:"3 Bedrooms"},{value:"4",label:"4 Bedrooms"},{value:"5",label:"5+ Bedrooms"}],d=[{value:"",label:"Any Bathrooms"},{value:"1",label:"1 Bathroom"},{value:"2",label:"2 Bathrooms"},{value:"3",label:"3 Bathrooms"},{value:"4",label:"4+ Bathrooms"}],h=(b,y)=>{const N={...i,[b]:y};a(N),e(N)},p=b=>{let y,N;b&&([y,N]=b.split("-").map(P=>P===""?void 0:parseInt(P)));const _={...i,minPrice:y,maxPrice:N,priceRange:b};a(_),e(_)},g=()=>{a({}),r()},x=Object.values(i).some(b=>b!==void 0&&b!==""&&b!==null);return m("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${n}`,children:[m("div",{className:"flex items-center justify-between mb-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),x&&l("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All"})]}),m("div",{className:"space-y-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:s.map(b=>l("button",{onClick:()=>h("type",b.value),className:`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${i.type===b.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:b.label},b.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l("div",{className:"grid grid-cols-2 gap-2",children:o.map(b=>l("button",{onClick:()=>h("status",b.value),className:`px-3 py-2 text-sm rounded-lg border transition-colors duration-200 ${i.status===b.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:b.label},b.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),l("select",{value:i.priceRange||"",onChange:b=>p(b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:c.map(b=>l("option",{value:b.value,children:b.label},b.value))})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms"}),l("select",{value:i.bedrooms||"",onChange:b=>h("bedrooms",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:u.map(b=>l("option",{value:b.value,children:b.label},b.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms"}),l("select",{value:i.bathrooms||"",onChange:b=>h("bathrooms",b.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:d.map(b=>l("option",{value:b.value,children:b.label},b.value))})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Area (sq ft)"}),l("input",{type:"number",value:i.minArea||"",onChange:b=>h("minArea",b.target.value),placeholder:"0",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Area (sq ft)"}),l("input",{type:"number",value:i.maxArea||"",onChange:b=>h("maxArea",b.target.value),placeholder:"Any",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["parking","garden","pool","furnished","petFriendly","balcony"].map(b=>m("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:i[b]||!1,onChange:y=>h(b,y.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm text-gray-700 capitalize",children:b.replace(/([A-Z])/g," $1").trim()})]},b))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),l("input",{type:"text",value:i.location||"",onChange:b=>h("location",b.target.value),placeholder:"Enter city, neighborhood, or ZIP code",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),x&&m("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Active Filters"}),l("div",{className:"flex flex-wrap gap-2",children:Object.entries(i).map(([b,y])=>{if(!y||y==="")return null;let N=y;if(b==="priceRange"){const _=c.find(P=>P.value===y);N=_==null?void 0:_.label}else if(b==="type"){const _=s.find(P=>P.value===y);N=_==null?void 0:_.label}else if(b==="status"){const _=o.find(P=>P.value===y);N=_==null?void 0:_.label}else typeof y=="boolean"&&(N=b.replace(/([A-Z])/g," $1").trim());return m("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[N,l("button",{onClick:()=>h(b,""),className:"ml-2 hover:text-blue-900",children:""})]},b)})})]})]})},V9=()=>{const[t,e]=gx(),[r,n]=v.useState({}),[i,a]=v.useState("grid"),[s,o]=v.useState("newest"),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[p,g]=v.useState("");v.useEffect(()=>{const j=()=>{h(window.innerWidth<768)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const x=wr.useMemo(()=>{const{id:j,...V}=r;return{page:parseInt(t.get("page"))||1,limit:12,...V,sort:s==="newest"?"createdAt":s==="price_asc"?"price":s==="price_desc"?"-price":s==="popular"?"views":s==="area_desc"?"-specifications.area":"createdAt"}},[r,t,s]),{properties:b,loading:y,error:N,currentPage:_,totalPages:P,totalItems:L,refetch:k}=Up(x,"default",!0);v.useEffect(()=>{var j;b.length>0&&console.log(" Properties Page - First property images:",{title:b[0].title,primaryImage:b[0].primaryImage,images:b[0].images,featuredImage:b[0].featuredImage,hasPrimaryImage:!!b[0].primaryImage,hasImages:!!((j=b[0].images)!=null&&j.length)})},[b]),v.useEffect(()=>{const j=new URLSearchParams;Object.entries(r).forEach(([V,H])=>{H&&V!=="id"&&j.set(V,H.toString())}),_>1&&j.set("page",_.toString()),e(j)},[r,_,e]);const D=j=>{const{id:V,...H}=j;n(X=>({...X,...H,page:1}))},S=j=>{const{id:V,...H}=j;n(H),d&&u(!1)},I=j=>{n(V=>({...V,page:j}))},E=j=>{o(j)},R=[{label:"All Properties",value:"",icon:T9,count:L},{label:"For Sale",value:"sale",icon:$h,count:"1.2k"},{label:"For Rent",value:"rent",icon:O9,count:"856"},{label:"Featured",value:"featured",icon:L9,count:"43"},{label:"Luxury",value:"luxury",icon:xb,count:"127"},{label:"New",value:"new",icon:vb,count:"89"}],C=j=>{g(j),n(j===""?{page:1}:V=>({...V,status:j,page:1}))},O=[{label:"Newest First",value:"newest",icon:R9},{label:"Price: Low to High",value:"price_asc",icon:$h},{label:"Price: High to Low",value:"price_desc",icon:$h},{label:"Most Popular",value:"popular",icon:C9},{label:"Largest First",value:"area_desc",icon:vb}],T=Object.keys(r).filter(j=>j!=="page"&&r[j]&&r[j]!=="").length;return l(Rr,{children:m(cr,{children:[m("div",{className:"relative py-12 md:py-16 mb-8 md:mb-12 overflow-hidden bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-50 rounded-3xl border border-blue-100 animate-fade-in px-4 sm:px-0",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-blue-200/50 to-transparent animate-pulse"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-sky-200/40 to-transparent animate-pulse delay-75"}),l("div",{className:"absolute top-0 left-2/3 w-0.5 h-full bg-gradient-to-b from-transparent via-cyan-200/30 to-transparent animate-pulse delay-150"}),l("div",{className:"absolute top-1/4 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-blue-300/40 to-transparent animate-pulse"})}),l("div",{className:"absolute bottom-1/3 right-0 w-2/3",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-sky-300/30 to-transparent animate-pulse delay-100"})}),l("div",{className:"absolute top-16 left-20 w-6 h-6 border-2 border-blue-300/60 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-20 right-24 w-8 h-8 border-2 border-sky-300/50 rounded-full animate-float delay-300"}),l("div",{className:"absolute top-28 right-32 w-4 h-4 bg-blue-400/30 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute bottom-28 left-32 w-5 h-5 border border-cyan-300/40 rounded-full animate-bounce delay-200"}),l("div",{className:"absolute top-1/2 left-1/3 w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-1/3 right-1/4 w-1.5 h-1.5 bg-sky-500 rounded-full animate-pulse delay-150"}),l("div",{className:"absolute top-1/3 right-1/3 w-1 h-1 bg-cyan-500 rounded-full animate-ping delay-300"}),l("div",{className:"absolute -top-12 -left-12 w-40 h-40 bg-gradient-to-r from-blue-200 to-sky-200 rounded-full blur-3xl opacity-50"}),l("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-gradient-to-r from-cyan-200 to-blue-200 rounded-full blur-3xl opacity-40"}),l("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-r from-sky-200 to-cyan-200 rounded-full blur-2xl opacity-30"}),l("div",{className:"absolute top-4 left-4 w-8 h-8 border-t-2 border-l-2 border-blue-300/60 rounded-tl-lg"}),l("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-b-2 border-r-2 border-cyan-300/60 rounded-br-lg"})]}),m("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[m("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2.5 rounded-full border border-blue-200 shadow-sm mb-4 md:mb-6 hover:scale-105 transition-transform duration-200",children:[l(xb,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-600"}),l("span",{className:"text-sm md:text-base font-semibold text-blue-700 tracking-wide",children:"Octopus Real Estate"})]}),m("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 md:mb-6 font-serif tracking-tight leading-tight",children:["Discover Your ",l("span",{className:"bg-gradient-to-r from-blue-600 via-sky-600 to-cyan-600 bg-clip-text text-transparent",children:"Perfect"})," Property"]}),m("div",{className:"relative inline-block max-w-2xl",children:[l("div",{className:"absolute -inset-4 bg-white/40 rounded-2xl transform rotate-1 blur-sm"}),l("p",{className:"relative text-lg sm:text-xl md:text-2xl text-gray-700 leading-relaxed bg-white/70 backdrop-blur-sm p-6 md:p-8 rounded-xl border border-white/30 shadow-sm",children:"Explore luxury homes, modern apartments, and premium commercial spaces worldwide."})]}),m("div",{className:"flex justify-center items-center space-x-2 mt-6 md:mt-8",children:[l("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-ping"}),l("div",{className:"w-1.5 h-1.5 bg-sky-500 rounded-full animate-pulse delay-75"}),l("div",{className:"w-2 h-2 bg-cyan-500 rounded-full animate-ping delay-150"}),l("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse delay-200"}),l("div",{className:"w-2 h-2 bg-sky-400 rounded-full animate-ping delay-300"})]})]})]}),l("div",{className:"mb-8 md:mb-12 animate-slide-in px-4 sm:px-0",children:l("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-medium md:shadow-large p-4 md:p-6 border border-secondary-100",children:l(l_,{onSearch:D,initialValues:r,showAdvancedFilters:!1})})}),!d&&l("div",{className:"mb-8 md:mb-10",children:l("div",{className:"flex flex-wrap gap-2 md:gap-3 mb-6 justify-center",children:R.map(j=>{const V=j.icon,H=p===j.value;return m("button",{onClick:()=>C(j.value),className:`group relative flex items-center gap-2 md:gap-3 px-4 py-3 md:px-6 md:py-4 rounded-lg md:rounded-xl transition-all duration-300 transform hover:scale-105 border-2 ${H?"border-primary-500 bg-primary-50 text-primary-700 shadow-medium":"border-secondary-200 bg-white text-secondary-700 hover:border-primary-300 hover:shadow-soft"}`,children:[l(V,{className:`w-4 h-4 md:w-5 md:h-5 transition-colors ${H?"text-primary-600":"text-secondary-500 group-hover:text-primary-500"}`}),m("div",{className:"text-left",children:[l("div",{className:"font-semibold text-sm md:text-base",children:j.label}),m("div",{className:`text-xs md:text-sm ${H?"text-primary-600":"text-secondary-500"}`,children:[j.count," properties"]})]})]},j.value)})})}),m("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4 md:gap-6 mb-6 md:mb-8 p-4 md:p-6 bg-secondary-50 rounded-xl md:rounded-2xl border border-secondary-200 mx-4 sm:mx-0",children:[m("div",{className:"flex items-center gap-3 md:gap-4 w-full justify-between md:justify-start",children:[m("div",{className:"text-secondary-700",children:[m("p",{className:"text-base md:text-lg font-semibold whitespace-nowrap",children:[m("span",{className:"text-primary-600",children:[L,"+"]})," properties"]}),l("p",{className:"text-xs md:text-sm text-secondary-500",children:T>0&&`${T} filter${T>1?"s":""} applied`})]}),d&&m("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-all duration-300 shadow-lg shadow-primary-200 relative",children:[l(yb,{className:"w-4 h-4"}),T>0&&l("span",{className:"absolute -top-1 -right-1 bg-accent-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center animate-bounce-in",children:T})]})]}),!d&&m("div",{className:"flex items-center gap-3 md:gap-4",children:[m("div",{className:"flex bg-white rounded-lg md:rounded-xl shadow-soft border border-secondary-200 p-1",children:[m("button",{onClick:()=>a("grid"),className:`flex items-center gap-2 px-3 py-2 md:px-4 md:py-2 rounded-md md:rounded-lg transition-all duration-200 ${i==="grid"?"bg-primary-500 text-white shadow-md":"text-secondary-500 hover:text-secondary-700 hover:bg-secondary-100"}`,children:[l(S9,{className:"w-3 h-3 md:w-4 md:h-4"}),l("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"Grid"})]}),m("button",{onClick:()=>a("list"),className:`flex items-center gap-2 px-3 py-2 md:px-4 md:py-2 rounded-md md:rounded-lg transition-all duration-200 ${i==="list"?"bg-primary-500 text-white shadow-md":"text-secondary-500 hover:text-secondary-700 hover:bg-secondary-100"}`,children:[l(I9,{className:"w-3 h-3 md:w-4 md:h-4"}),l("span",{className:"text-xs md:text-sm font-medium hidden sm:inline",children:"List"})]})]}),m("div",{className:"relative",children:[l("select",{value:s,onChange:j=>E(j.target.value),className:"appearance-none bg-white border border-secondary-200 rounded-lg md:rounded-xl px-3 py-2 md:px-4 md:py-3 pr-8 md:pr-10 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 shadow-soft hover:shadow-medium text-sm md:text-base min-w-32 md:min-w-48",children:O.map(j=>l("option",{value:j.value,children:j.label},j.value))}),l(P9,{className:"absolute right-2 md:right-3 top-1/2 transform -translate-y-1/2 text-secondary-400 pointer-events-none w-3 h-3 md:w-4 md:h-4"})]}),m("button",{onClick:()=>u(!0),className:"flex items-center gap-2 md:gap-3 bg-primary-600 text-white px-4 py-2 md:px-6 md:py-3 rounded-lg md:rounded-xl hover:bg-primary-700 transition-all duration-300 transform hover:scale-105 shadow-lg shadow-primary-200 hover:shadow-xl hover:shadow-primary-300 relative",children:[l(yb,{className:"w-4 h-4"}),l("span",{className:"font-semibold text-sm md:text-base",children:"Filters"}),T>0&&l("span",{className:"absolute -top-1 -right-1 md:-top-2 md:-right-2 bg-accent-500 text-white text-xs rounded-full w-4 h-4 md:w-6 md:h-6 flex items-center justify-center animate-bounce-in text-xs",children:T})]})]})]}),m("div",{className:"relative px-4 sm:px-0",children:[c&&m("div",{className:"fixed inset-0 z-90 animate-fade-in",children:[l("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:()=>u(!1)}),l("div",{className:"absolute inset-0 md:right-0 md:top-0 md:h-full md:w-full md:max-w-md bg-white shadow-2xl transform animate-slide-in overflow-y-auto",children:m("div",{className:"p-4 md:p-6 h-full flex flex-col",children:[m("div",{className:"flex items-center justify-between mb-4 md:mb-6 pb-3 md:pb-4 border-b border-secondary-200",children:[m("div",{children:[l("h2",{className:"text-xl md:text-2xl font-bold text-secondary-900 font-serif",children:"Filters"}),l("p",{className:"text-secondary-500 text-xs md:text-sm mt-1",children:"Refine your property search"})]}),l("button",{onClick:()=>u(!1),className:"p-2 md:p-3 hover:bg-secondary-100 rounded-lg md:rounded-xl transition-all duration-200 hover:scale-110",children:l(k9,{className:"w-5 h-5 md:w-6 md:h-6 text-secondary-500"})})]}),l("div",{className:"flex-1",children:l(j9,{filters:r,onFiltersChange:S,onReset:()=>{n({page:1}),g(""),u(!1)},compact:!0})}),m("div",{className:"flex gap-2 md:gap-3 pt-4 md:pt-6 mt-4 md:mt-6 border-t border-secondary-200",children:[l("button",{onClick:()=>{n({page:1}),g(""),u(!1)},className:"flex-1 px-4 py-2 md:px-6 md:py-3 border border-secondary-300 text-secondary-700 rounded-lg md:rounded-xl hover:bg-secondary-50 transition-colors duration-200 font-medium text-sm md:text-base",children:"Reset All"}),l("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 md:px-6 md:py-3 bg-primary-600 text-white rounded-lg md:rounded-xl hover:bg-primary-700 transition-all duration-200 transform hover:scale-105 font-medium shadow-md text-sm md:text-base",children:"Apply Filters"})]})]})})]}),!1,l("div",{className:"animate-fade-in",children:l(u_,{properties:b,loading:y,error:N,currentPage:_,totalPages:P,totalItems:L,onPageChange:I,onSortChange:E,sortBy:s,view:i})})]}),y&&m("div",{className:"flex flex-col justify-center items-center py-12 md:py-16 space-y-3 md:space-y-4",children:[l("div",{className:"animate-spin rounded-full h-8 w-8 md:h-12 md:w-12 border-b-2 border-primary-600"}),l("p",{className:"text-secondary-600 font-medium text-sm md:text-base",children:"Loading premium properties..."})]})]})})},$9=({isOpen:t,onClose:e,title:r,children:n,size:i="medium",closeOnOverlayClick:a=!0})=>(v.useEffect(()=>{const c=u=>{u.keyCode===27&&e()};return t&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[t,e]),t?l("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:c=>{c.target===c.currentTarget&&a&&e()},children:m("div",{className:`bg-white rounded-2xl shadow-2xl w-full ${{small:"max-w-md",medium:"max-w-2xl",large:"max-w-4xl",xlarge:"max-w-6xl",full:"max-w-full mx-4"}[i]} max-h-[90vh] overflow-hidden animate-modal-in`,children:[(r||e)&&m("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r&&l("h2",{className:"text-xl font-semibold text-gray-900",children:r}),l("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition duration-200 p-2 hover:bg-gray-100 rounded-lg",children:l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:n})]})}):null),F9=({images:t,title:e,className:r=""})=>{const[n,i]=v.useState(0),[a,s]=v.useState(!1),o=y=>typeof y=="string"?y:y&&y.url?y.url:y&&y.path?y.path:null,c=(y,N)=>typeof y=="string"?`${e} - Image ${N+1}`:y&&y.originalName?y.originalName:y&&y.filename?y.filename:`${e} - Image ${N+1}`,u=wr.useMemo(()=>!t||!Array.isArray(t)?[]:t.map(y=>o(y)).filter(y=>y&&y!==""),[t]);if(!u||u.length===0)return l("div",{className:`bg-gray-200 rounded-2xl flex items-center justify-center h-64 ${r}`,children:l("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})});const d=u[n],h=u.slice(0,5),p=()=>{i(y=>y===u.length-1?0:y+1)},g=()=>{i(y=>y===0?u.length-1:y-1)},x=(y=0)=>{i(y),s(!0)},b=()=>{s(!1)};return m(tr,{children:[m("div",{className:`${r}`,children:[m("div",{className:"relative rounded-2xl overflow-hidden bg-gray-200",children:[l("img",{src:d,alt:c(t==null?void 0:t[n],n),className:"w-full h-96 object-cover cursor-pointer",onClick:()=>x(n),onError:y=>{console.error(" Image failed to load:",d),y.target.src="/images/placeholder-property.jpg"}}),u.length>1&&m(tr,{children:[l("button",{onClick:g,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l("button",{onClick:p,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),m("div",{className:"absolute bottom-4 right-4 bg-black bg-opacity-60 text-white px-3 py-1 rounded-full text-sm font-medium",children:[n+1," / ",u.length]}),l("button",{onClick:()=>x(n),className:"absolute bottom-4 left-4 bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all duration-200 shadow-lg",children:l("svg",{className:"w-5 h-5 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})]}),u.length>1&&l("div",{className:"grid grid-cols-5 gap-2 mt-3",children:h.map((y,N)=>m("button",{onClick:()=>i(N),className:`relative rounded-lg overflow-hidden border-2 transition-all duration-200 ${n===N?"border-blue-600 ring-2 ring-blue-600 ring-opacity-30 shadow-md":"border-transparent hover:border-gray-300 hover:shadow-sm"}`,children:[l("img",{src:y,alt:c(t==null?void 0:t[N],N),className:"w-full h-16 object-cover",onError:_=>{console.error(" Thumbnail failed to load:",y),_.target.src="/images/placeholder-property.jpg"}}),N===4&&u.length>5&&l("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:m("span",{className:"text-white text-sm font-semibold",children:["+",u.length-5]})})]},N))})]}),l($9,{isOpen:a,onClose:b,size:"full",closeOnOverlayClick:!0,children:m("div",{className:"relative h-full flex items-center justify-center bg-black",children:[l("button",{onClick:b,className:"absolute top-6 right-6 z-10 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l("img",{src:u[n],alt:c(t==null?void 0:t[n],n),className:"max-w-full max-h-full object-contain",onError:y=>{console.error(" Fullscreen image failed to load:",u[n]),y.target.src="/images/placeholder-property.jpg"}}),u.length>1&&m(tr,{children:[l("button",{onClick:g,className:"absolute left-6 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),l("button",{onClick:p,className:"absolute right-6 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 p-3 rounded-full hover:bg-opacity-30 transition-all duration-200",children:l("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),m("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-60 text-white px-4 py-2 rounded-full font-medium",children:[n+1," / ",u.length]}),u.length>1&&l("div",{className:"absolute bottom-6 left-6 right-6 flex justify-center space-x-2",children:u.map((y,N)=>l("button",{onClick:()=>i(N),className:`w-12 h-12 rounded border-2 transition-all duration-200 ${n===N?"border-white ring-2 ring-white ring-opacity-50":"border-transparent hover:border-white hover:border-opacity-50"}`,children:l("img",{src:y,alt:c(t==null?void 0:t[N],N),className:"w-full h-full object-cover rounded",onError:_=>{console.error(" Modal thumbnail failed to load:",y),_.target.src="/images/placeholder-property.jpg"}})},N))})]})})]})},U9=({property:t,height:e="400px",className:r="",showMarker:n=!0,interactive:i=!0})=>{var p,g,x,b,y,N,_;const[a,s]=v.useState(!1),[o,c]=v.useState(!1),u={lat:((p=t==null?void 0:t.location)==null?void 0:p.lat)||40.7128,lng:((g=t==null?void 0:t.location)==null?void 0:g.lng)||-74.006},d=`https://maps.googleapis.com/maps/api/staticmap?
    center=${u.lat},${u.lng}
    &zoom=15
    &size=600x400
    &markers=color:red%7C${u.lat},${u.lng}
    &key=YOUR_GOOGLE_MAPS_API_KEY`,h=`https://www.google.com/maps/search/?api=1&query=${u.lat},${u.lng}`;return v.useEffect(()=>{const P=setTimeout(()=>{s(!0)},1e3);return()=>clearTimeout(P)},[]),a?o?l("div",{className:`bg-gray-100 rounded-2xl flex items-center justify-center ${r}`,style:{height:e},children:m("div",{className:"text-center p-6",children:[l("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),l("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Map Unavailable"}),l("p",{className:"text-gray-600 mb-4",children:"We couldn't load the map for this property."}),m("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:[m("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"View on Google Maps"]})]})}):m("div",{className:`${r}`,children:[m("div",{className:"bg-gray-200 rounded-2xl overflow-hidden relative",style:{height:e},children:[l("img",{src:d,alt:`Location of ${t==null?void 0:t.title}`,className:"w-full h-full object-cover",onError:()=>c(!0)}),i&&m("div",{className:"absolute inset-0 bg-transparent cursor-pointer",onClick:()=>window.open(h,"_blank"),children:[l("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-3",children:m("div",{className:"flex items-center space-x-2 text-sm",children:[m("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{className:"text-gray-700",children:"View larger map"})]})}),n&&l("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:m("div",{className:"relative",children:[l("div",{className:"w-6 h-6 bg-red-600 rounded-full border-2 border-white shadow-lg animate-pulse"}),l("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-white px-2 py-1 rounded-lg shadow-lg text-xs font-semibold whitespace-nowrap",children:t==null?void 0:t.title})]})})]})]}),m("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl",children:[l("h4",{className:"font-semibold text-gray-900 mb-2",children:"Location Details"}),m("div",{className:"space-y-2 text-sm text-gray-600",children:[((x=t==null?void 0:t.location)==null?void 0:x.address)&&m("div",{className:"flex items-start space-x-2",children:[m("svg",{className:"w-4 h-4 mt-0.5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l("span",{children:t.location.address})]}),((b=t==null?void 0:t.location)==null?void 0:b.neighborhood)&&m("div",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("span",{children:t.location.neighborhood})]}),(((y=t==null?void 0:t.location)==null?void 0:y.city)||((N=t==null?void 0:t.location)==null?void 0:N.state)||((_=t==null?void 0:t.location)==null?void 0:_.zipCode))&&m("div",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),l("span",{children:[t.location.city,t.location.state,t.location.zipCode].filter(Boolean).join(", ")})]})]}),m("div",{className:"flex space-x-3 mt-4",children:[l("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 text-white text-center py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200 text-sm font-medium",children:"Open in Maps"}),l("button",{className:"flex-1 bg-white text-gray-700 text-center py-2 px-4 rounded-lg border border-gray-300 hover:bg-gray-50 transition duration-200 text-sm font-medium",children:"Get Directions"})]})]})]}):l("div",{className:`bg-gray-200 rounded-2xl flex items-center justify-center ${r}`,style:{height:e},children:m("div",{className:"text-center",children:[l("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),l("p",{className:"text-gray-600 text-sm",children:"Loading map..."})]})})},z9="modulepreload",B9=function(t,e){return new URL(t,e).href},wb={},h_=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=B9(a,n),a in wb)return;wb[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===a&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":z9,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},W9=({propertyId:t=null,propertyTitle:e=null,agentId:r=null,className:n="",onSubmit:i})=>{const[a,s]=v.useState(!1),[o,c]=v.useState(null),{values:u,errors:d,handleChange:h,handleSubmit:p,resetForm:g}=nd({initialValues:{name:"",email:"",phone:"",subject:e?`Inquiry about ${e}`:"",message:"",propertyId:t||"",agentId:r||"",type:"general"},validate:y=>{const N={};return y.name.trim()||(N.name="Name is required"),y.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)||(N.email="Please enter a valid email address"):N.email="Email is required",y.message.trim()||(N.message="Message is required"),y.phone&&!/^[\+]?[1-9][\d]{0,15}$/.test(y.phone.replace(/[\s\-\(\)]/g,""))&&(N.phone="Please enter a valid phone number"),N},onSubmit:async y=>{s(!0),c(null);try{i?await i(y):await x(y),c({type:"success",message:"Thank you! Your message has been sent successfully. We will get back to you soon."}),g()}catch(N){c({type:"error",message:N.message||"Sorry, there was an error sending your message. Please try again."})}finally{s(!1)}}}),x=async y=>{const N=await h_(()=>import("./index-0ca98fd1.js"),[],import.meta.url),_={from_name:y.name,from_email:y.email,phone:y.phone||"Not provided",subject:y.subject,message:y.message,inquiry_type:y.type,property_id:y.propertyId||"N/A",agent_id:y.agentId||"N/A",submitted_at:new Date().toLocaleString(),to_email:{}.REACT_APP_ADMIN_EMAIL||"admin@yourdomain.com"};try{await N.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_TEMPLATE_ID,_,{}.REACT_APP_EMAILJS_PUBLIC_KEY)}catch(P){throw console.error("EmailJS error:",P),new Error("Failed to send message. Please try again.")}},b=[{value:"general",label:"General Inquiry"},{value:"viewing",label:"Schedule a Viewing"},{value:"valuation",label:"Property Valuation"},{value:"mortgage",label:"Mortgage Information"}];return m("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${n}`,children:[m("div",{className:"mb-6",children:[l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e?`Contact About ${e}`:"Contact Us"}),l("p",{className:"text-gray-600",children:e?"Interested in this property? Send us a message and we'll get back to you soon.":"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),o&&l("div",{className:`p-4 rounded-lg mb-6 ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.message}),m("form",{onSubmit:p,className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),l("input",{type:"text",id:"name",name:"name",value:u.name,onChange:h,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.name?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your full name"}),d.name&&l("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),m("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:u.email,onChange:h,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.email?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your email address"}),d.email&&l("p",{className:"mt-1 text-sm text-red-600",children:d.email})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:h,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.phone?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your phone number"}),d.phone&&l("p",{className:"mt-1 text-sm text-red-600",children:d.phone})]}),m("div",{children:[l("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Inquiry Type"}),l("select",{id:"type",name:"type",value:u.type,onChange:h,disabled:a,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${a?"bg-gray-50 opacity-50":""}`,children:b.map(y=>l("option",{value:y.value,children:y.label},y.value))})]})]}),m("div",{children:[l("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),l("input",{type:"text",id:"subject",name:"subject",value:u.subject,onChange:h,disabled:a,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter the subject of your message"})]}),m("div",{children:[l("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),l("textarea",{id:"message",name:"message",value:u.message,onChange:h,rows:6,disabled:a,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${d.message?"border-red-500":"border-gray-300"} ${a?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your message..."}),d.message&&l("p",{className:"mt-1 text-sm text-red-600",children:d.message})]}),t&&l("input",{type:"hidden",name:"propertyId",value:t}),r&&l("input",{type:"hidden",name:"agentId",value:r}),m("div",{className:"flex items-center justify-between pt-4",children:[l("p",{className:"text-sm text-gray-600",children:"* Required fields"}),l("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center space-x-2",children:a?m(tr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Sending..."})]}):l("span",{children:"Send Message"})})]})]}),m("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[l("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Other Ways to Reach Us"}),m("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Call Us"}),l("p",{className:"text-gray-600",children:"+234 913 208 0059"})]})]}),m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Email Us"}),l("p",{className:"text-gray-600",children:"info@Octopusrealestate.com"})]})]}),m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:"Office Hours"}),l("p",{className:"text-gray-600",children:"Mon-Fri: 9AM-6PM"})]})]})]})]})]})},H9=({propertyId:t,propertyTitle:e,agentId:r,agentName:n,className:i="",onSubmit:a})=>{const[s,o]=v.useState(!1),[c,u]=v.useState(null),{values:d,errors:h,handleChange:p,handleSubmit:g,resetForm:x}=nd({initialValues:{name:"",email:"",phone:"",propertyId:t||"",propertyTitle:e||"",agentId:r||"",agentName:n||"",preferredDate:"",preferredTime:"",message:"",contactMethod:"phone",urgency:"normal"},validate:k=>{const D={};return k.name.trim()||(D.name="Name is required"),k.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)||(D.email="Please enter a valid email address"):D.email="Email is required",k.phone.trim()||(D.phone="Phone number is required"),k.preferredDate||(D.preferredDate="Preferred date is required"),k.preferredTime||(D.preferredTime="Preferred time is required"),D},onSubmit:async k=>{o(!0),u(null);try{a?await a(k):await b(k),u({type:"success",message:"Thank you! Your appointment request has been submitted. We will contact you to confirm the details."}),x()}catch(D){u({type:"error",message:D.message||"Sorry, there was an error submitting your appointment request. Please try again."})}finally{o(!1)}}}),b=async k=>{const D=await h_(()=>import("./index-0ca98fd1.js"),[],import.meta.url),S={from_name:k.name,from_email:k.email,phone:k.phone,preferred_date:k.preferredDate?new Date(k.preferredDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Not specified",preferred_time:k.preferredTime||"Not specified",contact_method:k.contactMethod,urgency:k.urgency,message:k.message||"No additional notes",property_title:k.propertyTitle||"Not specified",property_id:k.propertyId||"N/A",agent_name:k.agentName||"Not assigned",agent_id:k.agentId||"N/A",submitted_at:new Date().toLocaleString(),to_email:{}.REACT_APP_ADMIN_EMAIL||"admin@yourdomain.com"};try{await D.send({}.REACT_APP_EMAILJS_SERVICE_ID,{}.REACT_APP_EMAILJS_APPOINTMENT_TEMPLATE_ID||{}.REACT_APP_EMAILJS_TEMPLATE_IDA,S,{}.REACT_APP_EMAILJS_PUBLIC_KEY)}catch(I){throw console.error("EmailJS error:",I),new Error("Failed to submit appointment request. Please try again.")}},y=[];for(let k=9;k<=17;k++)for(let D=0;D<60;D+=30){const S=`${k.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`;y.push(S)}const N=[],_=new Date;for(let k=1;k<=14;k++){const D=new Date(_);D.setDate(_.getDate()+k),D.getDay()!==0&&D.getDay()!==6&&N.push({value:D.toISOString().split("T")[0],label:D.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}const P=[{value:"phone",label:"Phone Call"},{value:"email",label:"Email"},{value:"text",label:"Text Message"}],L=[{value:"low",label:"Low - Flexible timing"},{value:"normal",label:"Normal - Within a week"},{value:"high",label:"High - As soon as possible"}];return m("div",{className:`bg-white rounded-2xl shadow-lg p-6 ${i}`,children:[m("div",{className:"mb-6",children:[l("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Schedule a Viewing"}),l("p",{className:"text-gray-600",children:e?`Interested in viewing "${e}"? Schedule an appointment and we'll arrange a viewing at your convenience.`:"Schedule a property viewing with one of our expert agents."}),n&&l("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:m("p",{className:"text-sm text-blue-800",children:[l("strong",{children:"Assigned Agent:"})," ",n]})})]}),c&&l("div",{className:`p-4 rounded-lg mb-6 ${c.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:c.message}),m("form",{onSubmit:g,className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),l("input",{type:"text",id:"name",name:"name",value:d.name,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.name?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your full name"}),h.name&&l("p",{className:"mt-1 text-sm text-red-600",children:h.name})]}),m("div",{children:[l("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:d.email,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.email?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your email address"}),h.email&&l("p",{className:"mt-1 text-sm text-red-600",children:h.email})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.phone?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Enter your phone number"}),h.phone&&l("p",{className:"mt-1 text-sm text-red-600",children:h.phone})]}),m("div",{children:[l("label",{htmlFor:"contactMethod",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Contact Method"}),l("select",{id:"contactMethod",name:"contactMethod",value:d.contactMethod,onChange:p,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,children:P.map(k=>l("option",{value:k.value,children:k.label},k.value))})]})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{htmlFor:"preferredDate",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date *"}),m("select",{id:"preferredDate",name:"preferredDate",value:d.preferredDate,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.preferredDate?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,children:[l("option",{value:"",children:"Select a date"}),N.map(k=>l("option",{value:k.value,children:k.label},k.value))]}),h.preferredDate&&l("p",{className:"mt-1 text-sm text-red-600",children:h.preferredDate})]}),m("div",{children:[l("label",{htmlFor:"preferredTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time *"}),m("select",{id:"preferredTime",name:"preferredTime",value:d.preferredTime,onChange:p,disabled:s,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${h.preferredTime?"border-red-500":"border-gray-300"} ${s?"bg-gray-50 opacity-50":""}`,children:[l("option",{value:"",children:"Select a time"}),y.map(k=>l("option",{value:k,children:k},k))]}),h.preferredTime&&l("p",{className:"mt-1 text-sm text-red-600",children:h.preferredTime})]})]}),m("div",{children:[l("label",{htmlFor:"urgency",className:"block text-sm font-medium text-gray-700 mb-2",children:"How soon would you like to view the property?"}),l("select",{id:"urgency",name:"urgency",value:d.urgency,onChange:p,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,children:L.map(k=>l("option",{value:k.value,children:k.label},k.value))})]}),m("div",{children:[l("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes or Special Requests"}),l("textarea",{id:"message",name:"message",value:d.message,onChange:p,rows:4,disabled:s,className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 ${s?"bg-gray-50 opacity-50":""}`,placeholder:"Any special requirements or questions you'd like to share..."})]}),t&&l("input",{type:"hidden",name:"propertyId",value:t}),r&&l("input",{type:"hidden",name:"agentId",value:r}),m("div",{className:"flex items-center justify-between pt-4",children:[l("p",{className:"text-sm text-gray-600",children:"* Required fields. We typically respond within 2 hours during business hours."}),l("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center space-x-2",children:s?m(tr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Scheduling..."})]}):l("span",{children:"Schedule Viewing"})})]})]}),l("div",{className:"mt-8 pt-6 border-t border-gray-200",children:m("div",{className:"bg-gray-50 rounded-lg p-4",children:[l("h4",{className:"font-semibold text-gray-900 mb-2",children:"What to Expect"}),m("ul",{className:"text-sm text-gray-600 space-y-1",children:[l("li",{children:" We'll contact you to confirm your appointment details"}),l("li",{children:" A confirmation email with property details will be sent"}),l("li",{children:" Our agent will meet you at the property at the scheduled time"}),l("li",{children:" Please bring a valid ID for security purposes"})]})]})})]})},q9=()=>{var T,j,V,H,X,re;const{id:t}=yx(),{property:e,loading:r,error:n}=g9(t),[i,a]=v.useState("overview"),[s,o]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[p,g]=v.useState(!1);if(v.useEffect(()=>{const F=()=>{g(window.innerWidth<768)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),v.useEffect(()=>{const F=Q=>{Q.key==="Escape"&&(o(!1),u(!1))};return s||c?(document.addEventListener("keydown",F),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",F),document.body.style.overflow="unset"}},[s,c]),r)return l(Rr,{children:l("div",{className:"flex justify-center items-center min-h-screen bg-white",children:l(nl,{size:"large",text:"Loading property details..."})})});if(n||!e)return l(Rr,{children:l("div",{className:"min-h-screen bg-white flex items-center justify-center px-4",children:l(wo,{children:m("div",{className:"text-center py-16",children:[l("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),l("p",{className:"text-gray-600 mb-8 text-sm md:text-base",children:"The property you're looking for doesn't exist."}),l(we,{to:"/properties",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold text-sm md:text-base",children:"Browse Properties"})]})})})});const x=e.specifications||{},b=e.location||{},y=e.amenities||[],N=e.agentInfo||e.agent||{},_=e.images||[],P=e.primaryImage||((T=_[0])==null?void 0:T.url)||_[0],L=P?[P,..._.filter(F=>F!==P&&F.url!==P).map(F=>F.url||F)]:_.map(F=>F.url||F),k=[{icon:Ax,label:"Bedrooms",value:x.bedrooms||e.bedrooms||"N/A",description:"Comfortable bedrooms"},{icon:Ex,label:"Bathrooms",value:x.bathrooms||e.bathrooms||"N/A",description:"Modern bathrooms"},{icon:Ix,label:"Area",value:`${x.area||e.area||"N/A"} ${x.areaUnit||"sqft"}`,description:"Total living area"},{icon:oS,label:"Lot Size",value:x.lotSize?`${x.lotSize} ${x.lotSizeUnit||"sqft"}`:"N/A",description:"Property land size"},{icon:Px,label:"Year Built",value:x.yearBuilt||e.yearBuilt||"N/A",description:"Construction year"},{icon:zm,label:"Stories",value:x.stories||x.floors||"N/A",description:"Number of floors"},{icon:LP,label:"Garage",value:x.garage?`${x.garageSpaces||1} spaces`:"No",description:"Parking capacity"},{icon:Ly,label:"Parking",value:x.parking||e.parking||"Available",description:"Additional parking"}],D=[{icon:qm,label:"Price per Sq Ft",value:e.price&&x.area?`${Math.round(e.price/x.area).toLocaleString()}`:"N/A",trend:"+5.2%"},{icon:UP,label:"Time on Market",value:"2 weeks",badge:"New"},{icon:WP,label:"Property Views",value:"1,247",trend:"+25%"},{icon:Rl,label:"Property Rating",value:"4.8/5",reviews:"12 reviews"}],S={balcony:bb,"security-system":ZP,furnished:jP,heating:Vy,"air-conditioning":Vy,"swimming-pool":tS,garden:rS,terrace:bb,"pet-friendly":XP,wifi:cS,tv:nS,kitchen:sS,gym:BP,elevator:M9,"family-friendly":D9,parking:Ly},I=F=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",maximumFractionDigits:0}).format(F),E=F=>{switch(F){case"for-rent":case"forRent":case"rent":return"bg-blue-100 text-blue-800 border-blue-200";case"for-sale":case"forSale":case"sale":return"bg-green-100 text-green-800 border-green-200";case"sold":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=F=>{switch(F){case"for-rent":case"forRent":case"rent":return"For Rent";case"for-sale":case"forSale":case"sale":return"For Sale";case"sold":return"Sold";default:return"Available"}},C=()=>{o(!1),u(!1)},O=F=>{F.target===F.currentTarget&&C()};return m(Rr,{children:[m("div",{className:"bg-white",children:[m("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:[l("div",{className:"absolute inset-0 bg-black/50"}),l(wo,{children:m("div",{className:"relative py-4 md:py-8",children:[m("div",{className:"flex justify-between items-center mb-4 md:mb-8",children:[m(we,{to:"/properties",className:"flex items-center space-x-2 bg-white/20 px-3 py-2 md:px-4 md:py-2 rounded-lg hover:bg-white/30 transition text-sm md:text-base",children:[l($P,{className:"text-sm md:text-base"}),l("span",{className:"hidden xs:inline",children:"Back to Properties"}),l("span",{className:"xs:hidden",children:"Back"})]}),m("div",{className:"flex space-x-1 md:space-x-2",children:[l("button",{onClick:()=>h(!d),className:`p-2 md:p-3 rounded-lg ${d?"bg-red-500":"bg-white/20"} hover:bg-white/30 transition`,children:l(Hm,{className:`text-sm md:text-base ${d?"fill-current":""}`})}),l("button",{className:"p-2 md:p-3 rounded-lg bg-white/20 hover:bg-white/30 transition",children:l(JP,{className:"text-sm md:text-base"})})]})]}),m("div",{className:"grid lg:grid-cols-3 gap-4 md:gap-8 items-start",children:[m("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[m("div",{className:"flex flex-wrap gap-2",children:[l("span",{className:`px-3 py-1 md:px-4 md:py-2 rounded-lg text-xs md:text-sm font-semibold ${E(e.status)}`,children:R(e.status)}),e.featured&&m("span",{className:"px-3 py-1 md:px-4 md:py-2 rounded-lg bg-yellow-400 text-yellow-900 text-xs md:text-sm font-semibold flex items-center gap-1 md:gap-2",children:[l(Rl,{className:"fill-current text-xs md:text-sm"}),l("span",{className:"hidden xs:inline",children:"Featured"}),l("span",{className:"xs:hidden",children:"Feat."})]})]}),m("div",{children:[l("h1",{className:"text-xl md:text-3xl lg:text-4xl font-bold mb-2 md:mb-4 leading-tight",children:e.title}),m("div",{className:"flex items-center space-x-2 text-sm md:text-lg",children:[l(Sx,{className:"flex-shrink-0"}),l("span",{className:"truncate",children:e.formattedAddress||b.address})]})]}),l("div",{className:"grid grid-cols-2 gap-2 md:gap-4 md:grid-cols-4",children:k.slice(0,4).map((F,Q)=>{const ce=F.icon;return m("div",{className:"text-center p-2 md:p-4 bg-white/10 rounded-lg",children:[l(ce,{className:"text-lg md:text-2xl mx-auto mb-1 md:mb-2"}),l("div",{className:"text-sm md:text-xl font-bold truncate",children:F.value}),l("div",{className:"text-xs md:text-sm text-white/80 truncate",children:F.label})]},Q)})})]}),m("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 md:p-6 border border-white/20",children:[m("div",{className:"text-center mb-4 md:mb-6",children:[l("div",{className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-1 md:mb-2",children:I(e.price)}),l("div",{className:"text-white/80 text-sm md:text-base",children:e.status==="for-rent"||e.status==="rent"?"per month":"Total Price"}),x.area&&m("div",{className:"text-white/60 text-xs md:text-sm mt-1 md:mt-2",children:[I(Math.round(e.price/x.area))," per sq ft"]})]}),m("div",{className:"space-y-2 md:space-y-3",children:[m("button",{onClick:()=>o(!0),className:"w-full bg-white text-blue-600 py-2 md:py-3 rounded-lg hover:bg-blue-50 transition font-semibold flex items-center justify-center space-x-2 text-sm md:text-base",children:[l(rs,{className:"text-sm md:text-base"}),l("span",{children:"Contact Agent"})]}),m("button",{onClick:()=>u(!0),className:"w-full border-2 border-white text-white py-2 md:py-3 rounded-lg hover:bg-white/10 transition font-semibold flex items-center justify-center space-x-2 text-sm md:text-base",children:[l(Dy,{className:"text-sm md:text-base"}),l("span",{children:"Schedule Viewing"})]}),m("button",{className:"w-full border border-white/40 text-white py-2 md:py-3 rounded-lg hover:bg-white/5 transition font-semibold flex items-center justify-center space-x-2 text-sm md:text-base",children:[l(lS,{className:"text-sm md:text-base"}),l("span",{children:"Virtual Tour"})]})]}),m("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-white/20 text-center text-white/70 text-xs md:text-sm",children:["Property ID: ",((j=e._id)==null?void 0:j.slice(-8))||((V=e.id)==null?void 0:V.slice(-8))]})]})]})]})})]}),m(wo,{children:[l("div",{className:"py-6 md:py-8 -mt-6 md:-mt-8",children:l("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:D.map((F,Q)=>l("div",{className:"bg-white rounded-lg p-3 md:p-4 shadow-md border",children:m("div",{className:"flex items-center space-x-3 md:space-x-4",children:[l("div",{className:"p-2 md:p-3 bg-blue-100 rounded-lg text-blue-600",children:l(F.icon,{className:"text-lg md:text-xl"})}),m("div",{className:"flex-1 min-w-0",children:[l("div",{className:"text-lg md:text-xl font-bold text-gray-900 truncate",children:F.value}),l("div",{className:"text-xs md:text-sm text-gray-600 truncate",children:F.label}),F.badge&&l("span",{className:"inline-block mt-1 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:F.badge})]})]})},Q))})}),l("div",{className:"py-6 md:py-8",children:l(F9,{images:L,title:e.title})}),m(o_,{gap:6,className:"md:gap-8",children:[m("div",{className:"space-y-6 md:space-y-8",children:[l("div",{className:"bg-white rounded-lg shadow-md border",children:l("div",{className:"flex overflow-x-auto scrollbar-hide",children:["overview","features","location","details"].map(F=>l("button",{onClick:()=>a(F),className:`flex-1 min-w-0 px-4 py-3 md:px-6 md:py-4 font-medium text-xs md:text-sm capitalize border-b-2 transition whitespace-nowrap ${i===F?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900"}`,children:F},F))})}),m("div",{className:"space-y-6 md:space-y-8",children:[i==="overview"&&m(tr,{children:[m("div",{className:"bg-white rounded-lg shadow-md border p-4 md:p-6",children:[l("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-3 md:mb-4",children:"Property Description"}),l("p",{className:"text-gray-700 leading-relaxed text-sm md:text-base",children:e.description})]}),m("div",{className:"bg-white rounded-lg shadow-md border p-4 md:p-6",children:[l("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-4 md:mb-6",children:"Property Features"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:k.map((F,Q)=>{const ce=F.icon;return m("div",{className:"flex items-center space-x-3 md:space-x-4 p-3 bg-gray-50 rounded-lg",children:[l("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600 flex-shrink-0",children:l(ce,{className:"text-base md:text-lg"})}),m("div",{className:"flex-1 min-w-0",children:[m("div",{className:"flex justify-between items-center mb-1",children:[l("span",{className:"text-gray-600 font-medium text-sm md:text-base truncate",children:F.label}),l("span",{className:"font-bold text-gray-900 text-sm md:text-base ml-2",children:F.value})]}),l("p",{className:"text-xs text-gray-500 truncate",children:F.description})]})]},Q)})})]})]}),i==="features"&&m("div",{className:"bg-white rounded-lg shadow-md border p-4 md:p-6",children:[l("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-4 md:mb-6",children:"Amenities"}),l("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:y.map((F,Q)=>{const ce=F.toLowerCase(),Ee=S[ce]||Rl;return m("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[l("div",{className:"p-2 bg-green-100 rounded-lg text-green-600 flex-shrink-0",children:l(Ee,{className:"text-base md:text-lg"})}),l("span",{className:"text-gray-700 font-medium text-sm md:text-base truncate",children:F})]},Q)})})]}),i==="location"&&m("div",{className:"bg-white rounded-lg shadow-md border p-4 md:p-6",children:[l("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-4 md:mb-6",children:"Location"}),m("div",{className:"space-y-4 md:space-y-6",children:[m("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-2 md:mb-3 text-lg md:text-xl",children:"Address"}),l("p",{className:"text-gray-700 text-base md:text-lg font-medium",children:e.formattedAddress}),b.city&&m("p",{className:"text-gray-600 text-sm md:text-base",children:[b.city,", ",b.state," ",b.zipCode,", ",b.country]})]}),m("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-2 md:mb-3 text-lg md:text-xl",children:"Neighborhood"}),l("p",{className:"text-gray-700 leading-relaxed text-sm md:text-base",children:((H=e.description)==null?void 0:H.split(".")[0])||"This property is located in a well-established neighborhood with good access to amenities and transportation."})]}),l("div",{className:"h-48 md:h-64 bg-gray-200 rounded-lg",children:l(U9,{property:e,height:"100%"})})]})]}),i==="details"&&m("div",{className:"bg-white rounded-lg shadow-md border p-4 md:p-6",children:[l("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-4 md:mb-6",children:"Property Details"}),m("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8",children:[m("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-3 md:mb-4 text-lg md:text-xl",children:"Basic Information"}),l("div",{className:"space-y-2 md:space-y-3",children:[{label:"Property Type",value:e.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"Residential"},{label:"Property Status",value:R(e.status)},{label:"Year Built",value:x.yearBuilt||"N/A"},{label:"Construction Type",value:x.constructionType||"Standard"}].map((F,Q)=>m("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[l("span",{className:"text-gray-600 text-sm md:text-base",children:F.label}),l("span",{className:"font-semibold text-gray-900 text-sm md:text-base text-right",children:F.value})]},Q))})]}),m("div",{children:[l("h4",{className:"font-semibold text-gray-900 mb-3 md:mb-4 text-lg md:text-xl",children:"Additional Information"}),l("div",{className:"space-y-2 md:space-y-3",children:[{label:"Property ID",value:((X=e._id)==null?void 0:X.slice(-8))||((re=e.id)==null?void 0:re.slice(-8))},{label:"Listed Date",value:e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"},{label:"Last Updated",value:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"},{label:"Currency",value:"NGN"}].map((F,Q)=>m("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[l("span",{className:"text-gray-600 text-sm md:text-base",children:F.label}),l("span",{className:"font-semibold text-gray-900 text-sm md:text-base text-right",children:F.value})]},Q))})]})]})]})]})]}),m("div",{className:"space-y-4 md:space-y-6",children:[m("div",{className:"bg-white rounded-lg shadow-md border p-4 md:p-6 sticky top-4",children:[l("h4",{className:"font-semibold text-gray-900 mb-3 md:mb-4 text-lg md:text-xl",children:"Property Agent"}),m("div",{className:"flex items-center space-x-3 md:space-x-4 mb-3 md:mb-4",children:[l("img",{src:N.photoURL||"/images/agent-placeholder.jpg",alt:N.name,className:"w-12 h-12 md:w-16 md:h-16 rounded-lg object-cover border-2 border-blue-200 flex-shrink-0"}),m("div",{className:"flex-1 min-w-0",children:[l("p",{className:"font-bold text-gray-900 text-base md:text-lg truncate",children:N.name}),l("p",{className:"text-gray-600 text-xs md:text-sm",children:"Licensed Real Estate Agent"}),m("div",{className:"flex items-center space-x-1 mt-1",children:[[1,2,3,4,5].map(F=>l(Rl,{className:"text-yellow-400 text-xs md:text-sm fill-current"},F)),l("span",{className:"text-xs md:text-sm text-gray-500 ml-1 md:ml-2",children:"4.9 (128)"})]})]})]}),m("div",{className:"space-y-2 md:space-y-3 mb-3 md:mb-4",children:[m("div",{className:"flex justify-between text-xs md:text-sm text-gray-600",children:[l("span",{children:"Properties Sold"}),l("span",{className:"font-semibold text-gray-900",children:"247"})]}),m("div",{className:"flex justify-between text-xs md:text-sm text-gray-600",children:[l("span",{children:"Experience"}),l("span",{className:"font-semibold text-gray-900",children:"8 years"})]}),m("div",{className:"flex justify-between text-xs md:text-sm text-gray-600",children:[l("span",{children:"Response Time"}),l("span",{className:"font-semibold text-green-600",children:"~15 mins"})]})]}),m("div",{className:"space-y-2 md:space-y-3",children:[m("button",{onClick:()=>o(!0),className:"w-full bg-blue-600 text-white py-2 md:py-3 rounded-lg hover:bg-blue-700 transition font-semibold flex items-center justify-center space-x-2 text-sm md:text-base",children:[l(rs,{className:"text-sm md:text-base"}),l("span",{children:"Contact Agent"})]}),m("button",{onClick:()=>u(!0),className:"w-full border-2 border-blue-600 text-blue-600 py-2 md:py-3 rounded-lg hover:bg-blue-50 transition font-semibold flex items-center justify-center space-x-2 text-sm md:text-base",children:[l(Dy,{className:"text-sm md:text-base"}),l("span",{children:"Schedule Viewing"})]}),m("button",{className:"w-full border border-gray-300 text-gray-700 py-2 md:py-3 rounded-lg hover:bg-gray-50 transition font-semibold flex items-center justify-center space-x-2 text-sm md:text-base",children:[l(Wm,{className:"text-sm md:text-base"}),l("span",{children:"Send Message"})]})]})]}),m("div",{className:"bg-blue-50 rounded-lg p-4 md:p-6 border border-blue-200",children:[l("h4",{className:"font-semibold text-gray-900 mb-3 md:mb-4 text-lg md:text-xl",children:"Mortgage Estimate"}),m("div",{className:"space-y-2 md:space-y-3 text-xs md:text-sm",children:[m("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Monthly Payment"}),m("span",{className:"font-semibold text-gray-900",children:["~",I(e.price*.004)]})]}),m("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Interest Rate"}),l("span",{className:"font-semibold text-gray-900",children:"4.2%"})]}),m("div",{className:"flex justify-between",children:[l("span",{className:"text-gray-600",children:"Down Payment"}),l("span",{className:"font-semibold text-gray-900",children:"20%"})]}),l("button",{className:"w-full mt-3 md:mt-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition font-semibold text-sm md:text-base",children:"Calculate Mortgage"})]})]})]})]})]})]}),(s||c)&&l("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50 animate-fade-in",onClick:O,children:m("div",{className:`bg-white rounded-xl sm:rounded-2xl w-full max-w-md sm:max-w-lg md:max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl transform animate-scale-in ${p?"mx-2 my-4":""}`,children:[m("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10 flex justify-between items-center p-4 sm:p-6",children:[l("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Contact Agent":"Schedule Viewing"}),l("button",{onClick:C,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:l(kx,{className:"text-lg"})})]}),m("div",{className:"p-4 sm:p-6",children:[s&&l(W9,{propertyId:e._id||e.id,propertyTitle:e.title,agentId:e.agentId,onClose:C,isMobile:p}),c&&l(H9,{propertyId:e._id||e.id,propertyTitle:e.title,agentId:e.agentId,agentName:N.name,onClose:C,isMobile:p})]})]})})]})},Uc=({post:t,variant:e="default",className:r=""})=>{var S,I;const{_id:n,id:i=n,title:a,excerpt:s,featuredImage:o,authorName:c,authorAvatar:u,author:d={name:c,avatar:u},createdAt:h,publishDate:p=h,readTime:g,categories:x,tags:b,featured:y=!1,views:N=0}=t,_=()=>o?typeof o=="object"&&o.url?o.url:typeof o=="string"?o:"/images/blog-placeholder.jpg":"/images/blog-placeholder.jpg",P=E=>{if(!E)return"Unknown date";try{return new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid date"}},L=E=>({"market-news":"bg-blue-100 text-blue-800 border border-blue-200","home-improvement":"bg-green-100 text-green-800 border border-green-200",investment:"bg-purple-100 text-purple-800 border border-purple-200",neighborhood:"bg-orange-100 text-orange-800 border border-orange-200","design-tips":"bg-indigo-100 text-indigo-800 border border-indigo-200",mortgage:"bg-pink-100 text-pink-800 border border-pink-200",legal:"bg-red-100 text-red-800 border border-red-200",lifestyle:"bg-yellow-100 text-yellow-800 border border-yellow-200"})[E]||"bg-gray-100 text-gray-800 border border-gray-200",k=E=>E.split("-").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" "),D=()=>`/blog/${t.slug||i||n}`;return e==="minimal"?m("article",{className:`flex space-x-4 group ${r}`,children:[l("div",{className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-gray-200",children:l("img",{src:_(),alt:a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:E=>{E.target.src="/images/blog-placeholder.jpg"}})}),m("div",{className:"flex-1 min-w-0",children:[l("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2 mb-1",children:l(we,{to:D(),children:a||"Untitled Post"})}),m("p",{className:"text-sm text-gray-500",children:[P(p),"  ",g||5," min read"]})]})]}):e==="featured"?l("article",{className:`group relative bg-white rounded-2xl shadow-lg overflow-hidden ${r}`,children:m(we,{to:D(),className:"block",children:[m("div",{className:"relative h-64 bg-gray-200 overflow-hidden",children:[l("img",{src:_(),alt:(o==null?void 0:o.alt)||a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:E=>{E.target.src="/images/blog-placeholder.jpg"}}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),y&&l("div",{className:"absolute top-4 left-4",children:l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"})})]}),m("div",{className:"p-6",children:[x&&x.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-3",children:x.slice(0,2).map(E=>l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L(E)}`,children:k(E)},E))}),l("h2",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 mb-3 line-clamp-2",children:a||"Untitled Post"}),l("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s||"No excerpt available..."}),m("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[m("div",{className:"flex items-center space-x-4",children:[m("div",{className:"flex items-center space-x-1",children:[l("img",{src:(d==null?void 0:d.avatar)||u||"/images/avatar-placeholder.jpg",alt:(d==null?void 0:d.name)||c||"Author",className:"w-6 h-6 rounded-full",onError:E=>{E.target.src="/images/avatar-placeholder.jpg"}}),l("span",{children:(d==null?void 0:d.name)||c||"Unknown Author"})]}),l("span",{children:P(p)})]}),m("span",{children:[g||5," min read"]})]})]})]})}):l("article",{className:`bg-white rounded-2xl shadow-lg overflow-hidden group hover:shadow-xl transition-all duration-300 ${r}`,children:m(we,{to:D(),className:"block",children:[m("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[l("img",{src:_(),alt:(o==null?void 0:o.alt)||a||"Blog post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:E=>{E.target.src="/images/blog-placeholder.jpg"}}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),y&&l("div",{className:"absolute top-4 left-4",children:l("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Featured"})})]}),m("div",{className:"p-6",children:[x&&x.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-3",children:x.slice(0,2).map(E=>l("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${L(E)}`,children:k(E)},E))}),l("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200 mb-3 line-clamp-2",children:a||"Untitled Post"}),l("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s||"No excerpt available..."}),m("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[m("div",{className:"flex items-center space-x-3",children:[m("div",{className:"flex items-center space-x-2",children:[l("img",{src:(d==null?void 0:d.avatar)||u||"/images/avatar-placeholder.jpg",alt:(d==null?void 0:d.name)||c||"Author",className:"w-6 h-6 rounded-full",onError:E=>{E.target.src="/images/avatar-placeholder.jpg"}}),l("span",{children:(d==null?void 0:d.name)||c||"Unknown Author"})]}),l("span",{children:""}),l("span",{children:P(p)})]}),m("span",{children:[g||5," min read"]})]}),l("div",{className:"mt-3 pt-3 border-t border-gray-100",children:m("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[m("span",{children:[" ",N||0," views"]}),m("span",{children:[" ",((S=t.comments)==null?void 0:S.length)||0," comments"]}),m("span",{children:[" ",((I=t.likes)==null?void 0:I.length)||0," likes"]})]})})]})]})})},K9=({posts:t,loading:e=!1,error:r=null,currentPage:n=1,totalPages:i=1,totalItems:a=0,itemsPerPage:s=9,onPageChange:o,onItemsPerPageChange:c,className:u="",emptyMessage:d="No blog posts found.",showFeatured:h=!0})=>{if(e)return l("div",{className:"flex justify-center items-center py-12",children:l(nl,{size:"large",text:"Loading blog posts..."})});if(r)return l("div",{className:"text-center py-12",children:m("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 max-w-md mx-auto",children:[l("svg",{className:"w-12 h-12 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Blog Posts"}),l("p",{className:"text-red-600",children:r}),l("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition duration-200",children:"Try Again"})]})});if(!t||t.length===0)return l("div",{className:"text-center py-12",children:m("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 max-w-md mx-auto",children:[l("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Posts Found"}),l("p",{className:"text-gray-600 mb-4",children:d}),l(we,{to:"/blog",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200",children:"View All Posts"})]})});const p=h?t.find(x=>x.featured):null,g=h?t.filter(x=>!x.featured):t;return m("div",{className:u,children:[m("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-2 sm:space-y-0",children:[m("div",{children:[m("h2",{className:"text-2xl font-bold text-gray-900",children:["Blog Posts ",a>0&&`(${a})`]}),l("p",{className:"text-gray-600 mt-1",children:a>0?`Showing ${(n-1)*s+1}-${Math.min(n*s,a)} of ${a} posts`:"No posts found"})]}),m("div",{className:"flex items-center space-x-4",children:[m("select",{className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l("option",{children:"Sort by: Newest"}),l("option",{children:"Sort by: Oldest"}),l("option",{children:"Sort by: Most Popular"}),l("option",{children:"Sort by: Title A-Z"})]}),m("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[l("button",{className:"p-2 bg-white border-r border-gray-300 hover:bg-gray-50",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),l("button",{className:"p-2 bg-gray-100 border-l border-gray-300",children:l("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})]}),p&&m("div",{className:"mb-12",children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Featured Post"}),l(Uc,{post:p,variant:"featured"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8",children:g.map(x=>l(Uc,{post:x},x.id))}),i>1&&l(c_,{currentPage:n,totalPages:i,totalItems:a,itemsPerPage:s,onPageChange:o,onItemsPerPageChange:c})]})},G9=({size:t="medium",variant:e="default",className:r="",onSubmit:n})=>{const[i,a]=v.useState(!1),[s,o]=v.useState(null),{values:c,errors:u,handleChange:d,handleSubmit:h,resetForm:p}=nd({initialValues:{email:"",firstName:"",preferences:{newListings:!0,priceUpdates:!0,marketNews:!1,buyingTips:!1,sellingTips:!1}},validate:_=>{const P={};return _.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_.email)||(P.email="Please enter a valid email address"):P.email="Email is required",P},onSubmit:async _=>{a(!0),o(null);try{n?await n(_):await g(_),o({type:"success",message:"Thank you for subscribing! Please check your email to confirm your subscription."}),p()}catch(P){o({type:"error",message:P.message||"Sorry, there was an error with your subscription. Please try again."})}finally{a(!1)}}}),g=async _=>{const P={}.REACT_APP_MAILERLITE_API_KEY,L={}.REACT_APP_MAILERLITE_GROUP_ID;if(!P||!L)throw new Error("Newsletter service is not properly configured.");const k={email:_.email,name:_.firstName||"",fields:{new_listings:_.preferences.newListings,price_updates:_.preferences.priceUpdates,market_news:_.preferences.marketNews,buying_tips:_.preferences.buyingTips,selling_tips:_.preferences.sellingTips,subscribed_at:new Date().toISOString(),source:"website_newsletter"}},D=await fetch("https://api.mailerlite.com/api/v2/subscribers",{method:"POST",headers:{"Content-Type":"application/json","X-MailerLite-ApiKey":P},body:JSON.stringify(k)}),S=await D.json();if(!D.ok)throw S.error&&S.error.code===104?new Error("This email is already subscribed to our newsletter."):S.error?new Error(S.error.message||"Subscription failed. Please try again."):new Error("Subscription failed. Please try again.");return S},x={small:"text-sm",medium:"text-base",large:"text-lg"},b={default:"bg-white border border-gray-300",dark:"bg-gray-800 border-gray-700",minimal:"bg-transparent border-0"},y={default:"text-gray-900",dark:"text-white",minimal:"text-gray-900"},N=e==="default"&&t==="large";return e==="minimal"?m("div",{className:`${r}`,children:[m("form",{onSubmit:h,className:"flex flex-col sm:flex-row gap-2",children:[m("div",{className:"flex-1",children:[l("input",{type:"email",name:"email",value:c.email,onChange:d,placeholder:"Enter your email",className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${x[t]}`,disabled:i}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),l("button",{type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold whitespace-nowrap",children:i?"Subscribing...":"Subscribe"})]}),s&&l("div",{className:`mt-2 p-2 rounded text-sm ${s.type==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:s.message})]}):m("div",{className:`rounded-2xl p-6 ${b[e]} ${r}`,children:[m("div",{className:`mb-4 ${y[e]}`,children:[l("h3",{className:`font-bold mb-2 ${t==="large"?"text-2xl":"text-xl"}`,children:"Stay Updated"}),l("p",{className:`opacity-90 ${x[t]}`,children:"Get the latest property listings, market insights, and real estate news delivered to your inbox."})]}),s&&l("div",{className:`p-3 rounded-lg mb-4 ${s.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:s.message}),m("form",{onSubmit:h,className:"space-y-4",children:[N&&m("div",{children:[l("label",{htmlFor:"firstName",className:`block font-medium mb-2 ${y[e]}`,children:"First Name (Optional)"}),l("input",{type:"text",id:"firstName",name:"firstName",value:c.firstName,onChange:d,disabled:i,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} disabled:opacity-50`,placeholder:"Enter your first name"})]}),m("div",{children:[l("label",{htmlFor:"email",className:`block font-medium mb-2 ${y[e]}`,children:"Email Address *"}),l("input",{type:"email",id:"email",name:"email",value:c.email,onChange:d,disabled:i,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-500":e==="dark"?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} disabled:opacity-50`,placeholder:"Enter your email address"}),u.email&&l("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),N&&m("div",{children:[l("label",{className:`block font-medium mb-3 ${y[e]}`,children:"Email Preferences"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(c.preferences).map(([_,P])=>m("label",{className:`flex items-center space-x-3 ${y[e]} ${i?"opacity-50":""}`,children:[l("input",{type:"checkbox",name:`preferences.${_}`,checked:P,onChange:L=>d({target:{name:`preferences.${_}`,value:L.target.checked}}),disabled:i,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:opacity-50"}),l("span",{className:"text-sm capitalize",children:_.replace(/([A-Z])/g," $1").trim()})]},_))})]}),l("button",{type:"submit",disabled:i,className:`w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold flex items-center justify-center space-x-2 ${t==="large"?"text-lg":""}`,children:i?m(tr,{children:[l("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),l("span",{children:"Subscribing..."})]}):l("span",{children:"Subscribe to Newsletter"})}),l("p",{className:`text-xs opacity-75 text-center ${y[e]} ${i?"opacity-50":""}`,children:"By subscribing, you agree to our Privacy Policy and consent to receive updates from our company."})]}),N&&m("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[l("h4",{className:`font-semibold mb-3 ${y[e]}`,children:"What You'll Receive"}),m("ul",{className:`space-y-2 text-sm ${y[e]} opacity-90`,children:[m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"New property listings matching your criteria"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Exclusive price updates and market trends"})]}),m("li",{className:"flex items-center space-x-2",children:[l("svg",{className:"w-4 h-4 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),l("span",{children:"Expert real estate advice and tips"})]})]})]})]})},Uf=({recentPosts:t=[],categories:e=[],tags:r=[],popularPosts:n=[],className:i=""})=>{const[a,s]=v.useState(""),o=d=>{d.preventDefault(),a.trim()&&(window.location.href=`/blog/search?q=${encodeURIComponent(a)}`)},c=e.slice(0,5),u=r.slice(0,10);return m("aside",{className:`space-y-8 ${i}`,children:[m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search Blog"}),l("form",{onSubmit:o,className:"space-y-3",children:m("div",{className:"relative",children:[l("input",{type:"text",value:a,onChange:d=>s(d.target.value),placeholder:"Search articles...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pr-12"}),l("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]}),m("div",{className:"bg-blue-50 rounded-2xl p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About Our Blog"}),l("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:"Welcome to our real estate blog! We share expert insights, market trends, buying and selling tips, and industry news to help you make informed decisions in your real estate journey."}),m(we,{to:"/about",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm flex items-center space-x-1",children:[l("span",{children:"Learn more about us"}),l("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),e.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),l("ul",{className:"space-y-2",children:c.map(d=>l("li",{children:m(we,{to:`/blog/category/${d.slug}`,className:"flex items-center justify-between text-gray-600 hover:text-blue-600 transition-colors duration-200 py-2 group",children:[l("span",{className:"capitalize",children:d.name}),l("span",{className:"bg-gray-100 text-gray-500 text-xs px-2 py-1 rounded-full group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors duration-200",children:d.count})]})},d.slug))}),e.length>5&&l(we,{to:"/blog/categories",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm mt-3 inline-block",children:"View all categories"})]}),t.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Posts"}),l("div",{className:"space-y-4",children:t.slice(0,3).map(d=>l(Uc,{post:d,variant:"minimal"},d.id))}),l(we,{to:"/blog",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm mt-4 inline-block",children:"View all posts"})]}),n.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Posts"}),l("div",{className:"space-y-4",children:n.slice(0,3).map((d,h)=>m("div",{className:"flex items-start space-x-3 group",children:[l("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full text-xs flex items-center justify-center font-semibold mt-1",children:h+1}),m("div",{className:"flex-1 min-w-0",children:[l(we,{to:`/blog/${d.id}`,className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200 line-clamp-2 mb-1",children:d.title}),l("p",{className:"text-xs text-gray-500",children:new Date(d.publishDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]},d.id))})]}),r.length>0&&m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Tags"}),l("div",{className:"flex flex-wrap gap-2",children:u.map(d=>m(we,{to:`/blog/tag/${d.slug}`,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-blue-100 hover:text-blue-700 transition-colors duration-200",children:["#",d.name]},d.slug))})]}),m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stay Updated"}),l("p",{className:"text-gray-600 text-sm mb-4",children:"Get the latest real estate insights and market updates delivered to your inbox."}),l(G9,{variant:"minimal",size:"small"})]}),m("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow Us"}),l("div",{className:"flex space-x-4",children:[{name:"facebook",color:"hover:text-blue-600",icon:""},{name:"twitter",color:"hover:text-blue-400",icon:""},{name:"instagram",color:"hover:text-pink-600",icon:""},{name:"linkedin",color:"hover:text-blue-700",icon:""}].map(d=>l("a",{href:"#",className:`w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 ${d.color} transition-colors duration-200`,"aria-label":`Follow us on ${d.name}`,children:l("span",{className:"text-lg",children:d.icon})},d.name))})]}),m("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-6 text-white",children:[l("h3",{className:"text-lg font-semibold mb-3",children:"Need Real Estate Help?"}),l("p",{className:"text-blue-100 text-sm mb-4",children:"Our expert agents are ready to assist you with buying, selling, or investing in properties."}),l(we,{to:"/contact",className:"block w-full bg-white text-blue-600 text-center py-3 rounded-lg font-semibold hover:bg-blue-50 transition duration-200",children:"Contact an Agent"})]})]})},Y9=()=>{const[t,e]=gx(),r=v.useMemo(()=>({page:parseInt(t.get("page"))||1,limit:9,category:t.get("category")||"",tag:t.get("tag")||"",search:t.get("search")||""}),[t.get("page"),t.get("category"),t.get("tag"),t.get("search")]),{posts:n,loading:i,error:a,currentPage:s,totalPages:o,totalItems:c,pagination:u}=id(r),d=v.useMemo(()=>[{name:"Market News",slug:"market-news",count:24},{name:"Buying Guide",slug:"buying-guide",count:18},{name:"Selling Tips",slug:"selling-tips",count:15},{name:"Home Improvement",slug:"home-improvement",count:12},{name:"Investment",slug:"investment",count:8}],[]),h=v.useMemo(()=>[{name:"real estate",slug:"real-estate",count:45},{name:"market trends",slug:"market-trends",count:32},{name:"home buying",slug:"home-buying",count:28},{name:"investment",slug:"investment",count:25},{name:"mortgage",slug:"mortgage",count:22},{name:"interior design",slug:"interior-design",count:18}],[]),p=v.useMemo(()=>i?[]:(n==null?void 0:n.slice(0,3))||[],[n,i]),g=v.useMemo(()=>i?[]:(n==null?void 0:n.slice(3,6))||[],[n,i]),x=v.useCallback(P=>{e(L=>{const k=new URLSearchParams(L);return k.set("page",P.toString()),k}),window.scrollTo({top:0,behavior:"smooth"})},[e]),b=v.useCallback(P=>{e(L=>{const k=new URLSearchParams;return P.page||k.set("page","1"),Object.entries(P).forEach(([D,S])=>{S&&S.toString().trim()!==""&&k.set(D,S.toString())}),k})},[e]),y=v.useCallback(()=>{e(new URLSearchParams({page:"1"}))},[e]),N=v.useMemo(()=>r.category||r.tag||r.search,[r]),_=v.useMemo(()=>{var L,k;const P=[];return r.category&&P.push({type:"category",label:`Category: ${((L=d.find(D=>D.slug===r.category))==null?void 0:L.name)||r.category}`,bgColor:"bg-blue-100 text-blue-800"}),r.tag&&P.push({type:"tag",label:`Tag: ${((k=h.find(D=>D.slug===r.tag))==null?void 0:k.name)||r.tag}`,bgColor:"bg-green-100 text-green-800"}),r.search&&P.push({type:"search",label:`Search: "${r.search}"`,bgColor:"bg-yellow-100 text-yellow-800"}),P},[r,d,h]);return v.useEffect(()=>{console.log(" Blog Component State:",{postsCount:n==null?void 0:n.length,loading:i,error:a,filters:r,currentPage:s,totalPages:o})},[n,i,a,r,s,o]),l(Rr,{children:m(cr,{children:[m("div",{className:"relative py-16 mb-12 overflow-hidden bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 rounded-3xl border border-orange-100",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-orange-200/40 to-transparent animate-pulse"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-amber-200/30 to-transparent animate-pulse delay-75"}),l("div",{className:"absolute top-1/3 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-orange-300/30 to-transparent animate-pulse"})}),l("div",{className:"absolute bottom-1/4 right-0 w-2/3",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-amber-300/40 to-transparent animate-pulse delay-150"})}),l("div",{className:"absolute top-20 left-16 w-6 h-6 border-2 border-orange-300/50 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-24 right-20 w-8 h-8 border-2 border-amber-300/40 rounded-full animate-float delay-200"}),l("div",{className:"absolute top-32 right-1/4 w-4 h-4 bg-orange-400/20 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute top-1/2 left-1/3 w-2 h-2 bg-orange-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-1/3 right-1/4 w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse"}),l("div",{className:"absolute top-6 left-6 w-12 h-12 border-t-2 border-l-2 border-orange-300/50 rounded-tl-lg"}),l("div",{className:"absolute bottom-6 right-6 w-12 h-12 border-b-2 border-r-2 border-amber-300/50 rounded-br-lg"}),l("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-gradient-to-r from-orange-200 to-amber-200 rounded-full blur-2xl opacity-40"}),l("div",{className:"absolute -bottom-8 -right-8 w-24 h-24 bg-gradient-to-r from-amber-200 to-orange-200 rounded-full blur-2xl opacity-30"})]}),m("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[m("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full border border-orange-200 shadow-sm mb-6",children:[l("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),l("span",{className:"text-sm font-semibold text-orange-700 uppercase tracking-wide",children:"Latest Insights"})]}),m("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:["Real Estate ",l("span",{className:"bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",children:"Blog"})]}),m("div",{className:"relative inline-block max-w-2xl mb-6",children:[l("div",{className:"absolute -inset-3 bg-white/30 rounded-2xl transform rotate-1 blur-sm"}),l("p",{className:"relative text-xl text-gray-700 leading-relaxed bg-white/70 backdrop-blur-sm p-6 rounded-xl border border-white/30 shadow-sm",children:"Expert insights, market trends, and tips for buyers, sellers, and investors in the real estate market."})]}),N&&m("div",{className:"relative mt-8 flex flex-wrap gap-3 justify-center",children:[l("div",{className:"absolute -inset-4 bg-white/40 rounded-2xl blur-sm"}),m("div",{className:"relative flex flex-wrap gap-3 justify-center bg-white/60 backdrop-blur-sm p-4 rounded-2xl border border-orange-100 shadow-sm",children:[_.map((P,L)=>l("span",{className:`${P.bgColor} px-4 py-2 rounded-full text-sm font-medium border border-white/50 shadow-sm hover:scale-105 transition-transform duration-200`,children:P.label},`${P.type}-${L}`)),m("button",{onClick:y,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm font-medium border border-gray-200 hover:bg-gray-200 hover:scale-105 transition-all duration-200 flex items-center gap-1",children:["Clear All ",l("span",{className:"text-lg",children:""})]})]})]}),m("div",{className:"flex justify-center items-center space-x-3 mt-8",children:[l("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-ping"}),l("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse delay-75"}),l("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-ping delay-150"})]})]})]}),m(s_,{cols:2,gap:8,children:[l("div",{className:"lg:col-span-3",children:l(K9,{posts:n||[],loading:i,error:a,currentPage:s||r.page,totalPages:o||(u==null?void 0:u.totalPages)||1,totalItems:c||(u==null?void 0:u.totalItems)||0,onPageChange:x,showFeatured:!0,filters:r,onFilterChange:b})}),l("div",{className:"lg:col-span-1",children:l("div",{className:"sticky top-24",children:l(Uf,{recentPosts:p,categories:d,tags:h,popularPosts:g,activeFilters:r,onFilterChange:b,onClearFilters:y})})})]})]})})},X9=({post:t,className:e=""})=>{const{_id:r,id:n=r,title:i,content:a,excerpt:s,featuredImage:o,authorName:c,authorEmail:u,authorAvatar:d,author:h={name:c,email:u,avatar:d,role:"Author"},createdAt:p,updatedAt:g,publishDate:x=p,updatedDate:b=g,readTime:y,categories:N,tags:_,featured:P=!1,views:L=0,likes:k=[],comments:D=[],slug:S,relatedPosts:I=[]}=t,E=()=>o?typeof o=="object"&&o.url?o.url:typeof o=="string"?o:"/images/blog-placeholder.jpg":"/images/blog-placeholder.jpg",R=V=>{if(!V)return"Unknown date";try{return new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid date"}},C=V=>({"market-news":"bg-blue-100 text-blue-800 border border-blue-200","home-improvement":"bg-green-100 text-green-800 border border-green-200",investment:"bg-purple-100 text-purple-800 border border-purple-200",neighborhood:"bg-orange-100 text-orange-800 border border-orange-200","design-tips":"bg-indigo-100 text-indigo-800 border border-indigo-200",mortgage:"bg-pink-100 text-pink-800 border border-pink-200",legal:"bg-red-100 text-red-800 border border-red-200",lifestyle:"bg-yellow-100 text-yellow-800 border border-yellow-200"})[V]||"bg-gray-100 text-gray-800 border border-gray-200",O=V=>V.split("-").map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" "),T=({content:V})=>m("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),l("nav",{children:l("ul",{className:"space-y-2",children:[{id:"introduction",title:"Introduction",level:2},{id:"key-points",title:"Key Points",level:2},{id:"conclusion",title:"Conclusion",level:2}].map(X=>l("li",{children:m("a",{href:`#${X.id}`,className:"text-gray-600 hover:text-blue-600 transition-colors duration-200 flex items-center space-x-2",style:{marginLeft:`${(X.level-2)*1}rem`},children:[l("span",{className:"w-1 h-1 bg-gray-400 rounded-full"}),l("span",{children:X.title})]})},X.id))})})]}),j=V=>V?/<[a-z][\s\S]*>/i.test(V):!1;return m("article",{className:`max-w-4xl mx-auto ${e}`,children:[m("header",{className:"mb-8",children:[N&&N.length>0&&l("div",{className:"flex flex-wrap gap-2 mb-4",children:N.map(V=>l(we,{to:`/blog/category/${V}`,className:`px-3 py-1 rounded-full text-sm font-semibold hover:opacity-80 transition-opacity duration-200 ${C(V)}`,children:O(V)},V))}),l("h1",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:i||"Untitled Post"}),m("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[m("div",{className:"flex items-center space-x-4",children:[m("div",{className:"flex items-center space-x-3",children:[l("img",{src:(h==null?void 0:h.avatar)||d||"/images/avatar-placeholder.jpg",alt:(h==null?void 0:h.name)||c||"Author",className:"w-12 h-12 rounded-full",onError:V=>{V.target.src="/images/avatar-placeholder.jpg"}}),m("div",{children:[l("p",{className:"font-semibold text-gray-900",children:(h==null?void 0:h.name)||c||"Unknown Author"}),l("p",{className:"text-sm text-gray-600",children:(h==null?void 0:h.role)||"Author"})]})]}),m("div",{className:"text-sm text-gray-600",children:[m("p",{children:["Published ",R(x)]}),b&&x!==b&&m("p",{children:["Updated ",R(b)]})]})]}),m("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[m("span",{children:[y||5," min read"]}),P&&l("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Featured"})]})]}),m("div",{className:"flex items-center space-x-6 mt-4 text-sm text-gray-500",children:[m("span",{children:[" ",L||0," views"]}),m("span",{children:[" ",(D==null?void 0:D.length)||0," comments"]}),m("span",{children:[" ",(k==null?void 0:k.length)||0," likes"]})]})]}),m("div",{className:"mb-8 rounded-2xl overflow-hidden",children:[l("img",{src:E(),alt:(o==null?void 0:o.alt)||i||"Blog post",className:"w-full h-auto max-h-96 object-cover",onError:V=>{V.target.src="/images/blog-placeholder.jpg"}}),(o==null?void 0:o.alt)&&l("p",{className:"text-sm text-gray-500 mt-2 text-center",children:o.alt})]}),s&&l("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6 mb-8",children:m("p",{className:"text-lg font-medium text-blue-900 italic",children:['"',s,'"']})}),l(T,{content:a}),l("div",{className:"prose prose-lg max-w-none mb-12",children:j(a)?l("div",{className:"blog-content",dangerouslySetInnerHTML:{__html:a}}):l("div",{className:"space-y-6 text-gray-700 leading-relaxed",children:a?a.split(`
`).map((V,H)=>V.trim()?l("p",{children:V},H):l("br",{},H)):m("div",{className:"space-y-6",children:[l("p",{children:"This is a sample blog post content. In a real application, this would be populated with the actual blog content from your CMS or database."}),l("h2",{id:"introduction",children:"Introduction"}),l("p",{children:"The real estate market continues to evolve, with new trends and opportunities emerging regularly. Understanding these changes is crucial for both buyers and sellers."}),l("h2",{id:"key-points",children:"Key Points"}),l("p",{children:"Market analysis shows steady growth in suburban areas while urban centers experience shifting demand patterns. Technology continues to transform how properties are bought and sold."}),l("h2",{id:"conclusion",children:"Conclusion"}),l("p",{children:"Staying informed about market trends and working with experienced professionals can help you make the most of your real estate investments."})]})})}),_&&_.length>0&&m("div",{className:"mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Tags"}),l("div",{className:"flex flex-wrap gap-2",children:_.map(V=>m(we,{to:`/blog/tag/${V}`,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors duration-200",children:["#",V]},V))})]}),l("div",{className:"bg-gray-50 rounded-2xl p-6 mb-8",children:m("div",{className:"flex items-start space-x-4",children:[l("img",{src:(h==null?void 0:h.avatar)||d||"/images/avatar-placeholder.jpg",alt:(h==null?void 0:h.name)||c||"Author",className:"w-16 h-16 rounded-full flex-shrink-0",onError:V=>{V.target.src="/images/avatar-placeholder.jpg"}}),m("div",{className:"flex-1",children:[m("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["About ",(h==null?void 0:h.name)||c||"the Author"]}),l("p",{className:"text-gray-600 mb-3",children:(h==null?void 0:h.bio)||`${(h==null?void 0:h.name)||c||"This author"} is an experienced real estate professional with deep knowledge of market trends and property investment strategies.`}),m("div",{className:"flex space-x-4",children:[(h==null?void 0:h.email)&&m("a",{href:`mailto:${h.email}`,className:"text-gray-400 hover:text-blue-600 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"Email"}),m("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[l("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),l("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})]}),m("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"Twitter"}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),m("a",{href:"#",className:"text-gray-400 hover:text-blue-700 transition-colors duration-200",children:[l("span",{className:"sr-only",children:"LinkedIn"}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]})]})}),m("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 mb-8",children:[l("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share this article"}),l("div",{className:"flex space-x-4",children:[{name:"twitter",color:"hover:bg-blue-400 hover:text-white"},{name:"facebook",color:"hover:bg-blue-600 hover:text-white"},{name:"linkedin",color:"hover:bg-blue-700 hover:text-white"},{name:"email",color:"hover:bg-gray-600 hover:text-white"}].map(V=>m("button",{className:`p-3 bg-gray-100 rounded-lg transition-all duration-200 text-gray-600 ${V.color}`,title:`Share on ${V.name}`,children:[m("span",{className:"sr-only",children:["Share on ",V.name]}),l("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"})})]},V.name))})]}),m("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:[m("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Comments (",(D==null?void 0:D.length)||0,")"]}),D&&D.length>0?l("div",{className:"space-y-6",children:D.map((V,H)=>l("div",{className:"border-b border-gray-100 pb-6 last:border-b-0",children:m("div",{className:"flex items-start space-x-3",children:[l("img",{src:V.userAvatar||"/images/avatar-placeholder.jpg",alt:V.userName,className:"w-10 h-10 rounded-full",onError:X=>{X.target.src="/images/avatar-placeholder.jpg"}}),m("div",{className:"flex-1",children:[m("div",{className:"flex items-center space-x-2 mb-2",children:[l("h4",{className:"font-semibold text-gray-900",children:V.userName}),l("span",{className:"text-sm text-gray-500",children:R(V.createdAt)})]}),l("p",{className:"text-gray-700",children:V.content})]})]})},H))}):l("p",{className:"text-gray-500 text-center py-8",children:"No comments yet. Be the first to share your thoughts!"})]})]})},Q9=({posts:t,currentPostId:e,title:r="Related Articles",subtitle:n="You might also be interested in these posts",className:i="",maxPosts:a=3})=>{const s=t.filter(o=>o.id!==e).slice(0,a);return s.length===0?null:m("section",{className:`py-8 ${i}`,children:[m("div",{className:"mb-8 text-center",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:r}),l("p",{className:"text-gray-600 text-lg",children:n})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(o=>l(Uc,{post:o},o.id))}),l("div",{className:"text-center mt-12",children:m("a",{href:"/blog",className:"inline-flex items-center bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-semibold text-lg",children:[l("span",{children:"View All Blog Posts"}),l("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})},J9=()=>{const{id:t}=yx();console.log(" BlogPost - ID from URL:",t);const{post:e,loading:r,error:n}=N9(t),{posts:i,fetchPosts:a,loading:s}=id({limit:10},!1);wr.useEffect(()=>{a({limit:10})},[a]);const o=wr.useMemo(()=>(i==null?void 0:i.filter(d=>d._id!==t).slice(0,3))||[],[i,t]),c=[{name:"Market News",slug:"market-news",count:24},{name:"Buying Guide",slug:"buying-guide",count:18},{name:"Selling Tips",slug:"selling-tips",count:15}],u=[{name:"real estate",slug:"real-estate",count:45},{name:"market trends",slug:"market-trends",count:32},{name:"home buying",slug:"home-buying",count:28}];return r?l(Rr,{children:l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m("div",{className:"text-center",children:[l(nl,{size:"large",text:"Loading blog post..."}),l("p",{className:"mt-4 text-gray-600",children:"Please wait while we load the content"})]})})}):n||!e?l(Rr,{children:l("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:l(wo,{children:m("div",{className:"text-center max-w-2xl mx-auto",children:[l("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l("span",{className:"text-2xl",children:""})}),l("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Post Not Found"}),l("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:n?`We encountered an error: ${n}`:"The blog post you're looking for doesn't exist or may have been removed."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l(we,{to:"/blog",className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium shadow-sm",children:"Back to Blog"}),l(we,{to:"/",className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition duration-200 font-medium shadow-sm",children:"Go Home"})]})]})})})}):l(Rr,{children:m("div",{className:"min-h-screen bg-gray-50",children:[l("div",{className:"container mx-auto px-4 py-8",children:m("div",{className:"flex flex-col lg:flex-row gap-8",children:[l("div",{className:"flex-1",children:m(wo,{children:[l("nav",{className:"mb-8",children:m("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l(we,{to:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),l("span",{children:""}),l(we,{to:"/blog",className:"hover:text-blue-600 transition-colors",children:"Blog"}),l("span",{children:""}),l("span",{className:"text-gray-900 font-medium truncate",children:e.title})]})}),l("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:l(X9,{post:e})}),l("div",{className:"mt-12",children:l(Q9,{posts:o,currentPostId:e._id,title:"Related Articles",subtitle:"Continue reading with these related posts"})})]})}),l("div",{className:"lg:w-80 flex-shrink-0",children:l("div",{className:"sticky top-24",children:l(Uf,{recentPosts:(i==null?void 0:i.slice(0,3))||[],categories:c,tags:u})})})]})}),l("div",{className:"lg:hidden bg-white border-t border-gray-200",children:l("div",{className:"container mx-auto px-4 py-6",children:l(Uf,{recentPosts:(i==null?void 0:i.slice(0,3))||[],categories:c,tags:u,mobileLayout:!0})})})]})})},Z9=()=>{const t=[{city:"New York",address:"123 Broadway,Port Harcourt",phone:"+ (234)913 2080059",email:"ny@estatepro.com",hours:"Mon-Fri: 9AM-6PM, Sat: 10AM-4PM"}];return l(Rr,{children:m(cr,{children:[m("div",{className:"relative text-center mb-16 py-12 overflow-hidden",children:[m("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-10 left-10 w-2 h-20 bg-blue-400/30 animate-pulse rounded-full"}),l("div",{className:"absolute bottom-10 right-20 w-1 h-16 bg-blue-500/40 animate-bounce rounded-full"}),l("div",{className:"absolute top-1/2 left-1/4 w-3 h-3 bg-blue-300 rounded-full animate-ping"})]}),m("div",{className:"relative z-10",children:[l("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Contact Us"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Get in touch with our expert real estate agents. We're here to help you with all your property needs."})]})]}),m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[m("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-100",children:[l("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Send us a Message"}),l("p",{className:"text-gray-500 mb-6",children:"We'll get back to you within 2 hours"}),l(()=>m("form",{className:"space-y-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),l("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Your name"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"your.email@example.com"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),l("textarea",{rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"How can we help you?"})]}),l("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Send Message"})]}),{})]}),m("div",{className:"space-y-8",children:[m("div",{children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Get in Touch"}),l("div",{className:"grid grid-cols-1 gap-4",children:[{icon:"",title:"Call Us",description:"Speak directly with our agents",details:"+ (234)913 2080059",action:"tel:+2349132080059"},{icon:"",title:"Email Us",description:"Send us a message anytime",details:"nfo@Octopusrealestate.com",action:"mailto:nfo@Octopusrealestate.com"}].map((n,i)=>l(we,{href:n.action,className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all duration-300 hover:border-blue-200",children:m("div",{className:"flex items-start space-x-4",children:[l("div",{className:"text-2xl",children:n.icon}),m("div",{children:[l("h4",{className:"font-semibold text-gray-900",children:n.title}),l("p",{className:"text-sm text-gray-600 mt-1",children:n.description}),l("p",{className:"text-blue-600 font-semibold mt-2",children:n.details})]})]})},i))})]}),m("div",{children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Our Offices"}),l("div",{className:"space-y-4",children:t.map((n,i)=>m("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[m("h4",{className:"font-semibold text-gray-900 text-lg mb-3",children:[n.city," Office"]}),m("div",{className:"space-y-2 text-sm text-gray-600",children:[m("p",{children:[" ",n.address]}),m("p",{children:[" ",n.phone]}),m("p",{children:[" ",n.email]}),m("p",{children:[" ",n.hours]})]})]},i))})]})]})]})]})})},e7=()=>{const t=[{name:"Sarah Johnson",role:"CEO & Founder",experience:"15+ years",specialty:"Luxury Properties",image:"/images/team/sarah.jpg",bio:"Sarah founded Octopus Real Estate with a vision to revolutionize real estate services through technology and personalized care."},{name:"Michael Chen",role:"Head of Sales",experience:"12+ years",specialty:"Commercial Real Estate",image:"/images/team/michael.jpg",bio:"Michael leads our sales team with expertise in commercial properties and investment opportunities."},{name:"Emily Rodriguez",role:"Senior Agent",experience:"8+ years",specialty:"First-time Buyers",image:"/images/team/emily.jpg",bio:"Emily specializes in helping first-time home buyers navigate the complex process of purchasing their dream home."},{name:"David Thompson",role:"Property Manager",experience:"10+ years",specialty:"Rental Properties",image:"/images/team/david.jpg",bio:"David manages our extensive portfolio of rental properties, ensuring optimal returns for investors."}],e=[{year:"2008",event:"Company Founded",description:"Started with a single office in Port Harcourt"},{year:"2012",event:"1000+ Properties",description:"Reached milestone of 1000 properties sold"},{year:"2015",event:"National Expansion",description:"Expanded to major cities across the US"},{year:"2018",event:"Tech Platform Launch",description:"Launched our proprietary real estate platform"},{year:"2022",event:"5000+ Clients",description:"Helped over 5000 clients find their perfect homes"},{year:"2024",event:"Award Winning",description:"Recognized as top real estate agency nationally"}],r=[{icon:l(pf,{className:"w-10 h-10"}),title:"Trust & Integrity",description:"We build relationships based on honesty and transparency in every transaction."},{icon:l(Bm,{className:"w-10 h-10"}),title:"Expert Guidance",description:"Our experienced agents provide expert advice tailored to your unique needs."},{icon:l(YP,{className:"w-10 h-10"}),title:"Innovation",description:"We leverage cutting-edge technology to simplify the real estate process."},{icon:l(Hm,{className:"w-10 h-10"}),title:"Client First",description:"Your goals and satisfaction are at the center of everything we do."}];return l(Rr,{children:m(cr,{children:[m("section",{className:"relative py-8 overflow-hidden",children:[m("div",{className:"absolute inset-0 overflow-hidden",children:[l("div",{className:"absolute top-1/4 left-10 w-1 h-32 bg-blue-500/30 animate-pulse"}),l("div",{className:"absolute bottom-1/3 right-20 w-1 h-24 bg-blue-400/40 animate-bounce"}),l("div",{className:"absolute top-1/2 left-1/4 w-1 h-16 bg-blue-300/50 animate-ping"}),l("div",{className:"absolute top-10 right-1/4 w-3 h-3 bg-blue-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-20 left-1/3 w-2 h-2 bg-blue-300 rounded-full animate-pulse delay-75"}),l("div",{className:"absolute top-40 right-40 w-4 h-4 bg-blue-500/60 rounded-full animate-ping delay-150"}),l("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-gradient-to-r from-blue-100 to-cyan-100 rounded-full blur-xl opacity-60"}),l("div",{className:"absolute -bottom-16 -right-16 w-32 h-32 bg-gradient-to-r from-cyan-100 to-blue-100 rounded-full blur-xl opacity-40"})]}),m("div",{className:"relative z-10 text-center mb-16 max-w-4xl mx-auto px-4",children:[l("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 animate-fade-in",children:"About Octopus Real Estate"}),m("div",{className:"relative inline-block mb-8",children:[l("div",{className:"absolute -inset-4 bg-blue-50 rounded-lg transform rotate-3 animate-pulse"}),l("p",{className:"relative text-xl text-gray-600 leading-relaxed bg-white/80 backdrop-blur-sm p-6 rounded-lg border border-blue-100 shadow-sm",children:"For over 15 years, Octopus Real Estate has been transforming the real estate experience through innovation, expertise, and unwavering commitment to our clients' success."})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12",children:[{icon:"",label:"Residential"},{icon:"",label:"Commercial"},{icon:"",label:"Urban"},{icon:"",label:"Luxury"}].map((n,i)=>m("div",{className:"flex flex-col items-center p-4 bg-white/70 backdrop-blur-sm rounded-lg border border-blue-100 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[l("span",{className:"text-2xl mb-2",children:n.icon}),l("span",{className:"text-sm font-medium text-gray-700",children:n.label})]},i))})]})]}),l("section",{className:"mb-8",children:m(o_,{children:[m("div",{children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),m("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[l("p",{children:"Founded in 2008, Octopus Real Estate began as a small real estate agency with a big vision: to make property buying and selling simpler, smarter, and more transparent."}),l("p",{children:"What started as a single office in New York has grown into a nationwide network of expert agents, serving thousands of clients across the United States."}),l("p",{children:"Today, we combine deep market knowledge with cutting-edge technology to deliver exceptional results for buyers, sellers, and investors alike."})]})]}),l("div",{children:l("img",{src:"/images/about-story.jpg",alt:"Our office team",className:"rounded-2xl shadow-lg w-full h-auto"})})]})}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Values"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The principles that guide everything we do"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((n,i)=>m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 text-center group",children:[l("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-white border border-blue-200 mb-4 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300 mx-auto",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Experienced professionals dedicated to your real estate success"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((n,i)=>m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-blue-100 group",children:[l("img",{src:n.image,alt:n.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),m("div",{className:"p-6",children:[l("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:n.name}),l("p",{className:"text-blue-600 font-medium mb-2",children:n.role}),m("div",{className:"text-sm text-gray-600 space-y-1 mb-3",children:[m("div",{className:"flex items-center space-x-2",children:[l(Px,{className:"w-4 h-4 text-blue-500"}),m("span",{children:["Experience: ",n.experience]})]}),m("div",{className:"flex items-center space-x-2",children:[l(Du,{className:"w-4 h-4 text-blue-500"}),m("span",{children:["Specialty: ",n.specialty]})]})]}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.bio})]})]},i))})]}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Journey"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Milestones that mark our growth and success"})]}),m("div",{className:"relative",children:[l("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 bg-gradient-to-b from-blue-200 to-blue-300 h-full"}),l("div",{className:"space-y-12",children:e.map((n,i)=>m("div",{className:`relative flex items-center ${i%2===0?"flex-row":"flex-row-reverse"}`,children:[l("div",{className:`w-1/2 ${i%2===0?"pr-8 text-right":"pl-8"}`,children:m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg p-6 border border-blue-100 hover:shadow-xl transition-all duration-300",children:[m("div",{className:"text-blue-600 font-bold text-lg mb-2 flex items-center space-x-2 justify-end",children:[l(MP,{className:"w-5 h-5"}),l("span",{children:n.year})]}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.event}),l("p",{className:"text-gray-700",children:n.description})]})}),l("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-6 h-6 bg-blue-600 rounded-full border-4 border-white shadow-lg z-10"}),l("div",{className:"w-1/2"})]},i))})]})]}),l("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl p-12 text-center text-white shadow-xl",children:m("div",{className:"max-w-4xl mx-auto",children:[l("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-10 rounded-2xl mb-6",children:l(aS,{className:"w-10 h-10 text-white"})}),l("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Work With Us?"}),l("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Join thousands of satisfied clients who have found their perfect property with Octopus Real Estate."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m(we,{to:"/contact",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(Tx,{className:"w-5 h-5"}),l("span",{children:"Get in Touch"})]}),m(we,{to:"/properties",className:"border-2 border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(Cx,{className:"w-5 h-5"}),l("span",{children:"Browse Properties"})]})]})]})})]})})},t7=()=>{const t=[{icon:l(Du,{className:"w-12 h-12"}),title:"Property Buying",description:"Find and purchase your dream home with expert guidance through every step of the process.",features:["Personalized property search","Market analysis and pricing","Negotiation and offer management","Mortgage assistance","Closing coordination"],cta:"Start Your Search"},{icon:l(qm,{className:"w-12 h-12"}),title:"Property Selling",description:"Maximize your property value and sell quickly with our comprehensive marketing strategy.",features:["Professional valuation","Staging and photography","Multi-channel marketing","Buyer screening and showings","Contract negotiation"],cta:"Get Free Valuation"},{icon:l(zm,{className:"w-12 h-12"}),title:"Property Rental",description:"Find perfect rental properties or manage your rental investments efficiently.",features:["Tenant screening","Lease management","Rent collection","Maintenance coordination","Property inspections"],cta:"Browse Rentals"}],e=[{icon:l(Bm,{className:"w-10 h-10"}),title:"Property Management",description:"Professional management services for rental properties and investment portfolios."},{icon:l(FP,{className:"w-10 h-10"}),title:"Commercial Real Estate",description:"Expert services for commercial property transactions and investments."},{icon:l(zP,{className:"w-10 h-10"}),title:"Real Estate Consulting",description:"Strategic advice for property investors and portfolio optimization."},{icon:l(QP,{className:"w-10 h-10"}),title:"Property Valuation",description:"Accurate market valuations for sales, purchases, and investment analysis."},{icon:l(HP,{className:"w-10 h-10"}),title:"Legal Support",description:"Assistance with contracts, disclosures, and legal documentation."},{icon:l(pf,{className:"w-10 h-10"}),title:"Mortgage Services",description:"Connections with trusted lenders and mortgage assistance."}],r=[{step:"01",title:"Consultation",description:"We discuss your needs, preferences, and budget to understand your requirements.",icon:l(iS,{className:"w-6 h-6"})},{step:"02",title:"Property Search",description:"Our agents search for properties that match your criteria and schedule viewings.",icon:l(Cx,{className:"w-6 h-6"})},{step:"03",title:"Analysis & Offer",description:"We provide market analysis and help you make competitive offers.",icon:l(VP,{className:"w-6 h-6"})},{step:"04",title:"Negotiation",description:"Our experts negotiate the best terms and price on your behalf.",icon:l(pf,{className:"w-6 h-6"})},{step:"05",title:"Closing",description:"We coordinate all paperwork and ensure a smooth closing process.",icon:l(qP,{className:"w-6 h-6"})}];return l(Rr,{children:m(cr,{children:[m("div",{className:"relative py-20 mb-16 overflow-hidden bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[m("div",{className:"absolute inset-0",children:[l("div",{className:"absolute top-1/4 left-0 w-full",children:l("div",{className:"h-0.5 bg-gradient-to-r from-transparent via-blue-300/40 to-transparent animate-pulse"})}),l("div",{className:"absolute top-2/3 right-0 w-1/2",children:l("div",{className:"h-0.5 bg-gradient-to-l from-transparent via-cyan-300/40 to-transparent animate-pulse delay-75"})}),l("div",{className:"absolute top-0 left-1/4 w-0.5 h-full bg-gradient-to-b from-transparent via-blue-200/30 to-transparent animate-bounce"}),l("div",{className:"absolute top-0 right-1/3 w-0.5 h-full bg-gradient-to-b from-transparent via-cyan-200/30 to-transparent animate-bounce delay-150"}),l("div",{className:"absolute top-20 left-10 w-6 h-6 border-2 border-blue-300/50 rounded-lg transform rotate-45 animate-float"}),l("div",{className:"absolute bottom-20 right-16 w-8 h-8 border-2 border-cyan-300/40 rounded-full animate-float delay-200"}),l("div",{className:"absolute top-40 right-20 w-4 h-4 bg-blue-400/20 rounded-sm transform rotate-12 animate-ping"}),l("div",{className:"absolute top-1/3 left-1/2 w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),l("div",{className:"absolute bottom-1/4 right-1/4 w-1.5 h-1.5 bg-cyan-400 rounded-full animate-bounce"}),l("div",{className:"absolute bottom-10 left-0 w-full opacity-10",children:m("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-20",children:[l("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",className:"fill-blue-300"}),l("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",className:"fill-cyan-300"}),l("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",className:"fill-blue-400"})]})})]}),m("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[m("div",{className:"inline-block mb-4",children:[l("div",{className:"w-20 h-1 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full mb-2 mx-auto"}),l("div",{className:"text-sm font-semibold text-blue-600 uppercase tracking-wider",children:"What We Offer"})]}),m("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Our ",l("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Services"})]}),m("div",{className:"relative inline-block max-w-3xl",children:[l("div",{className:"absolute -inset-4 bg-white/50 rounded-2xl transform rotate-2 blur-sm"}),l("p",{className:"relative text-xl md:text-2xl text-gray-700 leading-relaxed bg-white/80 backdrop-blur-sm p-8 rounded-xl border border-white/20 shadow-lg",children:"Comprehensive real estate solutions tailored to meet your unique needs. From buying your first home to managing investment properties, we've got you covered."})]}),m("div",{className:"flex justify-center items-center space-x-4 mt-8",children:[l("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-ping"}),l("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),l("div",{className:"w-3 h-3 bg-blue-400 rounded-full animate-ping delay-150"})]})]})]}),l("section",{className:"mb-16",children:l("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:t.map((n,i)=>l("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group border border-blue-100",children:m("div",{className:"p-8",children:[l("div",{className:"inline-flex items-center justify-center p-4 rounded-2xl bg-white border border-blue-200 mb-6 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.title}),l("p",{className:"text-gray-700 mb-6 leading-relaxed",children:n.description}),l("ul",{className:"space-y-3 mb-8",children:n.features.map((a,s)=>m("li",{className:"flex items-center space-x-3 text-gray-700",children:[l("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),l("span",{className:"text-sm",children:a})]},s))}),l("a",{href:"/contact",className:"block w-full bg-blue-600 text-white text-center py-3 rounded-lg hover:bg-blue-700 transition-all duration-200 font-semibold hover:shadow-lg transform hover:-translate-y-0.5",children:n.cta})]})},i))})}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Additional Services"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Specialized services to support all your real estate needs"})]}),l(s_,{cols:3,gap:6,children:e.map((n,i)=>m("div",{className:"bg-gradient-to-br from-blue-50 to-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-blue-100 group hover:border-blue-200",children:[l("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-white border border-blue-200 mb-4 group-hover:bg-blue-50 group-hover:scale-110 transition-all duration-300",children:l("div",{className:"text-blue-600",children:n.icon})}),l("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),m("section",{className:"mb-16",children:[m("div",{className:"text-center mb-12",children:[l("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Process"}),l("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"A streamlined approach to ensure your real estate journey is smooth and successful"})]}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8",children:r.map((n,i)=>m("div",{className:"text-center group",children:[m("div",{className:"relative",children:[m("div",{className:"relative w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl flex flex-col items-center justify-center mx-auto mb-4 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-105",children:[l("div",{className:"text-xs font-semibold opacity-90",children:n.step}),l("div",{className:"text-white",children:n.icon})]}),i<r.length-1&&l("div",{className:"hidden lg:block absolute top-10 left-full w-full h-0.5 bg-gradient-to-r from-blue-100 to-blue-50 -translate-y-10"})]}),l("h3",{className:"text-lg font-semibold text-gray-900 mb-3 group-hover:text-blue-600 transition-colors duration-200",children:n.title}),l("p",{className:"text-gray-700 text-sm leading-relaxed",children:n.description})]},i))})]}),l("section",{className:"bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 rounded-2xl p-12 text-center text-white shadow-xl",children:m("div",{className:"max-w-4xl mx-auto",children:[l("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-10 rounded-2xl mb-6",children:l(GP,{className:"w-10 h-10 text-white"})}),l("h2",{className:"text-3xl font-bold mb-4",children:"Start Your Real Estate Journey Today"}),l("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Let our expert team guide you through every step of your property transaction. Experience the difference of professional real estate services."}),m("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m(we,{to:"/contact",className:"bg-white text-blue-600 px-8 py-4 rounded-lg hover:bg-blue-50 transition-all duration-200 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(Tx,{className:"w-5 h-5"}),l("span",{children:"Get Started"})]}),m("a",{href:"tel:+2349132080059",className:"border-2 border-white text-white px-8 py-4 rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-200 font-semibold text-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center space-x-2",children:[l(rs,{className:"w-5 h-5"}),l("span",{children:"Call Now: + (234)913 2080059"})]})]})]})})]})})};function f_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=f_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=f_(t))&&(n&&(n+=" "),n+=e);return n}var r7=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zp(t){if(typeof t!="string")return!1;var e=r7;return e.includes(t)}var n7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function m_(t){if(typeof t!="string")return!1;var e=n7;return e.includes(t)}function p_(t){return typeof t=="string"&&t.startsWith("data-")}function Hr(t){var e=Object.entries(t).filter(r=>{var[n]=r;return m_(n)||p_(n)});return Object.fromEntries(e)}function Oo(t){if(t==null)return null;if(v.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Hr(e)}return typeof t=="object"&&!Array.isArray(t)?Hr(t):null}function Dr(t){var e=Object.entries(t).filter(r=>{var[n]=r;return m_(n)||p_(n)||zp(n)});return Object.fromEntries(e)}var i7=["children","width","height","viewBox","className","style","title","desc"];function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zf.apply(null,arguments)}function a7(t,e){if(t==null)return{};var r,n,i=s7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function s7(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Bp=v.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=t,d=a7(t,i7),h=a||{width:n,height:i,x:0,y:0},p=Ue("recharts-surface",s);return v.createElement("svg",zf({},Dr(d),{className:p,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),v.createElement("title",null,c),v.createElement("desc",null,u),r)}),o7=["children","className"];function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bf.apply(null,arguments)}function l7(t,e){if(t==null)return{};var r,n,i=c7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c7(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rr=v.forwardRef((t,e)=>{var{children:r,className:n}=t,i=l7(t,o7),a=Ue("recharts-layer",n);return v.createElement("g",Bf({className:a},Dr(i),{ref:e}),r)}),g_=v.createContext(null),u7=()=>v.useContext(g_);function qe(t){return function(){return t}}const y_=Math.cos,zc=Math.sin,Gr=Math.sqrt,Bc=Math.PI,ad=2*Bc,Wf=Math.PI,Hf=2*Wf,qi=1e-6,d7=Hf-qi;function v_(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function h7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v_;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class f7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v_:h7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-e,u=i-r,d=s-e,h=o-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>qi)if(!(Math.abs(h*c-u*d)>qi)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,x=i-o,b=c*c+u*u,y=g*g+x*x,N=Math.sqrt(b),_=Math.sqrt(p),P=a*Math.tan((Wf-Math.acos((b+p-y)/(2*N*_)))/2),L=P/_,k=P/N;Math.abs(L-1)>qi&&this._append`L${e+L*d},${r+L*h}`,this._append`A${a},${a},0,0,${+(h*g>d*x)},${this._x1=e+k*c},${this._y1=r+k*u}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=e+o,d=r+c,h=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>qi||Math.abs(this._y1-d)>qi)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%Hf+Hf),p>d7?this._append`A${n},${n},0,1,${h},${e-o},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:p>qi&&this._append`A${n},${n},0,${+(p>=Wf)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Wp(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new f7(e)}function Hp(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b_(t){this._context=t}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sd(t){return new b_(t)}function x_(t){return t[0]}function w_(t){return t[1]}function __(t,e){var r=qe(!0),n=null,i=sd,a=null,s=Wp(o);t=typeof t=="function"?t:t===void 0?x_:qe(t),e=typeof e=="function"?e:e===void 0?w_:qe(e);function o(c){var u,d=(c=Hp(c)).length,h,p=!1,g;for(n==null&&(a=i(g=s())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,u,c),+e(h,u,c));if(g)return a=null,g+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:qe(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:qe(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qe(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function zl(t,e,r){var n=null,i=qe(!0),a=null,s=sd,o=null,c=Wp(u);t=typeof t=="function"?t:t===void 0?x_:qe(+t),e=typeof e=="function"?e:qe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?w_:qe(+r);function u(h){var p,g,x,b=(h=Hp(h)).length,y,N=!1,_,P=new Array(b),L=new Array(b);for(a==null&&(o=s(_=c())),p=0;p<=b;++p){if(!(p<b&&i(y=h[p],p,h))===N)if(N=!N)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=p-1;x>=g;--x)o.point(P[x],L[x]);o.lineEnd(),o.areaEnd()}N&&(P[p]=+t(y,p,h),L[p]=+e(y,p,h),o.point(n?+n(y,p,h):P[p],r?+r(y,p,h):L[p]))}if(_)return o=null,_+""||null}function d(){return __().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:qe(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:qe(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:qe(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:qe(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:qe(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:qe(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:qe(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class N_{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function m7(t){return new N_(t,!0)}function p7(t){return new N_(t,!1)}const qp={draw(t,e){const r=Gr(e/Bc);t.moveTo(r,0),t.arc(0,0,r,0,ad)}},g7={draw(t,e){const r=Gr(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},E_=Gr(1/3),y7=E_*2,v7={draw(t,e){const r=Gr(e/y7),n=r*E_;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},b7={draw(t,e){const r=Gr(e),n=-r/2;t.rect(n,n,r,r)}},x7=.8908130915292852,A_=zc(Bc/10)/zc(7*Bc/10),w7=zc(ad/10)*A_,_7=-y_(ad/10)*A_,N7={draw(t,e){const r=Gr(e*x7),n=w7*r,i=_7*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=ad*a/5,o=y_(s),c=zc(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},Fh=Gr(3),E7={draw(t,e){const r=-Gr(e/(Fh*3));t.moveTo(0,r*2),t.lineTo(-Fh*r,-r),t.lineTo(Fh*r,-r),t.closePath()}},Pr=-.5,Sr=Gr(3)/2,qf=1/Gr(12),A7=(qf/2+1)*3,P7={draw(t,e){const r=Gr(e/A7),n=r/2,i=r*qf,a=n,s=r*qf+r,o=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(Pr*n-Sr*i,Sr*n+Pr*i),t.lineTo(Pr*a-Sr*s,Sr*a+Pr*s),t.lineTo(Pr*o-Sr*c,Sr*o+Pr*c),t.lineTo(Pr*n+Sr*i,Pr*i-Sr*n),t.lineTo(Pr*a+Sr*s,Pr*s-Sr*a),t.lineTo(Pr*o+Sr*c,Pr*c-Sr*o),t.closePath()}};function S7(t,e){let r=null,n=Wp(i);t=typeof t=="function"?t:qe(t||qp),e=typeof e=="function"?e:qe(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qe(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Wc(){}function Hc(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function P_(t){this._context=t}P_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function T7(t){return new P_(t)}function S_(t){this._context=t}S_.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I7(t){return new S_(t)}function T_(t){this._context=t}T_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hc(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function C7(t){return new T_(t)}function I_(t){this._context=t}I_.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function k7(t){return new I_(t)}function _b(t){return t<0?-1:1}function Nb(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(_b(a)+_b(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Eb(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Uh(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function qc(t){this._context=t}qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uh(this,this._t0,Eb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Uh(this,Eb(this,r=Nb(this,t,e)),r);break;default:Uh(this,this._t0,r=Nb(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function C_(t){this._context=new k_(t)}(C_.prototype=Object.create(qc.prototype)).point=function(t,e){qc.prototype.point.call(this,e,t)};function k_(t){this._context=t}k_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function O7(t){return new qc(t)}function R7(t){return new C_(t)}function O_(t){this._context=t}O_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Ab(t),i=Ab(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ab(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function M7(t){return new O_(t)}function od(t,e){this._context=t,this._t=e}od.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function D7(t){return new od(t,.5)}function L7(t){return new od(t,0)}function j7(t){return new od(t,1)}function cs(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Kf(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function V7(t,e){return t[e]}function $7(t){const e=[];return e.key=t,e}function F7(){var t=qe([]),e=Kf,r=cs,n=V7;function i(a){var s=Array.from(t.apply(this,arguments),$7),o,c=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,d=Hp(e(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:qe(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Kf:typeof a=="function"?a:qe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??cs,i):r},i}function U7(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}cs(t,e)}}function z7(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}cs(t,e)}}function B7(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=t[e[o]],h=d[n][1]||0,p=d[n-1][1]||0,g=(h-p)/2,x=0;x<o;++x){var b=t[e[x]],y=b[n][1]||0,N=b[n-1][1]||0;g+=y-N}c+=h,u+=g*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,cs(t,e)}}var ld={},R_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(R_);var Kp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Kp);var cd={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(cd);var ud={},M_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(M_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M_,r=cd;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,c+=i[o]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(c),c=""):c+=h:h==="["?(d=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,o++}return c&&a.push(c),a}t.toPath=n})(ud);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R_,r=Kp,n=cd,i=ud;function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let h=0;h<c.length;h++){if(d==null||e.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}t.get=a})(ld);var W7=ld.get;const ma=Ri(W7);var Dt=t=>t===0?0:t>0?1:-1,qr=t=>typeof t=="number"&&t!=+t,Un=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,de=t=>(typeof t=="number"||t instanceof Number)&&!qr(t),yn=t=>de(t)||typeof t=="string",H7=0,Ro=t=>{var e=++H7;return"".concat(t||"").concat(e)},Qt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(e)&&typeof e!="string")return n;var a;if(Un(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return qr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},D_=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function xt(t,e,r){return de(t)&&de(e)?t+r*(e-t):e}function q7(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ma(n,e))===r)}var Lt=t=>t===null||typeof t>"u",il=t=>Lt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function K7(t){return t!=null}function Sa(){}var G7=["type","size","sizeType"];function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(null,arguments)}function Pb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pb(Object(r),!0).forEach(function(n){Y7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y7(t,e,r){return(e=X7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X7(t){var e=Q7(t,"string");return typeof e=="symbol"?e:e+""}function Q7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J7(t,e){if(t==null)return{};var r,n,i=Z7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Z7(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var L_={symbolCircle:qp,symbolCross:g7,symbolDiamond:v7,symbolSquare:b7,symbolStar:N7,symbolTriangle:E7,symbolWye:P7},eR=Math.PI/180,tR=t=>{var e="symbol".concat(il(t));return L_[e]||qp},rR=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*eR;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nR=(t,e)=>{L_["symbol".concat(il(t))]=e},Gp=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=J7(t,G7),a=Sb(Sb({},i),{},{type:e,size:r,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var p=tR(s),g=S7().type(p).size(rR(r,n,s)),x=g();if(x!==null)return x},{className:c,cx:u,cy:d}=a,h=Dr(a);return de(u)&&de(d)&&de(r)?v.createElement("path",Gf({},h,{className:Ue("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Gp.registerSymbol=nR;var j_=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,iR=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(v.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{zp(i)&&(n[i]=e||(a=>r[i](r,a)))}),n},aR=(t,e,r)=>n=>(t(e,r,n),null),al=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];zp(i)&&typeof a=="function"&&(n||(n={}),n[i]=aR(a,e,r))}),n};function Tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(r),!0).forEach(function(n){oR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oR(t,e,r){return(e=lR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lR(t){var e=cR(t,"string");return typeof e=="symbol"?e:e+""}function cR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jt(t,e){var r=sR({},t),n=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kc.apply(null,arguments)}function Ib(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ib(Object(r),!0).forEach(function(n){dR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dR(t,e,r){return(e=hR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hR(t){var e=fR(t,"string");return typeof e=="symbol"?e:e+""}function fR(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ir=32,mR={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function pR(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Ir/2,a=Ir/6,s=Ir/3,o=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline"){var u;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ir,y2:i,className:"recharts-legend-icon"})}if(c==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ir,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ir/8,"h").concat(Ir,"v").concat(Ir*3/4,"h").concat(-Ir,"z"),className:"recharts-legend-icon"});if(v.isValidElement(e.legendIcon)){var d=uR({},e);return delete d.legendIcon,v.cloneElement(e.legendIcon,d)}return v.createElement(Gp,{fill:o,cx:i,cy:i,size:Ir,sizeType:"diameter",type:c})}function gR(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Ir,height:Ir},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,h)=>{var p=d.formatter||i,g=Ue({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?a:d.color,b=p?p(d.value,d,h):d.value;return v.createElement("li",Kc({className:g,style:c,key:"legend-item-".concat(h)},al(t,d,h)),v.createElement(Bp,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},v.createElement(pR,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}var yR=t=>{var e=jt(t,mR),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(gR,Kc({},e,{payload:r})))},V_={},$_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})($_);var Yp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Yp);var F_={},dd={},U_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(U_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U_;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(dd);var z_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(z_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dd,r=z_;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(F_);var B_={},W_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ld;function r(n){return function(i){return e.get(i,n)}}t.property=r})(W_);var H_={},Xp={},q_={},Qp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Qp);var Jp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Jp);var Zp={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Zp);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qp,r=Jp,n=Zp;function i(d,h,p){return typeof p!="function"?i(d,h,()=>{}):a(d,h,function g(x,b,y,N,_,P){const L=p(x,b,y,N,_,P);return L!==void 0?!!L:a(x,b,g,P)},new Map)}function a(d,h,p,g){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,p,g);case"function":return Object.keys(h).length>0?a(d,{...h},p,g):n.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:n.eq(d,h)}}function s(d,h,p,g){if(h==null)return!0;if(Array.isArray(h))return c(d,h,p,g);if(h instanceof Map)return o(d,h,p,g);if(h instanceof Set)return u(d,h,p,g);const x=Object.keys(h);if(d==null)return x.length===0;if(x.length===0)return!0;if(g!=null&&g.has(h))return g.get(h)===d;g==null||g.set(h,d);try{for(let b=0;b<x.length;b++){const y=x[b];if(!r.isPrimitive(d)&&!(y in d)||h[y]===void 0&&d[y]!==void 0||h[y]===null&&d[y]!==null||!p(d[y],h[y],y,d,h,g))return!1}return!0}finally{g==null||g.delete(h)}}function o(d,h,p,g){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,b]of h.entries()){const y=d.get(x);if(p(y,b,x,d,h,g)===!1)return!1}return!0}function c(d,h,p,g){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let b=0;b<h.length;b++){const y=h[b];let N=!1;for(let _=0;_<d.length;_++){if(x.has(_))continue;const P=d[_];let L=!1;if(p(P,y,b,d,h,g)&&(L=!0),L){x.add(_),N=!0;break}}if(!N)return!1}return!0}function u(d,h,p,g){return h.size===0?!0:d instanceof Set?c([...d],[...h],p,g):!1}t.isMatchWith=i,t.isSetMatch=u})(q_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q_;function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(Xp);var K_={},eg={},G_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(G_);var tg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(tg);var rg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",p="[object ArrayBuffer]",g="[object Object]",x="[object Error]",b="[object DataView]",y="[object Uint8Array]",N="[object Uint8ClampedArray]",_="[object Uint16Array]",P="[object Uint32Array]",L="[object BigUint64Array]",k="[object Int8Array]",D="[object Int16Array]",S="[object Int32Array]",I="[object BigInt64Array]",E="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=p,t.arrayTag=d,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=L,t.booleanTag=i,t.dataViewTag=b,t.dateTag=o,t.errorTag=x,t.float32ArrayTag=E,t.float64ArrayTag=R,t.functionTag=h,t.int16ArrayTag=D,t.int32ArrayTag=S,t.int8ArrayTag=k,t.mapTag=c,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=_,t.uint32ArrayTag=P,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=N})(rg);var Y_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(Y_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G_,r=tg,n=rg,i=Jp,a=Y_;function s(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,p,g=new Map,x=void 0){const b=x==null?void 0:x(d,h,p,g);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(g.has(d))return g.get(d);if(Array.isArray(d)){const y=new Array(d.length);g.set(d,y);for(let N=0;N<d.length;N++)y[N]=o(d[N],N,p,g,x);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;g.set(d,y);for(const[N,_]of d)y.set(N,o(_,N,p,g,x));return y}if(d instanceof Set){const y=new Set;g.set(d,y);for(const N of d)y.add(o(N,void 0,p,g,x));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);g.set(d,y);for(let N=0;N<d.length;N++)y[N]=o(d[N],N,p,g,x);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return g.set(d,y),c(y,d,p,g,x),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return g.set(d,y),c(y,d,p,g,x),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return g.set(d,y),c(y,d,p,g,x),y}if(d instanceof Error){const y=new d.constructor;return g.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,p,g,x),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return g.set(d,y),c(y,d,p,g,x),y}if(d instanceof Number){const y=new Number(d.valueOf());return g.set(d,y),c(y,d,p,g,x),y}if(d instanceof String){const y=new String(d.valueOf());return g.set(d,y),c(y,d,p,g,x),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return g.set(d,y),c(y,d,p,g,x),y}return d}function c(d,h,p=d,g,x){const b=[...Object.keys(h),...e.getSymbols(h)];for(let y=0;y<b.length;y++){const N=b[y],_=Object.getOwnPropertyDescriptor(d,N);(_==null||_.writable)&&(d[N]=o(h[N],N,p,g,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=c})(eg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eg;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(K_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xp,r=K_;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(H_);var X_={},Q_={},J_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eg,r=rg;function n(i,a){return e.cloneDeepWith(i,(s,o,c,u)=>{const d=a==null?void 0:a(s,o,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case r.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=n})(J_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J_;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(Q_);var Z_={},ng={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(ng);var e6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tg;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(e6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kp,r=ng,n=e6,i=ud;function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=a})(Z_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xp,r=cd,n=Q_,i=ld,a=Z_;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=s})(X_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yp,r=W_,n=H_,i=X_;function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(B_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$_,r=Yp,n=F_,i=B_;function a(s,o=r.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(V_);var vR=V_.uniqBy;const Cb=Ri(vR);function t6(t,e,r){return e===!0?Cb(t,r):typeof e=="function"?Cb(t,e):t}var r6={exports:{}},n6={},i6={exports:{}},a6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=v;function bR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xR=typeof Object.is=="function"?Object.is:bR,wR=us.useState,_R=us.useEffect,NR=us.useLayoutEffect,ER=us.useDebugValue;function AR(t,e){var r=e(),n=wR({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return NR(function(){i.value=r,i.getSnapshot=e,zh(i)&&a({inst:i})},[t,r,e]),_R(function(){return zh(i)&&a({inst:i}),t(function(){zh(i)&&a({inst:i})})},[t]),ER(r),r}function zh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xR(t,r)}catch{return!0}}function PR(t,e){return e()}var SR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PR:AR;a6.useSyncExternalStore=us.useSyncExternalStore!==void 0?us.useSyncExternalStore:SR;i6.exports=a6;var TR=i6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=v,IR=TR;function CR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kR=typeof Object.is=="function"?Object.is:CR,OR=IR.useSyncExternalStore,RR=hd.useRef,MR=hd.useEffect,DR=hd.useMemo,LR=hd.useDebugValue;n6.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=RR(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=DR(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),i!==void 0&&s.hasValue){var x=s.value;if(i(x,g))return h=x}return h=g}if(x=h,kR(d,g))return x;var b=n(g);return i!==void 0&&i(x,b)?(d=g,x):(d=g,h=b)}var u=!1,d,h,p=r===void 0?null:r;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,r,n,i]);var o=OR(t,a[0],a[1]);return MR(function(){s.hasValue=!0,s.value=o},[o]),LR(o),o};r6.exports=n6;var jR=r6.exports,ig=v.createContext(null),VR=t=>t,Ke=()=>{var t=v.useContext(ig);return t?t.store.dispatch:VR},fc=()=>{},$R=()=>fc,FR=(t,e)=>t===e;function le(t){var e=v.useContext(ig);return jR.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:$R,e?e.store.getState:fc,e?e.store.getState:fc,e?t:fc,FR)}function UR(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function zR(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function BR(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var kb=t=>Array.isArray(t)?t:[t];function WR(t){const e=Array.isArray(t[0])?t[0]:t;return BR(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function HR(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var qR=class{constructor(t){this.value=t}deref(){return this.value}},KR=typeof WeakRef<"u"?WeakRef:qR,GR=0,Ob=1;function Bl(){return{s:GR,v:void 0,o:null,p:null}}function s6(t,e={}){let r=Bl();const{resultEqualityCheck:n}=e;let i,a=0;function s(){var h;let o=r;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const y=b.get(x);y===void 0?(o=Bl(),b.set(x,o)):o=y}else{let b=o.p;b===null&&(o.p=b=new Map);const y=b.get(x);y===void 0?(o=Bl(),b.set(x,o)):o=y}}const u=o;let d;if(o.s===Ob)d=o.v;else if(d=t.apply(null,arguments),a++,n){const p=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new KR(d):d}return u.s=Ob,u.v=d,d}return s.clearCache=()=>{r=Bl(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function YR(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),UR(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:p=[],argsMemoize:g=s6,argsMemoizeOptions:x=[],devModeChecks:b={}}=d,y=kb(p),N=kb(x),_=WR(i),P=h(function(){return a++,u.apply(null,arguments)},...y),L=g(function(){s++;const D=HR(_,arguments);return o=P.apply(null,D),o},...N);return Object.assign(L,{resultFunc:u,memoizedResultFunc:P,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var B=YR(s6),XR=Object.assign((t,e=B)=>{zR(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>XR}),o6={},l6={},c6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),o=e(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=r})(c6);var u6={},ag={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(ag);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ag,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(u6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c6,r=u6,n=ud;function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const u=(g,x)=>{let b=g;for(let y=0;y<x.length&&b!=null;++y)b=b[x[y]];return b},d=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:u(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?u(x,g):typeof x=="object"?x[g]:x,h=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return a.map(g=>({original:g,criteria:h.map(x=>d(x,g))})).slice().sort((g,x)=>{for(let b=0;b<h.length;b++){const y=e.compareValues(g.criteria[b],x.criteria[b],o[b]);if(y!==0)return y}return 0}).map(g=>g.original)}t.orderBy=i})(l6);var d6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}t.flatten=e})(d6);var sg={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ng,r=dd,n=Qp,i=Zp;function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],s):!1}t.isIterateeCall=a})(sg);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l6,r=d6,n=sg;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(o6);var QR=o6.sortBy;const fd=Ri(QR);var h6=t=>t.legend.settings,JR=t=>t.legend.size,ZR=t=>t.legend.payload,eM=B([ZR,h6],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?fd(n,r):n});function tM(){return le(eM)}var Wl=1;function f6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>Wl||Math.abs(s.left-e.left)>Wl||Math.abs(s.top-e.top)>Wl||Math.abs(s.width-e.width)>Wl)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Ft(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var rM=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Rb=rM,Bh=()=>Math.random().toString(36).substring(7).split("").join("."),nM={INIT:`@@redux/INIT${Bh()}`,REPLACE:`@@redux/REPLACE${Bh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bh()}`},Gc=nM;function og(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function m6(t,e,r){if(typeof t!="function")throw new Error(Ft(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ft(1));return r(m6)(t,e)}let n=t,i=e,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((y,N)=>{s.set(N,y)}))}function d(){if(c)throw new Error(Ft(3));return i}function h(y){if(typeof y!="function")throw new Error(Ft(4));if(c)throw new Error(Ft(5));let N=!0;u();const _=o++;return s.set(_,y),function(){if(N){if(c)throw new Error(Ft(6));N=!1,u(),s.delete(_),a=null}}}function p(y){if(!og(y))throw new Error(Ft(7));if(typeof y.type>"u")throw new Error(Ft(8));if(typeof y.type!="string")throw new Error(Ft(17));if(c)throw new Error(Ft(9));try{c=!0,i=n(i,y)}finally{c=!1}return(a=s).forEach(_=>{_()}),y}function g(y){if(typeof y!="function")throw new Error(Ft(10));n=y,p({type:Gc.REPLACE})}function x(){const y=h;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(Ft(11));function _(){const L=N;L.next&&L.next(d())}return _(),{unsubscribe:y(_)}},[Rb](){return this}}}return p({type:Gc.INIT}),{dispatch:p,subscribe:h,getState:d,replaceReducer:g,[Rb]:x}}function iM(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Gc.INIT})>"u")throw new Error(Ft(12));if(typeof r(void 0,{type:Gc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ft(13))})}function p6(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{iM(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],p=r[h],g=s[h],x=p(g,o);if(typeof x>"u")throw o&&o.type,new Error(Ft(14));u[h]=x,c=c||x!==g}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Yc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function aM(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Ft(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=t.map(c=>c(s));return a=Yc(...o)(i.dispatch),{...i,dispatch:a}}}function g6(t){return og(t)&&"type"in t&&typeof t.type=="string"}var y6=Symbol.for("immer-nothing"),Mb=Symbol.for("immer-draftable"),Nr=Symbol.for("immer-state");function Fr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mo=Object.getPrototypeOf;function pa(t){return!!t&&!!t[Nr]}function zn(t){var e;return t?v6(t)||Array.isArray(t)||!!t[Mb]||!!((e=t.constructor)!=null&&e[Mb])||sl(t)||pd(t):!1}var sM=Object.prototype.constructor.toString(),Db=new WeakMap;function v6(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Db.get(r);return n===void 0&&(n=Function.toString.call(r),Db.set(r,n)),n===sM}function Xc(t,e,r=!0){md(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function md(t){const e=t[Nr];return e?e.type_:Array.isArray(t)?1:sl(t)?2:pd(t)?3:0}function Yf(t,e){return md(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function b6(t,e,r){const n=md(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function oM(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sl(t){return t instanceof Map}function pd(t){return t instanceof Set}function Ki(t){return t.copy_||t.base_}function Xf(t,e){if(sl(t))return new Map(t);if(pd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=v6(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Nr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Mo(t),n)}else{const n=Mo(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function lg(t,e=!1){return gd(t)||pa(t)||!zn(t)||(md(t)>1&&Object.defineProperties(t,{set:Hl,add:Hl,clear:Hl,delete:Hl}),Object.freeze(t),e&&Object.values(t).forEach(r=>lg(r,!0))),t}function lM(){Fr(2)}var Hl={value:lM};function gd(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var cM={};function ga(t){const e=cM[t];return e||Fr(0,t),e}var Do;function x6(){return Do}function uM(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lb(t,e){e&&(ga("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Qf(t){Jf(t),t.drafts_.forEach(dM),t.drafts_=null}function Jf(t){t===Do&&(Do=t.parent_)}function jb(t){return Do=uM(Do,t)}function dM(t){const e=t[Nr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Vb(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Nr].modified_&&(Qf(e),Fr(4)),zn(t)&&(t=Qc(e,t),e.parent_||Jc(e,t)),e.patches_&&ga("Patches").generateReplacementPatches_(r[Nr].base_,t,e.patches_,e.inversePatches_)):t=Qc(e,r,[]),Qf(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==y6?t:void 0}function Qc(t,e,r){if(gd(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Nr];if(!i)return Xc(e,(a,s)=>$b(t,i,e,a,s,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return Jc(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Xc(s,(c,u)=>$b(t,i,a,c,u,r,o),n),Jc(t,a,!1),r&&t.patches_&&ga("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function $b(t,e,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=gd(i);if(!(o&&!s)){if(pa(i)){const c=a&&e&&e.type_!==3&&!Yf(e.assigned_,n)?a.concat(n):void 0,u=Qc(t,i,c);if(b6(r,n,u),pa(u))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(zn(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;Qc(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(sl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Jc(t,i)}}}function Jc(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&lg(e,r)}function hM(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:x6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=cg;r&&(i=[n],a=Lo);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var cg={get(t,e){if(e===Nr)return t;const r=Ki(t);if(!Yf(r,e))return fM(t,r,e);const n=r[e];return t.finalized_||!zn(n)?n:n===Wh(t.base_,e)?(Hh(t),t.copy_[e]=em(n,t)):n},has(t,e){return e in Ki(t)},ownKeys(t){return Reflect.ownKeys(Ki(t))},set(t,e,r){const n=w6(Ki(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Wh(Ki(t),e),a=i==null?void 0:i[Nr];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(oM(r,i)&&(r!==void 0||Yf(t.base_,e)))return!0;Hh(t),Zf(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Wh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Hh(t),Zf(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ki(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Fr(11)},getPrototypeOf(t){return Mo(t.base_)},setPrototypeOf(){Fr(12)}},Lo={};Xc(cg,(t,e)=>{Lo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Lo.deleteProperty=function(t,e){return Lo.set.call(this,t,e,void 0)};Lo.set=function(t,e,r){return cg.set.call(this,t[0],e,r,t[0])};function Wh(t,e){const r=t[Nr];return(r?Ki(r):t)[e]}function fM(t,e,r){var i;const n=w6(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function w6(t,e){if(!(e in t))return;let r=Mo(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Mo(r)}}function Zf(t){t.modified_||(t.modified_=!0,t.parent_&&Zf(t.parent_))}function Hh(t){t.copy_||(t.copy_=Xf(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var mM=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Fr(6),n!==void 0&&typeof n!="function"&&Fr(7);let i;if(zn(e)){const a=jb(this),s=em(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Qf(a):Jf(a)}return Lb(a,n),Vb(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===y6&&(i=void 0),this.autoFreeze_&&lg(i,!0),n){const a=[],s=[];ga("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else Fr(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,c=>e(c,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zn(t)||Fr(8),pa(t)&&(t=Dn(t));const e=jb(this),r=em(t,void 0);return r[Nr].isManual_=!0,Jf(e),r}finishDraft(t,e){const r=t&&t[Nr];(!r||!r.isManual_)&&Fr(9);const{scope_:n}=r;return Lb(n,e),Vb(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=ga("Patches").applyPatches_;return pa(t)?n(t,e):this.produce(t,i=>n(i,e))}};function em(t,e){const r=sl(t)?ga("MapSet").proxyMap_(t,e):pd(t)?ga("MapSet").proxySet_(t,e):hM(t,e);return(e?e.scope_:x6()).drafts_.push(r),r}function Dn(t){return pa(t)||Fr(10,t),_6(t)}function _6(t){if(!zn(t)||gd(t))return t;const e=t[Nr];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Xf(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=Xf(t,!0);return Xc(r,(i,a)=>{b6(r,i,_6(a))},n),e&&(e.finalized_=!1),r}var tm=new mM,N6=tm.produce,pM=tm.setUseStrictIteration.bind(tm);function E6(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var gM=E6(),yM=E6,vM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yc:Yc.apply(null,arguments)};function Lr(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(_r(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>g6(n)&&n.type===t,r}var A6=class ho extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ho.prototype)}static get[Symbol.species](){return ho}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ho(...e[0].concat(this)):new ho(...e.concat(this))}};function Fb(t){return zn(t)?N6(t,()=>{}):t}function ql(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function bM(t){return typeof t=="boolean"}var xM=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new A6;return r&&(bM(r)?s.push(gM):s.push(yM(r.extraArgument))),s},P6="RTK_autoBatch",_t=()=>t=>({payload:t,meta:{[P6]:!0}}),Ub=t=>e=>{setTimeout(e,t)},S6=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ub(10):t.type==="callback"?t.queueNotification:Ub(t.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),p=n.subscribe(h);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[P6]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},wM=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new A6(t);return n&&i.push(S6(typeof n=="object"?n:void 0)),i};function _M(t){const e=xM(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(og(r))c=p6(r);else throw new Error(_r(1));let u;typeof n=="function"?u=n(e):u=e();let d=Yc;i&&(d=vM({trace:!1,...typeof i=="object"&&i}));const h=aM(...u),p=wM(h);let g=typeof o=="function"?o(p):p();const x=d(...g);return m6(c,s,x)}function T6(t){const e={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(_r(28));if(o in e)throw new Error(_r(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}pM(!1);function NM(t){return typeof t=="function"}function EM(t,e){let[r,n,i]=T6(e),a;if(NM(t))a=()=>Fb(t());else{const o=Fb(t);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(pa(d)){const g=h(d,c);return g===void 0?d:g}else{if(zn(d))return N6(d,p=>h(p,c));{const p=h(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return s.getInitialState=a,s}var AM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PM=(t=21)=>{let e="",r=t;for(;r--;)e+=AM[Math.random()*64|0];return e},SM=Symbol.for("rtk-slice-createasyncthunk");function TM(t,e){return`${t}/${e}`}function IM({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[SM];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(_r(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(kM()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(L,k){const D=typeof L=="string"?L:L.type;if(!D)throw new Error(_r(12));if(D in u.sliceCaseReducersByType)throw new Error(_r(13));return u.sliceCaseReducersByType[D]=k,d},addMatcher(L,k){return u.sliceMatchers.push({matcher:L,reducer:k}),d},exposeAction(L,k){return u.actionCreators[L]=k,d},exposeCaseReducer(L,k){return u.sliceCaseReducersByName[L]=k,d}};c.forEach(L=>{const k=o[L],D={reducerName:L,type:TM(a,L),createNotation:typeof i.reducers=="function"};RM(k)?DM(D,k,d,e):OM(D,k,d)});function h(){const[L={},k=[],D=void 0]=typeof i.extraReducers=="function"?T6(i.extraReducers):[i.extraReducers],S={...L,...u.sliceCaseReducersByType};return EM(i.initialState,I=>{for(let E in S)I.addCase(E,S[E]);for(let E of u.sliceMatchers)I.addMatcher(E.matcher,E.reducer);for(let E of k)I.addMatcher(E.matcher,E.reducer);D&&I.addDefaultCase(D)})}const p=L=>L,g=new Map,x=new WeakMap;let b;function y(L,k){return b||(b=h()),b(L,k)}function N(){return b||(b=h()),b.getInitialState()}function _(L,k=!1){function D(I){let E=I[L];return typeof E>"u"&&k&&(E=ql(x,D,N)),E}function S(I=p){const E=ql(g,k,()=>new WeakMap);return ql(E,I,()=>{const R={};for(const[C,O]of Object.entries(i.selectors??{}))R[C]=CM(O,I,()=>ql(x,I,N),k);return R})}return{reducerPath:L,getSelectors:S,get selectors(){return S(D)},selectSlice:D}}const P={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:N,..._(s),injectInto(L,{reducerPath:k,...D}={}){const S=k??s;return L.inject({reducerPath:S,reducer:y},D),{...P,..._(S,!0)}}};return P}}function CM(t,e,r,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return i.unwrapped=t,i}var dr=IM();function kM(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function OM({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!MM(n))throw new Error(_r(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Lr(t,s):Lr(t))}function RM(t){return t._reducerDefinitionType==="asyncThunk"}function MM(t){return t._reducerDefinitionType==="reducerWithPrepare"}function DM({type:t,reducerName:e},r,n,i){if(!i)throw new Error(_r(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,h=i(t,a,d);n.exposeAction(e,h),s&&n.addCase(h.fulfilled,s),o&&n.addCase(h.pending,o),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:s||Kl,pending:o||Kl,rejected:c||Kl,settled:u||Kl})}function Kl(){}var LM="task",I6="listener",C6="completed",ug="cancelled",jM=`task-${ug}`,VM=`task-${C6}`,rm=`${I6}-${ug}`,$M=`${I6}-${C6}`,yd=class{constructor(t){Ks(this,"name","TaskAbortError");Ks(this,"message");this.code=t,this.message=`${LM} ${ug} (reason: ${t})`}},dg=(t,e)=>{if(typeof t!="function")throw new TypeError(_r(32))},Zc=()=>{},k6=(t,e=Zc)=>(t.catch(e),t),O6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ra=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},na=t=>{if(t.aborted){const{reason:e}=t;throw new yd(e)}};function R6(t,e){let r=Zc;return new Promise((n,i)=>{const a=()=>i(new yd(t.reason));if(t.aborted){a();return}r=O6(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Zc})}var FM=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof yd?"cancelled":"rejected",error:r}}finally{e==null||e()}},eu=t=>e=>k6(R6(t,e).then(r=>(na(t),r))),M6=t=>{const e=eu(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:es}=Object,zb={},vd="listenerMiddleware",UM=(t,e)=>{const r=n=>O6(t,()=>ra(n,t.reason));return(n,i)=>{dg(n);const a=new AbortController;r(a);const s=FM(async()=>{na(t),na(a.signal);const o=await n({pause:eu(a.signal),delay:M6(a.signal),signal:a.signal});return na(a.signal),o},()=>ra(a,VM));return i!=null&&i.autoJoin&&e.push(s.catch(Zc)),{result:eu(t)(s),cancel(){ra(a,jM)}}}},zM=(t,e)=>{const r=async(n,i)=>{na(e);let a=()=>{};const o=[new Promise((c,u)=>{let d=t({predicate:n,effect:(h,p)=>{p.unsubscribe(),c([h,p.getState(),p.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await R6(e,Promise.race(o));return na(e),c}finally{a()}};return(n,i)=>k6(r(n,i))},D6=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Lr(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(_r(21));return dg(a),{predicate:i,type:e,effect:a}},L6=es(t=>{const{type:e,predicate:r,effect:n}=D6(t);return{id:PM(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_r(22))}}},{withTypes:()=>L6}),Bb=(t,e)=>{const{type:r,effect:n,predicate:i}=D6(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},nm=t=>{t.pending.forEach(e=>{ra(e,rm)})},BM=(t,e)=>()=>{for(const r of e.keys())nm(r);t.clear()},Wb=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},j6=es(Lr(`${vd}/add`),{withTypes:()=>j6}),WM=Lr(`${vd}/removeAll`),V6=es(Lr(`${vd}/remove`),{withTypes:()=>V6}),HM=(...t)=>{console.error(`${vd}/error`,...t)},ol=(t={})=>{const e=new Map,r=new Map,n=g=>{const x=r.get(g)??0;r.set(g,x+1)},i=g=>{const x=r.get(g)??1;x===1?r.delete(g):r.set(g,x-1)},{extra:a,onError:s=HM}=t;dg(s);const o=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),x=>{g.unsubscribe(),x!=null&&x.cancelActive&&nm(g)}),c=g=>{const x=Bb(e,g)??L6(g);return o(x)};es(c,{withTypes:()=>c});const u=g=>{const x=Bb(e,g);return x&&(x.unsubscribe(),g.cancelActive&&nm(x)),!!x};es(u,{withTypes:()=>u});const d=async(g,x,b,y)=>{const N=new AbortController,_=zM(c,N.signal),P=[];try{g.pending.add(N),n(g),await Promise.resolve(g.effect(x,es({},b,{getOriginalState:y,condition:(L,k)=>_(L,k).then(Boolean),take:_,delay:M6(N.signal),pause:eu(N.signal),extra:a,signal:N.signal,fork:UM(N.signal,P),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((L,k,D)=>{L!==N&&(ra(L,rm),D.delete(L))})},cancel:()=>{ra(N,rm),g.pending.delete(N)},throwIfCancelled:()=>{na(N.signal)}})))}catch(L){L instanceof yd||Wb(s,L,{raisedBy:"effect"})}finally{await Promise.all(P),ra(N,$M),i(g),g.pending.delete(N)}},h=BM(e,r);return{middleware:g=>x=>b=>{if(!g6(b))return x(b);if(j6.match(b))return c(b.payload);if(WM.match(b)){h();return}if(V6.match(b))return u(b.payload);let y=g.getState();const N=()=>{if(y===zb)throw new Error(_r(23));return y};let _;try{if(_=x(b),e.size>0){const P=g.getState(),L=Array.from(e.values());for(const k of L){let D=!1;try{D=k.predicate(b,P,y)}catch(S){D=!1,Wb(s,S,{raisedBy:"predicate"})}D&&d(k,b,g,N)}}}finally{y=zb}return _},startListening:c,stopListening:u,clearListeners:h}};function _r(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qM={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$6=dr({name:"chartLayout",initialState:qM,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:KM,setLayout:GM,setChartSize:YM,setScale:XM}=$6.actions,QM=$6.reducer;function F6(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Hb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hb(Object(r),!0).forEach(function(n){JM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JM(t,e,r){return(e=ZM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZM(t){var e=eD(t,"string");return typeof e=="symbol"?e:e+""}function eD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return Lt(t)||Lt(e)?r:yn(e)?ma(t,e,r):typeof e=="function"?e(t):r}var tD=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&de(t[a]))return Ga(Ga({},t),{},{[a]:t[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&de(t[s]))return Ga(Ga({},t),{},{[s]:t[s]+(i||0)})}return t},Ta=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",U6=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(r),s},z6=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:p,axisType:g}=t;if(!s)return null;var x=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=(e||r)&&i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(b=g==="angleAxis"&&a&&a.length>=2?Dt(a[0]-a[1])*2*b:b,e&&(h||p)){var y=(h||p||[]).map((N,_)=>{var P=n?n.indexOf(N):N;return{coordinate:s(P)+b,value:N,offset:b,index:_}});return y.filter(N=>!qr(N.coordinate))}return c&&u?u.map((N,_)=>({coordinate:s(N)+b,value:N,index:_,offset:b})):s.ticks&&!r&&d!=null?s.ticks(d).map((N,_)=>({coordinate:s(N)+b,value:N,offset:b,index:_})):s.domain().map((N,_)=>({coordinate:s(N)+b,value:n?n[N]:N,index:_,offset:b}))},qb=1e-4,rD=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-qb,a=Math.max(n[0],n[1])+qb,s=t(e[0]),o=t(e[r-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[r-1]])}},nD=(t,e)=>{if(!e||e.length!==2||!de(e[0])||!de(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<r)&&(i[0]=r),(!de(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},iD=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,s=0;s<e;++s){var o=qr(t[s][r][1])?t[s][r][0]:t[s][r][1];o>=0?(t[s][r][0]=i,t[s][r][1]=i+o,i=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+o,a=t[s][r][1])}},aD=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var s=qr(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=i,t[a][r][1]=i+s,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},sD={sign:iD,expand:U7,none:cs,silhouette:z7,wiggle:B7,positive:aD},oD=(t,e,r)=>{var n=sD[r],i=F7().keys(e).value((a,s)=>Number(nt(a,s,0))).order(Kf).offset(n);return i(t)};function lD(t){return t==null?void 0:String(t)}var Kb=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:s}=t;if(e.type==="category")return r[s]?r[s].coordinate+n:null;var o=nt(a,e.dataKey,e.scale.domain()[s]);return Lt(o)?null:e.scale(o)-i/2+n},cD=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},uD=t=>{var e=t.flat(2).filter(de);return[Math.min(...e),Math.max(...e)]},dD=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],hD=(t,e,r)=>{if(t!=null)return dD(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((c,u)=>{var d=F6(u,e,r),h=uD(d);return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Gb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tu=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=fd(e,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Xb(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Ga(Ga({},e),{},{dataKey:r,payload:n,value:i,name:a})}function bd(t,e){if(t)return String(t);if(typeof e=="string")return e}var fD=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},mD=(t,e)=>e==="centric"?t.angle:t.radius,Xn=t=>t.layout.width,Qn=t=>t.layout.height,pD=t=>t.layout.scale,B6=t=>t.layout.margin,xd=B(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),wd=B(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),W6="data-recharts-item-index",H6="data-recharts-item-data-key",ll=60;function Qb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(r),!0).forEach(function(n){gD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gD(t,e,r){return(e=yD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yD(t){var e=vD(t,"string");return typeof e=="symbol"?e:e+""}function vD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bD=t=>t.brush.height;function xD(t){var e=wd(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ll;return r+i}return r},0)}function wD(t){var e=wd(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ll;return r+i}return r},0)}function _D(t){var e=xd(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ND(t){var e=xd(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var St=B([Xn,Qn,B6,bD,xD,wD,_D,ND,h6,JR],(t,e,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},h={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=Gl(Gl({},h),d),g=p.bottom;p.bottom+=n,p=tD(p,c,u);var x=t-p.left-p.right,b=e-p.top-p.bottom;return Gl(Gl({brushBottom:g},p),{},{width:Math.max(x,0),height:Math.max(b,0)})}),ED=B(St,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),hg=B(Xn,Qn,(t,e)=>({x:0,y:0,width:t,height:e})),AD=v.createContext(null),hr=()=>v.useContext(AD)!=null,_d=t=>t.brush,Nd=B([_d,St,B6],(t,e,r)=>({height:t.height,x:de(t.x)?t.x:e.left,y:de(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:de(t.width)?t.width:e.width})),q6={},K6={},G6={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},h=()=>{u&&d(),b()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,h()},n)},x=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{x(),s=void 0,o=null},y=()=>{d()},N=function(..._){if(i!=null&&i.aborted)return;s=this,o=_;const P=p==null;g(),c&&P&&d()};return N.schedule=g,N.cancel=b,N.flush=y,i==null||i.addEventListener("abort",b,{once:!0}),N}t.debounce=e})(G6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G6;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const p=e.debounce(function(...b){d=n.apply(this,b),h=null},i,{edges:u}),g=function(...b){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=n.apply(this,b),h=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,b),d)},x=()=>(p.flush(),d);return g.cancel=p.cancel,g.flush=x,g}t.debounce=r})(K6);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K6;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:o})}t.throttle=r})(q6);var PD=q6.throttle;const SD=Ri(PD);var ru=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Y6=(t,e,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=Un(n)?t:Number(n),c=Un(i)?e:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},TD={width:0,height:0,overflow:"visible"},ID={width:0,overflowX:"visible"},CD={height:0,overflowY:"visible"},kD={},OD=t=>{var{width:e,height:r}=t,n=Un(e),i=Un(r);return n&&i?TD:n?ID:i?CD:kD};function RD(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function ct(t){return Number.isFinite(t)}function vn(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},im.apply(null,arguments)}function Jb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jb(Object(r),!0).forEach(function(n){MD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MD(t,e,r){return(e=DD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DD(t){var e=LD(t,"string");return typeof e=="symbol"?e:e+""}function LD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X6=v.createContext({width:-1,height:-1});function jD(t){return vn(t.width)&&vn(t.height)}function Q6(t){var{children:e,width:r,height:n}=t,i=v.useMemo(()=>({width:r,height:n}),[r,n]);return jD(i)?v.createElement(X6.Provider,{value:i},e):null}var fg=()=>v.useContext(X6),VD=v.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:h,className:p,onResize:g,style:x={}}=t,b=v.useRef(null),y=v.useRef();y.current=g,v.useImperativeHandle(e,()=>b.current);var[N,_]=v.useState({containerWidth:n.width,containerHeight:n.height}),P=v.useCallback((I,E)=>{_(R=>{var C=Math.round(I),O=Math.round(E);return R.containerWidth===C&&R.containerHeight===O?R:{containerWidth:C,containerHeight:O}})},[]);v.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Sa;var I=O=>{var T,{width:j,height:V}=O[0].contentRect;P(j,V),(T=y.current)===null||T===void 0||T.call(y,j,V)};d>0&&(I=SD(I,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(I),{width:R,height:C}=b.current.getBoundingClientRect();return P(R,C),E.observe(b.current),()=>{E.disconnect()}},[P,d]);var{containerWidth:L,containerHeight:k}=N;ru(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:S}=Y6(L,k,{width:i,height:a,aspect:r,maxHeight:c});return ru(D!=null&&D>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,S,i,a,s,o,r),v.createElement("div",{id:h?"".concat(h):void 0,className:Ue("recharts-responsive-container",p),style:Zb(Zb({},x),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:b},v.createElement("div",{style:OD({width:i,height:a})},v.createElement(Q6,{width:D,height:S},u)))}),e1=v.forwardRef((t,e)=>{var r=fg();if(vn(r.width)&&vn(r.height))return t.children;var{width:n,height:i}=RD({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=Y6(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return de(a)&&de(s)?v.createElement(Q6,{width:a,height:s},t.children):v.createElement(VD,im({},t,{width:n,height:i,ref:e}))});function J6(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Ed=()=>{var t,e=hr(),r=le(ED),n=le(Nd),i=(t=le(_d))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},$D={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Z6=()=>{var t;return(t=le(St))!==null&&t!==void 0?t:$D},mg=()=>le(Xn),pg=()=>le(Qn),FD=()=>le(t=>t.layout.margin),Me=t=>t.layout.layoutType,Ad=()=>le(Me),UD=()=>{var t=Ad();return t!==void 0},Pd=t=>{var e=Ke(),r=hr(),{width:n,height:i}=t,a=fg(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),v.useEffect(()=>{!r&&vn(s)&&vn(o)&&e(YM({width:s,height:o}))},[e,r,s,o]),null},zD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},e3=dr({name:"legend",initialState:zD,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:_t()},removeLegendPayload:{reducer(t,e){var r=Dn(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:_t()}}}),{setLegendSize:t1,setLegendSettings:BD,addLegendPayload:t3,removeLegendPayload:r3}=e3.actions,WD=e3.reducer,HD=["contextPayload"];function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(null,arguments)}function r1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(r),!0).forEach(function(n){qD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qD(t,e,r){return(e=KD(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KD(t){var e=GD(t,"string");return typeof e=="symbol"?e:e+""}function GD(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YD(t,e){if(t==null)return{};var r,n,i=XD(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function XD(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function QD(t){return t.value}function JD(t){var{contextPayload:e}=t,r=YD(t,HD),n=t6(e,t.payloadUniqBy,QD),i=ds(ds({},r),{},{payload:n});return v.isValidElement(t.content)?v.cloneElement(t.content,i):typeof t.content=="function"?v.createElement(t.content,i):v.createElement(yR,i)}function ZD(t,e,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ds(ds({},u),d)}function eL(t){var e=Ke();return v.useEffect(()=>{e(BD(t))},[e,t]),null}function tL(t){var e=Ke();return v.useEffect(()=>(e(t1(t)),()=>{e(t1({width:0,height:0}))}),[e,t]),null}function rL(t,e,r,n){return t==="vertical"&&de(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var nL={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function n3(t){var e=jt(t,nL),r=tM(),n=u7(),i=FD(),{width:a,height:s,wrapperStyle:o,portal:c}=e,[u,d]=f6([r]),h=mg(),p=pg();if(h==null||p==null)return null;var g=h-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),x=rL(e.layout,s,a,g),b=c?o:ds(ds({position:"absolute",width:(x==null?void 0:x.width)||a||"auto",height:(x==null?void 0:x.height)||s||"auto"},ZD(o,e,i,h,p,u)),o),y=c??n;if(y==null||r==null)return null;var N=v.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},v.createElement(eL,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(tL,{width:u.width,height:u.height}),v.createElement(JD,am({},e,x,{margin:i,chartWidth:h,chartHeight:p,contextPayload:r})));return Ru.createPortal(N,y)}n3.displayName="Legend";function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(null,arguments)}function n1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(r),!0).forEach(function(n){iL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iL(t,e,r){return(e=aL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aL(t){var e=sL(t,"string");return typeof e=="symbol"?e:e+""}function sL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oL(t){return Array.isArray(t)&&yn(t[0])&&yn(t[1])?t.join(" ~ "):t}var lL=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:p=!1}=t,g=()=>{if(a&&a.length){var k={padding:0,margin:0},D=(o?fd(a,o):a).map((S,I)=>{if(S.type==="none")return null;var E=S.formatter||s||oL,{value:R,name:C}=S,O=R,T=C;if(E){var j=E(R,C,S,I,a);if(Array.isArray(j))[O,T]=j;else if(j!=null)O=j;else return null}var V=qh({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:V},yn(T)?v.createElement("span",{className:"recharts-tooltip-item-name"},T):null,yn(T)?v.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},x=qh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=qh({margin:0},i),y=!Lt(d),N=y?d:"",_=Ue("recharts-default-tooltip",c),P=Ue("recharts-tooltip-label",u);y&&h&&a!==void 0&&a!==null&&(N=h(d,a));var L=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",sm({className:_,style:x},L),v.createElement("p",{className:P,style:b},v.isValidElement(N)?N:"".concat(N)),g())},Xs="recharts-tooltip-wrapper",cL={visibility:"hidden"};function uL(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ue(Xs,{["".concat(Xs,"-right")]:de(r)&&e&&de(e.x)&&r>=e.x,["".concat(Xs,"-left")]:de(r)&&e&&de(e.x)&&r<e.x,["".concat(Xs,"-bottom")]:de(n)&&e&&de(e.y)&&n>=e.y,["".concat(Xs,"-top")]:de(n)&&e&&de(e.y)&&n<e.y})}function i1(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=t;if(a&&de(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),h=r[n]+i;if(e[n])return s[n]?d:h;var p=c[n];if(p==null)return 0;if(s[n]){var g=d,x=p;return g<x?Math.max(h,p):Math.max(d,p)}if(u==null)return 0;var b=h+o,y=p+u;return b>y?Math.max(d,p):Math.max(h,p)}function dL(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function hL(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=t,u,d,h;return s.height>0&&s.width>0&&r?(d=i1({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=i1({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=dL({translateX:d,translateY:h,useTranslate3d:o})):u=cL,{cssProperties:u,cssClasses:uL({translateX:d,translateY:h,coordinate:r})}}function a1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(r),!0).forEach(function(n){om(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function om(t,e,r){return(e=fL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fL(t){var e=mL(t,"string");return typeof e=="symbol"?e:e+""}function mL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pL extends v.PureComponent{constructor(){super(...arguments),om(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),om(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:p,viewBox:g,wrapperStyle:x,lastBoundingBox:b,innerRef:y,hasPortalFromProps:N}=this.props,{cssClasses:_,cssProperties:P}=hL({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:g}),L=N?{}:Yl(Yl({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=Yl(Yl({},L),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},x);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:k,ref:y},a)}}var gL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ia={devToolsEnabled:!1,isSsr:gL()},i3=()=>{var t;return(t=le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(null,arguments)}function s1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(r),!0).forEach(function(n){yL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yL(t,e,r){return(e=vL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vL(t){var e=bL(t,"string");return typeof e=="symbol"?e:e+""}function bL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l1={curveBasisClosed:I7,curveBasisOpen:C7,curveBasis:T7,curveBumpX:m7,curveBumpY:p7,curveLinearClosed:k7,curveLinear:sd,curveMonotoneX:O7,curveMonotoneY:R7,curveNatural:M7,curveStep:D7,curveStepAfter:j7,curveStepBefore:L7},nu=t=>ct(t.x)&&ct(t.y),c1=t=>t.base!=null&&nu(t.base)&&nu(t),Qs=t=>t.x,Js=t=>t.y,xL=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(il(t));return(r==="curveMonotone"||r==="curveBump")&&e?l1["".concat(r).concat(e==="vertical"?"Y":"X")]:l1[r]||sd},wL=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,s=xL(e,i),o=a?r.filter(nu):r,c;if(Array.isArray(n)){var u=r.map((g,x)=>o1(o1({},g),{},{base:n[x]}));i==="vertical"?c=zl().y(Js).x1(Qs).x0(g=>g.base.x):c=zl().x(Qs).y1(Js).y0(g=>g.base.y);var d=c.defined(c1).curve(s),h=a?u.filter(c1):u;return d(h)}i==="vertical"&&de(n)?c=zl().y(Js).x1(Qs).x0(n):de(n)?c=zl().x(Qs).y1(Js).y0(n):c=__().x(Qs).y(Js);var p=c.defined(nu).curve(s);return p(o)},gg=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?wL(t):n;return v.createElement("path",lm({},Hr(t),iR(t),{className:Ue("recharts-curve",e),d:a===null?void 0:a,ref:i}))},_L=["x","y","top","left","width","height","className"];function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cm.apply(null,arguments)}function u1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(r),!0).forEach(function(n){EL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EL(t,e,r){return(e=AL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AL(t){var e=PL(t,"string");return typeof e=="symbol"?e:e+""}function PL(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SL(t,e){if(t==null)return{};var r,n,i=TL(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function TL(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IL=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),CL=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=t,c=SL(t,_L),u=NL({x:e,y:r,top:n,left:i,width:a,height:s},c);return!de(e)||!de(r)||!de(a)||!de(s)||!de(n)||!de(i)?null:v.createElement("path",cm({},Dr(u),{className:Ue("recharts-cross",o),d:IL(e,r,a,s,n,i)}))};function kL(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function d1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(r),!0).forEach(function(n){OL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OL(t,e,r){return(e=RL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RL(t){var e=ML(t,"string");return typeof e=="symbol"?e:e+""}function ML(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DL=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),a3=(t,e,r)=>t.map(n=>"".concat(DL(n)," ").concat(e,"ms ").concat(r)).join(","),LL=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),jo=(t,e)=>Object.keys(e).reduce((r,n)=>h1(h1({},r),{},{[n]:t(n,e[n])}),{});function f1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(r),!0).forEach(function(n){jL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jL(t,e,r){return(e=VL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=$L(t,"string");return typeof e=="symbol"?e:e+""}function $L(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu=(t,e,r)=>t+(e-t)*r,um=t=>{var{from:e,to:r}=t;return e!==r},s3=(t,e,r)=>{var n=jo((i,a)=>{if(um(a)){var[s,o]=t(a.from,a.to,a.velocity);return wt(wt({},a),{},{from:s,velocity:o})}return a},e);return r<1?jo((i,a)=>um(a)?wt(wt({},a),{},{velocity:iu(a.velocity,n[i].velocity,r),from:iu(a.from,n[i].from,r)}):a,e):s3(t,n,r-1)};function FL(t,e,r,n,i,a){var s,o=n.reduce((p,g)=>wt(wt({},p),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),c=()=>jo((p,g)=>g.from,o),u=()=>!Object.values(o).filter(um).length,d=null,h=p=>{s||(s=p);var g=p-s,x=g/r.dt;o=s3(r,o,x),i(wt(wt(wt({},t),e),c())),s=p,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var p;(p=d)===null||p===void 0||p()})}function UL(t,e,r,n,i,a,s){var o=null,c=i.reduce((h,p)=>wt(wt({},h),{},{[p]:[t[p],e[p]]}),{}),u,d=h=>{u||(u=h);var p=(h-u)/n,g=jo((b,y)=>iu(...y,r(p)),c);if(a(wt(wt(wt({},t),e),g)),p<1)o=s.setTimeout(d);else{var x=jo((b,y)=>iu(...y,r(1)),c);a(wt(wt(wt({},t),e),x))}};return()=>(o=s.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const zL=(t,e,r,n,i,a)=>{var s=LL(t,e);return r==null?()=>(i(wt(wt({},t),e)),()=>{}):r.isStepper===!0?FL(t,e,r,s,i,a):UL(t,e,r,n,s,i,a)};var au=1e-4,o3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],l3=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),m1=(t,e)=>r=>{var n=o3(t,e);return l3(n,r)},BL=(t,e)=>r=>{var n=o3(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return l3(i,r)},WL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return r.length===4?r:[0,0,1,1]},HL=(t,e,r,n)=>{var i=m1(t,r),a=m1(e,n),s=BL(t,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,p=0;p<8;++p){var g=i(h)-d,x=s(h);if(Math.abs(g-d)<au||x<au)return a(h);h=o(h-g/x)}return a(h)};return c.isStepper=!1,c},p1=function(){return HL(...WL(...arguments))},qL=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,h=c+(u-d)*i/1e3,p=c*i/1e3+s;return Math.abs(p-o)<au&&Math.abs(h)<au?[o,0]:[p,h]};return a.isStepper=!0,a.dt=i,a},KL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return p1(t);case"spring":return qL();default:if(t.split("(")[0]==="cubic-bezier")return p1(t)}return typeof t=="function"?t:null};function GL(t){var e,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=t.setTimeout(a.bind(null,u),c);return}a(c),i=t.setTimeout(a.bind(null,u));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}class YL{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function XL(){return GL(new YL)}var QL=v.createContext(XL);function JL(t,e){var r=v.useContext(QL);return v.useMemo(()=>e??r(t),[t,e,r])}var ZL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},g1={t:0},Kh={t:1};function Sd(t){var e=jt(t,ZL),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=e,d=JL(e.animationId,e.animationManager),[h,p]=v.useState(r?g1:Kh),g=v.useRef(null);return v.useEffect(()=>{r||p(Kh)},[r]),v.useEffect(()=>{if(!r||!n)return Sa;var x=zL(g1,Kh,KL(a),i,p,d.getTimeoutController()),b=()=>{g.current=x()};return d.start([c,s,b,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[r,n,i,a,s,c,o,d]),u(h.t)}function Td(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Ro(e)),n=v.useRef(t);return n.current!==t&&(r.current=Ro(e),n.current=t),r.current}var ej=["radius"],tj=["radius"];function y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(r),!0).forEach(function(n){rj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rj(t,e,r){return(e=nj(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nj(t){var e=ij(t,"string");return typeof e=="symbol"?e:e+""}function ij(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},su.apply(null,arguments)}function b1(t,e){if(t==null)return{};var r,n,i=aj(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function aj(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var x1=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>a?a:i[h];u="M".concat(t,",").concat(e+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+o*d[0],",").concat(e)),u+="L ".concat(t+r-o*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+s*d[1])),u+="L ".concat(t+r,",").concat(e+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-o*d[2],",").concat(e+n)),u+="L ".concat(t+o*d[3],",").concat(e+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);u="M ".concat(t,",").concat(e+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r,",").concat(e+s*g,`
            L `).concat(t+r,",").concat(e+n-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(e+n-s*g," Z")}else u="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},w1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c3=t=>{var e=jt(t,w1),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=e,{animationEasing:h,animationDuration:p,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:b}=e,y=v.useRef(o),N=v.useRef(c),_=v.useRef(a),P=v.useRef(s),L=v.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),k=Td(L,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var D=Ue("recharts-rectangle",d);if(!b){var S=Dr(e),I=b1(S,ej);return v.createElement("path",su({},I,{radius:typeof u=="number"?u:void 0,className:D,d:x1(a,s,o,c,u)}))}var E=y.current,R=N.current,C=_.current,O=P.current,T="0px ".concat(n===-1?1:n,"px"),j="".concat(n,"px 0px"),V=a3(["strokeDasharray"],p,typeof h=="string"?h:w1.animationEasing);return v.createElement(Sd,{animationId:k,key:k,canBegin:n>0,duration:p,easing:h,isActive:b,begin:g},H=>{var X=xt(E,o,H),re=xt(R,c,H),F=xt(C,a,H),Q=xt(O,s,H);r.current&&(y.current=X,N.current=re,_.current=F,P.current=Q);var ce;x?H>0?ce={transition:V,strokeDasharray:j}:ce={strokeDasharray:T}:ce={strokeDasharray:j};var Ee=Dr(e),De=b1(Ee,tj);return v.createElement("path",su({},De,{radius:typeof u=="number"?u:void 0,className:D,d:x1(F,Q,X,re,u),ref:r,style:v1(v1({},ce),e.style)}))})};function _1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_1(Object(r),!0).forEach(function(n){sj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sj(t,e,r){return(e=oj(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oj(t){var e=lj(t,"string");return typeof e=="symbol"?e:e+""}function lj(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ou=Math.PI/180,cj=t=>t*180/Math.PI,pt=(t,e,r,n)=>({x:t+Math.cos(-ou*n)*r,y:e+Math.sin(-ou*n)*r}),u3=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uj=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},dj=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=uj({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:cj(c),angleInRadian:c}},hj=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},fj=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},mj=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=dj({x:r,y:n},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=hj(e),d=a,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?N1(N1({},e),{},{radius:i,angle:fj(d,e)}):null};function d3(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=pt(e,r,n,i),o=pt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(null,arguments)}var pj=(t,e)=>{var r=Dt(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Xl=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=t,u=o*(s?1:-1)+n,d=Math.asin(o/u)/ou,h=c?i:i+a*d,p=pt(e,r,u,h),g=pt(e,r,n,h),x=c?i-a*d:i,b=pt(e,r,u*Math.cos(d*ou),x);return{center:p,circleTangency:g,lineTangency:b,theta:d}},h3=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,o=pj(a,s),c=a+o,u=pt(e,r,i,a),d=pt(e,r,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=pt(e,r,n,a),g=pt(e,r,n,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(e,",").concat(r," Z");return h},gj=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=t,d=Dt(u-c),{circleTangency:h,lineTangency:p,theta:g}=Xl({cx:e,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:y}=Xl({cx:e,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),N=o?Math.abs(c-u):Math.abs(c-u)-g-y;if(N<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):h3({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var _="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:P,lineTangency:L,theta:k}=Xl({cx:e,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:D,lineTangency:S,theta:I}=Xl({cx:e,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-k-I;if(E<0&&a===0)return"".concat(_,"L").concat(e,",").concat(r,"Z");_+="L".concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(L.x,",").concat(L.y,"Z")}else _+="L".concat(e,",").concat(r,"Z");return _},yj={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f3=t=>{var e=jt(t,yj),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=e;if(a<i||u===d)return null;var p=Ue("recharts-sector",h),g=a-i,x=Qt(s,g,0,!0),b;return x>0&&Math.abs(u-d)<360?b=gj({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,g/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):b=h3({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),v.createElement("path",dm({},Dr(e),{className:p,d:b}))};function vj(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(j_(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,c=pt(n,i,a,o),u=pt(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return d3(e)}}var m3={},p3={},g3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ag;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(g3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g3;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(p3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sg,r=p3;function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}t.range=n})(m3);var bj=m3.range;const y3=Ri(bj);function Ei(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xj(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yg(t){let e,r,n;t.length!==2?(e=Ei,r=(o,c)=>Ei(t(o),c),n=(o,c)=>t(o)-c):(e=t===Ei||t===xj?t:wj,r=t,n=t);function i(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,c,u=0,d=o.length){const h=i(o,c,u,d-1);return h>u&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:i,center:s,right:a}}function wj(){return 0}function v3(t){return t===null?NaN:+t}function*_j(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const Nj=yg(Ei),Ej=Nj.right;yg(v3).center;const cl=Ej;class E1 extends Map{constructor(e,r=Sj){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(A1(this,e))}has(e){return super.has(A1(this,e))}set(e,r){return super.set(Aj(this,e),r)}delete(e){return super.delete(Pj(this,e))}}function A1({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Aj({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Pj({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Sj(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tj(t=Ei){if(t===Ei)return b3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function b3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ij=Math.sqrt(50),Cj=Math.sqrt(10),kj=Math.sqrt(2);function lu(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Ij?10:a>=Cj?5:a>=kj?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(t*u),c=Math.round(e*u),o/u<t&&++o,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(t/u),c=Math.round(e/u),o*u<t&&++o,c*u>e&&--c),c<o&&.5<=r&&r<2?lu(t,e,r*2):[o,c,u]}function hm(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?lu(e,t,r):lu(t,e,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function fm(t,e,r){return e=+e,t=+t,r=+r,lu(t,e,r)[2]}function mm(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?fm(e,t,r):fm(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function P1(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function S1(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function x3(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?b3:Tj(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(e-u*h/c+p)),x=Math.min(n,Math.floor(e+(c-u)*h/c+p));x3(t,e,g,x,i)}const a=t[e];let s=r,o=n;for(Zs(t,r,e),i(t[n],a)>0&&Zs(t,r,n);s<o;){for(Zs(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?Zs(t,r,o):(++o,Zs(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Zs(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Oj(t,e,r){if(t=Float64Array.from(_j(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return S1(t);if(e>=1)return P1(t);var n,i=(n-1)*e,a=Math.floor(i),s=P1(x3(t,a).subarray(0,a+1)),o=S1(t.subarray(a+1));return s+(o-s)*(i-a)}}function Rj(t,e,r=v3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Mj(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pm=Symbol("implicit");function vg(){var t=new E1,e=[],r=[],n=pm;function i(a){let s=t.get(a);if(s===void 0){if(n!==pm)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new E1;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vg(e,r).unknown(n)},Vr.apply(i,arguments),i}function bg(){var t=vg().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var p=e().length,g=i<n,x=g?i:n,b=g?n:i;a=(b-x)/Math.max(1,p-c+u*2),o&&(a=Math.floor(a)),x+=(b-x-a*(p-c))*d,s=a*(1-c),o&&(x=Math.round(x),s=Math.round(s));var y=Mj(p).map(function(N){return x+a*N});return r(g?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(p){return arguments.length?(o=!!p,h()):o},t.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),h()):d},t.copy=function(){return bg(e(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Vr.apply(h(),arguments)}function w3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return w3(e())},t}function Dj(){return w3(bg.apply(null,arguments).paddingInner(1))}function xg(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ul(){}var Vo=.7,cu=1/Vo,ts="\\s*([+-]?\\d+)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lj=/^#([0-9a-f]{3,8})$/,jj=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),Vj=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),$j=new RegExp(`^rgba\\(${ts},${ts},${ts},${$o}\\)$`),Fj=new RegExp(`^rgba\\(${fn},${fn},${fn},${$o}\\)$`),Uj=new RegExp(`^hsl\\(${$o},${fn},${fn}\\)$`),zj=new RegExp(`^hsla\\(${$o},${fn},${fn},${$o}\\)$`),T1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xg(ul,Fo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:I1,formatHex:I1,formatHex8:Bj,formatHsl:Wj,formatRgb:C1,toString:C1});function I1(){return this.rgb().formatHex()}function Bj(){return this.rgb().formatHex8()}function Wj(){return N3(this).formatHsl()}function C1(){return this.rgb().formatRgb()}function Fo(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Lj.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?k1(e):r===3?new ur(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ql(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ql(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jj.exec(t))?new ur(e[1],e[2],e[3],1):(e=Vj.exec(t))?new ur(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=$j.exec(t))?Ql(e[1],e[2],e[3],e[4]):(e=Fj.exec(t))?Ql(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uj.exec(t))?M1(e[1],e[2]/100,e[3]/100,1):(e=zj.exec(t))?M1(e[1],e[2]/100,e[3]/100,e[4]):T1.hasOwnProperty(t)?k1(T1[t]):t==="transparent"?new ur(NaN,NaN,NaN,0):null}function k1(t){return new ur(t>>16&255,t>>8&255,t&255,1)}function Ql(t,e,r,n){return n<=0&&(t=e=r=NaN),new ur(t,e,r,n)}function Hj(t){return t instanceof ul||(t=Fo(t)),t?(t=t.rgb(),new ur(t.r,t.g,t.b,t.opacity)):new ur}function gm(t,e,r,n){return arguments.length===1?Hj(t):new ur(t,e,r,n??1)}function ur(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}xg(ur,gm,_3(ul,{brighter(t){return t=t==null?cu:Math.pow(cu,t),new ur(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vo:Math.pow(Vo,t),new ur(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ur(ia(this.r),ia(this.g),ia(this.b),uu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O1,formatHex:O1,formatHex8:qj,formatRgb:R1,toString:R1}));function O1(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}`}function qj(){return`#${Ji(this.r)}${Ji(this.g)}${Ji(this.b)}${Ji((isNaN(this.opacity)?1:this.opacity)*255)}`}function R1(){const t=uu(this.opacity);return`${t===1?"rgb(":"rgba("}${ia(this.r)}, ${ia(this.g)}, ${ia(this.b)}${t===1?")":`, ${t})`}`}function uu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ji(t){return t=ia(t),(t<16?"0":"")+t.toString(16)}function M1(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ur(t,e,r,n)}function N3(t){if(t instanceof Ur)return new Ur(t.h,t.s,t.l,t.opacity);if(t instanceof ul||(t=Fo(t)),!t)return new Ur;if(t instanceof Ur)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Ur(s,o,c,t.opacity)}function Kj(t,e,r,n){return arguments.length===1?N3(t):new Ur(t,e,r,n??1)}function Ur(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}xg(Ur,Kj,_3(ul,{brighter(t){return t=t==null?cu:Math.pow(cu,t),new Ur(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vo:Math.pow(Vo,t),new Ur(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ur(Gh(t>=240?t-240:t+120,i,n),Gh(t,i,n),Gh(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ur(D1(this.h),Jl(this.s),Jl(this.l),uu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=uu(this.opacity);return`${t===1?"hsl(":"hsla("}${D1(this.h)}, ${Jl(this.s)*100}%, ${Jl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function D1(t){return t=(t||0)%360,t<0?t+360:t}function Jl(t){return Math.max(0,Math.min(1,t||0))}function Gh(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wg=t=>()=>t;function Gj(t,e){return function(r){return t+r*e}}function Yj(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Xj(t){return(t=+t)==1?E3:function(e,r){return r-e?Yj(e,r,t):wg(isNaN(e)?r:e)}}function E3(t,e){var r=e-t;return r?Gj(t,r):wg(isNaN(t)?e:t)}const L1=function t(e){var r=Xj(e);function n(i,a){var s=r((i=gm(i)).r,(a=gm(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=E3(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Qj(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Jj(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zj(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Ns(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function eV(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function du(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function tV(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ns(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ym=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yh=new RegExp(ym.source,"g");function rV(t){return function(){return t}}function nV(t){return function(e){return t(e)+""}}function iV(t,e){var r=ym.lastIndex=Yh.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=ym.exec(t))&&(i=Yh.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:du(n,i)})),r=Yh.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?nV(c[0].x):rV(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)o[(h=c[d]).i]=h.x(u);return o.join("")})}function Ns(t,e){var r=typeof e,n;return e==null||r==="boolean"?wg(e):(r==="number"?du:r==="string"?(n=Fo(e))?(e=n,L1):iV:e instanceof Fo?L1:e instanceof Date?eV:Jj(e)?Qj:Array.isArray(e)?Zj:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tV:du)(t,e)}function _g(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function aV(t,e){e===void 0&&(e=t,t=Ns);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function sV(t){return function(){return t}}function hu(t){return+t}var j1=[0,1];function er(t){return t}function vm(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:sV(isNaN(e)?NaN:.5)}function oV(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function lV(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=vm(i,n),a=r(s,a)):(n=vm(n,i),a=r(a,s)),function(o){return a(n(o))}}function cV(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=vm(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var c=cl(t,o,1,n)-1;return a[c](i[c](o))}}function dl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Id(){var t=j1,e=j1,r=Ns,n,i,a,s=er,o,c,u;function d(){var p=Math.min(t.length,e.length);return s!==er&&(s=oV(t[0],t[p-1])),o=p>2?cV:lV,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(c||(c=o(t.map(n),e,r)))(n(s(p)))}return h.invert=function(p){return s(i((u||(u=o(e,t.map(n),du)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,hu),d()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),d()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=_g,d()},h.clamp=function(p){return arguments.length?(s=p?!0:er,d()):s!==er},h.interpolate=function(p){return arguments.length?(r=p,d()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,g){return n=p,i=g,d()}}function Ng(){return Id()(er,er)}function uV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fu(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hs(t){return t=fu(Math.abs(t)),t?t[1]:NaN}function dV(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function hV(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var fV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uo(t){if(!(e=fV.exec(t)))throw new Error("invalid format: "+t);var e;return new Eg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uo.prototype=Eg.prototype;function Eg(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Eg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mV(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var A3;function pV(t,e){var r=fu(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(A3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fu(t,Math.max(0,e+a-1))[0]}function V1(t,e){var r=fu(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>V1(t*100,e),r:V1,s:pV,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function F1(t){return t}var U1=Array.prototype.map,z1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gV(t){var e=t.grouping===void 0||t.thousands===void 0?F1:dV(U1.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?F1:hV(U1.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Uo(h);var p=h.fill,g=h.align,x=h.sign,b=h.symbol,y=h.zero,N=h.width,_=h.comma,P=h.precision,L=h.trim,k=h.type;k==="n"?(_=!0,k="g"):$1[k]||(P===void 0&&(P=12),L=!0,k="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var D=b==="$"?r:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=b==="$"?n:/[%p]/.test(k)?s:"",I=$1[k],E=/[defgprs%]/.test(k);P=P===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function R(C){var O=D,T=S,j,V,H;if(k==="c")T=I(C)+T,C="";else{C=+C;var X=C<0||1/C<0;if(C=isNaN(C)?c:I(Math.abs(C),P),L&&(C=mV(C)),X&&+C==0&&x!=="+"&&(X=!1),O=(X?x==="("?x:o:x==="-"||x==="("?"":x)+O,T=(k==="s"?z1[8+A3/3]:"")+T+(X&&x==="("?")":""),E){for(j=-1,V=C.length;++j<V;)if(H=C.charCodeAt(j),48>H||H>57){T=(H===46?i+C.slice(j+1):C.slice(j))+T,C=C.slice(0,j);break}}}_&&!y&&(C=e(C,1/0));var re=O.length+C.length+T.length,F=re<N?new Array(N-re+1).join(p):"";switch(_&&y&&(C=e(F+C,F.length?N-T.length:1/0),F=""),g){case"<":C=O+C+T+F;break;case"=":C=O+F+C+T;break;case"^":C=F.slice(0,re=F.length>>1)+O+C+T+F.slice(re);break;default:C=F+O+C+T;break}return a(C)}return R.toString=function(){return h+""},R}function d(h,p){var g=u((h=Uo(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(hs(p)/3)))*3,b=Math.pow(10,-x),y=z1[8+x/3];return function(N){return g(b*N)+y}}return{format:u,formatPrefix:d}}var Zl,Ag,P3;yV({thousands:",",grouping:[3],currency:["$",""]});function yV(t){return Zl=gV(t),Ag=Zl.format,P3=Zl.formatPrefix,Zl}function vV(t){return Math.max(0,-hs(Math.abs(t)))}function bV(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hs(e)/3)))*3-hs(Math.abs(t)))}function xV(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hs(e)-hs(t))+1}function S3(t,e,r,n){var i=mm(t,e,r),a;switch(n=Uo(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=bV(i,s))&&(n.precision=a),P3(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=xV(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=vV(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ag(n)}function Li(t){var e=t.domain;return t.ticks=function(r){var n=e();return hm(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return S3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=fm(s,o,r),u===c)return n[i]=s,n[a]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return t},t}function T3(){var t=Ng();return t.copy=function(){return dl(t,T3())},Vr.apply(t,arguments),Li(t)}function I3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,hu),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return I3(t).unknown(e)},t=arguments.length?Array.from(t,hu):[0,1],Li(r)}function C3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function B1(t){return Math.log(t)}function W1(t){return Math.exp(t)}function wV(t){return-Math.log(-t)}function _V(t){return-Math.exp(-t)}function NV(t){return isFinite(t)?+("1e"+t):t<0?0:t}function EV(t){return t===10?NV:t===Math.E?Math.exp:e=>Math.pow(t,e)}function AV(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function H1(t){return(e,r)=>-t(-e,r)}function Pg(t){const e=t(B1,W1),r=e.domain;let n=10,i,a;function s(){return i=AV(n),a=EV(n),r()[0]<0?(i=H1(i),a=H1(a),t(wV,_V)):t(B1,W1),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let p=i(u),g=i(d),x,b;const y=o==null?10:+o;let N=[];if(!(n%1)&&g-p<y){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(x=1;x<n;++x)if(b=p<0?x/a(-p):x*a(p),!(b<u)){if(b>d)break;N.push(b)}}else for(;p<=g;++p)for(x=n-1;x>=1;--x)if(b=p>0?x/a(-p):x*a(p),!(b<u)){if(b>d)break;N.push(b)}N.length*2<y&&(N=hm(u,d,y))}else N=hm(p,g,Math.min(g-p,y)).map(a);return h?N.reverse():N},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Uo(c)).precision==null&&(c.trim=!0),c=Ag(c)),o===1/0)return c;const u=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(C3(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function k3(){const t=Pg(Id()).domain([1,10]);return t.copy=()=>dl(t,k3()).base(t.base()),Vr.apply(t,arguments),t}function q1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function K1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Sg(t){var e=1,r=t(q1(e),K1(e));return r.constant=function(n){return arguments.length?t(q1(e=+n),K1(e)):e},Li(r)}function O3(){var t=Sg(Id());return t.copy=function(){return dl(t,O3()).constant(t.constant())},Vr.apply(t,arguments)}function G1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function PV(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SV(t){return t<0?-t*t:t*t}function Tg(t){var e=t(er,er),r=1;function n(){return r===1?t(er,er):r===.5?t(PV,SV):t(G1(r),G1(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Li(e)}function Ig(){var t=Tg(Id());return t.copy=function(){return dl(t,Ig()).exponent(t.exponent())},Vr.apply(t,arguments),t}function TV(){return Ig.apply(null,arguments).exponent(.5)}function Y1(t){return Math.sign(t)*t*t}function IV(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function R3(){var t=Ng(),e=[0,1],r=!1,n;function i(a){var s=IV(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(Y1(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,hu)).map(Y1)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return R3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vr.apply(i,arguments),Li(i)}function M3(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Rj(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[cl(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ei),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return M3().domain(t).range(e).unknown(n)},Vr.apply(a,arguments)}function D3(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[cl(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return D3().domain([t,e]).range(i).unknown(a)},Vr.apply(Li(s),arguments)}function L3(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[cl(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return L3().domain(t).range(e).unknown(r)},Vr.apply(i,arguments)}const Xh=new Date,Qh=new Date;function Tt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return c},i.filter=a=>Tt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Xh.setTime(+a),Qh.setTime(+s),t(Xh),t(Qh),Math.floor(r(Xh,Qh))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const mu=Tt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mu);mu.range;const On=1e3,Or=On*60,Rn=Or*60,Bn=Rn*24,Cg=Bn*7,X1=Bn*30,Jh=Bn*365,Zi=Tt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCSeconds());Zi.range;const kg=Tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*On)},(t,e)=>{t.setTime(+t+e*Or)},(t,e)=>(e-t)/Or,t=>t.getMinutes());kg.range;const Og=Tt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Or)},(t,e)=>(e-t)/Or,t=>t.getUTCMinutes());Og.range;const Rg=Tt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*On-t.getMinutes()*Or)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getHours());Rg.range;const Mg=Tt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getUTCHours());Mg.range;const hl=Tt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Or)/Bn,t=>t.getDate()-1);hl.range;const Cd=Tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bn,t=>t.getUTCDate()-1);Cd.range;const j3=Tt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bn,t=>Math.floor(t/Bn));j3.range;function Ca(t){return Tt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Or)/Cg)}const kd=Ca(0),pu=Ca(1),CV=Ca(2),kV=Ca(3),fs=Ca(4),OV=Ca(5),RV=Ca(6);kd.range;pu.range;CV.range;kV.range;fs.range;OV.range;RV.range;function ka(t){return Tt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Cg)}const Od=ka(0),gu=ka(1),MV=ka(2),DV=ka(3),ms=ka(4),LV=ka(5),jV=ka(6);Od.range;gu.range;MV.range;DV.range;ms.range;LV.range;jV.range;const Dg=Tt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Dg.range;const Lg=Tt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Lg.range;const Wn=Tt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Wn.range;const Hn=Tt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Hn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Hn.range;function V3(t,e,r,n,i,a){const s=[[Zi,1,On],[Zi,5,5*On],[Zi,15,15*On],[Zi,30,30*On],[a,1,Or],[a,5,5*Or],[a,15,15*Or],[a,30,30*Or],[i,1,Rn],[i,3,3*Rn],[i,6,6*Rn],[i,12,12*Rn],[n,1,Bn],[n,2,2*Bn],[r,1,Cg],[e,1,X1],[e,3,3*X1],[t,1,Jh]];function o(u,d,h){const p=d<u;p&&([u,d]=[d,u]);const g=h&&typeof h.range=="function"?h:c(u,d,h),x=g?g.range(u,+d+1):[];return p?x.reverse():x}function c(u,d,h){const p=Math.abs(d-u)/h,g=yg(([,,y])=>y).right(s,p);if(g===s.length)return t.every(mm(u/Jh,d/Jh,h));if(g===0)return mu.every(Math.max(mm(u,d,h),1));const[x,b]=s[p/s[g-1][2]<s[g][2]/p?g-1:g];return x.every(b)}return[o,c]}const[VV,$V]=V3(Hn,Lg,Od,j3,Mg,Og),[FV,UV]=V3(Wn,Dg,kd,hl,Rg,kg);function Zh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ef(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function eo(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function zV(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,u=to(i),d=ro(i),h=to(a),p=ro(a),g=to(s),x=ro(s),b=to(o),y=ro(o),N=to(c),_=ro(c),P={a:X,A:re,b:F,B:Q,c:null,d:r2,e:r2,f:d$,g:w$,G:N$,H:l$,I:c$,j:u$,L:$3,m:h$,M:f$,p:ce,q:Ee,Q:a2,s:s2,S:m$,u:p$,U:g$,V:y$,w:v$,W:b$,x:null,X:null,y:x$,Y:_$,Z:E$,"%":i2},L={a:De,A:Ge,b:Je,B:ee,c:null,d:n2,e:n2,f:T$,g:V$,G:F$,H:A$,I:P$,j:S$,L:U3,m:I$,M:C$,p:se,q:be,Q:a2,s:s2,S:k$,u:O$,U:R$,V:M$,w:D$,W:L$,x:null,X:null,y:j$,Y:$$,Z:U$,"%":i2},k={a:R,A:C,b:O,B:T,c:j,d:e2,e:e2,f:i$,g:Z1,G:J1,H:t2,I:t2,j:e$,L:n$,m:ZV,M:t$,p:E,q:JV,Q:s$,s:o$,S:r$,u:KV,U:GV,V:YV,w:qV,W:XV,x:V,X:H,y:Z1,Y:J1,Z:QV,"%":a$};P.x=D(r,P),P.X=D(n,P),P.c=D(e,P),L.x=D(r,L),L.X=D(n,L),L.c=D(e,L);function D(q,he){return function(ve){var K=[],Ce=-1,Ae=0,Le=q.length,je,Wt,Xr;for(ve instanceof Date||(ve=new Date(+ve));++Ce<Le;)q.charCodeAt(Ce)===37&&(K.push(q.slice(Ae,Ce)),(Wt=Q1[je=q.charAt(++Ce)])!=null?je=q.charAt(++Ce):Wt=je==="e"?" ":"0",(Xr=he[je])&&(je=Xr(ve,Wt)),K.push(je),Ae=Ce+1);return K.push(q.slice(Ae,Ce)),K.join("")}}function S(q,he){return function(ve){var K=eo(1900,void 0,1),Ce=I(K,q,ve+="",0),Ae,Le;if(Ce!=ve.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(he&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ae=ef(eo(K.y,0,1)),Le=Ae.getUTCDay(),Ae=Le>4||Le===0?gu.ceil(Ae):gu(Ae),Ae=Cd.offset(Ae,(K.V-1)*7),K.y=Ae.getUTCFullYear(),K.m=Ae.getUTCMonth(),K.d=Ae.getUTCDate()+(K.w+6)%7):(Ae=Zh(eo(K.y,0,1)),Le=Ae.getDay(),Ae=Le>4||Le===0?pu.ceil(Ae):pu(Ae),Ae=hl.offset(Ae,(K.V-1)*7),K.y=Ae.getFullYear(),K.m=Ae.getMonth(),K.d=Ae.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Le="Z"in K?ef(eo(K.y,0,1)).getUTCDay():Zh(eo(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Le+5)%7:K.w+K.U*7-(Le+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,ef(K)):Zh(K)}}function I(q,he,ve,K){for(var Ce=0,Ae=he.length,Le=ve.length,je,Wt;Ce<Ae;){if(K>=Le)return-1;if(je=he.charCodeAt(Ce++),je===37){if(je=he.charAt(Ce++),Wt=k[je in Q1?he.charAt(Ce++):je],!Wt||(K=Wt(q,ve,K))<0)return-1}else if(je!=ve.charCodeAt(K++))return-1}return K}function E(q,he,ve){var K=u.exec(he.slice(ve));return K?(q.p=d.get(K[0].toLowerCase()),ve+K[0].length):-1}function R(q,he,ve){var K=g.exec(he.slice(ve));return K?(q.w=x.get(K[0].toLowerCase()),ve+K[0].length):-1}function C(q,he,ve){var K=h.exec(he.slice(ve));return K?(q.w=p.get(K[0].toLowerCase()),ve+K[0].length):-1}function O(q,he,ve){var K=N.exec(he.slice(ve));return K?(q.m=_.get(K[0].toLowerCase()),ve+K[0].length):-1}function T(q,he,ve){var K=b.exec(he.slice(ve));return K?(q.m=y.get(K[0].toLowerCase()),ve+K[0].length):-1}function j(q,he,ve){return I(q,e,he,ve)}function V(q,he,ve){return I(q,r,he,ve)}function H(q,he,ve){return I(q,n,he,ve)}function X(q){return s[q.getDay()]}function re(q){return a[q.getDay()]}function F(q){return c[q.getMonth()]}function Q(q){return o[q.getMonth()]}function ce(q){return i[+(q.getHours()>=12)]}function Ee(q){return 1+~~(q.getMonth()/3)}function De(q){return s[q.getUTCDay()]}function Ge(q){return a[q.getUTCDay()]}function Je(q){return c[q.getUTCMonth()]}function ee(q){return o[q.getUTCMonth()]}function se(q){return i[+(q.getUTCHours()>=12)]}function be(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var he=D(q+="",P);return he.toString=function(){return q},he},parse:function(q){var he=S(q+="",!1);return he.toString=function(){return q},he},utcFormat:function(q){var he=D(q+="",L);return he.toString=function(){return q},he},utcParse:function(q){var he=S(q+="",!0);return he.toString=function(){return q},he}}}var Q1={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,BV=/^%/,WV=/[\\^$*+?|[\]().{}]/g;function Re(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function HV(t){return t.replace(WV,"\\$&")}function to(t){return new RegExp("^(?:"+t.map(HV).join("|")+")","i")}function ro(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function qV(t,e,r){var n=Vt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function KV(t,e,r){var n=Vt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function GV(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function YV(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function XV(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function J1(t,e,r){var n=Vt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Z1(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function QV(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function JV(t,e,r){var n=Vt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function ZV(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function e2(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function e$(t,e,r){var n=Vt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function t2(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function t$(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function r$(t,e,r){var n=Vt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function n$(t,e,r){var n=Vt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function i$(t,e,r){var n=Vt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function a$(t,e,r){var n=BV.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function s$(t,e,r){var n=Vt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function o$(t,e,r){var n=Vt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function r2(t,e){return Re(t.getDate(),e,2)}function l$(t,e){return Re(t.getHours(),e,2)}function c$(t,e){return Re(t.getHours()%12||12,e,2)}function u$(t,e){return Re(1+hl.count(Wn(t),t),e,3)}function $3(t,e){return Re(t.getMilliseconds(),e,3)}function d$(t,e){return $3(t,e)+"000"}function h$(t,e){return Re(t.getMonth()+1,e,2)}function f$(t,e){return Re(t.getMinutes(),e,2)}function m$(t,e){return Re(t.getSeconds(),e,2)}function p$(t){var e=t.getDay();return e===0?7:e}function g$(t,e){return Re(kd.count(Wn(t)-1,t),e,2)}function F3(t){var e=t.getDay();return e>=4||e===0?fs(t):fs.ceil(t)}function y$(t,e){return t=F3(t),Re(fs.count(Wn(t),t)+(Wn(t).getDay()===4),e,2)}function v$(t){return t.getDay()}function b$(t,e){return Re(pu.count(Wn(t)-1,t),e,2)}function x$(t,e){return Re(t.getFullYear()%100,e,2)}function w$(t,e){return t=F3(t),Re(t.getFullYear()%100,e,2)}function _$(t,e){return Re(t.getFullYear()%1e4,e,4)}function N$(t,e){var r=t.getDay();return t=r>=4||r===0?fs(t):fs.ceil(t),Re(t.getFullYear()%1e4,e,4)}function E$(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Re(e/60|0,"0",2)+Re(e%60,"0",2)}function n2(t,e){return Re(t.getUTCDate(),e,2)}function A$(t,e){return Re(t.getUTCHours(),e,2)}function P$(t,e){return Re(t.getUTCHours()%12||12,e,2)}function S$(t,e){return Re(1+Cd.count(Hn(t),t),e,3)}function U3(t,e){return Re(t.getUTCMilliseconds(),e,3)}function T$(t,e){return U3(t,e)+"000"}function I$(t,e){return Re(t.getUTCMonth()+1,e,2)}function C$(t,e){return Re(t.getUTCMinutes(),e,2)}function k$(t,e){return Re(t.getUTCSeconds(),e,2)}function O$(t){var e=t.getUTCDay();return e===0?7:e}function R$(t,e){return Re(Od.count(Hn(t)-1,t),e,2)}function z3(t){var e=t.getUTCDay();return e>=4||e===0?ms(t):ms.ceil(t)}function M$(t,e){return t=z3(t),Re(ms.count(Hn(t),t)+(Hn(t).getUTCDay()===4),e,2)}function D$(t){return t.getUTCDay()}function L$(t,e){return Re(gu.count(Hn(t)-1,t),e,2)}function j$(t,e){return Re(t.getUTCFullYear()%100,e,2)}function V$(t,e){return t=z3(t),Re(t.getUTCFullYear()%100,e,2)}function $$(t,e){return Re(t.getUTCFullYear()%1e4,e,4)}function F$(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ms(t):ms.ceil(t),Re(t.getUTCFullYear()%1e4,e,4)}function U$(){return"+0000"}function i2(){return"%"}function a2(t){return+t}function s2(t){return Math.floor(+t/1e3)}var Va,B3,W3;z$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function z$(t){return Va=zV(t),B3=Va.format,Va.parse,W3=Va.utcFormat,Va.utcParse,Va}function B$(t){return new Date(t)}function W$(t){return t instanceof Date?+t:+new Date(+t)}function jg(t,e,r,n,i,a,s,o,c,u){var d=Ng(),h=d.invert,p=d.domain,g=u(".%L"),x=u(":%S"),b=u("%I:%M"),y=u("%I %p"),N=u("%a %d"),_=u("%b %d"),P=u("%B"),L=u("%Y");function k(D){return(c(D)<D?g:o(D)<D?x:s(D)<D?b:a(D)<D?y:n(D)<D?i(D)<D?N:_:r(D)<D?P:L)(D)}return d.invert=function(D){return new Date(h(D))},d.domain=function(D){return arguments.length?p(Array.from(D,W$)):p().map(B$)},d.ticks=function(D){var S=p();return t(S[0],S[S.length-1],D??10)},d.tickFormat=function(D,S){return S==null?k:u(S)},d.nice=function(D){var S=p();return(!D||typeof D.range!="function")&&(D=e(S[0],S[S.length-1],D??10)),D?p(C3(S,D)):d},d.copy=function(){return dl(d,jg(t,e,r,n,i,a,s,o,c,u))},d}function H$(){return Vr.apply(jg(FV,UV,Wn,Dg,kd,hl,Rg,kg,Zi,B3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function q$(){return Vr.apply(jg(VV,$V,Hn,Lg,Od,Cd,Mg,Og,Zi,W3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rd(){var t=0,e=1,r,n,i,a,s=er,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(p){var g,x;return arguments.length?([g,x]=p,s=h(g,x),u):[s(0),s(1)]}}return u.range=d(Ns),u.rangeRound=d(_g),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function ji(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function H3(){var t=Li(Rd()(er));return t.copy=function(){return ji(t,H3())},Jn.apply(t,arguments)}function q3(){var t=Pg(Rd()).domain([1,10]);return t.copy=function(){return ji(t,q3()).base(t.base())},Jn.apply(t,arguments)}function K3(){var t=Sg(Rd());return t.copy=function(){return ji(t,K3()).constant(t.constant())},Jn.apply(t,arguments)}function Vg(){var t=Tg(Rd());return t.copy=function(){return ji(t,Vg()).exponent(t.exponent())},Jn.apply(t,arguments)}function K$(){return Vg.apply(null,arguments).exponent(.5)}function G3(){var t=[],e=er;function r(n){if(n!=null&&!isNaN(n=+n))return e((cl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ei),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Oj(t,a/n))},r.copy=function(){return G3(e).domain(t)},Jn.apply(r,arguments)}function Md(){var t=0,e=.5,r=1,n=1,i,a,s,o,c,u=er,d,h=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+d(b))-a)*(n*b<n*a?o:c),u(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),a=d(e=+e),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(u=b,g):u};function x(b){return function(y){var N,_,P;return arguments.length?([N,_,P]=y,u=aV(b,[N,_,P]),g):[u(0),u(.5),u(1)]}}return g.range=x(Ns),g.rangeRound=x(_g),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return d=b,i=b(t),a=b(e),s=b(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g}}function Y3(){var t=Li(Md()(er));return t.copy=function(){return ji(t,Y3())},Jn.apply(t,arguments)}function X3(){var t=Pg(Md()).domain([.1,1,10]);return t.copy=function(){return ji(t,X3()).base(t.base())},Jn.apply(t,arguments)}function Q3(){var t=Sg(Md());return t.copy=function(){return ji(t,Q3()).constant(t.constant())},Jn.apply(t,arguments)}function $g(){var t=Tg(Md());return t.copy=function(){return ji(t,$g()).exponent(t.exponent())},Jn.apply(t,arguments)}function G$(){return $g.apply(null,arguments).exponent(.5)}const fo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bg,scaleDiverging:Y3,scaleDivergingLog:X3,scaleDivergingPow:$g,scaleDivergingSqrt:G$,scaleDivergingSymlog:Q3,scaleIdentity:I3,scaleImplicit:pm,scaleLinear:T3,scaleLog:k3,scaleOrdinal:vg,scalePoint:Dj,scalePow:Ig,scaleQuantile:M3,scaleQuantize:D3,scaleRadial:R3,scaleSequential:H3,scaleSequentialLog:q3,scaleSequentialPow:Vg,scaleSequentialQuantile:G3,scaleSequentialSqrt:K$,scaleSequentialSymlog:K3,scaleSqrt:TV,scaleSymlog:O3,scaleThreshold:L3,scaleTime:H$,scaleUtc:q$,tickFormat:S3},Symbol.toStringTag,{value:"Module"}));var Vi=t=>t.chartData,Fg=B([Vi],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ug=(t,e,r,n)=>n?Fg(t):Vi(t);function ya(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(ct(e)&&ct(r))return!0}return!1}function o2(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function J3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(ct(r))i=r;else if(typeof r=="function")return;if(ct(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(ya(s))return s}}function Y$(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(ya(n))return o2(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(de(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&Gb.test(i)){var c=Gb.exec(i);if(c==null||e==null)s=void 0;else{var u=+c[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(de(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&Yb.test(a)){var d=Yb.exec(a);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var p=[s,o];if(ya(p))return e==null?p:o2(p,e,r)}}}var Es=1e9,X$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bg,et=!0,jr="[DecimalError] ",aa=jr+"Invalid argument: ",zg=jr+"Exponent out of range: ",As=Math.floor,Gi=Math.pow,Q$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,br,Mt=1e7,Xe=7,Z3=9007199254740991,yu=As(Z3/Xe),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(t){return Ln(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,r=e.constructor;return We(Ln(e,new r(t),0,1),r.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return gt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(br))throw Error(jr+"NaN");if(r.s<1)throw Error(jr+(r.s?"NaN":"-Infinity"));return r.eq(br)?new n(0):(et=!1,e=Ln(zo(r,a),zo(t,a),a),et=!0,We(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rN(e,t):eN(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(jr+"NaN");return r.s?(et=!1,e=Ln(r,t,0,1).times(t),et=!0,r.minus(e)):We(new n(r),i)};ae.naturalExponential=ae.exp=function(){return tN(this)};ae.naturalLogarithm=ae.ln=function(){return zo(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eN(e,t):rN(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(aa+t);if(e=gt(i)+1,n=i.d.length-1,r=n*Xe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ae.squareRoot=ae.sqrt=function(){var t,e,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(jr+"NaN")}for(t=gt(o),et=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=an(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=As((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Ln(o,a,s+2)).times(.5),an(a.d).slice(0,s)===(e=an(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(We(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return et=!0,We(n,r)};ae.times=ae.mul=function(t){var e,r,n,i,a,s,o,c,u,d=this,h=d.constructor,p=d.d,g=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=p.length,u=g.length,c<u&&(a=p,p=g,g=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)o=a[i]+g[n]*p[i-n-1]+e,a[i--]=o%Mt|0,e=o/Mt|0;a[i]=(a[i]+e)%Mt|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,et?We(t,h.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(bn(t,0,Es),e===void 0?e=n.rounding:bn(e,0,8),We(r,t+gt(r)+1,e))};ae.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=va(n,!0):(bn(t,0,Es),e===void 0?e=i.rounding:bn(e,0,8),n=We(new i(n),t+1,e),r=va(n,!0,t+1)),r};ae.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?va(i):(bn(t,0,Es),e===void 0?e=a.rounding:bn(e,0,8),n=We(new a(i),t+gt(i)+1,e),r=va(n.abs(),!1,t+gt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return We(new e(t),gt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(br);if(o=new c(o),!o.s){if(t.s<1)throw Error(jr+"Infinity");return o}if(o.eq(br))return o;if(n=c.precision,t.eq(br))return We(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=d<0?-d:d)<=Z3){for(i=new c(br),e=Math.ceil(n/Xe+4),et=!1;r%2&&(i=i.times(o),c2(i.d,e)),r=As(r/2),r!==0;)o=o.times(o),c2(o.d,e);return et=!0,t.s<0?new c(br).div(i):We(i,n)}}else if(a<0)throw Error(jr+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,et=!1,i=t.times(zo(o,n+u)),et=!0,i=tN(i),i.s=a,i};ae.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=gt(i),n=va(i,r<=a.toExpNeg||r>=a.toExpPos)):(bn(t,1,Es),e===void 0?e=a.rounding:bn(e,0,8),i=We(new a(i),t,e),r=gt(i),n=va(i,t<=r||r<=a.toExpNeg,t)),n};ae.toSignificantDigits=ae.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(bn(t,1,Es),e===void 0?e=n.rounding:bn(e,0,8)),We(new n(r),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=gt(t),r=t.constructor;return va(t,e<=r.toExpNeg||e>=r.toExpPos)};function eN(t,e){var r,n,i,a,s,o,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),et?We(e,h):e;if(c=t.d,u=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(h/Xe),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Mt|0,c[a]%=Mt;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,et?We(e,h):e}function bn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(aa+t)}function an(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Xe-n.length,r&&(a+=mi(r)),a+=n;s=t[e],n=s+"",r=Xe-n.length,r&&(a+=mi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ln=function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Mt|0,s=a/Mt|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Mt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,h,p,g,x,b,y,N,_,P,L,k,D,S,I,E=n.constructor,R=n.s==i.s?1:-1,C=n.d,O=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(jr+"Division by zero");for(c=n.e-i.e,S=O.length,k=C.length,g=new E(R),x=g.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,a==null?_=a=E.precision:s?_=a+(gt(n)-gt(i))+1:_=a,_<0)return new E(0);if(_=_/Xe+2|0,u=0,S==1)for(d=0,O=O[0],_++;(u<k||d)&&_--;u++)P=d*Mt+(C[u]||0),x[u]=P/O|0,d=P%O|0;else{for(d=Mt/(O[0]+1)|0,d>1&&(O=t(O,d),C=t(C,d),S=O.length,k=C.length),L=S,b=C.slice(0,S),y=b.length;y<S;)b[y++]=0;I=O.slice(),I.unshift(0),D=O[0],O[1]>=Mt/2&&++D;do d=0,o=e(O,b,S,y),o<0?(N=b[0],S!=y&&(N=N*Mt+(b[1]||0)),d=N/D|0,d>1?(d>=Mt&&(d=Mt-1),h=t(O,d),p=h.length,y=b.length,o=e(h,b,p,y),o==1&&(d--,r(h,S<p?I:O,p))):(d==0&&(o=d=1),h=O.slice()),p=h.length,p<y&&h.unshift(0),r(b,h,y),o==-1&&(y=b.length,o=e(O,b,S,y),o<1&&(d++,r(b,S<y?I:O,y))),y=b.length):o===0&&(d++,b=[0]),x[u++]=d,o&&b[0]?b[y++]=C[L]||0:(b=[C[L]],y=1);while((L++<k||b[0]!==void 0)&&_--)}return x[0]||x.shift(),g.e=c,We(g,s?a+gt(g)+1:a)}}();function tN(t,e){var r,n,i,a,s,o,c=0,u=0,d=t.constructor,h=d.precision;if(gt(t)>16)throw Error(zg+gt(t));if(!t.s)return new d(br);for(e==null?(et=!1,o=h):o=e,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Gi(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(br),d.precision=o;;){if(i=We(i.times(t),o),r=r.times(++c),s=a.plus(Ln(i,r,o)),an(s.d).slice(0,o)===an(a.d).slice(0,o)){for(;u--;)a=We(a.times(a),o);return d.precision=h,e==null?(et=!0,We(a,h)):a}a=s}}function gt(t){for(var e=t.e*Xe,r=t.d[0];r>=10;r/=10)e++;return e}function tf(t,e,r){if(e>t.LN10.sd())throw et=!0,r&&(t.precision=r),Error(jr+"LN10 precision limit exceeded");return We(new t(t.LN10),e)}function mi(t){for(var e="";t--;)e+="0";return e}function zo(t,e){var r,n,i,a,s,o,c,u,d,h=1,p=10,g=t,x=g.d,b=g.constructor,y=b.precision;if(g.s<1)throw Error(jr+(g.s?"NaN":"-Infinity"));if(g.eq(br))return new b(0);if(e==null?(et=!1,u=y):u=e,g.eq(10))return e==null&&(et=!0),tf(b,u);if(u+=p,b.precision=u,r=an(x),n=r.charAt(0),a=gt(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=an(g.d),n=r.charAt(0),h++;a=gt(g),n>1?(g=new b("0."+r),a++):g=new b(n+"."+r.slice(1))}else return c=tf(b,u+2,y).times(a+""),g=zo(new b(n+"."+r.slice(1)),u-p).plus(c),b.precision=y,e==null?(et=!0,We(g,y)):g;for(o=s=g=Ln(g.minus(br),g.plus(br),u),d=We(g.times(g),u),i=3;;){if(s=We(s.times(d),u),c=o.plus(Ln(s,new b(i),u)),an(c.d).slice(0,u)===an(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(tf(b,u+2,y).times(a+""))),o=Ln(o,new b(h),u),b.precision=y,e==null?(et=!0,We(o,y)):o;o=c,i+=2}}function l2(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=As(r/Xe),t.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Xe;n<i;)t.d.push(+e.slice(n,n+=Xe));e=e.slice(n),n=Xe-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),et&&(t.e>yu||t.e<-yu))throw Error(zg+r)}else t.s=0,t.e=0,t.d=[0];return t}function We(t,e,r){var n,i,a,s,o,c,u,d,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Xe,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Xe),a=h.length,d>=a)return t;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=Xe,i=n-Xe+s}if(r!==void 0&&(a=Gi(10,s-i-1),o=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Gi(10,s-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=gt(t),h.length=1,e=e-a-1,h[0]=Gi(10,(Xe-e%Xe)%Xe),t.e=As(-e/Xe)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=Gi(10,Xe-n),h[d]=i>0?(u/Gi(10,s-i)%Gi(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==Mt&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Mt)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(et&&(t.e>yu||t.e<-yu))throw Error(zg+gt(t));return t}function rN(t,e){var r,n,i,a,s,o,c,u,d,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),et?We(e,g):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=h.length):(r=h,n=u,o=c.length),i=Math.max(Math.ceil(g/Xe),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),o=c.length,i=h.length-o;i>0;--i)c[o++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=Mt-1;--c[a],c[i]+=Mt}c[i]-=h[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,et?We(e,g):e):new p(0)}function va(t,e,r){var n,i=gt(t),a=an(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+mi(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+mi(-i-1)+a,r&&(n=r-s)>0&&(a+=mi(n))):i>=s?(a+=mi(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+mi(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=mi(n))),t.s<0?"-"+a:a}function c2(t,e){if(t.length>e)return t.length=e,!0}function nN(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(aa+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return l2(s,a.toString())}else if(typeof a!="string")throw Error(aa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Q$.test(a))l2(s,a);else throw Error(aa+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nN,i.config=i.set=J$,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function J$(t){if(!t||typeof t!="object")throw Error(jr+"Object expected");var e,r,n,i=["precision",1,Es,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(As(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(aa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(aa+r+": "+n);return this}var Bg=nN(X$);br=new Bg(1);const Fe=Bg;var Z$=t=>t,iN={"@@functional/placeholder":!0},aN=t=>t===iN,u2=t=>function e(){return arguments.length===0||arguments.length===1&&aN(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},sN=(t,e)=>t===1?e:u2(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==iN).length;return a>=t?e(...n):sN(t-a,u2(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>aN(d)?o.shift():d);return e(...u,...o)}))}),Dd=t=>sN(t.length,t),bm=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},eF=Dd((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),tF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Z$;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}},xm=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),oN=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((s,o)=>{var c;return s===((c=e)===null||c===void 0?void 0:c[o])})||(e=i,r=t(...i)),r}};function lN(t){var e;return t===0?e=1:e=Math.floor(new Fe(t).abs().log(10).toNumber())+1,e}function cN(t,e,r){for(var n=new Fe(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Dd((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Dd((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Dd((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var uN=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},dN=(t,e,r)=>{if(t.lte(0))return new Fe(0);var n=lN(t.toNumber()),i=new Fe(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new Fe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return e?new Fe(c.toNumber()):new Fe(Math.ceil(c.toNumber()))},rF=(t,e,r)=>{var n=new Fe(1),i=new Fe(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Fe(10).pow(lN(t)-1),i=new Fe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Fe(Math.floor(t)))}else t===0?i=new Fe(Math.floor((e-1)/2)):r||(i=new Fe(Math.floor(t)));var s=Math.floor((e-1)/2),o=tF(eF(c=>i.add(new Fe(c-s).mul(n)).toNumber()),bm);return o(0,e)},hN=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var s=dN(new Fe(r).sub(e).div(n-1),i,a),o;e<=0&&r>=0?o=new Fe(0):(o=new Fe(e).add(r).div(2),o=o.sub(new Fe(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new Fe(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?hN(e,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Fe(c).mul(s)),tickMax:o.add(new Fe(u).mul(s))})};function nF(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=uN([e,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...bm(0,n-1).map(()=>1/0)]:[...bm(0,n-1).map(()=>-1/0),o];return e>r?xm(c):c}if(s===o)return rF(s,n,i);var{step:u,tickMin:d,tickMax:h}=hN(s,o,a,i,0),p=cN(d,h.add(new Fe(.1).mul(u)),u);return e>r?xm(p):p}function iF(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=uN([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(e,2),c=dN(new Fe(s).sub(a).div(o-1),i,0),u=[...cN(new Fe(a),new Fe(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?xm(u):u}var aF=oN(nF),sF=oN(iF),fN=t=>t.rootProps.maxBarSize,oF=t=>t.rootProps.barGap,mN=t=>t.rootProps.barCategoryGap,lF=t=>t.rootProps.barSize,fl=t=>t.rootProps.stackOffset,Wg=t=>t.options.chartName,Hg=t=>t.rootProps.syncId,pN=t=>t.rootProps.syncMethod,qg=t=>t.options.eventEmitter,At={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Tn={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:At.axis},vr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,includeHidden:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:At.axis},Ld=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},cF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Tn.angleAxisId,includeHidden:!1,name:void 0,reversed:Tn.reversed,scale:Tn.scale,tick:Tn.tick,tickCount:void 0,ticks:void 0,type:Tn.type,unit:void 0},uF={allowDataOverflow:vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vr.scale,tick:vr.tick,tickCount:vr.tickCount,ticks:void 0,type:vr.type,unit:void 0},dF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tn.scale,tick:Tn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},hF={allowDataOverflow:vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vr.scale,tick:vr.tick,tickCount:vr.tickCount,ticks:void 0,type:"category",unit:void 0},Kg=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?dF:cF,Gg=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?hF:uF,jd=t=>t.polarOptions,Yg=B([Xn,Qn,St],u3),gN=B([jd,Yg],(t,e)=>{if(t!=null)return Qt(t.innerRadius,e,0)}),yN=B([jd,Yg],(t,e)=>{if(t!=null)return Qt(t.outerRadius,e,e*.8)}),fF=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},vN=B([jd],fF);B([Kg,vN],Ld);var bN=B([Yg,gN,yN],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});B([Gg,bN],Ld);var xN=B([Me,jd,gN,yN,Xn,Qn],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=e;return{cx:Qt(s,i,i/2),cy:Qt(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),tt=(t,e)=>e,ml=(t,e,r)=>r;function Xg(t){return t==null?void 0:t.id}function wN(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return t.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Xg(o);u.forEach((h,p)=>{var g=a==null||i?p:String(nt(h,a,null)),x=nt(h,o.dataKey,0),b;s.has(g)?b=s.get(g):b={},Object.assign(b,{[d]:x}),s.set(g,b)})}}),Array.from(s.values())}function Vd(t){return t.stackId!=null&&t.dataKey!=null}var $d=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Fd(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function mF(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var It=t=>{var e=Me(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ps=t=>t.tooltip.settings.axisId;function d2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(r),!0).forEach(function(n){pF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pF(t,e,r){return(e=gF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gF(t){var e=yF(t,"string");return typeof e=="symbol"?e:e+""}function yF(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wm=[0,"auto"],gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_N=(t,e)=>t.cartesianAxis.xAxis[e],Zn=(t,e)=>{var r=_N(t,e);return r??gr},yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:wm,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ll},NN=(t,e)=>t.cartesianAxis.yAxis[e],ei=(t,e)=>{var r=NN(t,e);return r??yr},vF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Qg=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??vF},at=(t,e,r)=>{switch(e){case"xAxis":return Zn(t,r);case"yAxis":return ei(t,r);case"zAxis":return Qg(t,r);case"angleAxis":return Kg(t,r);case"radiusAxis":return Gg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},bF=(t,e,r)=>{switch(e){case"xAxis":return Zn(t,r);case"yAxis":return ei(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},pl=(t,e,r)=>{switch(e){case"xAxis":return Zn(t,r);case"yAxis":return ei(t,r);case"angleAxis":return Kg(t,r);case"radiusAxis":return Gg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},EN=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Jg(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Zg=t=>t.graphicalItems.cartesianItems,xF=B([tt,ml],Jg),e0=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),gl=B([Zg,at,xF],e0,{memoizeOptions:{resultEqualityCheck:Fd}}),AN=B([gl],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Vd)),PN=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),wF=B([gl],PN),t0=t=>t.map(e=>e.data).filter(Boolean).flat(1),_F=B([gl],t0,{memoizeOptions:{resultEqualityCheck:Fd}}),r0=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},n0=B([_F,Ug],r0),i0=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:nt(i,n)}))):t.map(n=>({value:n})),Ud=B([n0,at,gl],i0);function SN(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function mc(t){if(yn(t)||t instanceof Date){var e=Number(t);if(ct(e))return e}}function h2(t){if(Array.isArray(t)){var e=[mc(t[0]),mc(t[1])];return ya(e)?e:void 0}var r=mc(t);if(r!=null)return[r,r]}function qn(t){return t.map(mc).filter(K7)}function NF(t,e,r){return!r||typeof e!="number"||qr(e)?[]:r.length?qn(r.flatMap(n=>{var i=nt(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ct(a)||!ct(s)))return[e-a,e+s]})):[]}var Ct=t=>{var e=It(t),r=Ps(t);return pl(t,e,r)},TN=B([Ct],t=>t==null?void 0:t.dataKey),EF=B([AN,Ug,Ct],wN),IN=(t,e,r)=>{var n={},i=e.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,c=o.map(Xg);return[s,{stackedData:oD(t,c,r),graphicalItems:o}]}))},_m=B([EF,AN,fl],IN),CN=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var s=hD(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},AF=B([at],t=>t.allowDataOverflow),a0=t=>{var e;if(t==null||!("domain"in t))return wm;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=qn(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:wm},s0=B([at],a0),o0=B([s0,AF],J3),PF=B([_m,Vi,tt,o0],CN,{memoizeOptions:{resultEqualityCheck:$d}}),zd=t=>t.errorBars,SF=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>SN(r,n)),bu=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},l0=(t,e,r,n,i)=>{var a,s;if(r.length>0&&t.forEach(o=>{r.forEach(c=>{var u,d,h=(u=n[c.id])===null||u===void 0?void 0:u.filter(N=>SN(i,N)),p=nt(o,(d=e.dataKey)!==null&&d!==void 0?d:c.dataKey),g=NF(o,p,h);if(g.length>=2){var x=Math.min(...g),b=Math.max(...g);(a==null||x<a)&&(a=x),(s==null||b>s)&&(s=b)}var y=h2(p);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var c=h2(nt(o,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),ct(a)&&ct(s))return[a,s]},TF=B([n0,at,wF,zd,tt],l0,{memoizeOptions:{resultEqualityCheck:$d}});function IF(t){var{value:e}=t;if(yn(e)||e instanceof Date)return e}var CF=(t,e,r)=>{var n=t.map(IF).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&D_(n))?y3(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},kN=t=>t.referenceElements.dots,Ss=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),kF=B([kN,tt,ml],Ss),ON=t=>t.referenceElements.areas,OF=B([ON,tt,ml],Ss),RN=t=>t.referenceElements.lines,RF=B([RN,tt,ml],Ss),MN=(t,e)=>{var r=qn(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},MF=B(kF,tt,MN),DN=(t,e)=>{var r=qn(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},DF=B([OF,tt],DN);function LF(t){var e;if(t.x!=null)return qn([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:qn(r)}function jF(t){var e;if(t.y!=null)return qn([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:qn(r)}var LN=(t,e)=>{var r=t.flatMap(n=>e==="xAxis"?LF(n):jF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},VF=B([RF,tt],LN),$F=B(MF,VF,DF,(t,e,r)=>bu(t,r,e)),c0=(t,e,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?bu(n,a,i):bu(a,i);return Y$(e,u,t.allowDataOverflow)},FF=B([at,s0,o0,PF,TF,$F,Me,tt],c0,{memoizeOptions:{resultEqualityCheck:$d}}),UF=[0,1],u0=(t,e,r,n,i,a,s)=>{if(!((t==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=t,u=Ta(e,a);if(u&&o==null){var d;return y3(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?CF(n,t,u):i==="expand"?UF:s}},d0=B([at,Me,n0,Ud,fl,tt,FF],u0),jN=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(il(a));return o in fo?o:"point"}}},Ts=B([at,Me,EN,Wg,tt],jN);function zF(t){if(t!=null){if(t in fo)return fo[t]();var e="scale".concat(il(t));if(e in fo)return fo[e]()}}function h0(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=zF(e);if(i!=null){var a=i.domain(r).range(n);return rD(a),a}}}var f0=(t,e,r)=>{var n=a0(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ya(t))return aF(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ya(t))return sF(t,e.tickCount,e.allowDecimals)}},m0=B([d0,pl,Ts],f0),p0=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ya(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],s=e[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},BF=B([at,d0,m0,tt],p0),WF=B(Ud,at,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(qn(t.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),VN=B(WF,Me,mN,St,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!ct(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Qt(r,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),HF=(t,e)=>{var r=Zn(t,e);return r==null||typeof r.padding!="string"?0:VN(t,"xAxis",e,r.padding)},qF=(t,e)=>{var r=ei(t,e);return r==null||typeof r.padding!="string"?0:VN(t,"yAxis",e,r.padding)},KF=B(Zn,HF,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),GF=B(ei,qF,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),YF=B([St,KF,Nd,_d,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),XF=B([St,Me,GF,Nd,_d,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),yl=(t,e,r,n)=>{var i;switch(e){case"xAxis":return YF(t,r,n);case"yAxis":return XF(t,r,n);case"zAxis":return(i=Qg(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return vN(t);case"radiusAxis":return bN(t,r);default:return}},$N=B([at,yl],Ld),Is=B([at,Ts,BF,$N],h0);B([gl,zd,tt],SF);function FN(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Bd=(t,e)=>e,Wd=(t,e,r)=>r,QF=B(xd,Bd,Wd,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(FN)),JF=B(wd,Bd,Wd,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(FN)),UN=(t,e)=>({width:t.width,height:e.height}),ZF=(t,e)=>{var r=typeof e.width=="number"?e.width:ll;return{width:r,height:t.height}},zN=B(St,Zn,UN),eU=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},tU=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},rU=B(Qn,St,QF,Bd,Wd,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=UN(e,o);s==null&&(s=eU(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),nU=B(Xn,St,JF,Bd,Wd,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=ZF(e,o);s==null&&(s=tU(e,n,t));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),iU=(t,e)=>{var r=Zn(t,e);if(r!=null)return rU(t,r.orientation,r.mirror)},aU=B([St,Zn,iU,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),sU=(t,e)=>{var r=ei(t,e);if(r!=null)return nU(t,r.orientation,r.mirror)},oU=B([St,ei,sU,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),BN=B(St,ei,(t,e)=>{var r=typeof e.width=="number"?e.width:ll;return{width:r,height:t.height}}),f2=(t,e,r)=>{switch(e){case"xAxis":return zN(t,r).width;case"yAxis":return BN(t,r).height;default:return}},WN=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Ta(t,n),c=e.map(u=>u.value);if(s&&o&&a==="category"&&i&&D_(c))return c}},g0=B([Me,Ud,at,tt],WN),HN=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Ta(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},y0=B([Me,Ud,pl,tt],HN),m2=B([Me,bF,Ts,Is,g0,y0,yl,m0,tt],(t,e,r,n,i,a,s,o,c)=>{if(e!=null){var u=Ta(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),lU=(t,e,r,n,i,a,s,o,c)=>{if(!(e==null||n==null)){var u=Ta(t,c),{type:d,ticks:h,tickCount:p}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/g:0;x=c==="angleAxis"&&a!=null&&a.length>=2?Dt(a[0]-a[1])*2*x:x;var b=h||i;if(b){var y=b.map((N,_)=>{var P=s?s.indexOf(N):N;return{index:_,coordinate:n(P)+x,value:N,offset:x}});return y.filter(N=>ct(N.coordinate))}return u&&o?o.map((N,_)=>({coordinate:n(N)+x,value:N,index:_,offset:x})).filter(N=>ct(N.coordinate)):n.ticks?n.ticks(p).map(N=>({coordinate:n(N)+x,value:N,offset:x})):n.domain().map((N,_)=>({coordinate:n(N)+x,value:s?s[N]:N,index:_,offset:x}))}},qN=B([Me,pl,Ts,Is,m0,yl,g0,y0,tt],lU),cU=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=Ta(t,s),{tickCount:c}=e,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Dt(n[0]-n[1])*2*u:u,o&&a?a.map((d,h)=>({coordinate:r(d)+u,value:d,index:h,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,h)=>({coordinate:r(d)+u,value:i?i[d]:d,index:h,offset:u}))}},ps=B([Me,pl,Is,yl,g0,y0,tt],cU),gs=B(at,Is,(t,e)=>{if(!(t==null||e==null))return vu(vu({},t),{},{scale:e})}),uU=B([at,Ts,d0,$N],h0);B((t,e,r)=>Qg(t,r),uU,(t,e)=>{if(!(t==null||e==null))return vu(vu({},t),{},{scale:e})});var dU=B([Me,xd,wd],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KN=t=>t.options.defaultTooltipEventType,GN=t=>t.options.validateTooltipEventTypes;function YN(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function v0(t,e){var r=KN(t),n=GN(t);return YN(e,r,n)}function hU(t){return le(e=>v0(e,t))}var XN=(t,e)=>{var r,n=Number(e);if(!(qr(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},fU=t=>t.tooltip.settings,vi={active:!1,index:null,dataKey:void 0,coordinate:void 0},mU={itemInteraction:{click:vi,hover:vi},axisInteraction:{click:vi,hover:vi},keyboardInteraction:vi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QN=dr({name:"tooltip",initialState:mU,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:_t()},removeTooltipEntrySettings:{reducer(t,e){var r=Dn(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:_t()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:pU,removeTooltipEntrySettings:gU,setTooltipSettingsState:yU,setActiveMouseOverItemIndex:JN,mouseLeaveItem:vU,mouseLeaveChart:ZN,setActiveClickItemIndex:bU,setMouseOverAxisIndex:eE,setMouseClickAxisIndex:xU,setSyncInteraction:Nm,setKeyboardInteraction:Em}=QN.actions,wU=QN.reducer;function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ec(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){_U(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _U(t,e,r){return(e=NU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NU(t){var e=EU(t,"string");return typeof e=="symbol"?e:e+""}function EU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AU(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function PU(t){return t.index!=null}var tE=(t,e,r,n)=>{if(e==null)return vi;var i=AU(t,e,r);if(i==null)return vi;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(PU(i)){if(a)return ec(ec({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return ec(ec({},vi),{},{coordinate:i.coordinate})},b0=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!ct(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},rE=(t,e,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},nE=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},vl=t=>t.options.tooltipPayloadSearcher,Cs=t=>t.tooltip;function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){SU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SU(t,e,r){return(e=TU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TU(t){var e=IU(t,"string");return typeof e=="symbol"?e:e+""}function IU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CU(t,e){return t??e}var iE=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return t.reduce((p,g)=>{var x,{dataDefinedOnItem:b,settings:y}=g,N=CU(b,o),_=Array.isArray(N)?F6(N,u,d):N,P=(x=y==null?void 0:y.dataKey)!==null&&x!==void 0?x:n,L=y==null?void 0:y.nameKey,k;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?k=q7(_,n,i):k=a(_,e,c,L),Array.isArray(k))k.forEach(S=>{var I=y2(y2({},y),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});p.push(Xb({tooltipEntrySettings:I,dataKey:S.dataKey,payload:S.payload,value:nt(S.payload,S.dataKey),name:S.name}))});else{var D;p.push(Xb({tooltipEntrySettings:y,dataKey:P,payload:k,value:nt(k,P),name:(D=nt(k,L))!==null&&D!==void 0?D:y==null?void 0:y.name}))}return p},h)}},x0=B([Ct,Me,EN,Wg,It],jN),kU=B([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),OU=B([It,Ps],Jg),bl=B([kU,Ct,OU],e0,{memoizeOptions:{resultEqualityCheck:Fd}}),RU=B([bl],t=>t.filter(Vd)),MU=B([bl],t0,{memoizeOptions:{resultEqualityCheck:Fd}}),ks=B([MU,Vi],r0),DU=B([RU,Vi,Ct],wN),w0=B([ks,Ct,bl],i0),aE=B([Ct],a0),LU=B([Ct],t=>t.allowDataOverflow),sE=B([aE,LU],J3),jU=B([bl],t=>t.filter(Vd)),VU=B([DU,jU,fl],IN),$U=B([VU,Vi,It,sE],CN),FU=B([bl],PN),UU=B([ks,Ct,FU,zd,It],l0,{memoizeOptions:{resultEqualityCheck:$d}}),zU=B([kN,It,Ps],Ss),BU=B([zU,It],MN),WU=B([ON,It,Ps],Ss),HU=B([WU,It],DN),qU=B([RN,It,Ps],Ss),KU=B([qU,It],LN),GU=B([BU,KU,HU],bu),YU=B([Ct,aE,sE,$U,UU,GU,Me,It],c0),oE=B([Ct,Me,ks,w0,fl,It,YU],u0),XU=B([oE,Ct,x0],f0),QU=B([Ct,oE,XU,It],p0),lE=t=>{var e=It(t),r=Ps(t),n=!1;return yl(t,e,r,n)},cE=B([Ct,lE],Ld),uE=B([Ct,x0,QU,cE],h0),JU=B([Me,w0,Ct,It],WN),ZU=B([Me,w0,Ct,It],HN),ez=(t,e,r,n,i,a,s,o)=>{if(e){var{type:c}=e,u=Ta(t,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Dt(i[0]-i[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}}},ti=B([Me,Ct,x0,uE,lE,JU,ZU,It],ez),_0=B([KN,GN,fU],(t,e,r)=>YN(r.shared,t,e)),dE=t=>t.tooltip.settings.trigger,N0=t=>t.tooltip.settings.defaultIndex,Hd=B([Cs,_0,dE,N0],tE),ba=B([Hd,ks],b0),hE=B([ti,ba],XN),fE=B([Hd],t=>{if(t)return t.dataKey}),mE=B([Cs,_0,dE,N0],nE),tz=B([Xn,Qn,Me,St,ti,N0,mE,vl],rE),rz=B([Hd,tz],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),nz=B([Hd],t=>t.active),iz=B([mE,ba,Vi,TN,hE,vl,_0],iE);B([iz],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){az(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function az(t,e,r){return(e=sz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sz(t){var e=oz(t,"string");return typeof e=="symbol"?e:e+""}function oz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lz=()=>le(Ct),cz=()=>{var t=lz(),e=le(ti),r=le(uE);return tu(!t||!r?void 0:b2(b2({},t),{},{scale:r}),e)};function x2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(r),!0).forEach(function(n){uz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uz(t,e,r){return(e=dz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dz(t){var e=hz(t,"string");return typeof e=="symbol"?e:e+""}function hz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fz=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},mz=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=n;return $a($a($a({},n),pt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return $a($a($a({},n),pt(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function pz(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var pE=(t,e,r,n,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,h=c>=o-1?r[0].coordinate:r[c+1].coordinate,p=void 0;if(Dt(d-u)!==Dt(h-d)){var g=[];if(Dt(h-d)===Dt(i[1]-i[0])){p=h;var x=d+i[1]-i[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{p=u;var b=h+i[1]-i[0];g[0]=Math.min(d,(b+d)/2),g[1]=Math.max(d,(b+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){({index:s}=r[c]);break}}else{var N=Math.min(u,h),_=Math.max(u,h);if(t>(N+d)/2&&t<=(_+d)/2){({index:s}=r[c]);break}}}else if(e){for(var P=0;P<o;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<o-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===o-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:s}=e[P]);break}}return s},gz=()=>le(Wg),E0=(t,e)=>e,gE=(t,e,r)=>r,A0=(t,e,r,n)=>n,yz=B(ti,t=>fd(t,e=>e.coordinate)),P0=B([Cs,E0,gE,A0],tE),yE=B([P0,ks],b0),vz=(t,e,r)=>{if(e!=null){var n=Cs(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},vE=B([Cs,E0,gE,A0],nE),xu=B([Xn,Qn,Me,St,ti,A0,vE,vl],rE),bz=B([P0,xu],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),bE=B([ti,yE],XN),xz=B([vE,yE,Vi,TN,bE,vl,E0],iE),wz=B([P0],t=>({isActive:t.active,activeIndex:t.index})),_z=(t,e,r,n,i,a,s)=>{if(!(!t||!r||!n||!i)&&pz(t,s)){var o=fD(t,e),c=pE(o,a,i,r,n),u=fz(e,i,c,t);return{activeIndex:String(c),activeCoordinate:u}}},Nz=(t,e,r,n,i,a,s)=>{if(!(!t||!n||!i||!a||!r)){var o=mj(t,r);if(o){var c=mD(o,e),u=pE(c,s,a,n,i),d=mz(e,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},Ez=(t,e,r,n,i,a,s,o)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?_z(t,e,n,i,a,s,o):Nz(t,e,r,n,i,a,s)},Az=B(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Pz=B(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(At)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:mF}});function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(n){Sz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sz(t,e,r){return(e=Tz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tz(t){var e=Iz(t,"string");return typeof e=="symbol"?e:e+""}function Iz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cz={},kz={zIndexMap:Object.values(At).reduce((t,e)=>_2(_2({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Cz)},Oz=new Set(Object.values(At));function Rz(t){return Oz.has(t)}var xE=dr({name:"zIndex",initialState:kz,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:_t()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!Rz(r)&&delete t.zIndexMap[r])},prepare:_t()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r,elementId:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElementId=n:t.zIndexMap[r].elementId=n:t.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:_t()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElementId=void 0:t.zIndexMap[r].elementId=void 0)},prepare:_t()}}}),{registerZIndexPortal:Mz,unregisterZIndexPortal:Dz,registerZIndexPortalId:Lz,unregisterZIndexPortalId:jz}=xE.actions,Vz=xE.reducer;function Yr(t){var{zIndex:e,children:r}=t,n=UD(),i=n&&e!==void 0&&e!==0,a=hr(),s=Ke();v.useLayoutEffect(()=>i?(s(Mz({zIndex:e})),()=>{s(Dz({zIndex:e}))}):Sa,[s,e,i]);var o=le(u=>Az(u,e,a));if(!i)return r;if(!o)return null;var c=document.getElementById(o);return c?Ru.createPortal(r,c):null}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Am.apply(null,arguments)}function N2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(r),!0).forEach(function(n){$z(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $z(t,e,r){return(e=Fz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fz(t){var e=Uz(t,"string");return typeof e=="symbol"?e:e+""}function Uz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zz(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return v.isValidElement(e)?v.cloneElement(e,n):v.createElement(r,n)}function Bz(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=t,h=r,p=n,g=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var x,b,y;if(d==="ScatterChart")x=h,b=CL,y=At.cursorLine;else if(d==="BarChart")x=kL(o,h,a,s),b=c3,y=At.cursorRectangle;else if(o==="radial"&&j_(h)){var{cx:N,cy:_,radius:P,startAngle:L,endAngle:k}=d3(h);x={cx:N,cy:_,startAngle:L,endAngle:k,innerRadius:P,outerRadius:P},b=f3,y=At.cursorLine}else x={points:vj(o,h,a)},b=gg,y=At.cursorLine;var D=typeof c=="object"&&"className"in c?c.className:void 0,S=tc(tc(tc(tc({stroke:"#ccc",pointerEvents:"none"},a),x),Oo(c)),{},{payload:p,payloadIndex:g,className:Ue("recharts-tooltip-cursor",D)});return v.createElement(Yr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:y},v.createElement(zz,{cursor:c,cursorComp:b,cursorProps:S}))}function Wz(t){var e=cz(),r=Z6(),n=Ad(),i=gz();return e==null||r==null||n==null||i==null?null:v.createElement(Bz,Am({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var wE=v.createContext(null),Hz=()=>v.useContext(wE),_E={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||c,p),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,x=new Array(g);p<g;p++)x[p]=h[p].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,p,g,x){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],N=arguments.length,_,P;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,p),!0;case 5:return y.fn.call(y.context,d,h,p,g),!0;case 6:return y.fn.call(y.context,d,h,p,g,x),!0}for(P=1,_=new Array(N-1);P<N;P++)_[P-1]=arguments[P];y.fn.apply(y.context,_)}else{var L=y.length,k;for(P=0;P<L;P++)switch(y[P].once&&this.removeListener(u,y[P].fn,void 0,!0),N){case 1:y[P].fn.call(y[P].context);break;case 2:y[P].fn.call(y[P].context,d);break;case 3:y[P].fn.call(y[P].context,d,h);break;case 4:y[P].fn.call(y[P].context,d,h,p);break;default:if(!_)for(k=1,_=new Array(N-1);k<N;k++)_[k-1]=arguments[k];y[P].fn.apply(y[P].context,_)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!d)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!p||x.once)&&(!h||x.context===h)&&s(this,g);else{for(var b=0,y=[],N=x.length;b<N;b++)(x[b].fn!==d||p&&!x[b].once||h&&x[b].context!==h)&&y.push(x[b]);y.length?this._events[g]=y.length===1?y[0]:y:s(this,g)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(_E);var qz=_E.exports;const Kz=Ri(qz);var Bo=new Kz,Pm="recharts.syncEvent.tooltip",E2="recharts.syncEvent.brush";function NE(t,e){if(e){var r=Number.parseInt(e,10);if(!qr(r))return t==null?void 0:t[r]}}var Gz={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EE=dr({name:"options",initialState:Gz,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yz=EE.reducer,{createEventEmitter:Xz}=EE.actions;function Qz(t){return t.tooltip.syncInteraction}var Jz={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},AE=dr({name:"chartData",initialState:Jz,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:A2,setDataStartEndIndexes:Zz,setComputedData:cX}=AE.actions,eB=AE.reducer,tB=["x","y"];function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){rB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rB(t,e,r){return(e=nB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nB(t){var e=iB(t,"string");return typeof e=="symbol"?e:e+""}function iB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aB(t,e){if(t==null)return{};var r,n,i=sB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oB(){var t=le(Hg),e=le(qg),r=Ke(),n=le(pN),i=le(ti),a=Ad(),s=Ed(),o=le(c=>c.rootProps.className);v.useEffect(()=>{if(t==null)return Sa;var c=(u,d,h)=>{if(e!==h&&t===u){if(n==="index"){var p;if(s&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var g=d.payload.coordinate,{x,y:b}=g,y=aB(g,tB),{x:N,y:_,width:P,height:L}=d.payload.sourceViewBox,k=Fa(Fa({},y),{},{x:s.x+(P?(x-N)/P:0)*s.width,y:s.y+(L?(b-_)/L:0)*s.height});r(Fa(Fa({},d),{},{payload:Fa(Fa({},d.payload),{},{coordinate:k})}))}else r(d);return}if(i!=null){var D;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=n(i,S);D=i[I]}else n==="value"&&(D=i.find(H=>String(H.value)===d.payload.label));var{coordinate:E}=d.payload;if(D==null||d.payload.active===!1||E==null||s==null){r(Nm({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:R,y:C}=E,O=Math.min(R,s.x+s.width),T=Math.min(C,s.y+s.height),j={x:a==="horizontal"?D.coordinate:O,y:a==="horizontal"?T:D.coordinate},V=Nm({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(D.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(V)}}};return Bo.on(Pm,c),()=>{Bo.off(Pm,c)}},[o,r,e,t,n,i,a,s])}function lB(){var t=le(Hg),e=le(qg),r=Ke();v.useEffect(()=>{if(t==null)return Sa;var n=(i,a,s)=>{e!==s&&t===i&&r(Zz(a))};return Bo.on(E2,n),()=>{Bo.off(E2,n)}},[r,e,t])}function cB(){var t=Ke();v.useEffect(()=>{t(Xz())},[t]),oB(),lB()}function uB(t,e,r,n,i,a){var s=le(g=>vz(g,t,e)),o=le(qg),c=le(Hg),u=le(pN),d=le(Qz),h=d==null?void 0:d.active,p=Ed();v.useEffect(()=>{if(!h&&c!=null&&o!=null){var g=Nm({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p});Bo.emit(Pm,c,g,o)}},[h,r,s,i,n,o,c,u,a,p])}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){dB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dB(t,e,r){return(e=hB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hB(t){var e=fB(t,"string");return typeof e=="symbol"?e:e+""}function fB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mB(t){return t.dataKey}function pB(t,e){return v.isValidElement(t)?v.cloneElement(t,e):typeof t=="function"?v.createElement(t,e):v.createElement(lL,e)}var I2=[],gB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ia.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function C2(t){var e,r,n=jt(t,gB),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:p,position:g,reverseDirection:x,useTranslate3d:b,wrapperStyle:y,cursor:N,shared:_,trigger:P,defaultIndex:L,portal:k,axisId:D}=n,S=Ke(),I=typeof L=="number"?String(L):L;v.useEffect(()=>{S(yU({shared:_,trigger:P,axisId:D,active:i,defaultIndex:I}))},[S,_,P,D,i,I]);var E=Ed(),R=i3(),C=hU(_),{activeIndex:O,isActive:T}=(e=le(se=>wz(se,C,P,I)))!==null&&e!==void 0?e:{},j=le(se=>xz(se,C,P,I)),V=le(se=>bE(se,C,P,I)),H=le(se=>bz(se,C,P,I)),X=j,re=Hz(),F=(r=i??T)!==null&&r!==void 0?r:!1,[Q,ce]=f6([X,F]),Ee=C==="axis"?V:void 0;uB(C,P,H,Ee,O,F);var De=k??re;if(De==null||E==null||C==null)return null;var Ge=X??I2;F||(Ge=I2),u&&Ge.length&&(Ge=t6(Ge.filter(se=>se.value!=null&&(se.hide!==!0||n.includeHidden)),p,mB));var Je=Ge.length>0,ee=v.createElement(pL,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:F,coordinate:H,hasPayload:Je,offset:h,position:g,reverseDirection:x,useTranslate3d:b,viewBox:E,wrapperStyle:y,lastBoundingBox:Q,innerRef:ce,hasPortalFromProps:!!k},pB(c,T2(T2({},n),{},{payload:Ge,label:Ee,active:F,activeIndex:O,coordinate:H,accessibilityLayer:R})));return v.createElement(v.Fragment,null,Ru.createPortal(ee,De),F&&v.createElement(Wz,{cursor:N,tooltipEventType:C,coordinate:H,payload:Ge,index:O}))}var xl=t=>null;xl.displayName="Cell";function yB(t,e,r){return(e=vB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vB(t){var e=bB(t,"string");return typeof e=="symbol"?e:e+""}function bB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xB{constructor(e){yB(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function k2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(r),!0).forEach(function(n){_B(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _B(t,e,r){return(e=NB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NB(t){var e=EB(t,"string");return typeof e=="symbol"?e:e+""}function EB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AB={cacheSize:2e3,enableCache:!0},PE=wB({},AB),O2=new xB(PE.cacheSize),PB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},R2="recharts_measurement_span";function SB(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var M2=(t,e)=>{try{var r=document.getElementById(R2);r||(r=document.createElement("span"),r.setAttribute("id",R2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,PB,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},_o=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ia.isSsr)return{width:0,height:0};if(!PE.enableCache)return M2(e,r);var n=SB(e,r),i=O2.get(n);if(i)return i;var a=M2(e,r);return O2.set(n,a),a},D2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},CB=Object.keys(SE),Ya="NaN";function kB(t,e){return t*SE[e]}class ir{static parse(e){var r,[,n,i]=(r=IB.exec(e))!==null&&r!==void 0?r:[];return new ir(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,qr(e)&&(this.unit=""),r!==""&&!TB.test(r)&&(this.num=NaN,this.unit=""),CB.includes(r)&&(this.num=kB(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ir(NaN,""):new ir(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ir(NaN,""):new ir(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qr(this.num)}}function TE(t){if(t.includes(Ya))return Ya;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=D2.exec(e))!==null&&r!==void 0?r:[],s=ir.parse(n??""),o=ir.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Ya;e=e.replace(D2,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,h,p]=(u=L2.exec(e))!==null&&u!==void 0?u:[],g=ir.parse(d??""),x=ir.parse(p??""),b=h==="+"?g.add(x):g.subtract(x);if(b.isNaN())return Ya;e=e.replace(L2,b.toString())}return e}var j2=/\(([^()]*)\)/;function OB(t){for(var e=t,r;(r=j2.exec(e))!=null;){var[,n]=r;e=e.replace(j2,TE(n))}return e}function RB(t){var e=t.replace(/\s+/g,"");return e=OB(e),e=TE(e),e}function MB(t){try{return RB(t)}catch{return Ya}}function rf(t){var e=MB(t.slice(5,-1));return e===Ya?"":e}var DB=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],LB=["dx","dy","angle","className","breakAll"];function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(null,arguments)}function V2(t,e){if(t==null)return{};var r,n,i=jB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IE=/[ \f\n\r\t\v\u2028\u2029]+/,CE=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];Lt(e)||(r?i=e.toString().split(""):i=e.toString().split(IE));var a=i.map(o=>({word:o,width:_o(o,n).width})),s=r?0:_o("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function VB(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var kE=(t,e,r,n)=>t.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(e==null||n||c.width+o+r<Number(e)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),OE=t=>t.reduce((e,r)=>e.width>r.width?e:r),$B="",$2=(t,e,r,n,i,a,s,o)=>{var c=t.slice(0,e),u=CE({breakAll:r,style:n,children:c+$B});if(!u)return[!1,[]];var d=kE(u.wordsWithComputedWidth,a,s,o),h=d.length>i||OE(d).width>Number(a);return[h,d]},FB=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=t,u=de(a),d=String(s),h=kE(e,n,r,i);if(!u||i)return h;var p=h.length>a||OE(h).width>Number(n);if(!p)return h;for(var g=0,x=d.length-1,b=0,y;g<=x&&b<=d.length-1;){var N=Math.floor((g+x)/2),_=N-1,[P,L]=$2(d,_,c,o,a,n,r,i),[k]=$2(d,N,c,o,a,n,r,i);if(!P&&!k&&(g=N+1),P&&k&&(x=N-1),!P&&k){y=L;break}b++}return y||h},F2=t=>{var e=Lt(t)?[]:t.toString().split(IE);return[{words:e,width:void 0}]},UB=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!Ia.isSsr){var o,c,u=CE({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,c=h}else return F2(n);return FB({breakAll:a,children:n,maxLines:s,style:i},o,c,e,!!r)}return F2(n)},RE="#808080",zB={breakAll:!1,capHeight:"0.71em",fill:RE,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},qd=v.forwardRef((t,e)=>{var r=jt(t,zB),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=V2(r,DB),p=v.useMemo(()=>UB({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:g,dy:x,angle:b,className:y,breakAll:N}=h,_=V2(h,LB);if(!yn(n)||!yn(i)||p.length===0)return null;var P=Number(n)+(de(g)?g:0),L=Number(i)+(de(x)?x:0);if(!ct(P)||!ct(L))return null;var k;switch(d){case"start":k=rf("calc(".concat(s,")"));break;case"middle":k=rf("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=rf("calc(".concat(p.length-1," * -").concat(a,")"));break}var D=[];if(c){var S=p[0].width,{width:I}=h;D.push("scale(".concat(de(I)&&de(S)?I/S:1,")"))}return b&&D.push("rotate(".concat(b,", ").concat(P,", ").concat(L,")")),D.length&&(_.transform=D.join(" ")),v.createElement("text",Sm({},Dr(_),{ref:e,x:P,y:L,className:Ue("recharts-text",y),textAnchor:u,fill:o.includes("url")?RE:o}),p.map((E,R)=>{var C=E.words.join(N?"":" ");return v.createElement("tspan",{x:P,dy:R===0?k:a,key:"".concat(C,"-").concat(R)},C)}))});qd.displayName="Text";var BB=["labelRef"];function WB(t,e){if(t==null)return{};var r,n,i=HB(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){qB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qB(t,e,r){return(e=KB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KB(t){var e=GB(t,"string");return typeof e=="symbol"?e:e+""}function GB(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function In(){return In=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},In.apply(null,arguments)}var ME=v.createContext(null),YB=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=t,c=v.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[e,r,n,i,a,s]);return v.createElement(ME.Provider,{value:c},o)},DE=()=>{var t=v.useContext(ME),e=Ed();return t||J6(e)},XB=v.createContext(null),QB=()=>{var t=v.useContext(XB),e=le(xN);return t||e},JB=t=>{var{value:e,formatter:r}=t,n=Lt(t.children)?e:t.children;return typeof r=="function"?r(n):n},S0=t=>t!=null&&typeof t=="function",ZB=(t,e)=>{var r=Dt(e-t),n=Math.min(Math.abs(e-t),360);return r*n},eW=(t,e,r,n,i)=>{var{offset:a,className:s}=t,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:p,clockWise:g}=i,x=(u+d)/2,b=ZB(h,p),y=b>=0?1:-1,N,_;switch(e){case"insideStart":N=h+y*a,_=g;break;case"insideEnd":N=p-y*a,_=!g;break;case"end":N=p+y*a,_=g;break;default:throw new Error("Unsupported position ".concat(e))}_=b<=0?_:!_;var P=pt(o,c,x,N),L=pt(o,c,x,N+(_?1:-1)*359),k="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(L.x,",").concat(L.y),D=Lt(t.id)?Ro("recharts-radial-line-"):t.id;return v.createElement("text",In({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:D,d:k})),v.createElement("textPath",{xlinkHref:"#".concat(D)},r))},tW=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=t,u=(o+c)/2;if(r==="outside"){var{x:d,y:h}=pt(n,i,s+e,u);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:g,y:x}=pt(n,i,p,u);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Tm=t=>"cx"in t&&de(t.cx),rW=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!Tm(r)&&(a=r);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=e,h=s,p=s+(c-u)/2,g=(h+p)/2,x=(c+u)/2,b=h+c/2,y=d>=0?1:-1,N=y*n,_=y>0?"end":"start",P=y>0?"start":"end",L=c>=0?1:-1,k=L*n,D=L>0?"end":"start",S=L>0?"start":"end";if(i==="top"){var I={x:h+c/2,y:o-N,textAnchor:"middle",verticalAnchor:_};return ot(ot({},I),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var E={x:p+u/2,y:o+d+N,textAnchor:"middle",verticalAnchor:P};return ot(ot({},E),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var R={x:g-k,y:o+d/2,textAnchor:D,verticalAnchor:"middle"};return ot(ot({},R),a?{width:Math.max(R.x-a.x,0),height:d}:{})}if(i==="right"){var C={x:g+x+k,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return ot(ot({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:d}:{})}var O=a?{width:x,height:d}:{};return i==="insideLeft"?ot({x:g+k,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideRight"?ot({x:g+x-k,y:o+d/2,textAnchor:D,verticalAnchor:"middle"},O):i==="insideTop"?ot({x:h+c/2,y:o+N,textAnchor:"middle",verticalAnchor:P},O):i==="insideBottom"?ot({x:p+u/2,y:o+d-N,textAnchor:"middle",verticalAnchor:_},O):i==="insideTopLeft"?ot({x:h+k,y:o+N,textAnchor:S,verticalAnchor:P},O):i==="insideTopRight"?ot({x:h+c-k,y:o+N,textAnchor:D,verticalAnchor:P},O):i==="insideBottomLeft"?ot({x:p+k,y:o+d-N,textAnchor:S,verticalAnchor:_},O):i==="insideBottomRight"?ot({x:p+u-k,y:o+d-N,textAnchor:D,verticalAnchor:_},O):i&&typeof i=="object"&&(de(i.x)||Un(i.x))&&(de(i.y)||Un(i.y))?ot({x:s+Qt(i.x,x),y:o+Qt(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):ot({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},nW={offset:5,zIndex:At.label};function pi(t){var e=jt(t,nW),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:u}=e,d=QB(),h=DE(),p=n==="center"?h:d??h,g,x,b;if(r==null?g=p:Tm(r)?g=r:g=J6(r),!g||Lt(i)&&Lt(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=ot(ot({},e),{},{viewBox:g});if(v.isValidElement(s)){var N=WB(y,BB);return v.cloneElement(s,N)}if(typeof s=="function"){if(x=v.createElement(s,y),v.isValidElement(x))return x}else x=JB(e);var _=Dr(e);if(Tm(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return eW(e,n,x,_,g);b=tW(g,e.offset,e.position)}else b=rW(e,g);return v.createElement(Yr,{zIndex:e.zIndex},v.createElement(qd,In({ref:u,className:Ue("recharts-label",o)},_,b,{textAnchor:VB(_.textAnchor)?_.textAnchor:b.textAnchor,breakAll:c}),x))}pi.displayName="Label";var iW=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?v.createElement(pi,In({key:"label-implicit"},n)):yn(t)?v.createElement(pi,In({key:"label-implicit",value:t},n)):v.isValidElement(t)?t.type===pi?v.cloneElement(t,ot({key:"label-implicit"},n)):v.createElement(pi,In({key:"label-implicit",content:t},n)):S0(t)?v.createElement(pi,In({key:"label-implicit",content:t},n)):t&&typeof t=="object"?v.createElement(pi,In({},t,{key:"label-implicit"},n)):null};function aW(t){var{label:e,labelRef:r}=t,n=DE();return iW(e,n,r)||null}var LE={},jE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(jE);var VE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(VE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jE,r=VE,n=dd;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(LE);var sW=LE.last;const oW=Ri(sW);var lW=["valueAccessor"],cW=["dataKey","clockWise","id","textBreakAll","zIndex"];function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(null,arguments)}function z2(t,e){if(t==null)return{};var r,n,i=uW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var dW=t=>Array.isArray(t.value)?oW(t.value):t.value,$E=v.createContext(void 0),hW=$E.Provider,FE=v.createContext(void 0),fW=FE.Provider;function mW(){return v.useContext($E)}function pW(){return v.useContext(FE)}function pc(t){var{valueAccessor:e=dW}=t,r=z2(t,lW),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=z2(r,cW),u=mW(),d=pW(),h=u||d;return!h||!h.length?null:v.createElement(Yr,{zIndex:o??At.label},v.createElement(rr,{className:"recharts-label-list"},h.map((p,g)=>{var x,b=Lt(n)?e(p,g):nt(p&&p.payload,n),y=Lt(a)?{}:{id:"".concat(a,"-").concat(g)};return v.createElement(pi,wu({key:"label-".concat(g)},Dr(p),c,y,{fill:(x=r.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:s,viewBox:p.viewBox,index:g,zIndex:0}))})))}pc.displayName="LabelList";function UE(t){var{label:e}=t;return e?e===!0?v.createElement(pc,{key:"labelList-implicit"}):v.isValidElement(e)||S0(e)?v.createElement(pc,{key:"labelList-implicit",content:e}):typeof e=="object"?v.createElement(pc,wu({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var zE=t=>t.graphicalItems.polarItems,gW=B([tt,ml],Jg),Kd=B([zE,at,gW],e0),yW=B([Kd],t0),Gd=B([yW,Fg],r0),vW=B([Gd,at,Kd],i0);B([Gd,at,Kd],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,s=nt(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:nt(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var B2=()=>{},bW=B([Gd,at,Kd,zd,tt],l0),xW=B([at,s0,o0,B2,bW,B2,Me,tt],c0),BE=B([at,Me,Gd,vW,fl,tt,xW],u0),wW=B([BE,at,Ts],f0);B([at,BE,wW,tt],p0);var _W={radiusAxis:{},angleAxis:{}},WE=dr({name:"polarAxis",initialState:_W,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});WE.actions;var NW=WE.reducer;function W2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(r),!0).forEach(function(n){EW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EW(t,e,r){return(e=AW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AW(t){var e=PW(t,"string");return typeof e=="symbol"?e:e+""}function PW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SW=(t,e)=>e,T0=B([zE,SW],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),TW=[],I0=(t,e,r)=>(r==null?void 0:r.length)===0?TW:r,HE=B([Fg,T0,I0],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>H2(H2({},e.presentationProps),a.props))),i!=null)return i}}),IW=B([HE,T0,I0],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,s=nt(n,e.nameKey,e.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:bd(s,e.dataKey),color:o,payload:n,type:e.legendType}})}),CW=B([HE,T0,I0,St],(t,e,r,n)=>{if(!(e==null||t==null))return OH({offset:n,pieSettings:e,displayedData:t,cells:r})}),qE={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,C0=$t?Symbol.for("react.element"):60103,k0=$t?Symbol.for("react.portal"):60106,Yd=$t?Symbol.for("react.fragment"):60107,Xd=$t?Symbol.for("react.strict_mode"):60108,Qd=$t?Symbol.for("react.profiler"):60114,Jd=$t?Symbol.for("react.provider"):60109,Zd=$t?Symbol.for("react.context"):60110,O0=$t?Symbol.for("react.async_mode"):60111,eh=$t?Symbol.for("react.concurrent_mode"):60111,th=$t?Symbol.for("react.forward_ref"):60112,rh=$t?Symbol.for("react.suspense"):60113,kW=$t?Symbol.for("react.suspense_list"):60120,nh=$t?Symbol.for("react.memo"):60115,ih=$t?Symbol.for("react.lazy"):60116,OW=$t?Symbol.for("react.block"):60121,RW=$t?Symbol.for("react.fundamental"):60117,MW=$t?Symbol.for("react.responder"):60118,DW=$t?Symbol.for("react.scope"):60119;function Er(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case C0:switch(t=t.type,t){case O0:case eh:case Yd:case Qd:case Xd:case rh:return t;default:switch(t=t&&t.$$typeof,t){case Zd:case th:case ih:case nh:case Jd:return t;default:return e}}case k0:return e}}}function KE(t){return Er(t)===eh}ze.AsyncMode=O0;ze.ConcurrentMode=eh;ze.ContextConsumer=Zd;ze.ContextProvider=Jd;ze.Element=C0;ze.ForwardRef=th;ze.Fragment=Yd;ze.Lazy=ih;ze.Memo=nh;ze.Portal=k0;ze.Profiler=Qd;ze.StrictMode=Xd;ze.Suspense=rh;ze.isAsyncMode=function(t){return KE(t)||Er(t)===O0};ze.isConcurrentMode=KE;ze.isContextConsumer=function(t){return Er(t)===Zd};ze.isContextProvider=function(t){return Er(t)===Jd};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===C0};ze.isForwardRef=function(t){return Er(t)===th};ze.isFragment=function(t){return Er(t)===Yd};ze.isLazy=function(t){return Er(t)===ih};ze.isMemo=function(t){return Er(t)===nh};ze.isPortal=function(t){return Er(t)===k0};ze.isProfiler=function(t){return Er(t)===Qd};ze.isStrictMode=function(t){return Er(t)===Xd};ze.isSuspense=function(t){return Er(t)===rh};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yd||t===eh||t===Qd||t===Xd||t===rh||t===kW||typeof t=="object"&&t!==null&&(t.$$typeof===ih||t.$$typeof===nh||t.$$typeof===Jd||t.$$typeof===Zd||t.$$typeof===th||t.$$typeof===RW||t.$$typeof===MW||t.$$typeof===DW||t.$$typeof===OW)};ze.typeOf=Er;qE.exports=ze;var LW=qE.exports,q2=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",K2=null,nf=null,GE=t=>{if(t===K2&&Array.isArray(nf))return nf;var e=[];return v.Children.forEach(t,r=>{Lt(r)||(LW.isFragment(r)?e=e.concat(GE(r.props.children)):e.push(r))}),nf=e,K2=t,e};function R0(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>q2(i)):n=[q2(e)],GE(t).forEach(i=>{var a=ma(i,"type.displayName")||ma(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var YE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(YE);var jW=YE.isPlainObject;const VW=Ri(jW);function G2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(r),!0).forEach(function(n){$W(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $W(t,e,r){return(e=FW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FW(t){var e=UW(t,"string");return typeof e=="symbol"?e:e+""}function UW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(null,arguments)}var X2=(t,e,r,n,i)=>{var a=r-n,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+r,",").concat(e),s+="L ".concat(t+r-a/2,",").concat(e+i),s+="L ".concat(t+r-a/2-n,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},zW={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BW=t=>{var e=jt(t,zW),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=e,p=v.useRef(null),[g,x]=v.useState(-1),b=v.useRef(i),y=v.useRef(a),N=v.useRef(s),_=v.useRef(r),P=v.useRef(n),L=Td(t,"trapezoid-");if(v.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var j=p.current.getTotalLength();j&&x(j)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var k=Ue("recharts-trapezoid",o);if(!h)return v.createElement("g",null,v.createElement("path",_u({},Dr(e),{className:k,d:X2(r,n,i,a,s)})));var D=b.current,S=y.current,I=N.current,E=_.current,R=P.current,C="0px ".concat(g===-1?1:g,"px"),O="".concat(g,"px 0px"),T=a3(["strokeDasharray"],u,c);return v.createElement(Sd,{animationId:L,key:L,canBegin:g>0,duration:u,easing:c,isActive:h,begin:d},j=>{var V=xt(D,i,j),H=xt(S,a,j),X=xt(I,s,j),re=xt(E,r,j),F=xt(R,n,j);p.current&&(b.current=V,y.current=H,N.current=X,_.current=re,P.current=F);var Q=j>0?{transition:T,strokeDasharray:O}:{strokeDasharray:C};return v.createElement("path",_u({},Dr(e),{className:k,d:X2(re,F,V,H,X),ref:p,style:Y2(Y2({},Q),e.style)}))})},WW=["option","shapeType","propTransformer","activeClassName","isActive"];function HW(t,e){if(t==null)return{};var r,n,i=qW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qW(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){KW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KW(t,e,r){return(e=GW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XW(t,e){return Nu(Nu({},e),t)}function QW(t,e){return t==="symbols"}function J2(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return v.createElement(c3,r);case"trapezoid":return v.createElement(BW,r);case"sector":return v.createElement(f3,r);case"symbols":if(QW(e))return v.createElement(Gp,r);break;case"curve":return v.createElement(gg,r);default:return null}}function JW(t){return v.isValidElement(t)?t.props:t}function XE(t){var{option:e,shapeType:r,propTransformer:n=XW,activeClassName:i="recharts-active-shape",isActive:a}=t,s=HW(t,WW),o;if(v.isValidElement(e))o=v.cloneElement(e,Nu(Nu({},s),JW(e)));else if(typeof e=="function")o=e(s);else if(VW(e)&&typeof e!="boolean"){var c=n(e,s);o=v.createElement(J2,{shapeType:r,elementProps:c})}else{var u=s;o=v.createElement(J2,{shapeType:r,elementProps:u})}return a?v.createElement(rr,{className:i},o):o}var M0=(t,e)=>{var r=Ke();return(n,i)=>a=>{t==null||t(n,i,a),r(JN({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},D0=t=>{var e=Ke();return(r,n)=>i=>{t==null||t(r,n,i),e(vU())}},L0=(t,e)=>{var r=Ke();return(n,i)=>a=>{t==null||t(n,i,a),r(bU({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function QE(t){var{fn:e,args:r}=t,n=Ke(),i=hr();return v.useLayoutEffect(()=>{if(!i){var a=e(r);return n(pU(a)),()=>{n(gU(a))}}},[e,r,n,i]),null}function ZW(t){var{legendPayload:e}=t,r=Ke(),n=hr();return v.useLayoutEffect(()=>n?Sa:(r(t3(e)),()=>{r(r3(e))}),[r,n,e]),null}function eH(t){var{legendPayload:e}=t,r=Ke(),n=le(Me);return v.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?Sa:(r(t3(e)),()=>{r(r3(e))}),[r,n,e]),null}var af,tH=()=>{var[t]=v.useState(()=>Ro("uid-"));return t},rH=(af=tP["useId".toString()])!==null&&af!==void 0?af:tH;function JE(t,e){var r=rH();return e||(t?"".concat(t,"-").concat(r):r)}var nH=v.createContext(void 0),ZE=t=>{var{id:e,type:r,children:n}=t,i=JE("recharts-".concat(r),e);return v.createElement(nH.Provider,{value:i},n(i))},iH={cartesianItems:[],polarItems:[]},eA=dr({name:"graphicalItems",initialState:iH,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:_t()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=Dn(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:_t()},removeCartesianGraphicalItem:{reducer(t,e){var r=Dn(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:_t()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:_t()},removePolarGraphicalItem:{reducer(t,e){var r=Dn(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:_t()}}}),{addCartesianGraphicalItem:aH,replaceCartesianGraphicalItem:sH,removeCartesianGraphicalItem:oH,addPolarGraphicalItem:lH,removePolarGraphicalItem:cH}=eA.actions,uH=eA.reducer;function dH(t){var e=Ke(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?e(aH(t)):r.current!==t&&e(sH({prev:r.current,next:t})),r.current=t},[e,t]),v.useLayoutEffect(()=>()=>{r.current&&(e(oH(r.current)),r.current=null)},[e]),null}function hH(t){var e=Ke();return v.useLayoutEffect(()=>(e(lH(t)),()=>{e(cH(t))}),[e,t]),null}var fH=["onMouseEnter","onClick","onMouseLeave"],mH=["id"],pH=["id"];function j0(t,e){if(t==null)return{};var r,n,i=gH(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){yH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yH(t,e,r){return(e=vH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vH(t){var e=bH(t,"string");return typeof e=="symbol"?e:e+""}function bH(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oi.apply(null,arguments)}function xH(t){var e=v.useMemo(()=>R0(t.children,xl),[t.children]),r=le(n=>IW(n,t.id,e));return r==null?null:v.createElement(eH,{legendPayload:r})}function wH(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:e,nameKey:r,name:bd(o,e),hide:c,type:u,color:s,unit:""}}}var _H=(t,e)=>t>e?"start":t<e?"end":"middle",NH=(t,e,r)=>Qt(typeof e=="function"?e(t):e,r,r*.8),EH=(t,e,r)=>{var{top:n,left:i,width:a,height:s}=e,o=u3(a,s),c=i+Qt(t.cx,a,a/2),u=n+Qt(t.cy,s,s/2),d=Qt(t.innerRadius,o,0),h=NH(r,t.outerRadius,o),p=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:p}},AH=(t,e)=>{var r=Dt(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function PH(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var SH=(t,e)=>{if(v.isValidElement(t))return v.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Ue("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return v.createElement(gg,Oi({},e,{type:"linear",className:r}))},TH=(t,e,r)=>{if(v.isValidElement(t))return v.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),v.isValidElement(n)))return n;var i=Ue("recharts-pie-label-text",PH(t));return v.createElement(qd,Oi({},e,{alignmentBaseline:"middle",className:i}),n)};function IH(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!e)return null;var o=Hr(r),c=Oo(i),u=Oo(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((p,g)=>{var x=(p.startAngle+p.endAngle)/2,b=pt(p.cx,p.cy,p.outerRadius+d,x),y=Ze(Ze(Ze(Ze({},o),p),{},{stroke:"none"},c),{},{index:g,textAnchor:_H(b.x,p.cx)},b),N=Ze(Ze(Ze(Ze({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:g,points:[pt(p.cx,p.cy,p.outerRadius,x),b],key:"line"});return v.createElement(Yr,{zIndex:At.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},v.createElement(rr,null,a&&SH(a,N),TH(i,y,nt(p,s))))});return v.createElement(rr,{className:"recharts-pie-labels"},h)}function CH(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(UE,{label:i}):v.createElement(IH,{sectors:e,props:r,showLabels:n})}function kH(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i}=t,a=le(ba),{onMouseEnter:s,onClick:o,onMouseLeave:c}=i,u=j0(i,fH),d=M0(s,i.dataKey),h=D0(c),p=L0(o,i.dataKey);return e==null||e.length===0?null:v.createElement(v.Fragment,null,e.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&e.length!==1)return null;var b=r&&String(x)===a,y=a?n:null,N=b?r:y,_=Ze(Ze({},g),{},{stroke:g.stroke,tabIndex:-1,[W6]:x,[H6]:i.dataKey});return v.createElement(rr,Oi({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},al(u,g,x),{onMouseEnter:d(g,x),onMouseLeave:h(g,x),onClick:p(g,x)}),v.createElement(XE,Oi({option:N,isActive:b,shapeType:"sector"},_)))}))}function OH(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,p=Math.abs(r.minAngle),g=AH(o,c),x=Math.abs(g),b=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,y=n.filter(D=>nt(D,u,0)!==0).length,N=(x>=360?y:y-1)*b,_=x-y*p-N,P=n.reduce((D,S)=>{var I=nt(S,u,0);return D+(de(I)?I:0)},0),L;if(P>0){var k;L=n.map((D,S)=>{var I=nt(D,u,0),E=nt(D,d,S),R=EH(r,a,D),C=(de(I)?I:0)/P,O,T=Ze(Ze({},D),i&&i[S]&&i[S].props);S?O=k.endAngle+Dt(g)*b*(I!==0?1:0):O=o;var j=O+Dt(g)*((I!==0?p:0)+C*_),V=(O+j)/2,H=(R.innerRadius+R.outerRadius)/2,X=[{name:E,value:I,payload:T,dataKey:u,type:h}],re=pt(R.cx,R.cy,H,V);return k=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:C,cornerRadius:typeof s=="string"?parseFloat(s):s,name:E,tooltipPayload:X,midAngle:V,middleRadius:H,tooltipPosition:re},T),R),{},{value:I,startAngle:O,endAngle:j,payload:T,paddingAngle:Dt(g)*b}),k})}return L}function RH(t){var{showLabels:e,sectors:r,children:n}=t,i=v.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return v.createElement(fW,{value:e?i:void 0},n)}function MH(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=e,p=Td(e,"recharts-pie-"),g=r.current,[x,b]=v.useState(!1),y=v.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),N=v.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return v.createElement(RH,{showLabels:!x,sectors:n},v.createElement(Sd,{animationId:p,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:N,onAnimationEnd:y,key:p},_=>{var P=[],L=n&&n[0],k=L==null?void 0:L.startAngle;return n==null||n.forEach((D,S)=>{var I=g&&g[S],E=S>0?ma(D,"paddingAngle",0):0;if(I){var R=xt(I.endAngle-I.startAngle,D.endAngle-D.startAngle,_),C=Ze(Ze({},D),{},{startAngle:k+E,endAngle:k+R+E});P.push(C),k=C.endAngle}else{var{endAngle:O,startAngle:T}=D,j=xt(0,O-T,_),V=Ze(Ze({},D),{},{startAngle:k+E,endAngle:k+j+E});P.push(V),k=V.endAngle}}),r.current=P,v.createElement(rr,null,v.createElement(kH,{sectors:P,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),v.createElement(CH,{showLabels:!x,sectors:n,props:e}),e.children)}var DH={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ia.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:At.area};function LH(t){var{id:e}=t,r=j0(t,mH),{hide:n,className:i,rootTabIndex:a}=t,s=v.useMemo(()=>R0(t.children,xl),[t.children]),o=le(d=>CW(d,e,s)),c=v.useRef(null),u=Ue("recharts-pie",i);return n||o==null?(c.current=null,v.createElement(rr,{tabIndex:a,className:u})):v.createElement(Yr,{zIndex:t.zIndex},v.createElement(QE,{fn:wH,args:Ze(Ze({},t),{},{sectors:o})}),v.createElement(rr,{tabIndex:a,className:u},v.createElement(MH,{props:Ze(Ze({},r),{},{sectors:o}),previousSectorsRef:c})))}function tA(t){var e=jt(t,DH),{id:r}=e,n=j0(e,pH),i=Hr(n);return v.createElement(ZE,{id:r,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(hH,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),v.createElement(xH,Oi({},n,{id:a})),v.createElement(LH,Oi({},n,{id:a}))))}tA.displayName="Pie";function ex(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(r),!0).forEach(function(n){jH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jH(t,e,r){return(e=VH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VH(t){var e=$H(t,"string");return typeof e=="symbol"?e:e+""}function $H(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FH={xAxis:{},yAxis:{},zAxis:{}},rA=dr({name:"cartesianAxis",initialState:FH,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:_t()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:_t()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:_t()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:_t()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:_t()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:_t()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);t.yAxis[r]=tx(tx({},t.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:UH,removeXAxis:zH,addYAxis:BH,removeYAxis:WH,addZAxis:uX,removeZAxis:dX,updateYAxisWidth:HH}=rA.actions,qH=rA.reducer,KH=B([St],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),GH=B([KH,Xn,Qn],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),nA=()=>le(GH),YH=!0,sf="Invariant failed";function XH(t,e){if(!t){if(YH)throw new Error(sf);var r=typeof e=="function"?e():e,n=r?"".concat(sf,": ").concat(r):sf;throw new Error(n)}}var QH=["x","y"];function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(null,arguments)}function rx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(r),!0).forEach(function(n){JH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JH(t,e,r){return(e=ZH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=eq(t,"string");return typeof e=="symbol"?e:e+""}function eq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tq(t,e){if(t==null)return{};var r,n,i=rq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function nq(t,e){var{x:r,y:n}=t,i=tq(t,QH),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return no(no(no(no(no({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:p,name:e.name,radius:e.radius})}function Eu(t){return v.createElement(XE,Im({shapeType:"rectangle",propTransformer:nq,activeClassName:"recharts-active-bar"},t))}var iq=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(de(e))return e;var a=de(n)||Lt(n);return a?e(n,i):(a||XH(!1),r)}},aq={},iA=dr({name:"errorBars",initialState:aq,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}});iA.actions;var sq=iA.reducer,oq=["children"];function lq(t,e){if(t==null)return{};var r,n,i=cq(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dq=v.createContext(uq);function hq(t){var{children:e}=t,r=lq(t,oq);return v.createElement(dq.Provider,{value:r},e)}function aA(t,e){var r,n,i=le(u=>Zn(u,t)),a=le(u=>ei(u,e)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:gr.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:yr.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function fq(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=nA(),{needClipX:a,needClipY:s,needClip:o}=aA(e,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:h}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:a?c:c-d/2,y:s?u:u-h/2,width:a?d:d*2,height:s?h:h*2}))}function mq(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&ct(t.zIndex)?t.zIndex:e}var pq=["onMouseEnter","onMouseLeave","onClick"],gq=["value","background","tooltipPosition"],yq=["id"],vq=["onMouseEnter","onClick","onMouseLeave"];function Kn(){return Kn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kn.apply(null,arguments)}function nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(r),!0).forEach(function(n){bq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bq(t,e,r){return(e=xq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xq(t){var e=wq(t,"string");return typeof e=="symbol"?e:e+""}function wq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Au(t,e){if(t==null)return{};var r,n,i=_q(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _q(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nq=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:bd(r,e),payload:t}]};function Eq(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:bd(a,e),hide:s,type:t.tooltipType,color:t.fill,unit:o}}}function Aq(t){var e=le(ba),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=Au(a,pq),d=M0(s,n),h=D0(o),p=L0(c,n);if(!i||r==null)return null;var g=Oo(i);return v.createElement(Yr,{zIndex:mq(i,At.barBackground)},r.map((x,b)=>{var{value:y,background:N,tooltipPosition:_}=x,P=Au(x,gq);if(!N)return null;var L=d(x,b),k=h(x,b),D=p(x,b),S=Zt(Zt(Zt(Zt(Zt({option:i,isActive:String(b)===e},P),{},{fill:"#eee"},N),g),al(u,x,b)),{},{onMouseEnter:L,onMouseLeave:k,onClick:D,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return v.createElement(Eu,Kn({key:"background-bar-".concat(b)},S))}))}function Pq(t){var{showLabels:e,children:r,rects:n}=t,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Zt(Zt({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return v.createElement(hW,{value:e?i:void 0},r)}function Sq(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=t,o=le(ba),c=le(fE),u=r&&String(a)===o&&(c==null||s===c),d=u?r:e;return u?v.createElement(Yr,{zIndex:At.activeBar},v.createElement(Eu,Kn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))):v.createElement(Eu,Kn({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function Tq(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return v.createElement(Eu,Kn({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:a}))}function Iq(t){var e,{data:r,props:n}=t,i=(e=Hr(n))!==null&&e!==void 0?e:{},a=Au(i,yq),{shape:s,dataKey:o,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:h}=n,p=Au(n,vq),g=M0(u,o),x=D0(h),b=L0(d,o);return r?v.createElement(v.Fragment,null,r.map((y,N)=>v.createElement(rr,Kn({key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(N),className:"recharts-bar-rectangle"},al(p,y,N),{onMouseEnter:g(y,N),onMouseLeave:x(y,N),onClick:b(y,N)}),c?v.createElement(Sq,{shape:s,activeBar:c,baseProps:a,entry:y,index:N,dataKey:o}):v.createElement(Tq,{shape:s,baseProps:a,entry:y,index:N,dataKey:o})))):null}function Cq(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,h=r.current,p=Td(e,"recharts-bar-"),[g,x]=v.useState(!1),b=!g,y=v.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),N=v.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return v.createElement(Pq,{showLabels:b,rects:n},v.createElement(Sd,{animationId:p,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:y,onAnimationStart:N,key:p},_=>{var P=_===1?n:n==null?void 0:n.map((L,k)=>{var D=h&&h[k];if(D)return Zt(Zt({},L),{},{x:xt(D.x,L.x,_),y:xt(D.y,L.y,_),width:xt(D.width,L.width,_),height:xt(D.height,L.height,_)});if(i==="horizontal"){var S=xt(0,L.height,_),I=xt(L.stackedBarStart,L.y,_);return Zt(Zt({},L),{},{y:I,height:S})}var E=xt(0,L.width,_),R=xt(L.stackedBarStart,L.x,_);return Zt(Zt({},L),{},{width:E,x:R})});return _>0&&(r.current=P??null),P==null?null:v.createElement(rr,null,v.createElement(Iq,{props:e,data:P}))}),v.createElement(UE,{label:e.label}),e.children)}function kq(t){var e=v.useRef(null);return v.createElement(Cq,{previousRectanglesRef:e,props:t})}var sA=0,Oq=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:nt(t,e)}};class Rq extends v.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(e||r==null)return null;var d=Ue("recharts-bar",i),h=u;return v.createElement(rr,{className:d,id:u},o&&v.createElement("defs",null,v.createElement(fq,{clipPathId:h,xAxisId:a,yAxisId:s})),v.createElement(rr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},v.createElement(Aq,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),v.createElement(kq,this.props)))}}var Mq={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ia.isSsr,legendType:"rect",minPointSize:sA,xAxisId:0,yAxisId:0,zIndex:At.bar};function Dq(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:h}=aA(e,r),p=Ad(),g=hr(),x=R0(t.children,xl),b=le(_=>cK(_,e,r,g,t.id,x));if(p!=="vertical"&&p!=="horizontal")return null;var y,N=b==null?void 0:b[0];return N==null||N.height==null||N.width==null?y=0:y=p==="vertical"?N.height/2:N.width/2,v.createElement(hq,{xAxisId:e,yAxisId:r,data:b,dataPointFormatter:Oq,errorBarOffset:y},v.createElement(Rq,Kn({},t,{layout:p,needClip:h,data:b,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Lq(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:p,cells:g,parentViewBox:x,dataStartIndex:b}=t,y=e==="horizontal"?o:s,N=d?y.scale.domain():null,_=cD({numericAxis:y}),P=y.scale(_);return h.map((L,k)=>{var D,S,I,E,R,C;d?D=nD(d[k+b],N):(D=nt(L,r),Array.isArray(D)||(D=[_,D]));var O=iq(n,sA)(D[1],k);if(e==="horizontal"){var T,[j,V]=[o.scale(D[0]),o.scale(D[1])];S=Kb({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:L,index:k}),I=(T=V??j)!==null&&T!==void 0?T:void 0,E=i.size;var H=j-V;if(R=qr(H)?0:H,C={x:S,y:p.top,width:E,height:p.height},Math.abs(O)>0&&Math.abs(R)<Math.abs(O)){var X=Dt(R||O)*(Math.abs(O)-Math.abs(R));I-=X,R+=X}}else{var[re,F]=[s.scale(D[0]),s.scale(D[1])];if(S=re,I=Kb({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:L,index:k}),E=F-re,R=i.size,C={x:p.left,y:I,width:p.width,height:R},Math.abs(O)>0&&Math.abs(E)<Math.abs(O)){var Q=Dt(E||O)*(Math.abs(O)-Math.abs(E));E+=Q}}if(S==null||I==null||E==null||R==null)return null;var ce=Zt(Zt({},L),{},{stackedBarStart:P,x:S,y:I,width:E,height:R,value:d?D:D[1],payload:L,background:C,tooltipPosition:{x:S+E/2,y:I+R/2},parentViewBox:x},g&&g[k]&&g[k].props);return ce}).filter(Boolean)}function jq(t){var e=jt(t,Mq),r=hr();return v.createElement(ZE,{id:e.id,type:"bar"},n=>v.createElement(v.Fragment,null,v.createElement(ZW,{legendPayload:Nq(e)}),v.createElement(QE,{fn:Eq,args:e}),v.createElement(dH,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:lD(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),v.createElement(Yr,{zIndex:e.zIndex},v.createElement(Dq,Kn({},e,{id:n})))))}var Cm=v.memo(jq);Cm.displayName="Bar";function ix(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(r),!0).forEach(function(n){Vq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ix(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vq(t,e,r){return(e=$q(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $q(t){var e=Fq(t,"string");return typeof e=="symbol"?e:e+""}function Fq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uq=(t,e)=>e,zq=(t,e,r)=>r,Bq=(t,e,r,n)=>n,Wq=(t,e,r,n,i)=>i,wl=B([Zg,Wq],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Hq=B([wl],t=>t==null?void 0:t.maxBarSize),qq=(t,e,r,n,i,a)=>a,ax=(t,e,r)=>{var n=r??t;if(!Lt(n))return Qt(n,e,0)},Kq=B([Me,Zg,Uq,zq,Bq],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Gq=(t,e,r,n)=>{var i=Me(t);return i==="horizontal"?_m(t,"yAxis",r,n):_m(t,"xAxis",e,n)},Yq=(t,e,r)=>{var n=Me(t);return n==="horizontal"?f2(t,"xAxis",e):f2(t,"yAxis",r)},Xq=(t,e,r)=>{var n={},i=t.filter(Vd),a=t.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,h]=u,p=h.map(x=>x.dataKey),g=ax(e,r,h[0].barSize);return{stackId:d,dataKeys:p,barSize:g}}),c=a.map(u=>{var d=[u.dataKey].filter(p=>p!=null),h=ax(e,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...c]},Qq=B([Kq,lF,Yq],Xq),Jq=(t,e,r,n,i)=>{var a,s,o=wl(t,e,r,n,i);if(o!=null){var c=Me(t),u=fN(t),{maxBarSize:d}=o,h=Lt(d)?u:d,p,g;return c==="horizontal"?(p=gs(t,"xAxis",e,n),g=ps(t,"xAxis",e,n)):(p=gs(t,"yAxis",r,n),g=ps(t,"yAxis",r,n)),(a=(s=tu(p,g,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}},oA=(t,e,r,n)=>{var i=Me(t),a,s;return i==="horizontal"?(a=gs(t,"xAxis",e,n),s=ps(t,"xAxis",e,n)):(a=gs(t,"yAxis",r,n),s=ps(t,"yAxis",r,n)),tu(a,s)};function Zq(t,e,r,n,i){var a=n.length;if(!(a<1)){var s=Qt(t,r,0,!0),o,c=[];if(ct(n[0].barSize)){var u=!1,d=r/a,h=n.reduce((N,_)=>N+(_.barSize||0),0);h+=(a-1)*s,h>=r&&(h-=(a-1)*s,s=0),h>=r&&d>0&&(u=!0,d*=.9,h=a*d);var p=(r-h)/2>>0,g={offset:p-s,size:0};o=n.reduce((N,_)=>{var P,L={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g.offset+g.size+s,size:u?d:(P=_.barSize)!==null&&P!==void 0?P:0}},k=[...N,L];return g=k[k.length-1].position,k},c)}else{var x=Qt(e,r,0,!0);r-2*x-(a-1)*s<=0&&(s=0);var b=(r-2*x-(a-1)*s)/a;b>1&&(b>>=0);var y=ct(i)?Math.min(b,i):b;o=n.reduce((N,_,P)=>[...N,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:x+(b+s)*P+(b-y)/2,size:y}}],c)}return o}}var eK=(t,e,r,n,i,a,s)=>{var o=Lt(s)?e:s,c=Zq(r,n,i!==a?i:a,t,o);return i!==a&&c!=null&&(c=c.map(u=>rc(rc({},u),{},{position:rc(rc({},u.position),{},{offset:u.position.offset-i/2})}))),c},tK=B([Qq,fN,oF,mN,Jq,oA,Hq],eK),rK=(t,e,r,n)=>gs(t,"xAxis",e,n),nK=(t,e,r,n)=>gs(t,"yAxis",r,n),iK=(t,e,r,n)=>ps(t,"xAxis",e,n),aK=(t,e,r,n)=>ps(t,"yAxis",r,n),sK=B([tK,wl],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),oK=(t,e)=>{var r=Xg(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},lK=B([Gq,wl],oK),cK=B([St,hg,rK,nK,iK,aK,sK,Me,Ug,oA,lK,wl,qq],(t,e,r,n,i,a,s,o,c,u,d,h,p)=>{var{chartData:g,dataStartIndex:x,dataEndIndex:b}=c;if(!(h==null||s==null||e==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:y}=h,N;if(y!=null&&y.length>0?N=y:N=g==null?void 0:g.slice(x,b+1),N!=null)return Lq({layout:o,barSettings:h,pos:s,parentViewBox:e,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:N,offset:t,cells:p,dataStartIndex:x})}}),lA=t=>{var{chartData:e}=t,r=Ke(),n=hr();return v.useEffect(()=>n?()=>{}:(r(A2(e)),()=>{r(A2(void 0))}),[e,r,n]),null},sx={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cA=dr({name:"brush",initialState:sx,reducers:{setBrushSettings(t,e){return e.payload==null?sx:e.payload}}});cA.actions;var uK=cA.reducer;function dK(t,e,r){return(e=hK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hK(t){var e=fK(t,"string");return typeof e=="symbol"?e:e+""}function fK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class V0{static create(e){return new V0(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}dK(V0,"EPS",1e-4);function mK(t){return(t%180+180)%180}var pK=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=mK(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},gK={dots:[],areas:[],lines:[]},uA=dr({name:"referenceElements",initialState:gK,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Dn(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Dn(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Dn(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}});uA.actions;var yK=uA.reducer,vK=v.createContext(void 0),bK=t=>{var{children:e}=t,[r]=v.useState("".concat(Ro("recharts"),"-clip")),n=nA();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return v.createElement(vK.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function ys(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function dA(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e)r.push(t[n]);return r}function xK(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return pK(n,r)}function wK(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Pu(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function _K(t,e){return dA(t,e+1)}function NK(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=e,c=0,u=1,d=s,h=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:dA(n,u)};var b=c,y,N=()=>(y===void 0&&(y=r(x,b)),y),_=x.coordinate,P=c===0||Pu(t,_,N,d,o);P||(c=0,d=s,u+=1),P&&(d=_+t*(N()/2+i),c+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function ox(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(r),!0).forEach(function(n){EK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EK(t,e,r){return(e=AK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AK(t){var e=PK(t,"string");return typeof e=="symbol"?e:e+""}function PK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SK(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=e,{end:c}=e,u=function(p){var g=a[p],x,b=()=>(x===void 0&&(x=r(g,p)),x);if(p===s-1){var y=t*(g.coordinate+t*b()/2-c);a[p]=g=Kt(Kt({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else a[p]=g=Kt(Kt({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var N=Pu(t,g.tickCoord,b,o,c);N&&(c=g.tickCoord-t*(b()/2+i),a[p]=Kt(Kt({},g),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function TK(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=e;if(a){var d=n[o-1],h=r(d,o-1),p=t*(d.coordinate+t*h/2-u);if(s[o-1]=d=Kt(Kt({},d),{},{tickCoord:p>0?d.coordinate-p*t:d.coordinate}),d.tickCoord!=null){var g=Pu(t,d.tickCoord,()=>h,c,u);g&&(u=d.tickCoord-t*(h/2+i),s[o-1]=Kt(Kt({},d),{},{isShow:!0}))}}for(var x=a?o-1:o,b=function(_){var P=s[_],L,k=()=>(L===void 0&&(L=r(P,_)),L);if(_===0){var D=t*(P.coordinate-t*k()/2-c);s[_]=P=Kt(Kt({},P),{},{tickCoord:D<0?P.coordinate-D*t:P.coordinate})}else s[_]=P=Kt(Kt({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var S=Pu(t,P.tickCoord,k,c,u);S&&(c=P.tickCoord+t*(k()/2+i),s[_]=Kt(Kt({},P),{},{isShow:!0}))}},y=0;y<x;y++)b(y);return s}function $0(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:h}=t;if(!i||!i.length||!n)return[];if(de(c)||Ia.isSsr){var p;return(p=_K(i,de(c)?c:0))!==null&&p!==void 0?p:[]}var g=[],x=o==="top"||o==="bottom"?"width":"height",b=d&&x==="width"?_o(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=(P,L)=>{var k=typeof u=="function"?u(P.value,L):P.value;return x==="width"?xK(_o(k,{fontSize:e,letterSpacing:r}),b,h):_o(k,{fontSize:e,letterSpacing:r})[x]},N=i.length>=2?Dt(i[1].coordinate-i[0].coordinate):1,_=wK(a,N,x);return c==="equidistantPreserveStart"?NK(N,_,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=TK(N,_,y,i,s,c==="preserveStartEnd"):g=SK(N,_,y,i,s),g.filter(P=>P.isShow))}var IK=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},CK=["axisLine","width","height","className","hide","ticks","axisType"],kK=["viewBox"],OK=["viewBox"];function km(t,e){if(t==null)return{};var r,n,i=RK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function RK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function xa(){return xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xa.apply(null,arguments)}function lx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(r),!0).forEach(function(n){MK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MK(t,e,r){return(e=DK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DK(t){var e=LK(t,"string");return typeof e=="symbol"?e:e+""}function LK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:At.axis};function jK(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var u=ft(ft(ft({},c),Hr(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=ft(ft({},u),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=ft(ft({},u),{},{x1:e+h*n,y1:r,x2:e+h*n,y2:r+i})}return v.createElement("line",xa({},u,{className:Ue("recharts-cartesian-axis-line",ma(o,"className"))}))}function VK(t,e,r,n,i,a,s,o,c){var u,d,h,p,g,x,b=o?-1:1,y=t.tickSize||s,N=de(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":u=d=t.coordinate,p=r+ +!o*i,h=p-b*y,x=h-b*c,g=N;break;case"left":h=p=t.coordinate,d=e+ +!o*n,u=d-b*y,g=u-b*c,x=N;break;case"right":h=p=t.coordinate,d=e+ +o*n,u=d+b*y,g=u+b*c,x=N;break;default:u=d=t.coordinate,p=r+ +o*i,h=p+b*y,x=h+b*c,g=N;break}return{line:{x1:u,y1:h,x2:d,y2:p},tick:{x:g,y:x}}}function $K(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function FK(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function UK(t){var{option:e,tickProps:r,value:n}=t,i,a=Ue(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(e))i=v.cloneElement(e,ft(ft({},r),{},{className:a}));else if(typeof e=="function")i=e(ft(ft({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Ue(s,e==null?void 0:e.className)),i=v.createElement(qd,xa({},r,{className:s}),n)}return i}var zK=v.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:h,x:p,y:g,width:x,height:b,tickSize:y,tickMargin:N,fontSize:_,letterSpacing:P,getTicksConfig:L,events:k,axisType:D}=t,S=$0(ft(ft({},L),{},{ticks:r}),_,P),I=$K(d,h),E=FK(d,h),R=Hr(L),C=Oo(n),O={};typeof i=="object"&&(O=i);var T=ft(ft({},R),{},{fill:"none"},O),j=S.map(X=>ft({entry:X},VK(X,p,g,x,b,d,y,h,N))),V=j.map(X=>{var{entry:re,line:F}=X;return v.createElement(rr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&v.createElement("line",xa({},T,F,{className:Ue("recharts-cartesian-axis-tick-line",ma(i,"className"))})))}),H=j.map((X,re)=>{var{entry:F,tick:Q}=X,ce=ft(ft(ft(ft({textAnchor:I,verticalAnchor:E},R),{},{stroke:"none",fill:a},C),Q),{},{index:re,payload:F,visibleTicksCount:S.length,tickFormatter:s,padding:c},u);return v.createElement(rr,xa({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},al(k,F,re)),n&&v.createElement(UK,{option:n,tickProps:ce,value:"".concat(typeof s=="function"?s(F.value,re):F.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},H.length>0&&v.createElement(Yr,{zIndex:At.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},H)),V.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},V))}),BK=v.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=t,u=km(t,CK),[d,h]=v.useState(""),[p,g]=v.useState(""),x=v.useRef(null);v.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return IK({ticks:x.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=v.useCallback(y=>{if(y){var N=y.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=N;var _=N[0];if(_){var P=window.getComputedStyle(_),L=P.fontSize,k=P.letterSpacing;(L!==d||k!==p)&&(h(L),g(k))}}},[d,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:v.createElement(Yr,{zIndex:t.zIndex},v.createElement(rr,{className:Ue("recharts-cartesian-axis",a)},v.createElement(jK,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Hr(t)}),v.createElement(zK,{ref:b,axisType:c,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),v.createElement(YB,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},v.createElement(aW,{label:t.label,labelRef:t.labelRef}),t.children)))}),WK=v.memo(BK,(t,e)=>{var{viewBox:r}=t,n=km(t,kK),{viewBox:i}=e,a=km(e,OK);return ys(r,i)&&ys(n,a)}),U0=v.forwardRef((t,e)=>{var r=jt(t,F0);return v.createElement(WK,xa({},r,{ref:e}))});U0.displayName="CartesianAxis";var HK=["x1","y1","x2","y2","key"],qK=["offset"],KK=["xAxisId","yAxisId"],GK=["xAxisId","yAxisId"];function cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(r),!0).forEach(function(n){YK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YK(t,e,r){return(e=XK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XK(t){var e=QK(t,"string");return typeof e=="symbol"?e:e+""}function QK(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ea.apply(null,arguments)}function Su(t,e){if(t==null)return{};var r,n,i=JK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function JK(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ZK=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=t;return v.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hA(t){var{option:e,lineItemProps:r}=t,n;if(v.isValidElement(e))n=v.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=Su(r,HK),h=(i=Hr(d))!==null&&i!==void 0?i:{},p=Su(h,qK);n=v.createElement("line",ea({},p,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function eG(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Su(t,KK),s=i.map((o,c)=>{var u=Xt(Xt({},a),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return v.createElement(hA,{key:"line-".concat(c),option:n,lineItemProps:u})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function tG(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var a=Su(t,GK),s=i.map((o,c)=>{var u=Xt(Xt({},a),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return v.createElement(hA,{option:n,lineItemProps:u,key:"line-".concat(c)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function rG(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=t;if(!c||!e||!e.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==u[0]&&u.unshift(0);var d=u.map((h,p)=>{var g=!u[p+1],x=g?i+s-h:u[p+1]-h;if(x<=0)return null;var b=p%e.length;return v.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function nG(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,p)=>h-p);i!==u[0]&&u.unshift(0);var d=u.map((h,p)=>{var g=!u[p+1],x=g?i+s-h:u[p+1]-h;if(x<=0)return null;var b=p%r.length;return v.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:x,height:o,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iG=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return U6($0(Xt(Xt(Xt({},F0),r),{},{ticks:z6(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},aG=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return U6($0(Xt(Xt(Xt({},F0),r),{},{ticks:z6(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},sG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:At.grid};function fA(t){var e=mg(),r=pg(),n=Z6(),i=Xt(Xt({},jt(t,sG)),{},{x:de(t.x)?t.x:n.left,y:de(t.y)?t.y:n.top,width:de(t.width)?t.width:n.width,height:de(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:p,verticalValues:g}=i,x=hr(),b=le(E=>m2(E,"xAxis",a,x)),y=le(E=>m2(E,"yAxis",s,x));if(!vn(u)||!vn(d)||!de(o)||!de(c))return null;var N=i.verticalCoordinatesGenerator||iG,_=i.horizontalCoordinatesGenerator||aG,{horizontalPoints:P,verticalPoints:L}=i;if((!P||!P.length)&&typeof _=="function"){var k=p&&p.length,D=_({yAxis:y?Xt(Xt({},y),{},{ticks:k?p:y.ticks}):void 0,width:e??u,height:r??d,offset:n},k?!0:h);ru(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(P=D)}if((!L||!L.length)&&typeof N=="function"){var S=g&&g.length,I=N({xAxis:b?Xt(Xt({},b),{},{ticks:S?g:b.ticks}):void 0,width:e??u,height:r??d,offset:n},S?!0:h);ru(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(L=I)}return v.createElement(Yr,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(ZK,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(rG,ea({},i,{horizontalPoints:P})),v.createElement(nG,ea({},i,{verticalPoints:L})),v.createElement(eG,ea({},i,{offset:n,horizontalPoints:P,xAxis:b,yAxis:y})),v.createElement(tG,ea({},i,{offset:n,verticalPoints:L,xAxis:b,yAxis:y}))))}fA.displayName="CartesianGrid";var oG=["dangerouslySetInnerHTML","ticks"],lG=["id"],cG=["domain"],uG=["domain"];function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Om.apply(null,arguments)}function Tu(t,e){if(t==null)return{};var r,n,i=dG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hG(t){var e=Ke();return v.useLayoutEffect(()=>(e(UH(t)),()=>{e(zH(t))}),[t,e]),null}var fG=t=>{var{xAxisId:e,className:r}=t,n=le(hg),i=hr(),a="xAxis",s=le(g=>Is(g,a,e,i)),o=le(g=>qN(g,a,e,i)),c=le(g=>zN(g,e)),u=le(g=>aU(g,e)),d=le(g=>_N(g,e));if(c==null||u==null||d==null)return null;var h=Tu(t,oG),p=Tu(d,lG);return v.createElement(U0,Om({},h,p,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Ue("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},mG={allowDataOverflow:gr.allowDataOverflow,allowDecimals:gr.allowDecimals,allowDuplicatedCategory:gr.allowDuplicatedCategory,height:gr.height,hide:!1,mirror:gr.mirror,orientation:gr.orientation,padding:gr.padding,reversed:gr.reversed,scale:gr.scale,tickCount:gr.tickCount,type:gr.type,xAxisId:0},pG=t=>{var e,r,n,i,a,s=jt(t,mG);return v.createElement(v.Fragment,null,v.createElement(hG,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(fG,s))},gG=(t,e)=>{var{domain:r}=t,n=Tu(t,cG),{domain:i}=e,a=Tu(e,uG);return ys(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ys({domain:r},{domain:i}):!1},mA=v.memo(pG,gG);mA.displayName="XAxis";var yG=["dangerouslySetInnerHTML","ticks"],vG=["id"],bG=["domain"],xG=["domain"];function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(null,arguments)}function Iu(t,e){if(t==null)return{};var r,n,i=wG(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wG(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _G(t){var e=Ke();return v.useLayoutEffect(()=>(e(BH(t)),()=>{e(WH(t))}),[t,e]),null}var NG=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=v.useRef(null),s=v.useRef(null),o=le(hg),c=hr(),u=Ke(),d="yAxis",h=le(_=>Is(_,d,e,c)),p=le(_=>BN(_,e)),g=le(_=>oU(_,e)),x=le(_=>qN(_,d,e,c)),b=le(_=>NN(_,e));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!p||S0(i)||v.isValidElement(i)||b==null)){var _=a.current;if(_){var P=_.getCalculatedWidth();Math.round(p.width)!==Math.round(P)&&u(HH({id:e,width:P}))}}},[x,p,u,i,e,n,b]),p==null||g==null||b==null)return null;var y=Iu(t,yG),N=Iu(b,vG);return v.createElement(U0,Rm({},y,N,{ref:a,labelRef:s,scale:h,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Ue("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:x,axisType:d}))},EG={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,hide:!1,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tickCount:yr.tickCount,type:yr.type,width:yr.width,yAxisId:0},AG=t=>{var e,r,n,i,a,s=jt(t,EG);return v.createElement(v.Fragment,null,v.createElement(_G,{interval:(e=s.interval)!==null&&e!==void 0?e:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(NG,s))},PG=(t,e)=>{var{domain:r}=t,n=Iu(t,bG),{domain:i}=e,a=Iu(e,xG);return ys(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:ys({domain:r},{domain:i}):!1},pA=v.memo(AG,PG);pA.displayName="YAxis";var SG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=v;function TG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IG=typeof Object.is=="function"?Object.is:TG,CG=_l.useSyncExternalStore,kG=_l.useRef,OG=_l.useEffect,RG=_l.useMemo,MG=_l.useDebugValue;SG.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=kG(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=RG(function(){function c(g){if(!u){if(u=!0,d=g,g=n(g),i!==void 0&&s.hasValue){var x=s.value;if(i(x,g))return h=x}return h=g}if(x=h,IG(d,g))return x;var b=n(g);return i!==void 0&&i(x,b)?(d=g,x):(d=g,h=b)}var u=!1,d,h,p=r===void 0?null:r;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,r,n,i]);var o=CG(t,a[0],a[1]);return OG(function(){s.hasValue=!0,s.value=o},[o]),MG(o),o};function DG(t){t()}function LG(){let t=null,e=null;return{clear(){t=null,e=null},notify(){DG(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ux={notify(){},get:()=>[]};function jG(t,e){let r,n=ux,i=0,a=!1;function s(b){d();const y=n.subscribe(b);let N=!1;return()=>{N||(N=!0,y(),h())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return a}function d(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=LG())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ux)}function p(){a||(a=!0,d())}function g(){a&&(a=!1,h())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return x}var VG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$G=VG(),FG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UG=FG(),zG=()=>$G||UG?v.useLayoutEffect:v.useEffect,BG=zG(),of=Symbol.for("react-redux-context"),lf=typeof globalThis<"u"?globalThis:{};function WG(){if(!v.createContext)return{};const t=lf[of]??(lf[of]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var HG=WG();function qG(t){const{children:e,context:r,serverState:n,store:i}=t,a=v.useMemo(()=>{const c=jG(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=v.useMemo(()=>i.getState(),[i]);BG(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||HG;return v.createElement(o.Provider,{value:a},e)}var KG=qG,GG=(t,e)=>e,z0=B([GG,Me,xN,It,cE,ti,yz,St],Ez),B0=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},gA=Lr("mouseClick"),yA=ol();yA.startListening({actionCreator:gA,effect:(t,e)=>{var r=t.payload,n=z0(e.getState(),B0(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(xU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Mm=Lr("mouseMove"),vA=ol();vA.startListening({actionCreator:Mm,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=v0(n,n.tooltip.settings.shared),a=z0(n,B0(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(eE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(ZN()))}});var dx={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},bA=dr({name:"rootProps",initialState:dx,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:dx.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),YG=bA.reducer,{updateOptions:XG}=bA.actions,xA=dr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:QG}=xA.actions,JG=xA.reducer,wA=Lr("keyDown"),_A=Lr("focus"),W0=ol();W0.startListening({actionCreator:wA,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(b0(i,ks(r))),o=ti(r);if(a==="Enter"){var c=xu(r,"axis","hover",String(i.index));e.dispatch(Em({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=dU(r),d=u==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,p=s+h*d;if(!(o==null||p>=o.length||p<0)){var g=xu(r,"axis","hover",String(p));e.dispatch(Em({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});W0.startListening({actionCreator:_A,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=xu(r,"axis","hover",String(a));e.dispatch(Em({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Tr=Lr("externalEvent"),NA=ol();NA.startListening({actionCreator:Tr,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:rz(r),activeDataKey:fE(r),activeIndex:ba(r),activeLabel:hE(r),activeTooltipIndex:ba(r),isTooltipActive:nz(r)};t.payload.handler(n,t.payload.reactEvent)}}});var ZG=B([Cs],t=>t.tooltipItemPayloads),eY=B([ZG,vl,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,r);return s}}}),EA=Lr("touchMove"),AA=ol();AA.startListening({actionCreator:EA,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=v0(n,n.tooltip.settings.shared);if(i==="axis"){var a=z0(n,B0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(eE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(W6),d=(s=c.getAttribute(H6))!==null&&s!==void 0?s:void 0,h=eY(e.getState(),u,d);e.dispatch(JN({activeDataKey:d,activeIndex:u,activeCoordinate:h}))}}}});var tY=p6({brush:uK,cartesianAxis:qH,chartData:eB,errorBars:sq,graphicalItems:uH,layout:QM,legend:WD,options:Yz,polarAxis:NW,polarOptions:JG,referenceElements:yK,rootProps:YG,tooltip:wU,zIndex:Vz}),rY=function(e){return _M({reducer:tY,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([yA.middleware,vA.middleware,W0.middleware,NA.middleware,AA.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(S6({type:"raf"}))},devTools:Ia.devToolsEnabled})};function PA(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=hr(),a=v.useRef(null);if(i)return r;a.current==null&&(a.current=rY(e));var s=ig;return v.createElement(KG,{context:s,store:a.current},r)}function SA(t){var{layout:e,margin:r}=t,n=Ke(),i=hr();return v.useEffect(()=>{i||(n(GM(e)),n(KM(r)))},[n,i,e,r]),null}function TA(t){var e=Ke();return v.useEffect(()=>{e(XG(t))},[e,t]),null}function hx(t){var{zIndex:e,isPanorama:r}=t,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=JE("".concat(n).concat(e)),a=Ke();return v.useLayoutEffect(()=>(a(Lz({zIndex:e,elementId:i,isPanorama:r})),()=>{a(jz({zIndex:e,isPanorama:r}))}),[a,e,i,r]),v.createElement("g",{id:i})}function fx(t){var{children:e,isPanorama:r}=t,n=le(Pz);if(!n||n.length===0)return e;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(hx,{key:s,zIndex:s,isPanorama:r})),e,a.map(s=>v.createElement(hx,{key:s,zIndex:s,isPanorama:r})))}var nY=["children"];function iY(t,e){if(t==null)return{};var r,n,i=aY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function aY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cu.apply(null,arguments)}var sY={width:"100%",height:"100%",display:"block"},oY=v.forwardRef((t,e)=>{var r=mg(),n=pg(),i=i3();if(!vn(r)||!vn(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=t,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(Bp,Cu({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:sY,ref:e}),a)}),lY=t=>{var{children:e}=t,r=le(Nd);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return v.createElement(Bp,{width:n,height:i,x:s,y:a},e)},mx=v.forwardRef((t,e)=>{var{children:r}=t,n=iY(t,nY),i=hr();return i?v.createElement(lY,null,v.createElement(fx,{isPanorama:!0},r)):v.createElement(oY,Cu({ref:e},n),v.createElement(fx,{isPanorama:!1},r))});function cY(){var t=Ke(),[e,r]=v.useState(null),n=le(pD);return v.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;ct(a)&&a!==n&&t(XM(a))}},[e,t,n]),r}function px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?px(Object(r),!0).forEach(function(n){dY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dY(t,e,r){return(e=hY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hY(t){var e=fY(t,"string");return typeof e=="symbol"?e:e+""}function fY(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wa.apply(null,arguments)}var mY=()=>(cB(),null);function ku(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var pY=v.forwardRef((t,e)=>{var r,n,i=v.useRef(null),[a,s]=v.useState({containerWidth:ku((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:ku((n=t.style)===null||n===void 0?void 0:n.height)}),o=v.useCallback((u,d)=>{s(h=>{var p=Math.round(u),g=Math.round(d);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),c=v.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var p=x=>{var{width:b,height:y}=x[0].contentRect;o(b,y)},g=new ResizeObserver(p);g.observe(u),i.current=g}},[e,o]);return v.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(Pd,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",wa({ref:c},t)))}),gY=v.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=v.useState({containerWidth:ku(r),containerHeight:ku(n)}),s=v.useCallback((c,u)=>{a(d=>{var h=Math.round(c),p=Math.round(u);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),o=v.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[e,s]);return v.createElement(v.Fragment,null,v.createElement(Pd,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",wa({ref:o},t)))}),yY=v.forwardRef((t,e)=>{var{width:r,height:n}=t;return v.createElement(v.Fragment,null,v.createElement(Pd,{width:r,height:n}),v.createElement("div",wa({ref:e},t)))}),vY=v.forwardRef((t,e)=>{var{width:r,height:n}=t;return Un(r)||Un(n)?v.createElement(gY,wa({},t,{ref:e})):v.createElement(yY,wa({},t,{ref:e}))});function bY(t){return t===!0?pY:vY}var xY=v.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:p,onTouchEnd:g,onTouchMove:x,onTouchStart:b,style:y,width:N,responsive:_,dispatchTouchEvents:P=!0}=t,L=v.useRef(null),k=Ke(),[D,S]=v.useState(null),[I,E]=v.useState(null),R=cY(),C=fg(),O=(C==null?void 0:C.width)>0?C.width:N,T=(C==null?void 0:C.height)>0?C.height:i,j=v.useCallback(q=>{R(q),typeof e=="function"&&e(q),S(q),E(q),q!=null&&(L.current=q)},[R,e,S,E]),V=v.useCallback(q=>{k(gA(q)),k(Tr({handler:a,reactEvent:q}))},[k,a]),H=v.useCallback(q=>{k(Mm(q)),k(Tr({handler:u,reactEvent:q}))},[k,u]),X=v.useCallback(q=>{k(ZN()),k(Tr({handler:d,reactEvent:q}))},[k,d]),re=v.useCallback(q=>{k(Mm(q)),k(Tr({handler:h,reactEvent:q}))},[k,h]),F=v.useCallback(()=>{k(_A())},[k]),Q=v.useCallback(q=>{k(wA(q.key))},[k]),ce=v.useCallback(q=>{k(Tr({handler:s,reactEvent:q}))},[k,s]),Ee=v.useCallback(q=>{k(Tr({handler:o,reactEvent:q}))},[k,o]),De=v.useCallback(q=>{k(Tr({handler:c,reactEvent:q}))},[k,c]),Ge=v.useCallback(q=>{k(Tr({handler:p,reactEvent:q}))},[k,p]),Je=v.useCallback(q=>{k(Tr({handler:b,reactEvent:q}))},[k,b]),ee=v.useCallback(q=>{P&&k(EA(q)),k(Tr({handler:x,reactEvent:q}))},[k,P,x]),se=v.useCallback(q=>{k(Tr({handler:g,reactEvent:q}))},[k,g]),be=bY(_);return v.createElement(wE.Provider,{value:D},v.createElement(g_.Provider,{value:I},v.createElement(be,{width:O??(y==null?void 0:y.width),height:T??(y==null?void 0:y.height),className:Ue("recharts-wrapper",n),style:uY({position:"relative",cursor:"default",width:O,height:T},y),onClick:V,onContextMenu:ce,onDoubleClick:Ee,onFocus:F,onKeyDown:Q,onMouseDown:De,onMouseEnter:H,onMouseLeave:X,onMouseMove:re,onMouseUp:Ge,onTouchEnd:se,onTouchMove:ee,onTouchStart:Je,ref:j},v.createElement(mY,null),r)))}),wY=["width","height","responsive","children","className","style","compact","title","desc"];function _Y(t,e){if(t==null)return{};var r,n,i=NY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function NY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IA=v.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=t,h=_Y(t,wY),p=Hr(h);return c?v.createElement(v.Fragment,null,v.createElement(Pd,{width:r,height:n}),v.createElement(mx,{otherAttributes:p,title:u,desc:d},a)):v.createElement(xY,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},v.createElement(mx,{otherAttributes:p,title:u,desc:d,ref:e},v.createElement(bK,null,a)))});function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(null,arguments)}var EY={top:5,right:5,bottom:5,left:5},AY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:EY,reverseStackOrder:!1,syncMethod:"index",responsive:!1},PY=v.forwardRef(function(e,r){var n,i=jt(e.categoricalChartProps,AY),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=e,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return v.createElement(PA,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},v.createElement(lA,{chartData:u.data}),v.createElement(SA,{layout:i.layout,margin:i.margin}),v.createElement(TA,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(IA,Dm({},i,{ref:r})))}),SY=["axis","item"],TY=v.forwardRef((t,e)=>v.createElement(PY,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:SY,tooltipPayloadSearcher:NE,categoricalChartProps:t,ref:e}));function IY(t){var e=Ke();return v.useEffect(()=>{e(QG(t))},[e,t]),null}var CY=["layout"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lm.apply(null,arguments)}function kY(t,e){if(t==null)return{};var r,n,i=OY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function OY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var RY={top:5,right:5,bottom:5,left:5},MY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:RY,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},DY=v.forwardRef(function(e,r){var n,i=jt(e.categoricalChartProps,MY),{layout:a}=i,s=kY(i,CY),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,h={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(PA,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},v.createElement(lA,{chartData:i.data}),v.createElement(SA,{layout:a,margin:i.margin}),v.createElement(TA,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(IY,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(IA,Lm({},s,{ref:r})))}),LY=["item"],jY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},VY=v.forwardRef((t,e)=>{var r=jt(t,jY);return v.createElement(DY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:LY,tooltipPayloadSearcher:NE,categoricalChartProps:r,ref:e})});const $Y=()=>{const[t,e]=v.useState({totalProperties:0,activeListings:0,soldProperties:0,rentedProperties:0,totalBlogs:0,pendingAppointments:0,totalRevenue:0}),[r,n]=v.useState([]),[i,a]=v.useState([]),[s,o]=v.useState([]),[c,u]=v.useState(!0),d=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];v.useEffect(()=>{(async()=>{var b,y;try{u(!0);const N=await ht.getMyProperties(),_=((b=N==null?void 0:N.data)==null?void 0:b.data)||(N==null?void 0:N.data)||[];let P=[];try{const H=await((y=Vh.getMyBlogs)==null?void 0:y.call(Vh))||{data:[]};P=(H==null?void 0:H.data)||[]}catch{console.log("Blog API not available, using empty data")}const L=[],k=_.length,D=_.filter(H=>H.status==="for-sale"||H.status==="for-rent").length,S=_.filter(H=>H.status==="sold").length,I=_.filter(H=>H.status==="rented").length,E=P.length,R=0,C=_.filter(H=>H.status==="sold"||H.status==="rented").reduce((H,X)=>H+(X.price||0),0),O=_.reduce((H,X)=>{const re=X.type||"other";return H[re]=(H[re]||0)+1,H},{}),T=Object.entries(O).map(([H,X])=>({name:H.charAt(0).toUpperCase()+H.slice(1),value:X})),j=h(_),V=p(_,P,L);e({totalProperties:k,activeListings:D,soldProperties:S,rentedProperties:I,totalBlogs:E,pendingAppointments:R,totalRevenue:C}),a(T),o(j),n(V)}catch(N){console.error("Error fetching dashboard data:",N)}finally{u(!1)}})()},[]);const h=x=>{const b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=new Date().getMonth();return b.slice(Math.max(0,y-5),y+1).map((N,_)=>{const P=(y-5+_+12)%12,L=new Date().getFullYear()-(y-5+_<0?1:0),k=x.filter(I=>{if(!I.createdAt)return!1;const E=new Date(I.createdAt);return E.getMonth()===P&&E.getFullYear()===L}),D=k.length,S=k.filter(I=>I.status==="sold"||I.status==="rented").length;return{month:N,listings:D,sales:S}})},p=(x,b,y)=>{const N=[];return x.slice(0,3).forEach(_=>{N.push({id:_._id,type:"property",action:_.status==="sold"||_.status==="rented"?"sold":"listed",title:_.title,time:g(_.createdAt||_.updatedAt),link:"/admin/properties"})}),b.slice(0,2).forEach(_=>{N.push({id:_._id,type:"blog",action:"published",title:_.title,time:g(_.createdAt),link:"/admin/blog"})}),N.length<5&&N.push({id:"sample-appointment-1",type:"appointment",action:"scheduled",title:"Property viewing scheduled",time:"2 days ago",link:"/admin/appointments"}),N.sort((_,P)=>_.id.includes("sample")||P.id.includes("sample")?0:new Date(P.time)-new Date(_.time)).slice(0,5)},g=x=>{if(!x)return"Recently";const b=new Date(x),N=Math.floor((new Date-b)/(1e3*60*60));return N<1?"Just now":N<24?`${N} hours ago`:N<168?`${Math.floor(N/24)} days ago`:`${Math.floor(N/168)} weeks ago`};return c?m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[...Array(6)].map((x,b)=>l("div",{className:"h-32 bg-gray-200 rounded"},b))})]}):m("div",{children:[m("div",{className:"mb-8",children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Overview"}),l("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your real estate business today."})]}),"Stats Grid",m("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-7 gap-4 mb-8",children:[l(Wi,{title:"Total Properties",value:t.totalProperties,icon:"",color:"blue",description:"All properties in your portfolio"}),l(Wi,{title:"Active Listings",value:t.activeListings,icon:"",color:"green",description:"Available for sale/rent"}),l(Wi,{title:"Sold Properties",value:t.soldProperties,icon:"",color:"purple",description:"Successfully sold"}),l(Wi,{title:"Rented Properties",value:t.rentedProperties,icon:"",color:"orange",description:"Currently rented out"}),l(Wi,{title:"Blog Posts",value:t.totalBlogs,icon:"",color:"indigo",description:"Published articles"}),l(Wi,{title:"Pending Appointments",value:t.pendingAppointments,icon:"",color:"red",description:"Awaiting confirmation"}),l(Wi,{title:"Total Revenue",value:`$${t.totalRevenue.toLocaleString()}`,icon:"",color:"emerald",description:"From sales and rentals"})]}),m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[m("div",{className:"bg-white p-6 rounded-lg shadow",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Monthly Performance"}),s.length>0?l(e1,{width:"100%",height:300,children:m(TY,{data:s,children:[l(fA,{strokeDasharray:"3 3"}),l(mA,{dataKey:"month"}),l(pA,{}),l(C2,{}),l(n3,{}),l(Cm,{dataKey:"listings",fill:"#3B82F6",name:"New Listings"}),l(Cm,{dataKey:"sales",fill:"#10B981",name:"Properties Sold/Rented"})]})}):l("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No data available for monthly performance"})]}),m("div",{className:"bg-white p-6 rounded-lg shadow",children:[m("h3",{className:"text-lg font-semibold mb-4",children:["Property Types Distribution (",i.reduce((x,b)=>x+b.value,0),")"]}),i.length>0?l(e1,{width:"100%",height:300,children:m(VY,{children:[l(tA,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percent:b})=>`${x} ${(b*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((x,b)=>l(xl,{fill:d[b%d.length]},`cell-${b}`))}),l(C2,{})]})}):l("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No property type data available"})]})]}),m("div",{className:"bg-white p-6 rounded-lg shadow",children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activities"}),r.length>0?l("div",{className:"space-y-4",children:r.map(x=>m("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${x.type==="property"?"bg-blue-100":x.type==="blog"?"bg-green-100":"bg-purple-100"}`,children:l("span",{className:"text-lg",children:x.type==="property"?"":x.type==="blog"?"":""})}),m("div",{children:[l("p",{className:"font-medium text-gray-900",children:x.title}),m("p",{className:"text-sm text-gray-500 capitalize",children:[x.action,"  ",x.time]})]})]}),l("a",{href:x.link,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Details"})]},x.id))}):l("div",{className:"text-center py-8 text-gray-500",children:"No recent activities found"})]})]})},Wi=({title:t,value:e,icon:r,color:n,description:i})=>l("div",{className:"bg-white p-4 rounded-lg shadow border",children:m("div",{className:"flex items-center justify-between mb-2",children:[m("div",{className:"flex-1",children:[l("p",{className:"text-sm font-medium text-gray-600",children:t}),l("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e}),i&&l("p",{className:"text-xs text-gray-500 mt-1",children:i})]}),l("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${{blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600",red:"bg-red-50 text-red-600",emerald:"bg-emerald-50 text-emerald-600",indigo:"bg-indigo-50 text-indigo-600"}[n]}`,children:l("span",{className:"text-xl",children:r})})]})});class FY{async uploadFile(e,r="property",n="",i=[]){try{console.log(` Uploading single file: ${e.name}`,{category:r,size:e.size,type:e.type});const a=await An.uploadFile(e,r,n,i);return console.log(" File upload successful:",a.data),a}catch(a){throw console.error(" File upload failed:",a),this._enhanceError(a,"uploadFile")}}async uploadMultipleFiles(e,r="property",n="",i=[],a=null){var s,o,c;try{if(!e||!Array.isArray(e)||e.length===0)throw new Error("No files provided for upload");console.log(" Starting upload with files:",e.map(h=>({name:h.name,size:h.size,type:h.type})));const u=await An.uploadMultipleFiles(e,r,n,i,a);console.log(" Raw API response:",u),console.log(" response.data:",u==null?void 0:u.data),console.log(" response.data.data:",(s=u==null?void 0:u.data)==null?void 0:s.data),console.log(" Is response.data.data array?:",Array.isArray((o=u==null?void 0:u.data)==null?void 0:o.data));const d=(c=u==null?void 0:u.data)==null?void 0:c.data;if(!d||!Array.isArray(d))throw console.error(" Expected response.data.data to be an array but got:",d),new Error("Upload service: Invalid response format - expected array of files in response.data.data");return console.log(" Upload successful. Files:",d),{data:d,success:!0,count:d.length}}catch(u){throw console.error(" Upload failed:",u),this._enhanceError(u,"uploadMultipleFiles")}}async uploadWithProgress(e,r="property",n=null){return this.uploadMultipleFiles(e,r,"",[],n)}async getUploads(e={}){try{console.log(" Fetching uploads with params:",e);const r=await An.getUploads(e);return console.log(" Fetched uploads:",{count:r.data.length,total:r.total,category:e.category}),r}catch(r){throw console.error(" Failed to fetch uploads:",r),this._enhanceError(r,"getUploads")}}async getUpload(e){try{if(!e)throw new Error("Upload ID is required");console.log(` Fetching upload: ${e}`);const r=await An.getUpload(e);return console.log(" Fetched upload:",r.data.originalName),r}catch(r){throw console.error(` Failed to fetch upload ${e}:`,r),this._enhanceError(r,"getUpload")}}async updateUpload(e,r){try{if(!e)throw new Error("Upload ID is required");console.log(` Updating upload ${e}:`,r);const n=await An.updateUpload(e,r);return console.log(" Upload updated successfully:",n.data.originalName),n}catch(n){throw console.error(` Failed to update upload ${e}:`,n),this._enhanceError(n,"updateUpload")}}async deleteUpload(e){try{if(!e)throw new Error("Upload ID is required");console.log(` Deleting upload: ${e}`);const r=await An.deleteUpload(e);return console.log(" Upload deleted successfully"),r}catch(r){throw console.error(` Failed to delete upload ${e}:`,r),this._enhanceError(r,"deleteUpload")}}async getUploadsByCategory(e,r=50){return this.getUploads({category:e,limit:r})}async searchUploads(e,r=null){const n={search:e};return r&&(n.category=r),this.getUploads(n)}async getMyPropertyImages(e=100){return this.getUploads({category:"property",limit:e})}async getMyBlogImages(e=100){return this.getUploads({category:"blog",limit:e})}validateFile(e,r={}){const{maxSize:n=10*1024*1024,allowedTypes:i=["image/jpeg","image/jpg","image/png","image/webp","image/gif"]}=r,a=[];return e.size>n&&a.push(`File size too large. Maximum: ${this._formatFileSize(n)}`),i.includes(e.type)||a.push(`File type not allowed. Allowed: ${i.join(", ")}`),e.type.startsWith("image/")||a.push("Only image files are allowed"),{isValid:a.length===0,errors:a,fileInfo:{name:e.name,size:e.size,type:e.type,formattedSize:this._formatFileSize(e.size)}}}validateFiles(e,r={}){const n=e.map(s=>this.validateFile(s,r)),i=n.every(s=>s.isValid),a=n.flatMap(s=>s.errors);return{isValid:i,errors:a,results:n,validFiles:i?e:e.filter((s,o)=>n[o].isValid),invalidFiles:e.filter((s,o)=>!n[o].isValid)}}processFiles(e,r={}){const n=this.validateFiles(e,r);return n.isValid||console.warn(" Some files failed validation:",{valid:n.validFiles.length,invalid:n.invalidFiles.length,errors:n.errors}),{...n,totalSize:this._formatFileSize(e.reduce((i,a)=>i+a.size,0)),canUpload:n.validFiles.length>0}}async uploadPropertyImages(e,r=null){const n=this.processFiles(e,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp"]});if(!n.canUpload)throw new Error(`No valid files to upload. Errors: ${n.errors.join(", ")}`);return console.log(` Uploading ${n.validFiles.length} property images`),this.uploadWithProgress(n.validFiles,"property",r)}async uploadBlogImages(e,r=null){const n=this.processFiles(e,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp","image/gif"]});if(!n.canUpload)throw new Error(`No valid files to upload. Errors: ${n.errors.join(", ")}`);return console.log(` Uploading ${n.validFiles.length} blog images`),this.uploadWithProgress(n.validFiles,"blog",r)}async uploadProfilePicture(e){const r=this.validateFile(e,{maxSize:2097152,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp"]});if(!r.isValid)throw new Error(`Profile picture validation failed: ${r.errors.join(", ")}`);return console.log(` Uploading profile picture: ${e.name}`),this.uploadFile(e,"profile","Profile picture")}_enhanceError(e,r){console.error(`Upload Service Error in ${r}:`,{message:e.message,status:e.status,code:e.code,response:e.response,data:e.data});const n=new Error(e.message||"Upload service error");return n.originalError=e,n.method=r,n.timestamp=new Date().toISOString(),n.status=e.status,n.code=e.code,e.response&&(n.responseData=e.response.data),n}_formatFileSize(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,i)).toFixed(2))+" "+n[i]}generateFilePreview(e){return new Promise((r,n)=>{if(!e.type.startsWith("image/")){r(null);return}const i=new FileReader;i.onload=a=>r(a.target.result),i.onerror=a=>n(a),i.readAsDataURL(e)})}getFileCategory(e){return e.startsWith("image/")?"image":e.startsWith("video/")?"video":e.startsWith("audio/")?"audio":e.includes("pdf")||e.includes("word")||e.includes("document")?"document":"other"}}const Ou=new FY,UY=(t,e=gb.DEFAULT)=>{if(t==null)return"Price on request";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(t))}catch(r){return console.error("Price formatting error:",r),`${gb.SYMBOL}${Number(t).toLocaleString()}`}},zY=t=>({[Bi.HOUSE]:"House",[Bi.APARTMENT]:"Apartment",[Bi.CONDO]:"Condo",[Bi.VILLA]:"Villa",[Bi.COMMERCIAL]:"Commercial",[Bi.LAND]:"Land",[Bi.OTHER]:"Other"})[t]||(t==null?void 0:t.charAt(0).toUpperCase())+(t==null?void 0:t.slice(1))||"Property",BY=t=>({[Ys.FOR_SALE]:"For Sale",[Ys.FOR_RENT]:"For Rent",[Ys.SOLD]:"Sold",[Ys.RENTED]:"Rented",[Ys.PENDING]:"Pending"})[t]||(t==null?void 0:t.charAt(0).toUpperCase())+(t==null?void 0:t.slice(1))||"Available",Ua="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yMCAxM0MxNi4xMyAxMyAxMyAxNi4xMyAxMyAyMEMxMyAyMy44NyAxNi4xMyAyNyAyMCAyN0MyMy44NyAyNyAyNyAyMy44NyAyNyAyMEMyNyAxNi4xMyAyMy44NyAxMyAyMCAxM1pNMjAgMjVDMTcuMjQgMjUgMTUgMjIuNzYgMTUgMjBDMTUgMTcuMjQgMTcuMjQgMTUgMjAgMTVDMjIuNzYgMTUgMjUgMTcuMjQgMjUgMjBDMjUgMjIuNzYgMjIuNzYgMjUgMjAgMjVaTTI2IDlIMTRDMTIuOSA5IDEyIDguMSAxMiA3VjRDMTIgMi45IDEyLjkgMiAxNCAySDI2QzI3LjEgMiAyOCAyLjkgMjggNFY3QzI4IDguMSAyNy4xIDkgMjYgOVpNMjYgN1Y0SDE0VjdIMjZaIiBmaWxsPSIjOUNBM0FCIi8+Cjwvc3ZnPgo=",WY=()=>{const[t,e]=v.useState([]),[r,n]=v.useState([]),[i,a]=v.useState(!0),[s,o]=v.useState(""),[c,u]=v.useState("all"),[d,h]=v.useState("all"),[p,g]=v.useState(!1),[x,b]=v.useState(!1),[y,N]=v.useState(!1),[_,P]=v.useState(null),[L,k]=v.useState(""),[D,S]=v.useState(""),{user:I}=Pa(),[E,R]=v.useState({title:"",description:"",price:"",currency:"USD",type:"house",status:"for-sale",location:{address:"",city:"",state:"",zipCode:"",country:"United States"},specifications:{bedrooms:"",bathrooms:"",area:"",areaUnit:"sqft",yearBuilt:"",floors:"1",parking:"0"},amenities:[]}),[C,O]=v.useState(!1),[T,j]=v.useState([]),[V,H]=v.useState(null),[X,re]=v.useState(0),F=()=>({title:"",description:"",price:"",currency:"USD",type:"house",status:"for-sale",location:{address:"",city:"",state:"",zipCode:"",country:"United States"},specifications:{bedrooms:"",bathrooms:"",area:"",areaUnit:"sqft",yearBuilt:"",floors:"1",parking:"0"},amenities:[]}),Q=v.useCallback(async()=>{try{a(!0),k(""),console.log(" Starting to fetch properties...");const U=await ht.getMyProperties();console.log(" Raw API response:",U);let Z=[];U&&U.data&&U.data.success&&Array.isArray(U.data.data)?(Z=U.data.data,console.log(" Extracted properties from response.data.data:",Z)):Array.isArray(U)?(Z=U,console.log(" Extracted properties from direct array:",Z)):U&&U.success&&Array.isArray(U.data)?(Z=U.data,console.log(" Extracted properties from response.data:",Z)):(console.warn(" Unexpected response structure:",U),Z=[]),Array.isArray(Z)||(console.warn(" Properties data is not an array:",Z),Z=[]),console.log(` Found ${Z.length} raw properties:`,Z);const ue=Z.map((G,me)=>{console.log(` Processing property ${me}:`,G);const pe=G._id||G.id||`temp-${me}`,$e=G.location||{},He=G.specifications||{},fr={_id:pe,id:pe,title:G.title||"Untitled Property",description:G.description||"No description available",price:G.price||0,currency:G.currency||"USD",type:G.type||"house",status:G.status||"for-sale",location:{address:$e.address||"Address not specified",city:$e.city||"City not specified",state:$e.state||"State not specified",zipCode:$e.zipCode||"",country:$e.country||"United States"},specifications:{bedrooms:He.bedrooms||0,bathrooms:He.bathrooms||0,area:He.area||0,areaUnit:He.areaUnit||"sqft",yearBuilt:He.yearBuilt||"",floors:He.floors||1,parking:He.parking||0},amenities:G.amenities||[],images:G.images||[],featuredImage:G.featuredImage,createdBy:G.createdBy,agentId:G.agentId,createdAt:G.createdAt,updatedAt:G.updatedAt};return console.log(` Normalized property ${me}:`,fr),fr});console.log(" Final normalized properties:",ue),e(ue),n(ue)}catch(U){console.error(" Error fetching properties:",U),k(U.message||Ul.DEFAULT),e([]),n([])}finally{a(!1)}},[]);v.useEffect(()=>{Q()},[Q]),v.useEffect(()=>{if(!Array.isArray(t)){n([]);return}console.log(" Filtering properties...",t.length);let U=t.filter(Z=>{var pe,$e,He,fr,ii,$r;const ue=s===""||((pe=Z.title)==null?void 0:pe.toLowerCase().includes(s.toLowerCase()))||(($e=Z.description)==null?void 0:$e.toLowerCase().includes(s.toLowerCase()))||((fr=(He=Z.location)==null?void 0:He.address)==null?void 0:fr.toLowerCase().includes(s.toLowerCase()))||(($r=(ii=Z.location)==null?void 0:ii.city)==null?void 0:$r.toLowerCase().includes(s.toLowerCase())),G=c==="all"||Z.status===c,me=d==="all"||Z.type===d;return ue&&G&&me});console.log(` Filtered to ${U.length} properties`),n(U)},[t,s,c,d]),v.useEffect(()=>{console.log(" Filtered properties updated:",r.length)},[r]);const ce=async U=>{const Z=Array.from(U.target.files);if(Z.length){O(!0),re(0),k("");try{console.log(" Starting image upload...");const ue=await Ou.uploadMultipleFiles(Z,"property");console.log(" Upload service response:",ue);const G=ue.data;if(!G||!Array.isArray(G))throw new Error("Upload service returned invalid data format");const me=G.map(pe=>({id:pe._id||pe.id,url:pe.url||pe.path||pe.secure_url,name:pe.originalName||pe.name||"Property Image",cloudinaryId:pe.cloudinaryId||pe.public_id}));j(pe=>[...pe,...me]),!V&&me.length>0&&H(me[0].id),S(`Successfully uploaded ${me.length} images`),setTimeout(()=>S(""),3e3)}catch(ue){console.error(" Upload failed:",ue),k(`Image upload failed: ${ue.message}`)}finally{O(!1),re(0)}}},Ee=async U=>{var Z;try{await Ou.deleteUpload(U),j(ue=>ue.filter(G=>G.id!==U)),V===U&&H(((Z=T[0])==null?void 0:Z.id)||null)}catch(ue){console.error("Delete failed:",ue),k("Failed to delete image")}},De=U=>{H(U)},Ge=()=>{j([]),H(null)},Je=v.useCallback(async U=>{U.preventDefault();try{O(!0),k("");const Z=[];if(E.title.trim()||Z.push("Property title is required"),E.description.trim()||Z.push("Property description is required"),(!E.price||E.price<=0)&&Z.push("Valid price is required"),E.location.address.trim()||Z.push("Address is required"),E.location.city.trim()||Z.push("City is required"),E.location.state.trim()||Z.push("State is required"),E.location.zipCode.trim()||Z.push("ZIP code is required"),(!E.specifications.bedrooms||E.specifications.bedrooms<0)&&Z.push("Number of bedrooms is required"),(!E.specifications.bathrooms||E.specifications.bathrooms<0)&&Z.push("Number of bathrooms is required"),(!E.specifications.area||E.specifications.area<0)&&Z.push("Property area is required"),T.length===0&&Z.push("At least one property image is required"),Z.length>0)throw new Error(Z.join(", "));const ue=T.map(He=>He.id),G={title:E.title.trim(),description:E.description.trim(),price:parseFloat(E.price),currency:E.currency,type:E.type,status:E.status,location:{address:E.location.address.trim(),city:E.location.city.trim(),state:E.location.state.trim(),zipCode:E.location.zipCode.trim(),country:E.location.country},specifications:{bedrooms:parseInt(E.specifications.bedrooms),bathrooms:parseFloat(E.specifications.bathrooms),area:parseInt(E.specifications.area),areaUnit:E.specifications.areaUnit,floors:parseInt(E.specifications.floors)||1,parking:parseInt(E.specifications.parking)||0},amenities:E.amenities,images:ue,featuredImage:V,createdBy:I==null?void 0:I.uid,agentId:I==null?void 0:I.uid};if(E.specifications.yearBuilt){const He=String(E.specifications.yearBuilt).trim();He&&(G.specifications.yearBuilt=parseInt(He))}console.log(" Creating property with data:",G);const me=await ht.createProperty(G);console.log(" Create response:",me);let pe;if(me&&me.data)pe=me.data;else if(me&&me._id)pe=me;else throw new Error("Invalid response format from server");console.log(" Extracted created property:",pe);const $e={_id:pe._id||pe.id,id:pe._id||pe.id,title:pe.title||"Untitled Property",description:pe.description||"No description available",price:pe.price||0,currency:pe.currency||"USD",type:pe.type||"house",status:pe.status||"for-sale",location:pe.location||{address:"Address not specified",city:"City not specified",state:"State not specified",zipCode:"",country:"United States"},specifications:pe.specifications||{bedrooms:0,bathrooms:0,area:0,areaUnit:"sqft",yearBuilt:"",floors:1,parking:0},amenities:pe.amenities||[],images:pe.images||[],featuredImage:pe.featuredImage,createdBy:pe.createdBy,agentId:pe.agentId,createdAt:pe.createdAt,updatedAt:pe.updatedAt};console.log(" Normalized created property:",$e),e(He=>[$e,...He]),S(jh.PROPERTY_CREATED),Le(),setTimeout(()=>{S("")},3e3)}catch(Z){console.error(" Error creating property:",Z),k(Z.message||Ul.DEFAULT)}finally{O(!1)}},[E,I,T,V]),ee=v.useCallback(U=>{var Z,ue,G,me,pe,$e,He,fr,ii,$r,Ms,kt,Ds;if(U){if(console.log(" Editing property:",U),P(U),R({title:U.title||"",description:U.description||"",price:U.price||"",currency:U.currency||"USD",type:U.type||"house",status:U.status||"for-sale",location:{address:((Z=U.location)==null?void 0:Z.address)||"",city:((ue=U.location)==null?void 0:ue.city)||"",state:((G=U.location)==null?void 0:G.state)||"",zipCode:((me=U.location)==null?void 0:me.zipCode)||"",country:((pe=U.location)==null?void 0:pe.country)||"United States"},specifications:{bedrooms:(($e=U.specifications)==null?void 0:$e.bedrooms)||"",bathrooms:((He=U.specifications)==null?void 0:He.bathrooms)||"",area:((fr=U.specifications)==null?void 0:fr.area)||"",areaUnit:((ii=U.specifications)==null?void 0:ii.areaUnit)||"sqft",yearBuilt:(($r=U.specifications)==null?void 0:$r.yearBuilt)||"",floors:((Ms=U.specifications)==null?void 0:Ms.floors)||"1",parking:((kt=U.specifications)==null?void 0:kt.parking)||"0"},amenities:U.amenities||[]}),U.images&&Array.isArray(U.images)){const ai=U.images.map(Ar=>typeof Ar=="string"?{id:Ar,url:Ua,name:"Property Image"}:{id:Ar._id||Ar.id,url:Ar.url||Ua,name:Ar.originalName||"Property Image"});j(ai),H(U.featuredImage||((Ds=ai[0])==null?void 0:Ds.id)||null)}else j([]),H(null);N(!0)}},[]),se=v.useCallback(async U=>{U.preventDefault();try{if(O(!0),k(""),!_)throw new Error("No property selected for update");const Z=T.map($e=>$e.id),ue={title:E.title.trim(),description:E.description.trim(),price:parseFloat(E.price),currency:E.currency,type:E.type,status:E.status,location:{address:E.location.address.trim(),city:E.location.city.trim(),state:E.location.state.trim(),zipCode:E.location.zipCode.trim(),country:E.location.country},specifications:{bedrooms:parseInt(E.specifications.bedrooms),bathrooms:parseFloat(E.specifications.bathrooms),area:parseInt(E.specifications.area),areaUnit:E.specifications.areaUnit,floors:parseInt(E.specifications.floors)||1,parking:parseInt(E.specifications.parking)||0},amenities:E.amenities,images:Z,featuredImage:V};if(E.specifications.yearBuilt){const $e=String(E.specifications.yearBuilt).trim();$e&&(ue.specifications.yearBuilt=parseInt($e))}console.log(" Updating property with data:",ue);const G=await ht.updateProperty(_._id,ue);console.log(" Update response:",G);let me;if(G&&G.data)me=G.data;else if(G&&G._id)me=G;else throw new Error("Invalid response format from server");console.log(" Extracted updated property:",me);const pe={_id:me._id||me.id,id:me._id||me.id,title:me.title||"Untitled Property",description:me.description||"No description available",price:me.price||0,currency:me.currency||"USD",type:me.type||"house",status:me.status||"for-sale",location:me.location||{address:"Address not specified",city:"City not specified",state:"State not specified",zipCode:"",country:"United States"},specifications:me.specifications||{bedrooms:0,bathrooms:0,area:0,areaUnit:"sqft",yearBuilt:"",floors:1,parking:0},amenities:me.amenities||[],images:me.images||[],featuredImage:me.featuredImage,createdBy:me.createdBy,agentId:me.agentId,createdAt:me.createdAt,updatedAt:me.updatedAt};console.log(" Normalized updated property:",pe),e($e=>$e.map(He=>He._id===_._id?pe:He)),S(jh.PROPERTY_UPDATED),je(),setTimeout(()=>{S("")},3e3)}catch(Z){console.error(" Error updating property:",Z);let ue=Z.message||Ul.DEFAULT;Z.status===400&&Z.data&&(Z.data.details&&Z.data.details.length>0?ue=`Validation failed: ${Z.data.details.join(", ")}`:Z.data.message&&(ue=Z.data.message)),k(ue)}finally{O(!1)}},[E,_,T,V]),be=v.useCallback(U=>{P(U),g(!0)},[]),q=v.useCallback(async()=>{if(!_){k("No property selected for deletion"),g(!1);return}try{k(""),await ht.deleteProperty(_._id),e(U=>U.filter(Z=>Z._id!==_._id)),g(!1),P(null),S(jh.PROPERTY_DELETED),setTimeout(()=>S(""),3e3)}catch(U){k(U.message||Ul.DEFAULT)}},[_]),he=v.useCallback((U,Z)=>{R(ue=>({...ue,[U]:Z}))},[]),ve=v.useCallback((U,Z)=>{R(ue=>({...ue,location:{...ue.location,[U]:Z}}))},[]),K=v.useCallback((U,Z)=>{R(ue=>({...ue,specifications:{...ue.specifications,[U]:Z}}))},[]),Ce=v.useCallback(U=>{R(Z=>({...Z,amenities:Z.amenities.includes(U)?Z.amenities.filter(ue=>ue!==U):[...Z.amenities,U]}))},[]),Ae=v.useCallback(()=>{R(F()),j([]),H(null),b(!0)},[]),Le=v.useCallback(()=>{b(!1),R(F()),j([]),H(null),k("")},[]),je=v.useCallback(()=>{N(!1),P(null),R(F()),j([]),H(null),k("")},[]),Wt=v.useCallback(()=>{Q()},[Q]),Xr=v.useCallback(U=>{U&&(window.location.href=`/properties/${U._id}`)},[]),ri=v.useCallback(U=>{switch(U){case"for-sale":return"bg-green-100 text-green-800";case"for-rent":return"bg-blue-100 text-blue-800";case"sold":return"bg-gray-100 text-gray-800";case"rented":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},[]),ut=v.useCallback(U=>{switch(U){case"villa":return"bg-purple-100 text-purple-800";case"apartment":return"bg-blue-100 text-blue-800";case"house":return"bg-green-100 text-green-800";case"commercial":return"bg-orange-100 text-orange-800";case"land":return"bg-yellow-100 text-yellow-800";case"condo":return"bg-pink-100 text-pink-800";case"townhouse":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},[]),vt=v.useCallback(U=>{if(U.images&&U.images.length>0){const Z=U.images[0];if(typeof Z=="string")return Ua;if(Z.url&&Z.url.startsWith("http"))return Z.url}return Ua},[]),ni=v.useCallback(U=>{const Z=U.location||{},ue=[Z.address,Z.city,Z.state].filter(Boolean);return ue.length>0?ue.join(", "):"Location not specified"},[]),Os=v.useCallback(U=>{const Z=U.specifications||{},ue=Z.bedrooms||0,G=Z.bathrooms||0,me=Z.area||0,pe=Z.areaUnit||"sqft";return`${ue} beds  ${G} baths  ${me} ${pe}`},[]),Oa=v.useCallback(U=>!U.price||U.price===0?"Price on request":UY(U.price,U.currency),[]),Rs=[{value:"all",label:"All Status"},{value:"for-sale",label:"For Sale"},{value:"for-rent",label:"For Rent"},{value:"sold",label:"Sold"},{value:"rented",label:"Rented"}],_n=[{value:"all",label:"All Types"},{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"townhouse",label:"Townhouse"},{value:"commercial",label:"Commercial"},{value:"land",label:"Land"}],Ra=[{value:"house",label:"House"},{value:"apartment",label:"Apartment"},{value:"condo",label:"Condo"},{value:"villa",label:"Villa"},{value:"townhouse",label:"Townhouse"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"}],Ma=[{value:"for-sale",label:"For Sale"},{value:"for-rent",label:"For Rent"},{value:"sold",label:"Sold"},{value:"rented",label:"Rented"}],z=[{value:"swimming-pool",label:"Swimming Pool"},{value:"garden",label:"Garden"},{value:"garage",label:"Garage"},{value:"balcony",label:"Balcony"},{value:"fireplace",label:"Fireplace"},{value:"air-conditioning",label:"Air Conditioning"},{value:"heating",label:"Heating"},{value:"security-system",label:"Security System"},{value:"elevator",label:"Elevator"},{value:"gym",label:"Gym"},{value:"parking",label:"Parking"},{value:"furnished",label:"Furnished"},{value:"pet-friendly",label:"Pet Friendly"}],oe=({isEdit:U=!1,onSubmit:Z,onCancel:ue})=>l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:m("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[m("div",{className:"flex justify-between items-center p-6 border-b",children:[l("h2",{className:"text-2xl font-bold text-gray-900",children:U?"Edit Property":"Add New Property"}),l("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l(io,{size:24})})]}),m("form",{onSubmit:Z,className:"p-6 space-y-6",children:[m("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Title *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.title,onChange:G=>he("title",G.target.value),placeholder:"Enter property title"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),m("div",{className:"flex space-x-2",children:[m("select",{className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.currency,onChange:G=>he("currency",G.target.value),children:[l("option",{value:"USD",children:"USD"}),l("option",{value:"NAN",children:"NAN"})]}),l("input",{type:"number",required:!0,min:"0",step:"0.01",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.price,onChange:G=>he("price",G.target.value),placeholder:"Enter price"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type *"}),l("select",{required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.type,onChange:G=>he("type",G.target.value),children:Ra.map(G=>l("option",{value:G.value,children:G.label},G.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),l("select",{required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.status,onChange:G=>he("status",G.target.value),children:Ma.map(G=>l("option",{value:G.value,children:G.label},G.value))})]})]}),m("div",{className:"mt-4",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),l("textarea",{required:!0,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.description,onChange:G=>he("description",G.target.value),placeholder:"Describe the property features, location advantages, etc."})]})]}),m("div",{children:[m("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l(ff,{size:20,className:"mr-2"}),"Property Images"]}),X>0&&m("div",{className:"mb-4",children:[m("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[l("span",{children:"Uploading images..."}),m("span",{children:[X,"%"]})]}),l("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${X}%`}})})]}),m("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-4",children:[l("input",{type:"file",multiple:!0,accept:"image/*",onChange:ce,disabled:C,className:"hidden",id:"property-images"}),m("label",{htmlFor:"property-images",className:`cursor-pointer inline-flex items-center px-4 py-2 rounded-md transition-colors ${C?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[l(Fm,{size:16,className:"mr-2"}),C?"Uploading...":"Select Images"]}),l("p",{className:"mt-2 text-sm text-gray-500",children:"Upload multiple property images (JPEG, PNG, WebP)"})]}),T.length>0&&m("div",{className:"mt-4",children:[m("div",{className:"flex justify-between items-center mb-3",children:[m("h4",{className:"text-sm font-medium text-gray-700",children:["Uploaded Images (",T.length,")"]}),l("button",{type:"button",onClick:Ge,className:"text-sm text-red-600 hover:text-red-800",children:"Clear All"})]}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:T.map(G=>m("div",{className:"relative group",children:[l("img",{src:G.url,alt:G.name,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200"}),m("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity rounded-lg flex items-center justify-center space-x-1",children:[l("button",{type:"button",onClick:()=>De(G.id),className:`text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity ${V===G.id?"bg-green-500 text-white":"bg-white text-gray-800 hover:bg-gray-100"}`,children:V===G.id?"Featured":"Set Featured"}),l("button",{type:"button",onClick:()=>Ee(G.id),className:"text-xs bg-red-500 text-white px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:"Remove"})]}),V===G.id&&l("div",{className:"absolute top-1 left-1 bg-green-500 text-white text-xs px-1 rounded",children:"Featured"})]},G.id))})]}),T.length===0&&m("div",{className:"text-center py-4 text-gray-500",children:[l(ff,{size:32,className:"mx-auto mb-2 text-gray-300"}),l("p",{children:"At least one property image is required"})]})]}),m("div",{children:[m("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[l(lP,{size:20,className:"mr-2"}),"Location"]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.address,onChange:G=>ve("address",G.target.value),placeholder:"Street address"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.city,onChange:G=>ve("city",G.target.value),placeholder:"City"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.state,onChange:G=>ve("state",G.target.value),placeholder:"State"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),l("input",{type:"text",required:!0,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.location.zipCode,onChange:G=>ve("zipCode",G.target.value),placeholder:"ZIP code"})]})]})]}),m("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Specifications"}),m("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bedrooms *"}),l("input",{type:"number",required:!0,min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.bedrooms,onChange:G=>K("bedrooms",G.target.value),placeholder:"0"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bathrooms *"}),l("input",{type:"number",required:!0,min:"0",step:"0.5",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.bathrooms,onChange:G=>K("bathrooms",G.target.value),placeholder:"0"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),m("div",{className:"flex space-x-2",children:[l("input",{type:"number",required:!0,min:"0",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.area,onChange:G=>K("area",G.target.value),placeholder:"0"}),m("select",{className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.areaUnit,onChange:G=>K("areaUnit",G.target.value),children:[l("option",{value:"sqft",children:"sqft"}),l("option",{value:"sqm",children:"sqm"})]})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Floors"}),l("input",{type:"number",min:"1",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.floors,onChange:G=>K("floors",G.target.value),placeholder:"1"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parking Spaces"}),l("input",{type:"number",min:"0",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.parking,onChange:G=>K("parking",G.target.value),placeholder:"0"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year Built"}),l("input",{type:"number",min:"1800",max:new Date().getFullYear(),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:E.specifications.yearBuilt,onChange:G=>K("yearBuilt",G.target.value),placeholder:"Year"})]})]})]}),m("div",{children:[l("h3",{className:"text-lg font-semibold mb-4",children:"Amenities"}),l("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:z.map(G=>m("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:E.amenities.includes(G.value),onChange:()=>Ce(G.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l("span",{className:"text-sm text-gray-700",children:G.label})]},G.value))})]}),m("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[l("button",{type:"button",onClick:ue,className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l("button",{type:"submit",disabled:C||T.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C?U?"Updating Property...":"Creating Property...":U?"Update Property":"Create Property"})]})]})]})});return i&&t.length===0?l("div",{className:"min-h-screen bg-gray-50 p-6",children:m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 gap-4",children:[...Array(5)].map((U,Z)=>l("div",{className:"h-20 bg-gray-200 rounded"},Z))})]})}):m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"flex justify-between items-center mb-6",children:[m("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Properties Management"}),l("p",{className:"text-gray-600",children:"Manage your property listings"})]}),m("div",{className:"flex space-x-3",children:[m("button",{onClick:Wt,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-gray-200 transition-colors",disabled:i,children:[l(Yi,{size:20,className:i?"animate-spin":""}),l("span",{children:i?"Refreshing...":"Refresh"})]}),m("button",{onClick:Ae,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l(df,{size:20}),l("span",{children:"Add New Property"})]})]})]}),L&&l("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:m("div",{className:"flex items-center",children:[l(hf,{className:"text-red-500 mr-2",size:20}),l("div",{className:"text-red-600 text-sm",children:L})]})}),D&&l("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:l("div",{className:"flex items-center",children:l("div",{className:"text-green-600 text-sm",children:D})})}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m("div",{className:"relative",children:[l(jm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search properties...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:U=>o(U.target.value)})]}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:U=>u(U.target.value),children:Rs.map(U=>l("option",{value:U.value,children:U.label},U.value))}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:U=>h(U.target.value),children:_n.map(U=>l("option",{value:U.value,children:U.label},U.value))}),m("button",{className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg flex items-center justify-center space-x-2 hover:bg-gray-200 transition-colors",children:[l(oP,{size:20}),l("span",{children:"More Filters"})]})]})}),m("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l("div",{className:"overflow-x-auto",children:m("table",{className:"min-w-full divide-y divide-gray-200",children:[l("thead",{className:"bg-gray-50",children:m("tr",{children:[l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),l("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(U=>(console.log(" Rendering property in table:",U),m("tr",{className:"hover:bg-gray-50",children:[l("td",{className:"px-6 py-4 whitespace-nowrap",children:m("div",{className:"flex items-center",children:[l("div",{className:"h-10 w-10 flex-shrink-0",children:l("img",{className:"h-10 w-10 rounded-lg object-cover",src:vt(U),alt:U.title,onError:Z=>{Z.target.src!==Ua&&(Z.target.src=Ua)}})}),m("div",{className:"ml-4",children:[l("div",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:U.title||"No Title"}),l("div",{className:"text-sm text-gray-500",children:Os(U)})]})]})}),l("td",{className:"px-6 py-4 whitespace-nowrap",children:l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ut(U.type)}`,children:zY(U.type)})}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Oa(U)}),l("td",{className:"px-6 py-4 whitespace-nowrap",children:l("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ri(U.status)}`,children:BY(U.status)})}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ni(U)}),l("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m("div",{className:"flex items-center space-x-2",children:[l("button",{className:"text-blue-600 hover:text-blue-900 transition-colors",onClick:()=>Xr(U),title:"View Property",children:l(Vm,{size:16})}),l("button",{className:"text-green-600 hover:text-green-900 transition-colors",onClick:()=>ee(U),title:"Edit Property",children:l(bx,{size:16})}),l("button",{className:"text-red-600 hover:text-red-900 transition-colors",onClick:()=>be(U),title:"Delete Property",children:l($m,{size:16})})]})})]},U._id))):l("tr",{children:m("td",{colSpan:"6",className:"px-6 py-24 text-center",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900",children:t.length===0?"No properties found":"No matching properties"}),l("p",{className:"text-gray-500 mt-1",children:t.length===0?"You haven't added any properties yet.":"Try adjusting your search or filters"}),t.length===0&&l("button",{onClick:Ae,className:"mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold",children:"Add Your First Property"})]})})})]})}),i&&t.length>0&&m("div",{className:"text-center py-4",children:[l(Yi,{className:"animate-spin mx-auto text-gray-400",size:20}),l("p",{className:"text-gray-500 mt-2",children:"Updating properties..."})]})]}),x&&l(oe,{isEdit:!1,onSubmit:Je,onCancel:Le}),y&&l(oe,{isEdit:!0,onSubmit:se,onCancel:je}),p&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[l("h3",{className:"text-lg font-semibold mb-2",children:"Delete Property"}),m("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',_==null?void 0:_.title,'"? This action cannot be undone.']}),m("div",{className:"flex justify-end space-x-3",children:[l("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>g(!1),children:"Cancel"}),l("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:q,children:"Delete"})]})]})})]})},HY=()=>{const[t,e]=v.useState(""),[r,n]=v.useState("all"),[i,a]=v.useState("all"),[s,o]=v.useState(!1),[c,u]=v.useState(!1),[d,h]=v.useState(null),[p,g]=v.useState({}),[x,b]=v.useState(null),[y,N]=v.useState(!1),[_,P]=v.useState(!1),[L,k]=v.useState(0),{user:D,isAdmin:S,loading:I}=Pa(),[E,R]=v.useState({title:"",excerpt:"",content:"",categories:[],tags:[],status:"draft",featuredImage:{url:"",alt:"",cloudinaryId:""},seo:{metaTitle:"",metaDescription:"",keywords:[]},readTime:5}),[C,O]=v.useState(""),[T,j]=v.useState(""),{posts:V,loading:H,error:X,deletePost:re,updateStatus:F,createPost:Q,updatePost:ce,refetch:Ee,pagination:De}=id(p),Ge=[{value:"all",label:"All Status"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"archived",label:"Archived"}],Je=[{value:"all",label:"All Categories"},{value:"market-news",label:"Market News"},{value:"home-improvement",label:"Home Improvement"},{value:"investment",label:"Investment"},{value:"neighborhood",label:"Neighborhood"},{value:"design-tips",label:"Design Tips"},{value:"mortgage",label:"Mortgage"},{value:"legal",label:"Legal"},{value:"lifestyle",label:"Lifestyle"}],ee=async z=>{const oe=z.target.files[0];if(oe){P(!0),k(0),b(null);try{const U=Ou.validateFile(oe,{maxSize:5242880,allowedTypes:["image/jpeg","image/jpg","image/png","image/webp","image/gif"]});if(!U.isValid)throw new Error(U.errors.join(", "));console.log(" Uploading blog image:",oe.name);const ue=(await Ou.uploadBlogImages([oe],G=>{k(G)})).data[0];console.log(" Upload response:",ue),R(G=>({...G,featuredImage:{url:ue.url,cloudinaryId:ue.cloudinaryId,alt:G.featuredImage.alt||ue.originalName.split(".")[0]||"Blog post image"}})),console.log(" Image uploaded successfully:",{url:ue.url,cloudinaryId:ue.cloudinaryId,originalName:ue.originalName})}catch(U){console.error(" Image upload failed:",U),b(U.message||"Failed to upload image. Please try again.")}finally{P(!1),k(0),z.target.value=""}}},se=z=>{z.preventDefault();const oe=z.dataTransfer.files;if(oe.length>0){const U=document.createElement("input");U.type="file",U.files=oe;const Z=new Event("change",{bubbles:!0});Object.defineProperty(Z,"target",{value:U}),ee({target:U})}},be=z=>{z.preventDefault()},q=()=>{R(z=>({...z,featuredImage:{url:"",alt:"",cloudinaryId:""}}))};v.useEffect(()=>{const z={};t&&(z.search=t),r!=="all"&&(z.status=r),i!=="all"&&(z.category=i),g(z)},[t,r,i]);const he=z=>{if(!D){b("Please log in to delete posts");return}if(!S){b("Admin privileges required to delete posts");return}h(z),o(!0)},ve=async()=>{N(!0);try{await re(d._id),o(!1),h(null)}catch(z){console.error("Failed to delete post:",z),z.status===401&&b("Authentication failed. Please log in again.")}finally{N(!1)}},K=async(z,oe)=>{if(!D){b("Please log in to update post status");return}if(!S){b("Admin privileges required to update post status");return}N(!0);try{await F(z,oe)}catch(U){console.error("Failed to update status:",U),U.status===401&&b("Authentication failed. Please log in again.")}finally{N(!1)}},Ce=()=>{if(!D){b("Please log in to create blog posts");return}if(!S){b("Admin privileges required to create blog posts");return}u(!0),b(null)},Ae=async()=>{if(!D){b("Please log in to create a post");return}if(!S){b("Admin privileges required to create posts");return}N(!0);try{const z=Le(E.content),oe={title:E.title,content:E.content,excerpt:E.excerpt,categories:E.categories,tags:E.tags,status:E.status,featuredImage:E.featuredImage.url?{url:E.featuredImage.url,alt:E.featuredImage.alt,cloudinaryId:E.featuredImage.cloudinaryId}:void 0,seo:E.seo,readTime:z};console.log(" Post data being sent:",JSON.stringify(oe,null,2)),await Q(oe),u(!1),je(),b(null)}catch(z){console.error("Failed to create post:",z),z.status===401?b("Authentication failed. Please log in again."):z.status===403?b("Access denied. Admin privileges required."):b("Failed to create post. Please try again.")}finally{N(!1)}},Le=z=>{if(!z)return 5;const oe=z.split(" ").length;return Math.ceil(oe/200)},je=()=>{R({title:"",excerpt:"",content:"",categories:[],tags:[],status:"draft",featuredImage:{url:"",alt:"",cloudinaryId:""},seo:{metaTitle:"",metaDescription:"",keywords:[]},readTime:5}),O(""),j("")},Wt=()=>{C.trim()&&!E.tags.includes(C.trim())&&(R(z=>({...z,tags:[...z.tags,C.trim()]})),O(""))},Xr=z=>{R(oe=>({...oe,tags:oe.tags.filter(U=>U!==z)}))},ri=()=>{T.trim()&&!E.seo.keywords.includes(T.trim())&&(R(z=>({...z,seo:{...z.seo,keywords:[...z.seo.keywords,T.trim()]}})),j(""))},ut=z=>{R(oe=>({...oe,seo:{...oe.seo,keywords:oe.seo.keywords.filter(U=>U!==z)}}))},vt=z=>{R(oe=>({...oe,categories:oe.categories.includes(z)?oe.categories.filter(U=>U!==z):[...oe.categories,z]}))},ni=z=>{window.location.href=`/blog/${z.slug||z._id}`},Os=z=>{if(!D){b("Please log in to edit posts");return}if(!S){b("Admin privileges required to edit posts");return}h(z),R({title:z.title,excerpt:z.excerpt,content:z.content,categories:z.categories||[],tags:z.tags||[],status:z.status,featuredImage:z.featuredImage||{url:"",alt:"",cloudinaryId:""},seo:z.seo||{metaTitle:"",metaDescription:"",keywords:[]},readTime:z.readTime||5}),u(!0),b(null)},Oa=async()=>{if(!D||!S){b("Admin privileges required to update posts");return}N(!0);try{const z=Le(E.content),oe={title:E.title,content:E.content,excerpt:E.excerpt,categories:E.categories,tags:E.tags,status:E.status,featuredImage:E.featuredImage.url?{url:E.featuredImage.url,alt:E.featuredImage.alt,cloudinaryId:E.featuredImage.cloudinaryId}:void 0,seo:E.seo,readTime:z},U=await ce(d._id,oe);u(!1),je(),h(null),b(null)}catch(z){console.error(" updatePost failed:",z),z.status===401?b("Authentication failed. Please log in again."):z.status===403?b("Access denied. Admin privileges required."):b(`Failed to update post: ${z.message}`)}finally{N(!1)}},Rs=z=>{switch(z){case"published":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"archived":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_n=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Ra=z=>{if(!z)return"5 min";const oe=z.split(" ").length;return`${Math.ceil(oe/200)} min`},Ma=()=>{Ee()};return v.useEffect(()=>{D&&b(null)},[D]),H&&V.length===0?l("div",{className:"min-h-screen bg-gray-50 p-6",children:m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 gap-4",children:[...Array(6)].map((z,oe)=>l("div",{className:"h-32 bg-gray-200 rounded"},oe))})]})}):m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"flex justify-between items-center mb-6",children:[m("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Blog Management"}),l("p",{className:"text-gray-600",children:"Manage your blog posts and content"})]}),m("div",{className:"flex items-center space-x-3",children:[D&&m("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l(Cy,{size:16}),l("span",{children:D.displayName||D.email}),S&&l("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Admin"})]}),m("button",{onClick:Ma,disabled:H,className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-50 transition-colors",children:[l(Yi,{size:20,className:H?"animate-spin":""}),l("span",{children:"Refresh"})]}),D&&S?m("button",{onClick:Ce,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[l(df,{size:20}),l("span",{children:"New Post"})]}):m("button",{onClick:Ce,className:"bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 cursor-not-allowed opacity-50",title:D?"Admin access required":"Please log in",children:[l(df,{size:20}),l("span",{children:"New Post"})]})]})]}),x&&m("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center justify-between",children:[m("div",{className:"flex items-center space-x-3",children:[l(hf,{className:"text-yellow-500",size:20}),m("div",{children:[l("h4",{className:"text-yellow-800 font-medium",children:"Authentication Required"}),l("p",{className:"text-yellow-600 text-sm",children:x})]})]}),!D&&m("button",{onClick:()=>window.location.href="/login",className:"flex items-center space-x-2 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:[l(cP,{size:16}),l("span",{children:"Log In"})]})]}),X&&!x&&m("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[l(hf,{className:"text-red-500",size:20}),m("div",{children:[l("h4",{className:"text-red-800 font-medium",children:"Error Loading Posts"}),l("p",{className:"text-red-600 text-sm",children:X})]})]}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m("div",{className:"relative",children:[l(jm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search posts...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:t,onChange:z=>e(z.target.value)})]}),l("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:r,onChange:z=>n(z.target.value),children:Ge.map(z=>l("option",{value:z.value,children:z.label},z.value))}),l("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i,onChange:z=>a(z.target.value),children:Je.map(z=>l("option",{value:z.value,children:z.label},z.value))}),m("div",{className:"flex items-center justify-between px-3 py-2 text-sm text-gray-600",children:[l("span",{children:De.totalItems>0?`${De.totalItems} posts found`:"No posts found"}),H&&l(Yi,{size:16,className:"animate-spin"})]})]})}),l("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:V.map(z=>{var oe,U,Z,ue,G;return m("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[m("div",{className:"h-48 bg-gray-200 relative",children:[(oe=z.featuredImage)!=null&&oe.url?l("img",{src:z.featuredImage.url,alt:z.featuredImage.alt||z.title,className:"w-full h-full object-cover"}):l("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-gray-100 flex items-center justify-center",children:l("span",{className:"text-gray-400 text-sm",children:"No image"})}),m("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${Rs(z.status)}`,children:z.status}),(U=z.categories)==null?void 0:U.map((me,pe)=>l("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:me},pe))]})]}),m("div",{className:"p-4",children:[m("div",{className:"flex items-center justify-between mb-2",children:[l("span",{className:"text-sm text-blue-600 font-medium",children:((Z=z.categories)==null?void 0:Z[0])||"Uncategorized"}),l("span",{className:"text-sm text-gray-500",children:Ra(z.content)})]}),l("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 text-gray-900",children:z.title}),l("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:z.excerpt}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:m("div",{className:"flex items-center space-x-4",children:[m("div",{className:"flex items-center space-x-1",children:[l(Cy,{size:14}),l("span",{children:z.authorName||"Unknown Author"})]}),m("div",{className:"flex items-center space-x-1",children:[l(uP,{size:14}),l("span",{children:_n(z.createdAt)})]})]})}),l("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:m("div",{className:"flex items-center space-x-4",children:[m("span",{children:[" ",z.views||0," views"]}),m("span",{children:[" ",((ue=z.comments)==null?void 0:ue.length)||0," comments"]}),m("span",{children:[" ",((G=z.likes)==null?void 0:G.length)||0," likes"]})]})}),m("div",{className:"flex items-center justify-between border-t pt-4",children:[m("div",{className:"flex items-center space-x-3",children:[m("button",{onClick:()=>ni(z),className:"text-blue-600 hover:text-blue-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",disabled:y,title:"View full post",children:[l(Vm,{size:16}),l("span",{children:"View"})]}),m("button",{onClick:()=>Os(z),className:"text-green-600 hover:text-green-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",disabled:!D||!S||y,title:D?S?"Edit post":"Admin access required":"Please log in",children:[l(bx,{size:16}),l("span",{children:"Edit"})]}),m("select",{value:z.status,onChange:me=>K(z._id,me.target.value),disabled:!D||!S||y,className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:opacity-50",title:D?S?"Change status":"Admin access required":"Please log in",children:[l("option",{value:"draft",children:"Draft"}),l("option",{value:"published",children:"Publish"}),l("option",{value:"archived",children:"Archive"})]})]}),m("button",{className:"text-red-600 hover:text-red-800 flex items-center space-x-1 text-sm transition-colors disabled:opacity-50",onClick:()=>he(z),disabled:!D||!S||y,title:D?S?"Delete post":"Admin access required":"Please log in",children:[l($m,{size:16}),l("span",{children:"Delete"})]})]})]})]},z._id)})}),V.length===0&&!H&&m("div",{className:"text-center py-12",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blog posts found"}),l("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or create a new post"}),l("button",{onClick:Ce,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:!D||!S,title:D?S?"Create new post":"Admin access required":"Please log in",children:"Create Your First Post"})]}),De.totalPages>1&&m("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[l("button",{disabled:De.currentPage===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),m("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",De.currentPage," of ",De.totalPages]}),l("button",{disabled:De.currentPage===De.totalPages,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]}),c&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[m("div",{className:"flex items-center justify-between p-6 border-b",children:[l("h3",{className:"text-xl font-semibold",children:d?"Edit Blog Post":"Create New Blog Post"}),l("button",{onClick:()=>{u(!1),je(),h(null)},className:"text-gray-400 hover:text-gray-600",disabled:y,children:l(io,{size:24})})]}),m("div",{className:"p-6 space-y-6",children:[m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),l("input",{type:"text",value:E.title,onChange:z=>R(oe=>({...oe,title:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter blog post title",disabled:y})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt *"}),l("textarea",{value:E.excerpt,onChange:z=>R(oe=>({...oe,excerpt:z.target.value})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the post",disabled:y})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Featured Image"}),E.featuredImage.url?m("div",{className:"mb-4",children:[m("div",{className:"relative",children:[l("img",{src:E.featuredImage.url,alt:E.featuredImage.alt,className:"w-full h-48 object-cover rounded-lg border"}),l("button",{onClick:q,className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",disabled:_,children:l(io,{size:16})})]}),m("div",{className:"mt-2",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Alt Text"}),l("input",{type:"text",value:E.featuredImage.alt,onChange:z=>R(oe=>({...oe,featuredImage:{...oe.featuredImage,alt:z.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description of the image for SEO",disabled:y})]})]}):l("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",onDrop:se,onDragOver:be,children:_?m("div",{className:"space-y-3",children:[l(Yi,{size:32,className:"animate-spin text-blue-600 mx-auto"}),m("p",{className:"text-sm text-gray-600",children:["Uploading... ",L,"%"]}),l("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${L}%`}})})]}):m(tr,{children:[l(dP,{size:48,className:"text-gray-400 mx-auto mb-3"}),l("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop an image, or click to browse"}),l("p",{className:"text-xs text-gray-500 mb-4",children:"Supports JPG, PNG, WebP, GIF  Max 5MB"}),m("label",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:[l(Fm,{size:16,className:"inline mr-2"}),"Choose Image",l("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp,image/gif",onChange:ee,className:"hidden",disabled:_||y})]})]})})]})]}),m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),m("select",{value:E.status,onChange:z=>R(oe=>({...oe,status:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:y,children:[l("option",{value:"draft",children:"Draft"}),l("option",{value:"published",children:"Published"}),l("option",{value:"archived",children:"Archived"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),l("div",{className:"grid grid-cols-2 gap-2",children:Je.filter(z=>z.value!=="all").map(z=>m("label",{className:"flex items-center space-x-2",children:[l("input",{type:"checkbox",checked:E.categories.includes(z.value),onChange:()=>vt(z.value),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:y}),l("span",{className:"text-sm",children:z.label})]},z.value))})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),m("div",{className:"flex space-x-2 mb-2",children:[l("input",{type:"text",value:C,onChange:z=>O(z.target.value),onKeyPress:z=>z.key==="Enter"&&(z.preventDefault(),Wt()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a tag",disabled:y}),l("button",{onClick:Wt,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",disabled:y,children:"Add"})]}),l("div",{className:"flex flex-wrap gap-2",children:E.tags.map((z,oe)=>m("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[z,l("button",{onClick:()=>Xr(z),className:"ml-1 text-blue-600 hover:text-blue-800",disabled:y,children:l(io,{size:14})})]},oe))})]})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),l("textarea",{value:E.content,onChange:z=>R(oe=>({...oe,content:z.target.value})),rows:"8",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write your blog post content here...",disabled:y}),m("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[l(vx,{size:16,className:"mr-1"}),"Estimated read time: ",Le(E.content)," minutes"]})]}),m("div",{className:"border-t pt-6",children:[l("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO Settings"}),m("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title"}),l("input",{type:"text",value:E.seo.metaTitle,onChange:z=>R(oe=>({...oe,seo:{...oe.seo,metaTitle:z.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SEO meta title",disabled:y})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),l("textarea",{value:E.seo.metaDescription,onChange:z=>R(oe=>({...oe,seo:{...oe.seo,metaDescription:z.target.value}})),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SEO meta description",disabled:y})]})]}),m("div",{className:"mt-4",children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),m("div",{className:"flex space-x-2 mb-2",children:[l("input",{type:"text",value:T,onChange:z=>j(z.target.value),onKeyPress:z=>z.key==="Enter"&&(z.preventDefault(),ri()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a keyword",disabled:y}),l("button",{onClick:ri,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",disabled:y,children:"Add"})]}),l("div",{className:"flex flex-wrap gap-2",children:E.seo.keywords.map((z,oe)=>m("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[z,l("button",{onClick:()=>ut(z),className:"ml-1 text-green-600 hover:text-green-800",disabled:y,children:l(io,{size:14})})]},oe))})]})]})]}),m("div",{className:"flex justify-end space-x-3 p-6 border-t",children:[l("button",{onClick:()=>{u(!1),je(),h(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",disabled:y,children:"Cancel"}),m("button",{onClick:d?Oa:Ae,disabled:!E.title||!E.excerpt||!E.content||y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[y&&l(Yi,{size:16,className:"animate-spin"}),l("span",{children:y?d?"Updating...":"Creating...":d?"Update Post":"Create Post"})]})]})]})}),s&&l("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[l("h3",{className:"text-lg font-semibold mb-2",children:"Delete Blog Post"}),m("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',d==null?void 0:d.title,'"? This action cannot be undone.']}),m("div",{className:"flex justify-end space-x-3",children:[l("button",{className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors disabled:opacity-50",onClick:()=>o(!1),disabled:y,children:"Cancel"}),m("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center space-x-2",onClick:ve,disabled:y,children:[y&&l(Yi,{size:16,className:"animate-spin"}),l("span",{children:y?"Deleting...":"Delete"})]})]})]})})]})},qY=()=>{const[t,e]=v.useState([]),[r,n]=v.useState([]),[i,a]=v.useState(!0),[s,o]=v.useState(""),[c,u]=v.useState("all");v.useState([]);const[d,h]=v.useState(!1),[p,g]=v.useState(!1),[x,b]=v.useState(null),y=[{value:"all",label:"All Types"},{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"document",label:"Documents"}];v.useEffect(()=>{setTimeout(()=>{const S=[{id:1,name:"property-exterior.jpg",url:"/media/property1.jpg",type:"image",size:"2.4 MB",dimensions:"1920x1080",uploaded:"2024-01-15",usedIn:["Modern Villa Listing"]},{id:2,name:"living-room-interior.png",url:"/media/living-room.jpg",type:"image",size:"3.1 MB",dimensions:"1920x1080",uploaded:"2024-01-14",usedIn:["Modern Villa Listing","Featured Properties"]},{id:3,name:"property-video-tour.mp4",url:"/media/tour-video.mp4",type:"video",size:"45.2 MB",dimensions:"1920x1080",uploaded:"2024-01-13",usedIn:["Modern Villa Listing"]},{id:4,name:"floor-plan.pdf",url:"/media/floor-plan.pdf",type:"document",size:"1.2 MB",dimensions:"-",uploaded:"2024-01-12",usedIn:["Modern Villa Listing"]},{id:5,name:"kitchen-design.jpg",url:"/media/kitchen.jpg",type:"image",size:"2.8 MB",dimensions:"1920x1080",uploaded:"2024-01-11",usedIn:[]}];e(S),n(S),a(!1)},1e3)},[]),v.useEffect(()=>{N()},[s,c,t]);const N=()=>{let S=t;s&&(S=S.filter(I=>I.name.toLowerCase().includes(s.toLowerCase()))),c!=="all"&&(S=S.filter(I=>I.type===c)),n(S)},_=S=>{const I=S.target.files;I.length>0&&(h(!0),setTimeout(()=>{const E=Array.from(I).map((R,C)=>({id:t.length+C+1,name:R.name,url:URL.createObjectURL(R),type:R.type.split("/")[0],size:`${(R.size/1048576).toFixed(1)} MB`,dimensions:"Unknown",uploaded:new Date().toISOString().split("T")[0],usedIn:[]}));e(R=>[...R,...E]),h(!1)},2e3))},P=S=>{e(t.filter(I=>I.id!==S.id))},L=S=>{b(S),g(!0)},k=S=>{switch(S){case"image":return l(ff,{className:"text-blue-500",size:24});case"video":return l(fP,{className:"text-purple-500",size:24});case"document":return l(xh,{className:"text-green-500",size:24});default:return l(xh,{className:"text-gray-500",size:24})}},D=S=>{switch(S){case"image":return"bg-blue-100 text-blue-800";case"video":return"bg-purple-100 text-purple-800";case"document":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return i?l("div",{className:"min-h-screen bg-gray-50 p-6",children:m("div",{className:"animate-pulse",children:[l("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[...Array(8)].map((S,I)=>l("div",{className:"h-40 bg-gray-200 rounded"},I))})]})}):m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"flex justify-between items-center mb-6",children:[m("div",{children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Media Library"}),l("p",{className:"text-gray-600",children:"Manage your images, videos, and documents"})]}),l("div",{className:"flex items-center space-x-4",children:m("div",{className:"relative",children:[l("input",{type:"file",multiple:!0,className:"hidden",id:"file-upload",onChange:_,accept:"image/*,video/*,.pdf,.doc,.docx"}),m("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 cursor-pointer",children:[l(Fm,{size:20}),l("span",{children:"Upload Files"})]})]})})]}),d&&l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),l("span",{className:"text-gray-600",children:"Uploading files..."})]})}),l("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:m("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m("div",{className:"relative",children:[l(jm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l("input",{type:"text",placeholder:"Search media...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:s,onChange:S=>o(S.target.value)})]}),l("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:c,onChange:S=>u(S.target.value),children:y.map(S=>l("option",{value:S.value,children:S.label},S.value))}),m("select",{className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"newest",children:"Newest First"}),l("option",{value:"oldest",children:"Oldest First"}),l("option",{value:"name",children:"Name A-Z"}),l("option",{value:"size",children:"Size"})]})]})}),l("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:r.map(S=>m("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow",children:[m("div",{className:"aspect-square bg-gray-100 relative group",children:[S.type==="image"?l("img",{src:S.url||"/placeholder-media.jpg",alt:S.name,className:"w-full h-full object-cover"}):l("div",{className:"w-full h-full flex items-center justify-center bg-gray-50",children:k(S.type)}),l("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:m("div",{className:"flex space-x-2",children:[l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",onClick:()=>L(S),children:l(Vm,{size:16})}),l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",children:l(hP,{size:16})}),l("button",{className:"bg-white p-2 rounded-full hover:bg-gray-100",onClick:()=>P(S),children:l($m,{size:16})})]})})]}),m("div",{className:"p-3",children:[m("div",{className:"flex items-center justify-between mb-2",children:[l("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${D(S.type)}`,children:S.type}),l("span",{className:"text-xs text-gray-500",children:S.size})]}),l("h3",{className:"font-medium text-sm mb-1 truncate",title:S.name,children:S.name}),m("div",{className:"text-xs text-gray-500 space-y-1",children:[l("div",{children:S.dimensions}),m("div",{children:["Uploaded: ",new Date(S.uploaded).toLocaleDateString()]}),S.usedIn.length>0&&m("div",{className:"truncate",title:S.usedIn.join(", "),children:["Used in: ",S.usedIn.length," place(s)"]})]})]})]},S.id))}),r.length===0&&m("div",{className:"text-center py-12",children:[l("div",{className:"text-gray-400 text-6xl mb-4",children:""}),l("h3",{className:"text-lg font-medium text-gray-900",children:"No media files found"}),l("p",{className:"text-gray-500 mt-1",children:"Upload some files to get started"})]}),p&&x&&l("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:m("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[m("div",{className:"p-4 border-b flex justify-between items-center",children:[l("h3",{className:"text-lg font-semibold",children:x.name}),l("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>g(!1),children:""})]}),l("div",{className:"p-8 flex items-center justify-center max-h-[70vh] overflow-auto",children:x.type==="image"?l("img",{src:x.url,alt:x.name,className:"max-w-full max-h-full object-contain"}):x.type==="video"?m("video",{controls:!0,className:"max-w-full max-h-full",children:[l("source",{src:x.url,type:"video/mp4"}),"Your browser does not support the video tag."]}):m("div",{className:"text-center",children:[l(xh,{size:64,className:"text-gray-400 mx-auto mb-4"}),m("p",{className:"text-gray-600",children:["Preview not available for ",x.type," files"]}),l("a",{href:x.url,download:!0,className:"inline-block mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Download File"})]})}),l("div",{className:"p-4 border-t bg-gray-50",children:m("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[m("div",{children:[l("span",{className:"font-medium",children:"Type:"})," ",x.type]}),m("div",{children:[l("span",{className:"font-medium",children:"Size:"})," ",x.size]}),m("div",{children:[l("span",{className:"font-medium",children:"Dimensions:"})," ",x.dimensions]}),m("div",{children:[l("span",{className:"font-medium",children:"Uploaded:"})," ",new Date(x.uploaded).toLocaleDateString()]})]})})]})})]})},KY=()=>{const[t,e]=v.useState("general"),[r,n]=v.useState(!1),[i,a]=v.useState({siteName:"EstatePro",siteDescription:"Premium Real Estate Solutions",contactEmail:"contact@estatepro.com",phoneNumber:"+1 (555) 123-4567",address:"123 Business Ave, City, State 12345",emailNotifications:!0,smsNotifications:!1,newListingAlerts:!0,appointmentReminders:!0,marketUpdates:!1,twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,currency:"USD",taxRate:8.5,commissionRate:3.5,googleMapsApiKey:"",cloudinaryCloudName:"",cloudinaryApiKey:"",dataRetention:365,analyticsTracking:!0,cookieConsent:!0}),s=[{id:"general",label:"General",icon:pP},{id:"notifications",label:"Notifications",icon:gP},{id:"security",label:"Security",icon:ky},{id:"payments",label:"Payments",icon:yP},{id:"api",label:"API Keys",icon:vP},{id:"privacy",label:"Privacy",icon:bP}],o=async()=>{n(!0),setTimeout(()=>{n(!1),alert("Settings saved successfully!")},2e3)},c=(y,N,_)=>{a(P=>({...P,[N]:_}))},u=()=>m("div",{className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),l("input",{type:"text",value:i.siteName,onChange:y=>c("general","siteName",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),l("input",{type:"email",value:i.contactEmail,onChange:y=>c("general","contactEmail",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Description"}),l("textarea",{value:i.siteDescription,onChange:y=>c("general","siteDescription",y.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l("input",{type:"tel",value:i.phoneNumber,onChange:y=>c("general","phoneNumber",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),l("input",{type:"text",value:i.address,onChange:y=>c("general","address",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),d=()=>l("div",{className:"space-y-6",children:m("div",{className:"space-y-4",children:[l("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),m("div",{className:"space-y-3",children:[m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"}),l("p",{className:"text-sm text-gray-500",children:"Receive important updates via email"})]}),l("input",{type:"checkbox",checked:i.emailNotifications,onChange:y=>c("notifications","emailNotifications",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"SMS Notifications"}),l("p",{className:"text-sm text-gray-500",children:"Receive urgent alerts via SMS"})]}),l("input",{type:"checkbox",checked:i.smsNotifications,onChange:y=>c("notifications","smsNotifications",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"New Listing Alerts"}),l("p",{className:"text-sm text-gray-500",children:"Get notified when new properties are listed"})]}),l("input",{type:"checkbox",checked:i.newListingAlerts,onChange:y=>c("notifications","newListingAlerts",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Appointment Reminders"}),l("p",{className:"text-sm text-gray-500",children:"Reminders for scheduled appointments"})]}),l("input",{type:"checkbox",checked:i.appointmentReminders,onChange:y=>c("notifications","appointmentReminders",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})}),h=()=>l("div",{className:"space-y-6",children:m("div",{className:"space-y-4",children:[m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),l("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),l("input",{type:"checkbox",checked:i.twoFactorAuth,onChange:y=>c("security","twoFactorAuth",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),m("select",{value:i.sessionTimeout,onChange:y=>c("security","sessionTimeout",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:15,children:"15 minutes"}),l("option",{value:30,children:"30 minutes"}),l("option",{value:60,children:"1 hour"}),l("option",{value:120,children:"2 hours"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Expiry (days)"}),m("select",{value:i.passwordExpiry,onChange:y=>c("security","passwordExpiry",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:30,children:"30 days"}),l("option",{value:60,children:"60 days"}),l("option",{value:90,children:"90 days"}),l("option",{value:180,children:"180 days"})]})]})]})}),p=()=>m("div",{className:"space-y-6",children:[m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),m("select",{value:i.currency,onChange:y=>c("payments","currency",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"USD",children:"USD ($)"}),l("option",{value:"EUR",children:"EUR ()"}),l("option",{value:"GBP",children:"GBP ()"}),l("option",{value:"CAD",children:"CAD ($)"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),l("input",{type:"number",step:"0.1",value:i.taxRate,onChange:y=>c("payments","taxRate",parseFloat(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commission Rate (%)"}),l("input",{type:"number",step:"0.1",value:i.commissionRate,onChange:y=>c("payments","commissionRate",parseFloat(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l("p",{className:"text-sm text-gray-500 mt-1",children:"Standard commission rate for property sales"})]})]}),g=()=>m("div",{className:"space-y-6",children:[l("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:m("div",{className:"flex",children:[l("div",{className:"flex-shrink-0",children:l(ky,{className:"h-5 w-5 text-yellow-400"})}),m("div",{className:"ml-3",children:[l("h3",{className:"text-sm font-medium text-yellow-800",children:"API Security"}),l("div",{className:"mt-2 text-sm text-yellow-700",children:l("p",{children:"Keep your API keys secure. Never share them in client-side code or public repositories."})})]})]})}),m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Maps API Key"}),l("input",{type:"password",value:i.googleMapsApiKey,onChange:y=>c("api","googleMapsApiKey",y.target.value),placeholder:"Enter your Google Maps API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cloudinary Cloud Name"}),l("input",{type:"text",value:i.cloudinaryCloudName,onChange:y=>c("api","cloudinaryCloudName",y.target.value),placeholder:"Your cloud name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cloudinary API Key"}),l("input",{type:"password",value:i.cloudinaryApiKey,onChange:y=>c("api","cloudinaryApiKey",y.target.value),placeholder:"Your API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),x=()=>l("div",{className:"space-y-6",children:m("div",{className:"space-y-4",children:[m("div",{children:[l("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Retention Period (days)"}),m("select",{value:i.dataRetention,onChange:y=>c("privacy","dataRetention",parseInt(y.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l("option",{value:30,children:"30 days"}),l("option",{value:90,children:"90 days"}),l("option",{value:180,children:"180 days"}),l("option",{value:365,children:"1 year"}),l("option",{value:730,children:"2 years"})]}),l("p",{className:"text-sm text-gray-500 mt-1",children:"How long to keep user data before automatic deletion"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Analytics Tracking"}),l("p",{className:"text-sm text-gray-500",children:"Collect anonymous usage data to improve the platform"})]}),l("input",{type:"checkbox",checked:i.analyticsTracking,onChange:y=>c("privacy","analyticsTracking",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),m("div",{className:"flex items-center justify-between",children:[m("div",{children:[l("label",{className:"text-sm font-medium text-gray-700",children:"Cookie Consent"}),l("p",{className:"text-sm text-gray-500",children:"Show cookie consent banner to visitors"})]}),l("input",{type:"checkbox",checked:i.cookieConsent,onChange:y=>c("privacy","cookieConsent",y.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})}),b=()=>{switch(t){case"general":return u();case"notifications":return d();case"security":return h();case"payments":return p();case"api":return g();case"privacy":return x();default:return u()}};return m("div",{className:"min-h-screen bg-gray-50 p-6",children:[m("div",{className:"mb-6",children:[l("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),l("p",{className:"text-gray-600",children:"Manage your website configuration and preferences"})]}),m("div",{className:"bg-white rounded-lg shadow",children:[l("div",{className:"border-b border-gray-200",children:l("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:s.map(y=>{const N=y.icon;return m("button",{onClick:()=>e(y.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${t===y.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l(N,{size:18}),l("span",{children:y.label})]},y.id)})})}),m("div",{className:"p-6",children:[b(),l("div",{className:"flex justify-end pt-6 mt-6 border-t border-gray-200",children:m("button",{onClick:o,disabled:r,className:"bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l(mP,{size:20}),l("span",{children:r?"Saving...":"Save Changes"})]})})]})]})]})},za=({children:t,className:e=""})=>{var _,P;const{user:r,isAdmin:n,loading:i,initialized:a,logout:s}=Pa();v.useState(!1);const[o,c]=v.useState(!1),[u,d]=v.useState(!1),h=Wo(),p=rP();console.log(" AdminLayout Debug:",{user:r?r.email:"No user",isAdmin:n(),loading:i,initialized:a,timestamp:new Date().toISOString()});const g=[{name:"Dashboard",href:"/admin/dashboard",icon:"",current:h.pathname==="/admin/dashboard"},{name:"Properties",href:"/admin/properties",icon:"",current:h.pathname.startsWith("/admin/properties")},{name:"Blog Posts",href:"/admin/blog",icon:"",current:h.pathname.startsWith("/admin/blog")}],x=async()=>{try{await s(),p("/")}catch(L){console.error("Logout failed:",L)}};if(i||!a)return l("div",{className:"min-h-screen flex items-center justify-center",children:l(nl,{size:"large",text:"Loading admin panel..."})});const b=(r==null?void 0:r.displayName)||((_=r==null?void 0:r.email)==null?void 0:_.split("@")[0])||"User",y=(r==null?void 0:r.photoURL)||"/images/avatar-placeholder.jpg",N=(r==null?void 0:r.role)||"Administrator";return m("div",{className:`min-h-screen bg-gray-50 ${e}`,children:[o&&l("div",{className:"fixed inset-0 z-40 lg:hidden bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),u&&l("div",{className:"fixed inset-0 z-30",onClick:()=>d(!1)}),m("div",{className:"flex",children:[l("div",{className:"hidden lg:flex lg:flex-shrink-0",children:l("div",{className:"flex flex-col w-64",children:m("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[l("div",{className:"flex items-center flex-shrink-0 px-6",children:m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l("span",{className:"text-white font-bold text-sm",children:"A"})}),m("div",{children:[l("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"}),l("p",{className:"text-sm text-gray-500",children:"Octopus Real Estate Manager "})]})]})}),l("nav",{className:"mt-8 flex-1 px-4 space-y-2",children:g.map(L=>m(we,{to:L.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${L.current?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[l("span",{className:"mr-3 text-lg",children:L.icon}),L.name]},L.name))}),l("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:m("div",{className:"flex items-center w-full",children:[l("div",{className:"flex-shrink-0",children:l("img",{className:"w-10 h-10 rounded-full",src:y,alt:b})}),m("div",{className:"ml-3 flex-1",children:[l("p",{className:"text-sm font-medium text-gray-900",children:b}),l("p",{className:"text-xs text-gray-500 capitalize",children:N})]}),l("button",{onClick:x,className:"ml-2 p-2 text-gray-400 hover:text-red-600 transition-colors duration-200",title:"Logout",children:l("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})]})})}),m("div",{className:"flex-1 flex flex-col min-w-0",children:[l("div",{className:"bg-white border-b border-gray-200",children:m("div",{className:"flex items-center justify-between px-4 sm:px-6 lg:px-8 py-4",children:[m("div",{className:"flex items-center",children:[m("button",{type:"button",className:"lg:hidden -ml-2.5 p-2.5 text-gray-700",onClick:()=>c(!0),children:[l("span",{className:"sr-only",children:"Open sidebar"}),l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),l("h1",{className:"ml-2 text-2xl font-semibold text-gray-900",children:((P=g.find(L=>L.current))==null?void 0:P.name)||"Dashboard"})]}),m("div",{className:"flex items-center space-x-4",children:[m("button",{className:"p-2 text-gray-400 hover:text-gray-500 relative",children:[l("span",{className:"sr-only",children:"View notifications"}),l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM10.5 3.75a6 6 0 0 0-6 6v2.25l-2 2V15h15v-.75l-2-2V9.75a6 6 0 0 0-6-6z"})}),l("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),m("div",{className:"relative",children:[m("button",{className:"flex items-center space-x-3 text-sm focus:outline-none",onClick:()=>d(!u),children:[l("img",{className:"w-8 h-8 rounded-full",src:y,alt:b}),l("span",{className:"hidden md:block font-medium text-gray-700",children:b}),l("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&m("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-40 border border-gray-200",children:[m("div",{className:"px-4 py-2 border-b border-gray-100",children:[l("p",{className:"text-sm font-medium text-gray-900",children:b}),l("p",{className:"text-xs text-gray-500 capitalize",children:N})]}),l(we,{to:"/admin/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>d(!1),children:"Settings"}),l("button",{onClick:x,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Sign out"})]})]})]})]})}),l("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none",children:l("div",{className:"py-6",children:l("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t})})})]})]}),l("div",{className:`lg:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white transform transition-transform duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full"}`,children:m("div",{className:"flex flex-col h-full bg-white border-r border-gray-200 pt-5 pb-4 overflow-y-auto",children:[m("div",{className:"flex items-center justify-between flex-shrink-0 px-6",children:[m("div",{className:"flex items-center space-x-3",children:[l("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:l("span",{className:"text-white font-bold text-sm",children:"A"})}),m("div",{children:[l("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Panel"}),l("p",{className:"text-sm text-gray-500",children:"EstatePro"})]})]}),l("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-gray-500",children:l("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l("nav",{className:"mt-8 flex-1 px-4 space-y-2",children:g.map(L=>m(we,{to:L.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${L.current?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[l("span",{className:"mr-3 text-lg",children:L.icon}),L.name]},L.name))}),l("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:m("div",{className:"flex items-center w-full",children:[l("div",{className:"flex-shrink-0",children:l("img",{className:"w-10 h-10 rounded-full",src:y,alt:b})}),m("div",{className:"ml-3 flex-1",children:[l("p",{className:"text-sm font-medium text-gray-900",children:b}),l("p",{className:"text-xs text-gray-500 capitalize",children:N})]})]})})]})})]})},Ba=({children:t,requireAdmin:e=!1})=>{const{isAuthenticated:r,isAdmin:n,loading:i,initialized:a}=Pa(),s=Wo();if(console.log(" ProtectedRoute Debug:",{path:s.pathname,requireAdmin:e,isAuthenticated:r,isAdmin:typeof n=="function"?n():n,isAdminType:typeof n,loading:i,initialized:a,timestamp:new Date().toISOString()}),!a||i)return console.log(" ProtectedRoute: Still loading..."),m("div",{className:"min-h-screen flex items-center justify-center",children:[l("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),l("span",{className:"ml-3 text-gray-600",children:"Loading..."})]});if(!r)return console.log(" ProtectedRoute: Not authenticated, redirecting to home"),l(cf,{to:"/",replace:!0,state:{from:s}});const o=typeof n=="function"?n():n;return e&&!o?(console.log(" ProtectedRoute: Not admin, redirecting to home"),l(cf,{to:"/",replace:!0,state:{from:s}})):(console.log(" ProtectedRoute: Access granted - rendering children"),t)},GY=()=>{const t=Pa(),e=Wo(),r=typeof t.isAdmin=="function"?t.isAdmin():t.isAdmin;return m("div",{className:"p-6",children:[l("h1",{className:"text-2xl font-bold mb-6",children:" Auth Debug"}),m("div",{className:"bg-white rounded-lg shadow p-6",children:[m("div",{className:"mb-4",children:[l("h3",{className:"font-semibold",children:"Current Location:"}),l("pre",{className:"bg-gray-100 p-2 rounded",children:e.pathname+e.search})]}),l("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify({user:t.user?{email:t.user.email,uid:t.user.uid,emailVerified:t.user.emailVerified}:"No user",isAuthenticated:t.isAuthenticated,isAdmin:r,isAdminType:typeof t.isAdmin,loading:t.loading,initialized:t.initialized,userRole:t.userRole,userEmail:t.userEmail},null,2)}),m("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m("div",{className:`p-4 rounded-lg ${t.isAuthenticated?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:[l("h3",{className:"font-semibold",children:"Authentication"}),l("p",{children:t.isAuthenticated?" Authenticated":" Not Authenticated"})]}),m("div",{className:`p-4 rounded-lg ${r?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:[l("h3",{className:"font-semibold",children:"Admin Status"}),l("p",{children:r?" Is Admin":" Not Admin"}),m("p",{className:"text-sm text-gray-600 mt-1",children:["Type: ",typeof t.isAdmin]})]})]}),m("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l("h3",{className:"font-semibold text-blue-900 mb-2",children:"User Information"}),m("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[m("div",{children:[l("strong",{children:"Email:"})," ",t.userEmail||"No email"]}),m("div",{children:[l("strong",{children:"User ID:"})," ",t.userId||"No ID"]}),m("div",{children:[l("strong",{children:"Role:"})," ",t.userRole||"No role"]}),m("div",{children:[l("strong",{children:"Email Verified:"})," ",t.isEmailVerified?"":""]})]})]}),m("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[l("h3",{className:"font-semibold text-yellow-900 mb-2",children:"Admin Access Test"}),m("div",{className:"space-y-2",children:[l("button",{onClick:()=>window.location.href="/admin/dashboard",className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition duration-200",children:"Test Admin Dashboard Access"}),m("p",{className:"text-sm text-yellow-700",children:["Current admin status: ",l("strong",{children:r?"ADMIN":"NOT ADMIN"})]})]})]})]})]})},YY=()=>{const t=Wo();return console.log(" AppRouter - Current location:",{pathname:t.pathname,search:t.search,hash:t.hash,timestamp:new Date().toISOString()}),m(nP,{children:[l(Ht,{path:"/",element:l(A9,{})}),l(Ht,{path:"/properties",element:l(V9,{})}),l(Ht,{path:"/properties/:id",element:l(q9,{})}),l(Ht,{path:"/blog",element:l(Y9,{})}),l(Ht,{path:"/blog/:id",element:l(J9,{})}),l(Ht,{path:"/contact",element:l(Z9,{})}),l(Ht,{path:"/about",element:l(e7,{})}),l(Ht,{path:"/services",element:l(t7,{})}),l(Ht,{path:"/admin/dashboard",element:l(Ba,{requireAdmin:!0,children:l(za,{children:l($Y,{})})})}),l(Ht,{path:"/admin/properties",element:l(Ba,{requireAdmin:!0,children:l(za,{children:l(WY,{})})})}),l(Ht,{path:"/admin/blog",element:l(Ba,{requireAdmin:!0,children:l(za,{children:l(HY,{})})})}),l(Ht,{path:"/admin/media",element:l(Ba,{requireAdmin:!0,children:l(za,{children:l(qY,{})})})}),l(Ht,{path:"/admin/settings",element:l(Ba,{requireAdmin:!0,children:l(za,{children:l(KY,{})})})}),l(Ht,{path:"/admin/debug",element:l(Ba,{requireAdmin:!0,children:l(za,{children:l(GY,{})})})}),l(Ht,{path:"/admin",element:l(cf,{to:"/admin/dashboard",replace:!0})}),l(Ht,{path:"*",element:l(XY,{})})]})},XY=()=>l("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:m("div",{className:"text-center max-w-md",children:[l("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:l("span",{className:"text-2xl",children:""})}),l("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),l("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),l("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),m("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("a",{href:"/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium",children:"Go Home"}),l("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition duration-200 font-medium",children:"Go Back"})]})]})}),nn={SET_THEME:"SET_THEME",SET_COLOR_SCHEME:"SET_COLOR_SCHEME",SET_FONT_SIZE:"SET_FONT_SIZE",TOGGLE_DARK_MODE:"TOGGLE_DARK_MODE",RESET_SETTINGS:"RESET_SETTINGS"},Zr={LIGHT:"light",DARK:"dark",AUTO:"auto"},en={BLUE:"blue",GREEN:"green",PURPLE:"purple",ORANGE:"orange",PINK:"pink"},En={SMALL:"small",MEDIUM:"medium",LARGE:"large"},CA={theme:Cr.get("theme",Zr.LIGHT),colorScheme:Cr.get("colorScheme",en.BLUE),fontSize:Cr.get("fontSize",En.MEDIUM),darkMode:Cr.get("darkMode",!1)},QY=(t,e)=>{switch(e.type){case nn.SET_THEME:return Cr.set("theme",e.payload),{...t,theme:e.payload};case nn.SET_COLOR_SCHEME:return Cr.set("colorScheme",e.payload),{...t,colorScheme:e.payload};case nn.SET_FONT_SIZE:return Cr.set("fontSize",e.payload),{...t,fontSize:e.payload};case nn.TOGGLE_DARK_MODE:const r=e.payload??!t.darkMode;return Cr.set("darkMode",r),{...t,darkMode:r};case nn.RESET_SETTINGS:return Cr.remove("theme"),Cr.remove("colorScheme"),Cr.remove("fontSize"),Cr.remove("darkMode"),CA;default:return t}},JY=v.createContext(),ZY=({children:t})=>{const[e,r]=v.useReducer(QY,CA),n={setTheme:o=>r({type:nn.SET_THEME,payload:o}),setColorScheme:o=>r({type:nn.SET_COLOR_SCHEME,payload:o}),setFontSize:o=>r({type:nn.SET_FONT_SIZE,payload:o}),toggleDarkMode:o=>r({type:nn.TOGGLE_DARK_MODE,payload:o}),resetSettings:()=>r({type:nn.RESET_SETTINGS}),toggleTheme:()=>{const o=e.theme===Zr.LIGHT?Zr.DARK:Zr.LIGHT;n.setTheme(o)},cycleColorScheme:()=>{const o=Object.values(en),u=(o.indexOf(e.colorScheme)+1)%o.length;n.setColorScheme(o[u])},increaseFontSize:()=>{const o=Object.values(En),c=o.indexOf(e.fontSize);c<o.length-1&&n.setFontSize(o[c+1])},decreaseFontSize:()=>{const o=Object.values(En),c=o.indexOf(e.fontSize);c>0&&n.setFontSize(o[c-1])}};v.useEffect(()=>{(()=>{const c=document.documentElement;c.classList.remove("theme-light","theme-dark","theme-auto"),Object.values(en).forEach(u=>{c.classList.remove(`color-scheme-${u}`)}),Object.values(En).forEach(u=>{c.classList.remove(`font-size-${u}`)}),c.classList.add(`theme-${e.theme}`),c.classList.add(`color-scheme-${e.colorScheme}`),c.classList.add(`font-size-${e.fontSize}`),c.setAttribute("data-theme",e.theme),c.setAttribute("data-color-scheme",e.colorScheme),c.setAttribute("data-font-size",e.fontSize),c.setAttribute("data-dark-mode",e.darkMode.toString())})()},[e.theme,e.colorScheme,e.fontSize,e.darkMode]),v.useEffect(()=>{if(e.theme!==Zr.AUTO)return;const o=window.matchMedia("(prefers-color-scheme: dark)"),c=u=>{const d=document.documentElement;u.matches?(d.classList.add("system-dark"),d.classList.remove("system-light")):(d.classList.add("system-light"),d.classList.remove("system-dark"))};return c(o),o.addEventListener("change",c),()=>o.removeEventListener("change",c)},[e.theme]);const i=()=>{const o={[en.BLUE]:{"--primary":"59 130 246","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[en.GREEN]:{"--primary":"34 197 94","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[en.PURPLE]:{"--primary":"168 85 247","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[en.ORANGE]:{"--primary":"249 115 22","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"},[en.PINK]:{"--primary":"236 72 153","--primary-foreground":"255 255 255","--secondary":"100 116 139","--secondary-foreground":"255 255 255"}};return o[e.colorScheme]||o[en.BLUE]},a=()=>{const o={[En.SMALL]:{"--text-xs":"0.75rem","--text-sm":"0.875rem","--text-base":"1rem","--text-lg":"1.125rem","--text-xl":"1.25rem","--text-2xl":"1.5rem"},[En.MEDIUM]:{"--text-xs":"0.8rem","--text-sm":"0.9rem","--text-base":"1rem","--text-lg":"1.125rem","--text-xl":"1.25rem","--text-2xl":"1.5rem"},[En.LARGE]:{"--text-xs":"0.875rem","--text-sm":"1rem","--text-base":"1.125rem","--text-lg":"1.25rem","--text-xl":"1.5rem","--text-2xl":"1.75rem"}};return o[e.fontSize]||o[En.MEDIUM]};v.useEffect(()=>{const o=document.documentElement,c=i();Object.entries(c).forEach(([d,h])=>{o.style.setProperty(d,h)});const u=a();Object.entries(u).forEach(([d,h])=>{o.style.setProperty(d,h)})},[e.colorScheme,e.fontSize]);const s={...e,...n,themes:Zr,colorSchemes:en,fontSizes:En,isDark:e.theme===Zr.DARK||e.theme===Zr.AUTO&&window.matchMedia("(prefers-color-scheme: dark)").matches,isLight:e.theme===Zr.LIGHT||e.theme===Zr.AUTO&&!window.matchMedia("(prefers-color-scheme: dark)").matches};return l(JY.Provider,{value:s,children:t})};function eX(){return l(ZY,{children:l(m9,{children:m(iP,{children:[" ",l("div",{className:"App",children:l(YY,{})})]})})})}class tX extends wr.Component{constructor(r){super(r);Ks(this,"handleRefresh",()=>{window.location.reload()});Ks(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){this.setState({error:r,errorInfo:n}),console.error("Error caught by boundary:",r),console.error("Error info:",n)}render(){return this.state.hasError?l("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:m("div",{className:"text-center max-w-md",children:[l("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Something went wrong"}),l("p",{className:"text-gray-600 mb-2",children:"We're sorry, but something unexpected happened."}),!1,m("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l("button",{onClick:this.handleRefresh,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-200 font-medium",children:"Refresh Page"}),l("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition duration-200 font-medium",children:"Go Home"})]}),l("p",{className:"text-sm text-gray-500 mt-4",children:"If the problem persists, please contact support."})]})}):this.props.children}}mf.createRoot(document.getElementById("root")).render(l(wr.StrictMode,{children:l(tX,{children:l(eX,{})})}));
//# sourceMappingURL=index-ce2de222.js.map
